import{r as l,j as e,u as cn,a as wt,P as ut,c as Re,d as Nc,b as vn,R as Xh,e as va,f as os,g as lr,h as Jh,i as Xa,k as Vs,l as K,m as Sc,n as kl,o as pe,U as Er,B as O,p as Zh,q as El,s as Rl,t as Cc,I as Qh,v as kc,w as ef,x as ie,S as tf,C as se,y as re,z as et,A as tt,M as nf,E as ua,D as Rn,F as Pn,L as _e,G as Y,H as sf,J as rf,K as ja,T as mi,N as hi,O as Ys,Q as Ws,V as Ec,W as ks,X as af}from"./dashboard-tabs.js";var jo="popstate";function lf(t={}){function n(r,a){let{pathname:i,search:o,hash:c}=r.location;return ol("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:ma(a)}return cf(n,s,null,t)}function Dt(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Kn(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function of(){return Math.random().toString(36).substring(2,10)}function yo(t,n){return{usr:t.state,key:t.key,idx:n}}function ol(t,n,s=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?Mr(n):n,state:s,key:n&&n.key||r||of()}}function ma({pathname:t="/",search:n="",hash:s=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Mr(t){let n={};if(t){let s=t.indexOf("#");s>=0&&(n.hash=t.substring(s),t=t.substring(0,s));let r=t.indexOf("?");r>=0&&(n.search=t.substring(r),t=t.substring(0,r)),t&&(n.pathname=t)}return n}function cf(t,n,s,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,c="POP",d=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function m(){c="POP";let f=h(),_=f==null?null:f-u;u=f,d&&d({action:c,location:g.location,delta:_})}function x(f,_){c="PUSH";let j=ol(g.location,f,_);u=h()+1;let y=yo(j,u),N=g.createHref(j);try{o.pushState(y,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(N)}i&&d&&d({action:c,location:g.location,delta:1})}function p(f,_){c="REPLACE";let j=ol(g.location,f,_);u=h();let y=yo(j,u),N=g.createHref(j);o.replaceState(y,"",N),i&&d&&d({action:c,location:g.location,delta:0})}function v(f){return df(f)}let g={get action(){return c},get location(){return t(a,o)},listen(f){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(jo,m),d=f,()=>{a.removeEventListener(jo,m),d=null}},createHref(f){return n(a,f)},createURL:v,encodeLocation(f){let _=v(f);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:x,replace:p,go(f){return o.go(f)}};return g}function df(t,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(s,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ma(t);return r=r.replace(/ $/,"%20"),!n&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function Rc(t,n,s="/"){return uf(t,n,s,!1)}function uf(t,n,s,r){let a=typeof n=="string"?Mr(n):n,i=Ps(a.pathname||"/",s);if(i==null)return null;let o=Pc(t);mf(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let u=_f(i);c=bf(o[d],u,r)}return c}function Pc(t,n=[],s=[],r="",a=!1){let i=(o,c,d=a,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&d)return;Dt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=Es([r,h.relativePath]),x=s.concat(h);o.children&&o.children.length>0&&(Dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Pc(o.children,n,x,m,d)),!(o.path==null&&!o.index)&&n.push({path:m,score:jf(m,o.index),routesMeta:x})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))i(o,c);else for(let d of Dc(o.path))i(o,c,!0,d)}),n}function Dc(t){let n=t.split("/");if(n.length===0)return[];let[s,...r]=n,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=Dc(r.join("/")),c=[];return c.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function mf(t){t.sort((n,s)=>n.score!==s.score?s.score-n.score:yf(n.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var hf=/^:[\w-]+$/,ff=3,pf=2,xf=1,gf=10,vf=-2,bo=t=>t==="*";function jf(t,n){let s=t.split("/"),r=s.length;return s.some(bo)&&(r+=vf),n&&(r+=pf),s.filter(a=>!bo(a)).reduce((a,i)=>a+(hf.test(i)?ff:i===""?xf:gf),r)}function yf(t,n){return t.length===n.length&&t.slice(0,-1).every((r,a)=>r===n[a])?t[t.length-1]-n[n.length-1]:0}function bf(t,n,s=!1){let{routesMeta:r}=t,a={},i="/",o=[];for(let c=0;c<r.length;++c){let d=r[c],u=c===r.length-1,h=i==="/"?n:n.slice(i.length)||"/",m=Ja({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),x=d.route;if(!m&&u&&s&&!r[r.length-1].route.index&&(m=Ja({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:Es([i,m.pathname]),pathnameBase:kf(Es([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=Es([i,m.pathnameBase]))}return o}function Ja(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=wf(t.path,t.caseSensitive,t.end),a=n.match(s);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:m},x)=>{if(h==="*"){let v=c[x]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const p=c[x];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function wf(t,n=!1,s=!0){Kn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,n?void 0:"i"),r]}function _f(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Kn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function Ps(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}var Nf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Sf(t,n="/"){let{pathname:s,search:r="",hash:a=""}=typeof t=="string"?Mr(t):t,i;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?i=wo(s.substring(1),"/"):i=wo(s,n)):i=n,{pathname:i,search:Ef(r),hash:Rf(a)}}function wo(t,n){let s=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function zi(t,n,s,r){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cf(t){return t.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function Pl(t){let n=Cf(t);return n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase)}function Dl(t,n,s,r=!1){let a;typeof t=="string"?a=Mr(t):(a={...t},Dt(!a.pathname||!a.pathname.includes("?"),zi("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),zi("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),zi("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=s;else{let m=n.length-1;if(!r&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),m-=1;a.pathname=x.join("/")}c=m>=0?n[m]:"/"}let d=Sf(a,c),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}var Es=t=>t.join("/").replace(/\/\/+/g,"/"),kf=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ef=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Rf=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Pf=class{constructor(t,n,s,r=!1){this.status=t,this.statusText=n||"",this.internal=r,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function Df(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Mf(t){return t.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Mc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ac(t,n){let s=t;if(typeof s!="string"||!Nf.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let r=s,a=!1;if(Mc)try{let i=new URL(window.location.href),o=s.startsWith("//")?new URL(i.protocol+s):new URL(s),c=Ps(o.pathname,n);o.origin===i.origin&&c!=null?s=c+o.search+o.hash:a=!0}catch{Kn(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Oc=["POST","PUT","PATCH","DELETE"];new Set(Oc);var Af=["GET",...Oc];new Set(Af);var Ar=l.createContext(null);Ar.displayName="DataRouter";var fi=l.createContext(null);fi.displayName="DataRouterState";var Of=l.createContext(!1),Tc=l.createContext({isTransitioning:!1});Tc.displayName="ViewTransition";var Tf=l.createContext(new Map);Tf.displayName="Fetchers";var If=l.createContext(null);If.displayName="Await";var Ln=l.createContext(null);Ln.displayName="Navigation";var ya=l.createContext(null);ya.displayName="Location";var cs=l.createContext({outlet:null,matches:[],isDataRoute:!1});cs.displayName="Route";var Ml=l.createContext(null);Ml.displayName="RouteError";var Ic="REACT_ROUTER_ERROR",Lf="REDIRECT",zf="ROUTE_ERROR_RESPONSE";function Ff(t){if(t.startsWith(`${Ic}:${Lf}:{`))try{let n=JSON.parse(t.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function $f(t){if(t.startsWith(`${Ic}:${zf}:{`))try{let n=JSON.parse(t.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new Pf(n.status,n.statusText,n.data)}catch{}}function Vf(t,{relative:n}={}){Dt(Or(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=l.useContext(Ln),{hash:a,pathname:i,search:o}=ba(t,{relative:n}),c=i;return s!=="/"&&(c=i==="/"?s:Es([s,i])),r.createHref({pathname:c,search:o,hash:a})}function Or(){return l.useContext(ya)!=null}function Xn(){return Dt(Or(),"useLocation() may be used only in the context of a <Router> component."),l.useContext(ya).location}var Lc="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zc(t){l.useContext(Ln).static||l.useLayoutEffect(t)}function As(){let{isDataRoute:t}=l.useContext(cs);return t?np():Yf()}function Yf(){Dt(Or(),"useNavigate() may be used only in the context of a <Router> component.");let t=l.useContext(Ar),{basename:n,navigator:s}=l.useContext(Ln),{matches:r}=l.useContext(cs),{pathname:a}=Xn(),i=JSON.stringify(Pl(r)),o=l.useRef(!1);return zc(()=>{o.current=!0}),l.useCallback((d,u={})=>{if(Kn(o.current,Lc),!o.current)return;if(typeof d=="number"){s.go(d);return}let h=Dl(d,JSON.parse(i),a,u.relative==="path");t==null&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Es([n,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[n,s,i,a,t])}var Wf=l.createContext(null);function Bf(t){let n=l.useContext(cs).outlet;return l.useMemo(()=>n&&l.createElement(Wf.Provider,{value:t},n),[n,t])}function ba(t,{relative:n}={}){let{matches:s}=l.useContext(cs),{pathname:r}=Xn(),a=JSON.stringify(Pl(s));return l.useMemo(()=>Dl(t,JSON.parse(a),r,n==="path"),[t,a,r,n])}function Hf(t,n){return Fc(t,n)}function Fc(t,n,s,r,a){Dt(Or(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=l.useContext(Ln),{matches:o}=l.useContext(cs),c=o[o.length-1],d=c?c.params:{},u=c?c.pathname:"/",h=c?c.pathnameBase:"/",m=c&&c.route;{let j=m&&m.path||"";Vc(u,!m||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let x=Xn(),p;if(n){let j=typeof n=="string"?Mr(n):n;Dt(h==="/"||j.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${j.pathname}" was given in the \`location\` prop.`),p=j}else p=x;let v=p.pathname||"/",g=v;if(h!=="/"){let j=h.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let f=Rc(t,{pathname:g});Kn(m||f!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Kn(f==null||f[f.length-1].route.element!==void 0||f[f.length-1].route.Component!==void 0||f[f.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Xf(f&&f.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Es([h,i.encodeLocation?i.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:Es([h,i.encodeLocation?i.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),o,s,r,a);return n&&_?l.createElement(ya.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},_):_}function Uf(){let t=tp(),n=Df(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=l.createElement(l.Fragment,null,l.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),l.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",l.createElement("code",{style:i},"ErrorBoundary")," or"," ",l.createElement("code",{style:i},"errorElement")," prop on your route.")),l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},n),s?l.createElement("pre",{style:a},s):null,o)}var qf=l.createElement(Uf,null),$c=class extends l.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.onError?this.props.onError(t,n):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const s=$f(t.digest);s&&(t=s)}let n=t!==void 0?l.createElement(cs.Provider,{value:this.props.routeContext},l.createElement(Ml.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?l.createElement(Kf,{error:t},n):n}};$c.contextType=Of;var Fi=new WeakMap;function Kf({children:t,error:n}){let{basename:s}=l.useContext(Ln);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let r=Ff(n.digest);if(r){let a=Fi.get(n);if(a)throw a;let i=Ac(r.location,s);if(Mc&&!Fi.get(n))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw Fi.set(n,o),o}return l.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function Gf({routeContext:t,match:n,children:s}){let r=l.useContext(Ar);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),l.createElement(cs.Provider,{value:t},s)}function Xf(t,n=[],s=null,r=null,a=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let i=t,o=s?.errors;if(o!=null){let h=i.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);Dt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,d=-1;if(s)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:x,errors:p}=s,v=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!p||p[m.route.id]===void 0);if(m.route.lazy||v){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let u=s&&r?(h,m)=>{r(h,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:Mf(s.matches),errorInfo:m})}:void 0;return i.reduceRight((h,m,x)=>{let p,v=!1,g=null,f=null;s&&(p=o&&m.route.id?o[m.route.id]:void 0,g=m.route.errorElement||qf,c&&(d<0&&x===0?(Vc("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,f=null):d===x&&(v=!0,f=m.route.hydrateFallbackElement||null)));let _=n.concat(i.slice(0,x+1)),j=()=>{let y;return p?y=g:v?y=f:m.route.Component?y=l.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=h,l.createElement(Gf,{match:m,routeContext:{outlet:h,matches:_,isDataRoute:s!=null},children:y})};return s&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?l.createElement($c,{location:s.location,revalidation:s.revalidation,component:g,error:p,children:j(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:u}):j()},null)}function Al(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jf(t){let n=l.useContext(Ar);return Dt(n,Al(t)),n}function Zf(t){let n=l.useContext(fi);return Dt(n,Al(t)),n}function Qf(t){let n=l.useContext(cs);return Dt(n,Al(t)),n}function Ol(t){let n=Qf(t),s=n.matches[n.matches.length-1];return Dt(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function ep(){return Ol("useRouteId")}function tp(){let t=l.useContext(Ml),n=Zf("useRouteError"),s=Ol("useRouteError");return t!==void 0?t:n.errors?.[s]}function np(){let{router:t}=Jf("useNavigate"),n=Ol("useNavigate"),s=l.useRef(!1);return zc(()=>{s.current=!0}),l.useCallback(async(a,i={})=>{Kn(s.current,Lc),s.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:n,...i}))},[t,n])}var _o={};function Vc(t,n,s){!n&&!_o[t]&&(_o[t]=!0,Kn(!1,s))}l.memo(sp);function sp({routes:t,future:n,state:s,onError:r}){return Fc(t,void 0,s,r,n)}function rp({to:t,replace:n,state:s,relative:r}){Dt(Or(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=l.useContext(Ln);Kn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=l.useContext(cs),{pathname:o}=Xn(),c=As(),d=Dl(t,Pl(i),o,r==="path"),u=JSON.stringify(d);return l.useEffect(()=>{c(JSON.parse(u),{replace:n,state:s,relative:r})},[c,u,r,n,s]),null}function ap(t){return Bf(t.context)}function yt(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ip({basename:t="/",children:n=null,location:s,navigationType:r="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){Dt(!Or(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=l.useMemo(()=>({basename:c,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[c,a,i,o]);typeof s=="string"&&(s=Mr(s));let{pathname:u="/",search:h="",hash:m="",state:x=null,key:p="default"}=s,v=l.useMemo(()=>{let g=Ps(u,c);return g==null?null:{location:{pathname:g,search:h,hash:m,state:x,key:p},navigationType:r}},[c,u,h,m,x,p,r]);return Kn(v!=null,`<Router basename="${c}"> is not able to match the URL "${u}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:l.createElement(Ln.Provider,{value:d},l.createElement(ya.Provider,{children:n,value:v}))}function lp({children:t,location:n}){return Hf(cl(t),n)}function cl(t,n=[]){let s=[];return l.Children.forEach(t,(r,a)=>{if(!l.isValidElement(r))return;let i=[...n,a];if(r.type===l.Fragment){s.push.apply(s,cl(r.props.children,i));return}Dt(r.type===yt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cl(r.props.children,i)),s.push(o)}),s}var Ya="get",Wa="application/x-www-form-urlencoded";function pi(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function op(t){return pi(t)&&t.tagName.toLowerCase()==="button"}function cp(t){return pi(t)&&t.tagName.toLowerCase()==="form"}function dp(t){return pi(t)&&t.tagName.toLowerCase()==="input"}function up(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mp(t,n){return t.button===0&&(!n||n==="_self")&&!up(t)}function dl(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,s)=>{let r=t[s];return n.concat(Array.isArray(r)?r.map(a=>[s,a]):[[s,r]])},[]))}function hp(t,n){let s=dl(t);return n&&n.forEach((r,a)=>{s.has(a)||n.getAll(a).forEach(i=>{s.append(a,i)})}),s}var Ta=null;function fp(){if(Ta===null)try{new FormData(document.createElement("form"),0),Ta=!1}catch{Ta=!0}return Ta}var pp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $i(t){return t!=null&&!pp.has(t)?(Kn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wa}"`),null):t}function xp(t,n){let s,r,a,i,o;if(cp(t)){let c=t.getAttribute("action");r=c?Ps(c,n):null,s=t.getAttribute("method")||Ya,a=$i(t.getAttribute("enctype"))||Wa,i=new FormData(t)}else if(op(t)||dp(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ps(d,n):null,s=t.getAttribute("formmethod")||c.getAttribute("method")||Ya,a=$i(t.getAttribute("formenctype"))||$i(c.getAttribute("enctype"))||Wa,i=new FormData(c,t),!fp()){let{name:u,type:h,value:m}=t;if(h==="image"){let x=u?`${u}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else u&&i.append(u,m)}}else{if(pi(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Ya,r=null,a=Wa,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:r,method:s.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tl(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function gp(t,n,s,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:n&&Ps(a.pathname,n)==="/"?a.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function vp(t,n){if(t.id in n)return n[t.id];try{let s=await import(t.module);return n[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jp(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function yp(t,n,s){let r=await Promise.all(t.map(async a=>{let i=n.routes[a.route.id];if(i){let o=await vp(i,s);return o.links?o.links():[]}return[]}));return Np(r.flat(1).filter(jp).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function No(t,n,s,r,a,i){let o=(d,u)=>s[u]?d.route.id!==s[u].route.id:!0,c=(d,u)=>s[u].pathname!==d.pathname||s[u].route.path?.endsWith("*")&&s[u].params["*"]!==d.params["*"];return i==="assets"?n.filter((d,u)=>o(d,u)||c(d,u)):i==="data"?n.filter((d,u)=>{let h=r.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(o(d,u)||c(d,u))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function bp(t,n,{includeHydrateFallback:s}={}){return wp(t.map(r=>{let a=n.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function wp(t){return[...new Set(t)]}function _p(t){let n={},s=Object.keys(t).sort();for(let r of s)n[r]=t[r];return n}function Np(t,n){let s=new Set;return new Set(n),t.reduce((r,a)=>{let i=JSON.stringify(_p(a));return s.has(i)||(s.add(i),r.push({key:i,link:a})),r},[])}function Yc(){let t=l.useContext(Ar);return Tl(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Sp(){let t=l.useContext(fi);return Tl(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Il=l.createContext(void 0);Il.displayName="FrameworkContext";function Wc(){let t=l.useContext(Il);return Tl(t,"You must render this element inside a <HydratedRouter> element"),t}function Cp(t,n){let s=l.useContext(Il),[r,a]=l.useState(!1),[i,o]=l.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:u,onMouseLeave:h,onTouchStart:m}=n,x=l.useRef(null);l.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let g=_=>{_.forEach(j=>{o(j.isIntersecting)})},f=new IntersectionObserver(g,{threshold:.5});return x.current&&f.observe(x.current),()=>{f.disconnect()}}},[t]),l.useEffect(()=>{if(r){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{a(!0)},v=()=>{a(!1),o(!1)};return s?t!=="intent"?[i,x,{}]:[i,x,{onFocus:ra(c,p),onBlur:ra(d,v),onMouseEnter:ra(u,p),onMouseLeave:ra(h,v),onTouchStart:ra(m,p)}]:[!1,x,{}]}function ra(t,n){return s=>{t&&t(s),s.defaultPrevented||n(s)}}function kp({page:t,...n}){let{router:s}=Yc(),r=l.useMemo(()=>Rc(s.routes,t,s.basename),[s.routes,t,s.basename]);return r?l.createElement(Rp,{page:t,matches:r,...n}):null}function Ep(t){let{manifest:n,routeModules:s}=Wc(),[r,a]=l.useState([]);return l.useEffect(()=>{let i=!1;return yp(t,n,s).then(o=>{i||a(o)}),()=>{i=!0}},[t,n,s]),r}function Rp({page:t,matches:n,...s}){let r=Xn(),{future:a,manifest:i,routeModules:o}=Wc(),{basename:c}=Yc(),{loaderData:d,matches:u}=Sp(),h=l.useMemo(()=>No(t,n,u,i,r,"data"),[t,n,u,i,r]),m=l.useMemo(()=>No(t,n,u,i,r,"assets"),[t,n,u,i,r]),x=l.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,f=!1;if(n.forEach(j=>{let y=i.routes[j.route.id];!y||!y.hasLoader||(!h.some(N=>N.route.id===j.route.id)&&j.route.id in d&&o[j.route.id]?.shouldRevalidate||y.hasClientLoader?f=!0:g.add(j.route.id))}),g.size===0)return[];let _=gp(t,c,a.unstable_trailingSlashAwareDataRequests,"data");return f&&g.size>0&&_.searchParams.set("_routes",n.filter(j=>g.has(j.route.id)).map(j=>j.route.id).join(",")),[_.pathname+_.search]},[c,a.unstable_trailingSlashAwareDataRequests,d,r,i,h,n,t,o]),p=l.useMemo(()=>bp(m,i),[m,i]),v=Ep(m);return l.createElement(l.Fragment,null,x.map(g=>l.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...s})),p.map(g=>l.createElement("link",{key:g,rel:"modulepreload",href:g,...s})),v.map(({key:g,link:f})=>l.createElement("link",{key:g,nonce:s.nonce,...f,crossOrigin:f.crossOrigin??s.crossOrigin})))}function Pp(...t){return n=>{t.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var Dp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dp&&(window.__reactRouterVersion="7.13.0")}catch{}function Mp({basename:t,children:n,unstable_useTransitions:s,window:r}){let a=l.useRef();a.current==null&&(a.current=lf({window:r,v5Compat:!0}));let i=a.current,[o,c]=l.useState({action:i.action,location:i.location}),d=l.useCallback(u=>{s===!1?c(u):l.startTransition(()=>c(u))},[s]);return l.useLayoutEffect(()=>i.listen(d),[i,d]),l.createElement(ip,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:s})}var Bc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=l.forwardRef(function({onClick:n,discover:s="render",prefetch:r="none",relative:a,reloadDocument:i,replace:o,state:c,target:d,to:u,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:x,...p},v){let{basename:g,unstable_useTransitions:f}=l.useContext(Ln),_=typeof u=="string"&&Bc.test(u),j=Ac(u,g);u=j.to;let y=Vf(u,{relative:a}),[N,E,I]=Cp(r,p),S=Ip(u,{replace:o,state:c,target:d,preventScrollReset:h,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:x,unstable_useTransitions:f});function D(F){n&&n(F),F.defaultPrevented||S(F)}let P=l.createElement("a",{...p,...I,href:j.absoluteURL||y,onClick:j.isExternal||i?n:D,ref:Pp(v,E),target:d,"data-discover":!_&&s==="render"?"true":void 0});return N&&!_?l.createElement(l.Fragment,null,P,l.createElement(kp,{page:y})):P});Vt.displayName="Link";var Ap=l.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:r="",end:a=!1,style:i,to:o,viewTransition:c,children:d,...u},h){let m=ba(o,{relative:u.relative}),x=Xn(),p=l.useContext(fi),{navigator:v,basename:g}=l.useContext(Ln),f=p!=null&&Vp(m)&&c===!0,_=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,j=x.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(j=j.toLowerCase(),y=y?y.toLowerCase():null,_=_.toLowerCase()),y&&g&&(y=Ps(y,g)||y);const N=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let E=j===_||!a&&j.startsWith(_)&&j.charAt(N)==="/",I=y!=null&&(y===_||!a&&y.startsWith(_)&&y.charAt(_.length)==="/"),S={isActive:E,isPending:I,isTransitioning:f},D=E?n:void 0,P;typeof r=="function"?P=r(S):P=[r,E?"active":null,I?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let F=typeof i=="function"?i(S):i;return l.createElement(Vt,{...u,"aria-current":D,className:P,ref:h,style:F,to:o,viewTransition:c},typeof d=="function"?d(S):d)});Ap.displayName="NavLink";var Op=l.forwardRef(({discover:t="render",fetcherKey:n,navigate:s,reloadDocument:r,replace:a,state:i,method:o=Ya,action:c,onSubmit:d,relative:u,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:x,...p},v)=>{let{unstable_useTransitions:g}=l.useContext(Ln),f=Fp(),_=$p(c,{relative:u}),j=o.toLowerCase()==="get"?"get":"post",y=typeof c=="string"&&Bc.test(c),N=E=>{if(d&&d(E),E.defaultPrevented)return;E.preventDefault();let I=E.nativeEvent.submitter,S=I?.getAttribute("formmethod")||o,D=()=>f(I||E.currentTarget,{fetcherKey:n,method:S,navigate:s,replace:a,state:i,relative:u,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:x});g&&s!==!1?l.startTransition(()=>D()):D()};return l.createElement("form",{ref:v,method:j,action:_,onSubmit:r?d:N,...p,"data-discover":!y&&t==="render"?"true":void 0})});Op.displayName="Form";function Tp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hc(t){let n=l.useContext(Ar);return Dt(n,Tp(t)),n}function Ip(t,{target:n,replace:s,state:r,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let u=As(),h=Xn(),m=ba(t,{relative:i});return l.useCallback(x=>{if(mp(x,n)){x.preventDefault();let p=s!==void 0?s:ma(h)===ma(m),v=()=>u(t,{replace:p,state:r,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c});d?l.startTransition(()=>v()):v()}},[h,u,m,s,r,n,t,a,i,o,c,d])}function xi(t){Kn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=l.useRef(dl(t)),s=l.useRef(!1),r=Xn(),a=l.useMemo(()=>hp(r.search,s.current?null:n.current),[r.search]),i=As(),o=l.useCallback((c,d)=>{const u=dl(typeof c=="function"?c(new URLSearchParams(a)):c);s.current=!0,i("?"+u,d)},[i,a]);return[a,o]}var Lp=0,zp=()=>`__${String(++Lp)}__`;function Fp(){let{router:t}=Hc("useSubmit"),{basename:n}=l.useContext(Ln),s=ep(),r=t.fetch,a=t.navigate;return l.useCallback(async(i,o={})=>{let{action:c,method:d,encType:u,formData:h,body:m}=xp(i,n);if(o.navigate===!1){let x=o.fetcherKey||zp();await r(x,s,o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||d,formEncType:o.encType||u,flushSync:o.flushSync})}else await a(o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||d,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,a,n,s])}function $p(t,{relative:n}={}){let{basename:s}=l.useContext(Ln),r=l.useContext(cs);Dt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...ba(t||".",{relative:n})},o=Xn();if(t==null){i.search=o.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(h=>h==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let h=c.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(i.pathname=i.pathname==="/"?s:Es([s,i.pathname])),ma(i)}function Vp(t,{relative:n}={}){let s=l.useContext(Tc);Dt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Hc("useViewTransitionState"),a=ba(t,{relative:n});if(!s.isTransitioning)return!1;let i=Ps(s.currentLocation.pathname,r)||s.currentLocation.pathname,o=Ps(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Ja(a.pathname,o)!=null||Ja(a.pathname,i)!=null}const Uc=l.createContext(null),qc="pzl-theme",So=["light","dark","system"];function Kc(){if(typeof window>"u")return"system";try{const n=localStorage.getItem(qc);if(n&&So.includes(n))return n}catch{}const t=document.documentElement.getAttribute("data-theme");return t&&So.includes(t)?t:"system"}function Yp(){return typeof document>"u"?"system":document.documentElement.getAttribute("data-theme")||Kc()}function Vi(){const t=Yp();return t==="dark"?"dark":t==="light"?"light":typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Wp({children:t}){const[n,s]=l.useState(Kc),[r,a]=l.useState(Vi);l.useEffect(()=>{const c=document.documentElement;c.setAttribute("data-theme",n);const d=Vi();a(d),d==="dark"?c.classList.add("dark"):c.classList.remove("dark");try{localStorage.setItem(qc,n)}catch{}},[n]),l.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>{n==="system"&&a(Vi())};return c.addEventListener("change",d),()=>c.removeEventListener("change",d)},[n]);const i=l.useCallback(c=>{s(c)},[]),o=l.useMemo(()=>({theme:n,setTheme:i,resolved:r}),[n,i,r]);return e.jsx(Uc.Provider,{value:o,children:t})}function Bp(){const t=l.useContext(Uc);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}function Hp(t,n=globalThis?.document){const s=cn(t);l.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return n.addEventListener("keydown",r,{capture:!0}),()=>n.removeEventListener("keydown",r,{capture:!0})},[s,n])}var Up="DismissableLayer",ul="dismissableLayer.update",qp="dismissableLayer.pointerDownOutside",Kp="dismissableLayer.focusOutside",Co,Gc=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gi=l.forwardRef((t,n)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=t,u=l.useContext(Gc),[h,m]=l.useState(null),x=h?.ownerDocument??globalThis?.document,[,p]=l.useState({}),v=wt(n,S=>m(S)),g=Array.from(u.layers),[f]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(f),j=h?g.indexOf(h):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,N=j>=_,E=Jp(S=>{const D=S.target,P=[...u.branches].some(F=>F.contains(D));!N||P||(a?.(S),o?.(S),S.defaultPrevented||c?.())},x),I=Zp(S=>{const D=S.target;[...u.branches].some(F=>F.contains(D))||(i?.(S),o?.(S),S.defaultPrevented||c?.())},x);return Hp(S=>{j===u.layers.size-1&&(r?.(S),!S.defaultPrevented&&c&&(S.preventDefault(),c()))},x),l.useEffect(()=>{if(h)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Co=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),ko(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Co)}},[h,x,s,u]),l.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),ko())},[h,u]),l.useEffect(()=>{const S=()=>p({});return document.addEventListener(ul,S),()=>document.removeEventListener(ul,S)},[]),e.jsx(ut.div,{...d,ref:v,style:{pointerEvents:y?N?"auto":"none":void 0,...t.style},onFocusCapture:Re(t.onFocusCapture,I.onFocusCapture),onBlurCapture:Re(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Re(t.onPointerDownCapture,E.onPointerDownCapture)})});gi.displayName=Up;var Gp="DismissableLayerBranch",Xp=l.forwardRef((t,n)=>{const s=l.useContext(Gc),r=l.useRef(null),a=wt(n,r);return l.useEffect(()=>{const i=r.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),e.jsx(ut.div,{...t,ref:a})});Xp.displayName=Gp;function Jp(t,n=globalThis?.document){const s=cn(t),r=l.useRef(!1),a=l.useRef(()=>{});return l.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let d=function(){Xc(qp,s,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(n.removeEventListener("click",a.current),a.current=d,n.addEventListener("click",a.current,{once:!0})):d()}else n.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{n.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),n.removeEventListener("pointerdown",i),n.removeEventListener("click",a.current)}},[n,s]),{onPointerDownCapture:()=>r.current=!0}}function Zp(t,n=globalThis?.document){const s=cn(t),r=l.useRef(!1);return l.useEffect(()=>{const a=i=>{i.target&&!r.current&&Xc(Kp,s,{originalEvent:i},{discrete:!1})};return n.addEventListener("focusin",a),()=>n.removeEventListener("focusin",a)},[n,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ko(){const t=new CustomEvent(ul);document.dispatchEvent(t)}function Xc(t,n,s,{discrete:r}){const a=s.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});n&&a.addEventListener(t,n,{once:!0}),r?Nc(a,i):a.dispatchEvent(i)}var Yi="focusScope.autoFocusOnMount",Wi="focusScope.autoFocusOnUnmount",Eo={bubbles:!1,cancelable:!0},Qp="FocusScope",vi=l.forwardRef((t,n)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[c,d]=l.useState(null),u=cn(a),h=cn(i),m=l.useRef(null),x=wt(n,g=>d(g)),p=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(r){let g=function(y){if(p.paused||!c)return;const N=y.target;c.contains(N)?m.current=N:Fs(m.current,{select:!0})},f=function(y){if(p.paused||!c)return;const N=y.relatedTarget;N!==null&&(c.contains(N)||Fs(m.current,{select:!0}))},_=function(y){if(document.activeElement===document.body)for(const E of y)E.removedNodes.length>0&&Fs(c)};document.addEventListener("focusin",g),document.addEventListener("focusout",f);const j=new MutationObserver(_);return c&&j.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",f),j.disconnect()}}},[r,c,p.paused]),l.useEffect(()=>{if(c){Po.add(p);const g=document.activeElement;if(!c.contains(g)){const _=new CustomEvent(Yi,Eo);c.addEventListener(Yi,u),c.dispatchEvent(_),_.defaultPrevented||(ex(ax(Jc(c)),{select:!0}),document.activeElement===g&&Fs(c))}return()=>{c.removeEventListener(Yi,u),setTimeout(()=>{const _=new CustomEvent(Wi,Eo);c.addEventListener(Wi,h),c.dispatchEvent(_),_.defaultPrevented||Fs(g??document.body,{select:!0}),c.removeEventListener(Wi,h),Po.remove(p)},0)}}},[c,u,h,p]);const v=l.useCallback(g=>{if(!s&&!r||p.paused)return;const f=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(f&&_){const j=g.currentTarget,[y,N]=tx(j);y&&N?!g.shiftKey&&_===N?(g.preventDefault(),s&&Fs(y,{select:!0})):g.shiftKey&&_===y&&(g.preventDefault(),s&&Fs(N,{select:!0})):_===j&&g.preventDefault()}},[s,r,p.paused]);return e.jsx(ut.div,{tabIndex:-1,...o,ref:x,onKeyDown:v})});vi.displayName=Qp;function ex(t,{select:n=!1}={}){const s=document.activeElement;for(const r of t)if(Fs(r,{select:n}),document.activeElement!==s)return}function tx(t){const n=Jc(t),s=Ro(n,t),r=Ro(n.reverse(),t);return[s,r]}function Jc(t){const n=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)n.push(s.currentNode);return n}function Ro(t,n){for(const s of t)if(!nx(s,{upTo:n}))return s}function nx(t,{upTo:n}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n!==void 0&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sx(t){return t instanceof HTMLInputElement&&"select"in t}function Fs(t,{select:n=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&sx(t)&&n&&t.select()}}var Po=rx();function rx(){let t=[];return{add(n){const s=t[0];n!==s&&s?.pause(),t=Do(t,n),t.unshift(n)},remove(n){t=Do(t,n),t[0]?.resume()}}}function Do(t,n){const s=[...t],r=s.indexOf(n);return r!==-1&&s.splice(r,1),s}function ax(t){return t.filter(n=>n.tagName!=="A")}var ix="Portal",ji=l.forwardRef((t,n)=>{const{container:s,...r}=t,[a,i]=l.useState(!1);vn(()=>i(!0),[]);const o=s||a&&globalThis?.document?.body;return o?Xh.createPortal(e.jsx(ut.div,{...r,ref:n}),o):null});ji.displayName=ix;var Bi=0;function Ll(){l.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Mo()),document.body.insertAdjacentElement("beforeend",t[1]??Mo()),Bi++,()=>{Bi===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Bi--}},[])}function Mo(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ps=function(){return ps=Object.assign||function(n){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},ps.apply(this,arguments)};function Zc(t,n){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(s[r[a]]=t[r[a]]);return s}function lx(t,n,s){if(s||arguments.length===2)for(var r=0,a=n.length,i;r<a;r++)(i||!(r in n))&&(i||(i=Array.prototype.slice.call(n,0,r)),i[r]=n[r]);return t.concat(i||Array.prototype.slice.call(n))}var Ba="right-scroll-bar-position",Ha="width-before-scroll-bar",ox="with-scroll-bars-hidden",cx="--removed-body-scroll-bar-size";function Hi(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function dx(t,n){var s=l.useState(function(){return{value:t,callback:n,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=n,s.facade}var ux=typeof window<"u"?l.useLayoutEffect:l.useEffect,Ao=new WeakMap;function mx(t,n){var s=dx(null,function(r){return t.forEach(function(a){return Hi(a,r)})});return ux(function(){var r=Ao.get(s);if(r){var a=new Set(r),i=new Set(t),o=s.current;a.forEach(function(c){i.has(c)||Hi(c,null)}),i.forEach(function(c){a.has(c)||Hi(c,o)})}Ao.set(s,t)},[t]),s}function hx(t){return t}function fx(t,n){n===void 0&&(n=hx);var s=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(i){var o=n(i,r);return s.push(o),function(){s=s.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(r=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(c){return i(c)},filter:function(){return s}}},assignMedium:function(i){r=!0;var o=[];if(s.length){var c=s;s=[],c.forEach(i),o=s}var d=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),s={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),s}}}};return a}function px(t){t===void 0&&(t={});var n=fx(null);return n.options=ps({async:!0,ssr:!1},t),n}var Qc=function(t){var n=t.sideCar,s=Zc(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return l.createElement(r,ps({},s))};Qc.isSideCarExport=!0;function xx(t,n){return t.useMedium(n),Qc}var ed=px(),Ui=function(){},yi=l.forwardRef(function(t,n){var s=l.useRef(null),r=l.useState({onScrollCapture:Ui,onWheelCapture:Ui,onTouchMoveCapture:Ui}),a=r[0],i=r[1],o=t.forwardProps,c=t.children,d=t.className,u=t.removeScrollBar,h=t.enabled,m=t.shards,x=t.sideCar,p=t.noRelative,v=t.noIsolation,g=t.inert,f=t.allowPinchZoom,_=t.as,j=_===void 0?"div":_,y=t.gapMode,N=Zc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=x,I=mx([s,n]),S=ps(ps({},N),a);return l.createElement(l.Fragment,null,h&&l.createElement(E,{sideCar:ed,removeScrollBar:u,shards:m,noRelative:p,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!f,lockRef:s,gapMode:y}),o?l.cloneElement(l.Children.only(c),ps(ps({},S),{ref:I})):l.createElement(j,ps({},S,{className:d,ref:I}),c))});yi.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yi.classNames={fullWidth:Ha,zeroRight:Ba};var gx=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vx(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=gx();return n&&t.setAttribute("nonce",n),t}function jx(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function yx(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var bx=function(){var t=0,n=null;return{add:function(s){t==0&&(n=vx())&&(jx(n,s),yx(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},wx=function(){var t=bx();return function(n,s){l.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&s])}},td=function(){var t=wx(),n=function(s){var r=s.styles,a=s.dynamic;return t(r,a),null};return n},_x={left:0,top:0,right:0,gap:0},qi=function(t){return parseInt(t||"",10)||0},Nx=function(t){var n=window.getComputedStyle(document.body),s=n[t==="padding"?"paddingLeft":"marginLeft"],r=n[t==="padding"?"paddingTop":"marginTop"],a=n[t==="padding"?"paddingRight":"marginRight"];return[qi(s),qi(r),qi(a)]},Sx=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _x;var n=Nx(t),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-s+n[2]-n[0])}},Cx=td(),br="data-scroll-locked",kx=function(t,n,s,r){var a=t.left,i=t.top,o=t.right,c=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(ox,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(br,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ba,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ha,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ba," .").concat(Ba,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ha," .").concat(Ha,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(br,`] {
    `).concat(cx,": ").concat(c,`px;
  }
`)},Oo=function(){var t=parseInt(document.body.getAttribute(br)||"0",10);return isFinite(t)?t:0},Ex=function(){l.useEffect(function(){return document.body.setAttribute(br,(Oo()+1).toString()),function(){var t=Oo()-1;t<=0?document.body.removeAttribute(br):document.body.setAttribute(br,t.toString())}},[])},Rx=function(t){var n=t.noRelative,s=t.noImportant,r=t.gapMode,a=r===void 0?"margin":r;Ex();var i=l.useMemo(function(){return Sx(a)},[a]);return l.createElement(Cx,{styles:kx(i,!n,a,s?"":"!important")})},ml=!1;if(typeof window<"u")try{var Ia=Object.defineProperty({},"passive",{get:function(){return ml=!0,!0}});window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{ml=!1}var hr=ml?{passive:!1}:!1,Px=function(t){return t.tagName==="TEXTAREA"},nd=function(t,n){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[n]!=="hidden"&&!(s.overflowY===s.overflowX&&!Px(t)&&s[n]==="visible")},Dx=function(t){return nd(t,"overflowY")},Mx=function(t){return nd(t,"overflowX")},To=function(t,n){var s=n.ownerDocument,r=n;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=sd(t,r);if(a){var i=rd(t,r),o=i[1],c=i[2];if(o>c)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},Ax=function(t){var n=t.scrollTop,s=t.scrollHeight,r=t.clientHeight;return[n,s,r]},Ox=function(t){var n=t.scrollLeft,s=t.scrollWidth,r=t.clientWidth;return[n,s,r]},sd=function(t,n){return t==="v"?Dx(n):Mx(n)},rd=function(t,n){return t==="v"?Ax(n):Ox(n)},Tx=function(t,n){return t==="h"&&n==="rtl"?-1:1},Ix=function(t,n,s,r,a){var i=Tx(t,window.getComputedStyle(n).direction),o=i*r,c=s.target,d=n.contains(c),u=!1,h=o>0,m=0,x=0;do{if(!c)break;var p=rd(t,c),v=p[0],g=p[1],f=p[2],_=g-f-i*v;(v||_)&&sd(t,c)&&(m+=_,x+=v);var j=c.parentNode;c=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!d&&c!==document.body||d&&(n.contains(c)||n===c));return(h&&Math.abs(m)<1||!h&&Math.abs(x)<1)&&(u=!0),u},La=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Io=function(t){return[t.deltaX,t.deltaY]},Lo=function(t){return t&&"current"in t?t.current:t},Lx=function(t,n){return t[0]===n[0]&&t[1]===n[1]},zx=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Fx=0,fr=[];function $x(t){var n=l.useRef([]),s=l.useRef([0,0]),r=l.useRef(),a=l.useState(Fx++)[0],i=l.useState(td)[0],o=l.useRef(t);l.useEffect(function(){o.current=t},[t]),l.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var g=lx([t.lockRef.current],(t.shards||[]).map(Lo),!0).filter(Boolean);return g.forEach(function(f){return f.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var c=l.useCallback(function(g,f){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var _=La(g),j=s.current,y="deltaX"in g?g.deltaX:j[0]-_[0],N="deltaY"in g?g.deltaY:j[1]-_[1],E,I=g.target,S=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in g&&S==="h"&&I.type==="range")return!1;var D=window.getSelection(),P=D&&D.anchorNode,F=P?P===I||P.contains(I):!1;if(F)return!1;var M=To(S,I);if(!M)return!0;if(M?E=S:(E=S==="v"?"h":"v",M=To(S,I)),!M)return!1;if(!r.current&&"changedTouches"in g&&(y||N)&&(r.current=E),!E)return!0;var U=r.current||E;return Ix(U,f,g,U==="h"?y:N)},[]),d=l.useCallback(function(g){var f=g;if(!(!fr.length||fr[fr.length-1]!==i)){var _="deltaY"in f?Io(f):La(f),j=n.current.filter(function(E){return E.name===f.type&&(E.target===f.target||f.target===E.shadowParent)&&Lx(E.delta,_)})[0];if(j&&j.should){f.cancelable&&f.preventDefault();return}if(!j){var y=(o.current.shards||[]).map(Lo).filter(Boolean).filter(function(E){return E.contains(f.target)}),N=y.length>0?c(f,y[0]):!o.current.noIsolation;N&&f.cancelable&&f.preventDefault()}}},[]),u=l.useCallback(function(g,f,_,j){var y={name:g,delta:f,target:_,should:j,shadowParent:Vx(_)};n.current.push(y),setTimeout(function(){n.current=n.current.filter(function(N){return N!==y})},1)},[]),h=l.useCallback(function(g){s.current=La(g),r.current=void 0},[]),m=l.useCallback(function(g){u(g.type,Io(g),g.target,c(g,t.lockRef.current))},[]),x=l.useCallback(function(g){u(g.type,La(g),g.target,c(g,t.lockRef.current))},[]);l.useEffect(function(){return fr.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",d,hr),document.addEventListener("touchmove",d,hr),document.addEventListener("touchstart",h,hr),function(){fr=fr.filter(function(g){return g!==i}),document.removeEventListener("wheel",d,hr),document.removeEventListener("touchmove",d,hr),document.removeEventListener("touchstart",h,hr)}},[]);var p=t.removeScrollBar,v=t.inert;return l.createElement(l.Fragment,null,v?l.createElement(i,{styles:zx(a)}):null,p?l.createElement(Rx,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Vx(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const Yx=xx(ed,$x);var bi=l.forwardRef(function(t,n){return l.createElement(yi,ps({},t,{ref:n,sideCar:Yx}))});bi.classNames=yi.classNames;var Wx=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},pr=new WeakMap,za=new WeakMap,Fa={},Ki=0,ad=function(t){return t&&(t.host||ad(t.parentNode))},Bx=function(t,n){return n.map(function(s){if(t.contains(s))return s;var r=ad(s);return r&&t.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},Hx=function(t,n,s,r){var a=Bx(n,Array.isArray(t)?t:[t]);Fa[s]||(Fa[s]=new WeakMap);var i=Fa[s],o=[],c=new Set,d=new Set(a),u=function(m){!m||c.has(m)||(c.add(m),u(m.parentNode))};a.forEach(u);var h=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(x){if(c.has(x))h(x);else try{var p=x.getAttribute(r),v=p!==null&&p!=="false",g=(pr.get(x)||0)+1,f=(i.get(x)||0)+1;pr.set(x,g),i.set(x,f),o.push(x),g===1&&v&&za.set(x,!0),f===1&&x.setAttribute(s,"true"),v||x.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",x,_)}})};return h(n),c.clear(),Ki++,function(){o.forEach(function(m){var x=pr.get(m)-1,p=i.get(m)-1;pr.set(m,x),i.set(m,p),x||(za.has(m)||m.removeAttribute(r),za.delete(m)),p||m.removeAttribute(s)}),Ki--,Ki||(pr=new WeakMap,pr=new WeakMap,za=new WeakMap,Fa={})}},zl=function(t,n,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),a=Wx(t);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),Hx(r,a,s,"aria-hidden")):function(){return null}};function Ux(t){const n=qx(t),s=l.forwardRef((r,a)=>{const{children:i,...o}=r,c=l.Children.toArray(i),d=c.find(Gx);if(d){const u=d.props.children,h=c.map(m=>m===d?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:m);return e.jsx(n,{...o,ref:a,children:l.isValidElement(u)?l.cloneElement(u,void 0,h):null})}return e.jsx(n,{...o,ref:a,children:i})});return s.displayName=`${t}.Slot`,s}function qx(t){const n=l.forwardRef((s,r)=>{const{children:a,...i}=s;if(l.isValidElement(a)){const o=Jx(a),c=Xx(i,a.props);return a.type!==l.Fragment&&(c.ref=r?va(r,o):o),l.cloneElement(a,c)}return l.Children.count(a)>1?l.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var Kx=Symbol("radix.slottable");function Gx(t){return l.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Kx}function Xx(t,n){const s={...n};for(const r in n){const a=t[r],i=n[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...t,...s}}function Jx(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var wi="Dialog",[id,ld]=lr(wi),[Zx,ds]=id(wi),od=t=>{const{__scopeDialog:n,children:s,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,c=l.useRef(null),d=l.useRef(null),[u,h]=Xa({prop:r,defaultProp:a??!1,onChange:i,caller:wi});return e.jsx(Zx,{scope:n,triggerRef:c,contentRef:d,contentId:Vs(),titleId:Vs(),descriptionId:Vs(),open:u,onOpenChange:h,onOpenToggle:l.useCallback(()=>h(m=>!m),[h]),modal:o,children:s})};od.displayName=wi;var cd="DialogTrigger",dd=l.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=ds(cd,s),i=wt(n,a.triggerRef);return e.jsx(ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Vl(a.open),...r,ref:i,onClick:Re(t.onClick,a.onOpenToggle)})});dd.displayName=cd;var Fl="DialogPortal",[Qx,ud]=id(Fl,{forceMount:void 0}),md=t=>{const{__scopeDialog:n,forceMount:s,children:r,container:a}=t,i=ds(Fl,n);return e.jsx(Qx,{scope:n,forceMount:s,children:l.Children.map(r,o=>e.jsx(os,{present:s||i.open,children:e.jsx(ji,{asChild:!0,container:a,children:o})}))})};md.displayName=Fl;var Za="DialogOverlay",hd=l.forwardRef((t,n)=>{const s=ud(Za,t.__scopeDialog),{forceMount:r=s.forceMount,...a}=t,i=ds(Za,t.__scopeDialog);return i.modal?e.jsx(os,{present:r||i.open,children:e.jsx(tg,{...a,ref:n})}):null});hd.displayName=Za;var eg=Ux("DialogOverlay.RemoveScroll"),tg=l.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=ds(Za,s);return e.jsx(bi,{as:eg,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(ut.div,{"data-state":Vl(a.open),...r,ref:n,style:{pointerEvents:"auto",...r.style}})})}),sr="DialogContent",fd=l.forwardRef((t,n)=>{const s=ud(sr,t.__scopeDialog),{forceMount:r=s.forceMount,...a}=t,i=ds(sr,t.__scopeDialog);return e.jsx(os,{present:r||i.open,children:i.modal?e.jsx(ng,{...a,ref:n}):e.jsx(sg,{...a,ref:n})})});fd.displayName=sr;var ng=l.forwardRef((t,n)=>{const s=ds(sr,t.__scopeDialog),r=l.useRef(null),a=wt(n,s.contentRef,r);return l.useEffect(()=>{const i=r.current;if(i)return zl(i)},[]),e.jsx(pd,{...t,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,i=>{i.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:Re(t.onFocusOutside,i=>i.preventDefault())})}),sg=l.forwardRef((t,n)=>{const s=ds(sr,t.__scopeDialog),r=l.useRef(!1),a=l.useRef(!1);return e.jsx(pd,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||s.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;s.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),pd=l.forwardRef((t,n)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,c=ds(sr,s),d=l.useRef(null),u=wt(n,d);return Ll(),e.jsxs(e.Fragment,{children:[e.jsx(vi,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(gi,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Vl(c.open),...o,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(ag,{titleId:c.titleId}),e.jsx(lg,{contentRef:d,descriptionId:c.descriptionId})]})]})}),$l="DialogTitle",xd=l.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=ds($l,s);return e.jsx(ut.h2,{id:a.titleId,...r,ref:n})});xd.displayName=$l;var gd="DialogDescription",vd=l.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=ds(gd,s);return e.jsx(ut.p,{id:a.descriptionId,...r,ref:n})});vd.displayName=gd;var jd="DialogClose",yd=l.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=ds(jd,s);return e.jsx(ut.button,{type:"button",...r,ref:n,onClick:Re(t.onClick,()=>a.onOpenChange(!1))})});yd.displayName=jd;function Vl(t){return t?"open":"closed"}var bd="DialogTitleWarning",[rg,wd]=Jh(bd,{contentName:sr,titleName:$l,docsSlug:"dialog"}),ag=({titleId:t})=>{const n=wd(bd),s=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return l.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},ig="DialogDescriptionWarning",lg=({contentRef:t,descriptionId:n})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wd(ig).contentName}}.`;return l.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");n&&a&&(document.getElementById(n)||console.warn(r))},[r,t,n]),null},Yl=od,_d=dd,Wl=md,wa=hd,_a=fd,Na=xd,Sa=vd,Bl=yd;const og=Yl,cg=_d,dg=Wl,Nd=l.forwardRef(({className:t,...n},s)=>e.jsx(wa,{className:K("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n,ref:s}));Nd.displayName=wa.displayName;const ug=Sc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Sd=l.forwardRef(({side:t="right",className:n,children:s,...r},a)=>e.jsxs(dg,{children:[e.jsx(Nd,{}),e.jsx(_a,{ref:a,className:K(ug({side:t}),n),...r,children:s})]}));Sd.displayName=_a.displayName;const mg=l.forwardRef(({className:t,...n},s)=>e.jsx(Na,{ref:s,className:K("text-lg font-semibold text-foreground",t),...n}));mg.displayName=Na.displayName;const hg=l.forwardRef(({className:t,...n},s)=>e.jsx(Sa,{ref:s,className:K("text-sm text-muted-foreground",t),...n}));hg.displayName=Sa.displayName;function hl(t,[n,s]){return Math.min(s,Math.max(n,t))}function fg(t,n){return l.useReducer((s,r)=>n[s][r]??s,t)}var Hl="ScrollArea",[Cd]=lr(Hl),[pg,Jn]=Cd(Hl),kd=l.forwardRef((t,n)=>{const{__scopeScrollArea:s,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=t,[c,d]=l.useState(null),[u,h]=l.useState(null),[m,x]=l.useState(null),[p,v]=l.useState(null),[g,f]=l.useState(null),[_,j]=l.useState(0),[y,N]=l.useState(0),[E,I]=l.useState(!1),[S,D]=l.useState(!1),P=wt(n,M=>d(M)),F=kl(a);return e.jsx(pg,{scope:s,type:r,dir:F,scrollHideDelay:i,scrollArea:c,viewport:u,onViewportChange:h,content:m,onContentChange:x,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:E,onScrollbarXEnabledChange:I,scrollbarY:g,onScrollbarYChange:f,scrollbarYEnabled:S,onScrollbarYEnabledChange:D,onCornerWidthChange:j,onCornerHeightChange:N,children:e.jsx(ut.div,{dir:F,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":y+"px",...t.style}})})});kd.displayName=Hl;var Ed="ScrollAreaViewport",Rd=l.forwardRef((t,n)=>{const{__scopeScrollArea:s,children:r,nonce:a,...i}=t,o=Jn(Ed,s),c=l.useRef(null),d=wt(n,c,o.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(ut.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Rd.displayName=Ed;var js="ScrollAreaScrollbar",Ul=l.forwardRef((t,n)=>{const{forceMount:s,...r}=t,a=Jn(js,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,c=t.orientation==="horizontal";return l.useEffect(()=>(c?i(!0):o(!0),()=>{c?i(!1):o(!1)}),[c,i,o]),a.type==="hover"?e.jsx(xg,{...r,ref:n,forceMount:s}):a.type==="scroll"?e.jsx(gg,{...r,ref:n,forceMount:s}):a.type==="auto"?e.jsx(Pd,{...r,ref:n,forceMount:s}):a.type==="always"?e.jsx(ql,{...r,ref:n}):null});Ul.displayName=js;var xg=l.forwardRef((t,n)=>{const{forceMount:s,...r}=t,a=Jn(js,t.__scopeScrollArea),[i,o]=l.useState(!1);return l.useEffect(()=>{const c=a.scrollArea;let d=0;if(c){const u=()=>{window.clearTimeout(d),o(!0)},h=()=>{d=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",u),c.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(os,{present:s||i,children:e.jsx(Pd,{"data-state":i?"visible":"hidden",...r,ref:n})})}),gg=l.forwardRef((t,n)=>{const{forceMount:s,...r}=t,a=Jn(js,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Ni(()=>d("SCROLL_END"),100),[c,d]=fg("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(c==="idle"){const u=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[c,a.scrollHideDelay,d]),l.useEffect(()=>{const u=a.viewport,h=i?"scrollLeft":"scrollTop";if(u){let m=u[h];const x=()=>{const p=u[h];m!==p&&(d("SCROLL"),o()),m=p};return u.addEventListener("scroll",x),()=>u.removeEventListener("scroll",x)}},[a.viewport,i,d,o]),e.jsx(os,{present:s||c!=="hidden",children:e.jsx(ql,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:n,onPointerEnter:Re(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Re(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Pd=l.forwardRef((t,n)=>{const s=Jn(js,t.__scopeScrollArea),{forceMount:r,...a}=t,[i,o]=l.useState(!1),c=t.orientation==="horizontal",d=Ni(()=>{if(s.viewport){const u=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;o(c?u:h)}},10);return Rr(s.viewport,d),Rr(s.content,d),e.jsx(os,{present:r||i,children:e.jsx(ql,{"data-state":i?"visible":"hidden",...a,ref:n})})}),ql=l.forwardRef((t,n)=>{const{orientation:s="vertical",...r}=t,a=Jn(js,t.__scopeScrollArea),i=l.useRef(null),o=l.useRef(0),[c,d]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Td(c.viewport,c.content),h={...r,sizes:c,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:x=>i.current=x,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:x=>o.current=x};function m(x,p){return _g(x,o.current,c,p)}return s==="horizontal"?e.jsx(vg,{...h,ref:n,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollLeft,p=zo(x,c,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollLeft=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollLeft=m(x,a.dir))}}):s==="vertical"?e.jsx(jg,{...h,ref:n,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollTop,p=zo(x,c);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollTop=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollTop=m(x))}}):null}),vg=l.forwardRef((t,n)=>{const{sizes:s,onSizesChange:r,...a}=t,i=Jn(js,t.__scopeScrollArea),[o,c]=l.useState(),d=l.useRef(null),u=wt(n,d,i.onScrollbarXChange);return l.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),e.jsx(Md,{"data-orientation":"horizontal",...a,ref:u,sizes:s,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_i(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(i.viewport){const x=i.viewport.scrollLeft+h.deltaX;t.onWheelScroll(x),Ld(x,m)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:ei(o.paddingLeft),paddingEnd:ei(o.paddingRight)}})}})}),jg=l.forwardRef((t,n)=>{const{sizes:s,onSizesChange:r,...a}=t,i=Jn(js,t.__scopeScrollArea),[o,c]=l.useState(),d=l.useRef(null),u=wt(n,d,i.onScrollbarYChange);return l.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),e.jsx(Md,{"data-orientation":"vertical",...a,ref:u,sizes:s,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_i(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(i.viewport){const x=i.viewport.scrollTop+h.deltaY;t.onWheelScroll(x),Ld(x,m)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:ei(o.paddingTop),paddingEnd:ei(o.paddingBottom)}})}})}),[yg,Dd]=Cd(js),Md=l.forwardRef((t,n)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:h,onResize:m,...x}=t,p=Jn(js,s),[v,g]=l.useState(null),f=wt(n,P=>g(P)),_=l.useRef(null),j=l.useRef(""),y=p.viewport,N=r.content-r.viewport,E=cn(h),I=cn(d),S=Ni(m,10);function D(P){if(_.current){const F=P.clientX-_.current.left,M=P.clientY-_.current.top;u({x:F,y:M})}}return l.useEffect(()=>{const P=F=>{const M=F.target;v?.contains(M)&&E(F,N)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[y,v,N,E]),l.useEffect(I,[r,I]),Rr(v,S),Rr(p.content,S),e.jsx(yg,{scope:s,scrollbar:v,hasThumb:a,onThumbChange:cn(i),onThumbPointerUp:cn(o),onThumbPositionChange:I,onThumbPointerDown:cn(c),children:e.jsx(ut.div,{...x,ref:f,style:{position:"absolute",...x.style},onPointerDown:Re(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),_.current=v.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),D(P))}),onPointerMove:Re(t.onPointerMove,D),onPointerUp:Re(t.onPointerUp,P=>{const F=P.target;F.hasPointerCapture(P.pointerId)&&F.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=j.current,p.viewport&&(p.viewport.style.scrollBehavior=""),_.current=null})})})}),Qa="ScrollAreaThumb",Ad=l.forwardRef((t,n)=>{const{forceMount:s,...r}=t,a=Dd(Qa,t.__scopeScrollArea);return e.jsx(os,{present:s||a.hasThumb,children:e.jsx(bg,{ref:n,...r})})}),bg=l.forwardRef((t,n)=>{const{__scopeScrollArea:s,style:r,...a}=t,i=Jn(Qa,s),o=Dd(Qa,s),{onThumbPositionChange:c}=o,d=wt(n,m=>o.onThumbChange(m)),u=l.useRef(void 0),h=Ni(()=>{u.current&&(u.current(),u.current=void 0)},100);return l.useEffect(()=>{const m=i.viewport;if(m){const x=()=>{if(h(),!u.current){const p=Ng(m,c);u.current=p,c()}};return c(),m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[i.viewport,h,c]),e.jsx(ut.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Re(t.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),v=m.clientX-p.left,g=m.clientY-p.top;o.onThumbPointerDown({x:v,y:g})}),onPointerUp:Re(t.onPointerUp,o.onThumbPointerUp)})});Ad.displayName=Qa;var Kl="ScrollAreaCorner",Od=l.forwardRef((t,n)=>{const s=Jn(Kl,t.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?e.jsx(wg,{...t,ref:n}):null});Od.displayName=Kl;var wg=l.forwardRef((t,n)=>{const{__scopeScrollArea:s,...r}=t,a=Jn(Kl,s),[i,o]=l.useState(0),[c,d]=l.useState(0),u=!!(i&&c);return Rr(a.scrollbarX,()=>{const h=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(h),d(h)}),Rr(a.scrollbarY,()=>{const h=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(h),o(h)}),u?e.jsx(ut.div,{...r,ref:n,style:{width:i,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ei(t){return t?parseInt(t,10):0}function Td(t,n){const s=t/n;return isNaN(s)?0:s}function _i(t){const n=Td(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-s)*n;return Math.max(r,18)}function _g(t,n,s,r="ltr"){const a=_i(s),i=a/2,o=n||i,c=a-o,d=s.scrollbar.paddingStart+o,u=s.scrollbar.size-s.scrollbar.paddingEnd-c,h=s.content-s.viewport,m=r==="ltr"?[0,h]:[h*-1,0];return Id([d,u],m)(t)}function zo(t,n,s="ltr"){const r=_i(n),a=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,i=n.scrollbar.size-a,o=n.content-n.viewport,c=i-r,d=s==="ltr"?[0,o]:[o*-1,0],u=hl(t,d);return Id([0,o],[0,c])(u)}function Id(t,n){return s=>{if(t[0]===t[1]||n[0]===n[1])return n[0];const r=(n[1]-n[0])/(t[1]-t[0]);return n[0]+r*(s-t[0])}}function Ld(t,n){return t>0&&t<n}var Ng=(t,n=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},r=0;return(function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=s.left!==i.left,c=s.top!==i.top;(o||c)&&n(),s=i,r=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(r)};function Ni(t,n){const s=cn(t),r=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(r.current),[]),l.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,n)},[s,n])}function Rr(t,n){const s=cn(n);vn(()=>{let r=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return a.observe(t),()=>{window.cancelAnimationFrame(r),a.unobserve(t)}}},[t,s])}var zd=kd,Sg=Rd,Cg=Od;const Fd=l.forwardRef(({className:t,children:n,...s},r)=>e.jsxs(zd,{ref:r,className:K("relative overflow-hidden",t),...s,children:[e.jsx(Sg,{className:"h-full w-full rounded-[inherit]",children:n}),e.jsx($d,{}),e.jsx(Cg,{})]}));Fd.displayName=zd.displayName;const $d=l.forwardRef(({className:t,orientation:n="vertical",...s},r)=>e.jsx(Ul,{ref:r,orientation:n,className:K("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:e.jsx(Ad,{className:"relative flex-1 rounded-full bg-border"})}));$d.displayName=Ul.displayName;const kg=pe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const Eg=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Vd=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Yd=pe("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);const ti=pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const ni=pe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);const Rg=pe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const Pg=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const Wd=pe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const Rs=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Bd=pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Hd=pe("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);const si=pe("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);const Dg=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Ud=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Gl=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Pr=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Mg=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const ha=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Ag=pe("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const qd=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Og=pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const Kd=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Gd=pe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const Tg=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Ig=pe("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const Fo=pe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const Lg=pe("FileStack",[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]]);const Un=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const zg=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Fg=pe("FolderInput",[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]]);const Gn=pe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const $g=pe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const Vg=pe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const Xl=pe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);const Yg=pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const Xd=pe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const Wg=pe("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const Bg=pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Hg=pe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const Ug=pe("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);const Bs=pe("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const Hs=pe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const qg=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Kg=pe("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);const Jd=pe("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);const Zd=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Qd=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const Jl=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const Gg=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const Xg=pe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const fa=pe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const Jg=pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const _n=pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const jn=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const eu=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Zg=pe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const Qg=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const wr=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const ev=pe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const tv=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const nv=pe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const tu=pe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const sv=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const rv=pe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const av=pe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const gn=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const iv=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const lv=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const ov=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const cv=pe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);const Tr=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Us=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const dv=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function uv(){return typeof document>"u"?"rtl":document.documentElement.getAttribute("dir")==="ltr"?"ltr":"rtl"}const mv={dashboard:Bg,projects:Gn,contracts:Un,invoices:Ug,tickets:Xl,tasks:tu,appointments:Rs,leads:Tr,licenses:Xd,customers:Us,staff:cv,consultations:Qd,reports:Bd,logs:Lg,"visitor-statistics":Hd,settings:wr,profile:Er,services:fa,campaigns:Jd,accounting:Wd,"accounting-persons":Us,"accounting-products":fa,"accounting/chart":ti,"accounting/journals":Un,"accounting/ledger":ni,"accounting/reports":si,"accounting/fiscal-year":Rs,"accounting/settings":wr,"accounting-chart":ti,"accounting-journals":Un,"accounting-ledger":ni,"accounting-reports":si,"accounting-fiscal-year":Rs,"accounting-settings":wr};function hv(t){const n=t.url??"";try{const r=(n.startsWith("http")?new URL(n).pathname:n).replace(/^\/dashboard\/?/,"").replace(/^\//,"").trim()||"";return r!==""&&r!=="dashboard"?`/${r}`:t.id?t.id==="dashboard"?"/":`/${t.id}`:"/"}catch{return t.id?t.id==="dashboard"?"/":`/${t.id}`:"/"}}function fv({menuItems:t,logoUrl:n,siteName:s,className:r,mobileOpen:a,onMobileOpenChange:i,isRtl:o}){const c=Xn(),d=As(),u=c.pathname.replace(/^\/dashboard\/?/,"").replace(/^\//,"")||"dashboard",h=typeof o=="boolean"?o?"rtl":"ltr":uv(),m=h==="rtl"?"text-right":"text-left",x=e.jsx("nav",{dir:h,className:K("flex flex-col gap-1 px-2 py-4",m),style:{textAlign:h==="rtl"?"right":"left"},children:t.map((p,v)=>{if(p.type==="category")return e.jsx("div",{dir:h,className:K("px-2 py-2 text-xs font-semibold text-muted-foreground",m),style:{textAlign:h==="rtl"?"right":"left"},children:p.title},`cat-${v}`);const g=hv(p),f=p.id?u===p.id||u===""&&p.id==="dashboard":!1,_=()=>{i?.(!1),d(g)};return e.jsxs("button",{type:"button",onClick:_,dir:h,className:K("w-full cursor-pointer border-0 bg-transparent flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground","justify-start",m,f?"bg-accent text-accent-foreground":"text-muted-foreground"),style:{textAlign:h==="rtl"?"right":"left"},children:[(()=>{const j=p.id?mv[p.id]:null;return j?e.jsx(j,{className:"h-5 w-5 shrink-0"}):null})(),e.jsx("span",{children:p.title})]},p.id??v)})});return e.jsxs(e.Fragment,{children:[e.jsxs("aside",{dir:h,className:K("hidden w-64 flex-col bg-card md:flex",h==="rtl"?"border-l text-right":"border-r text-left",r),style:h==="rtl"?{textAlign:"right"}:{textAlign:"left"},children:[e.jsx("div",{className:"flex h-14 items-center justify-start border-b px-4",children:e.jsx(Vt,{to:"/",className:K("flex items-center gap-2",h==="rtl"&&"flex-row-reverse"),children:n?e.jsx("img",{src:n,alt:s,className:"h-8 max-w-[140px] object-contain"}):e.jsx("span",{className:"font-semibold",children:s})})}),e.jsx(Fd,{className:"flex-1",children:x})]}),e.jsxs(og,{open:a,onOpenChange:i,children:[!i&&e.jsx(cg,{asChild:!0,children:e.jsx(O,{variant:"ghost",size:"icon",className:"md:hidden",children:e.jsx(Zd,{className:"h-5 w-5"})})}),e.jsxs(Sd,{side:h==="rtl"?"right":"left",className:"w-64 p-0",dir:h,children:[e.jsx("div",{className:K("flex h-14 items-center border-b px-4",h==="rtl"&&"justify-end"),children:e.jsx(Vt,{to:"/",className:K("flex items-center gap-2",h==="rtl"&&"flex-row-reverse"),onClick:()=>i?.(!1),children:n?e.jsx("img",{src:n,alt:s,className:"h-8 max-w-[140px] object-contain"}):e.jsx("span",{className:"font-semibold",children:s})})}),x]})]})]})}function pv(t,n=[]){let s=[];function r(i,o){const c=l.createContext(o);c.displayName=i+"Context";const d=s.length;s=[...s,o];const u=m=>{const{scope:x,children:p,...v}=m,g=x?.[t]?.[d]||c,f=l.useMemo(()=>v,Object.values(v));return e.jsx(g.Provider,{value:f,children:p})};u.displayName=i+"Provider";function h(m,x){const p=x?.[t]?.[d]||c,v=l.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,h]}const a=()=>{const i=s.map(o=>l.createContext(o));return function(c){const d=c?.[t]||i;return l.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return a.scopeName=t,[r,xv(a,...n)]}function xv(...t){const n=t[0];if(t.length===1)return n;const s=()=>{const r=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((c,{useScope:d,scopeName:u})=>{const m=d(i)[`__scope${u}`];return{...c,...m}},{});return l.useMemo(()=>({[`__scope${n.scopeName}`]:o}),[o])}};return s.scopeName=n.scopeName,s}var gv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zl=gv.reduce((t,n)=>{const s=Zh(`Primitive.${n}`),r=l.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?s:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${n}`,{...t,[n]:r}},{}),Gi={exports:{}},Xi={};var $o;function vv(){if($o)return Xi;$o=1;var t=El();function n(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var s=typeof Object.is=="function"?Object.is:n,r=t.useState,a=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function c(m,x){var p=x(),v=r({inst:{value:p,getSnapshot:x}}),g=v[0].inst,f=v[1];return i(function(){g.value=p,g.getSnapshot=x,d(g)&&f({inst:g})},[m,p,x]),a(function(){return d(g)&&f({inst:g}),m(function(){d(g)&&f({inst:g})})},[m]),o(p),p}function d(m){var x=m.getSnapshot;m=m.value;try{var p=x();return!s(m,p)}catch{return!0}}function u(m,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:c;return Xi.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Xi}var Vo;function jv(){return Vo||(Vo=1,Gi.exports=vv()),Gi.exports}var yv=jv();function bv(){return yv.useSyncExternalStore(wv,()=>!0,()=>!1)}function wv(){return()=>{}}var Ql="Avatar",[_v]=pv(Ql),[Nv,nu]=_v(Ql),su=l.forwardRef((t,n)=>{const{__scopeAvatar:s,...r}=t,[a,i]=l.useState("idle");return e.jsx(Nv,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(Zl.span,{...r,ref:n})})});su.displayName=Ql;var ru="AvatarImage",au=l.forwardRef((t,n)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:a=()=>{},...i}=t,o=nu(ru,s),c=Sv(r,i),d=cn(u=>{a(u),o.onImageLoadingStatusChange(u)});return vn(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?e.jsx(Zl.img,{...i,ref:n,src:r}):null});au.displayName=ru;var iu="AvatarFallback",lu=l.forwardRef((t,n)=>{const{__scopeAvatar:s,delayMs:r,...a}=t,i=nu(iu,s),[o,c]=l.useState(r===void 0);return l.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),o&&i.imageLoadingStatus!=="loaded"?e.jsx(Zl.span,{...a,ref:n}):null});lu.displayName=iu;function Yo(t,n){return t?n?(t.src!==n&&(t.src=n),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Sv(t,{referrerPolicy:n,crossOrigin:s}){const r=bv(),a=l.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,c]=l.useState(()=>Yo(i,t));return vn(()=>{c(Yo(i,t))},[i,t]),vn(()=>{const d=m=>()=>{c(m)};if(!i)return;const u=d("loaded"),h=d("error");return i.addEventListener("load",u),i.addEventListener("error",h),n&&(i.referrerPolicy=n),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,s,n]),o}var ou=su,cu=au,du=lu;const Ca=l.forwardRef(({className:t,...n},s)=>e.jsx(ou,{ref:s,className:K("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...n}));Ca.displayName=ou.displayName;const ka=l.forwardRef(({className:t,...n},s)=>e.jsx(cu,{ref:s,className:K("aspect-square h-full w-full",t),...n}));ka.displayName=cu.displayName;const Ea=l.forwardRef(({className:t,...n},s)=>e.jsx(du,{ref:s,className:K("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...n}));Ea.displayName=du.displayName;const Cv=["top","right","bottom","left"],qs=Math.min,Tn=Math.max,ri=Math.round,$a=Math.floor,gs=t=>({x:t,y:t}),kv={left:"right",right:"left",bottom:"top",top:"bottom"},Ev={start:"end",end:"start"};function fl(t,n,s){return Tn(t,qs(n,s))}function Ds(t,n){return typeof t=="function"?t(n):t}function Ms(t){return t.split("-")[0]}function Ir(t){return t.split("-")[1]}function eo(t){return t==="x"?"y":"x"}function to(t){return t==="y"?"height":"width"}const Rv=new Set(["top","bottom"]);function xs(t){return Rv.has(Ms(t))?"y":"x"}function no(t){return eo(xs(t))}function Pv(t,n,s){s===void 0&&(s=!1);const r=Ir(t),a=no(t),i=to(a);let o=a==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[i]>n.floating[i]&&(o=ai(o)),[o,ai(o)]}function Dv(t){const n=ai(t);return[pl(t),n,pl(n)]}function pl(t){return t.replace(/start|end/g,n=>Ev[n])}const Wo=["left","right"],Bo=["right","left"],Mv=["top","bottom"],Av=["bottom","top"];function Ov(t,n,s){switch(t){case"top":case"bottom":return s?n?Bo:Wo:n?Wo:Bo;case"left":case"right":return n?Mv:Av;default:return[]}}function Tv(t,n,s,r){const a=Ir(t);let i=Ov(Ms(t),s==="start",r);return a&&(i=i.map(o=>o+"-"+a),n&&(i=i.concat(i.map(pl)))),i}function ai(t){return t.replace(/left|right|bottom|top/g,n=>kv[n])}function Iv(t){return{top:0,right:0,bottom:0,left:0,...t}}function uu(t){return typeof t!="number"?Iv(t):{top:t,right:t,bottom:t,left:t}}function ii(t){const{x:n,y:s,width:r,height:a}=t;return{width:r,height:a,top:s,left:n,right:n+r,bottom:s+a,x:n,y:s}}function Ho(t,n,s){let{reference:r,floating:a}=t;const i=xs(n),o=no(n),c=to(o),d=Ms(n),u=i==="y",h=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,x=r[c]/2-a[c]/2;let p;switch(d){case"top":p={x:h,y:r.y-a.height};break;case"bottom":p={x:h,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:m};break;case"left":p={x:r.x-a.width,y:m};break;default:p={x:r.x,y:r.y}}switch(Ir(n)){case"start":p[o]-=x*(s&&u?-1:1);break;case"end":p[o]+=x*(s&&u?-1:1);break}return p}async function Lv(t,n){var s;n===void 0&&(n={});const{x:r,y:a,platform:i,rects:o,elements:c,strategy:d}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:x=!1,padding:p=0}=Ds(n,t),v=uu(p),f=c[x?m==="floating"?"reference":"floating":m],_=ii(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(f)))==null||s?f:f.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:h,strategy:d})),j=m==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),N=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},E=ii(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:j,offsetParent:y,strategy:d}):j);return{top:(_.top-E.top+v.top)/N.y,bottom:(E.bottom-_.bottom+v.bottom)/N.y,left:(_.left-E.left+v.left)/N.x,right:(E.right-_.right+v.right)/N.x}}const zv=async(t,n,s)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=s,c=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(n));let u=await o.getElementRects({reference:t,floating:n,strategy:a}),{x:h,y:m}=Ho(u,r,d),x=r,p={},v=0;for(let f=0;f<c.length;f++){var g;const{name:_,fn:j}=c[f],{x:y,y:N,data:E,reset:I}=await j({x:h,y:m,initialPlacement:r,placement:x,strategy:a,middlewareData:p,rects:u,platform:{...o,detectOverflow:(g=o.detectOverflow)!=null?g:Lv},elements:{reference:t,floating:n}});h=y??h,m=N??m,p={...p,[_]:{...p[_],...E}},I&&v<=50&&(v++,typeof I=="object"&&(I.placement&&(x=I.placement),I.rects&&(u=I.rects===!0?await o.getElementRects({reference:t,floating:n,strategy:a}):I.rects),{x:h,y:m}=Ho(u,x,d)),f=-1)}return{x:h,y:m,placement:x,strategy:a,middlewareData:p}},Fv=t=>({name:"arrow",options:t,async fn(n){const{x:s,y:r,placement:a,rects:i,platform:o,elements:c,middlewareData:d}=n,{element:u,padding:h=0}=Ds(t,n)||{};if(u==null)return{};const m=uu(h),x={x:s,y:r},p=no(a),v=to(p),g=await o.getDimensions(u),f=p==="y",_=f?"top":"left",j=f?"bottom":"right",y=f?"clientHeight":"clientWidth",N=i.reference[v]+i.reference[p]-x[p]-i.floating[v],E=x[p]-i.reference[p],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=I?I[y]:0;(!S||!await(o.isElement==null?void 0:o.isElement(I)))&&(S=c.floating[y]||i.floating[v]);const D=N/2-E/2,P=S/2-g[v]/2-1,F=qs(m[_],P),M=qs(m[j],P),U=F,oe=S-g[v]-M,V=S/2-g[v]/2+D,k=fl(U,V,oe),L=!d.arrow&&Ir(a)!=null&&V!==k&&i.reference[v]/2-(V<U?F:M)-g[v]/2<0,le=L?V<U?V-U:V-oe:0;return{[p]:x[p]+le,data:{[p]:k,centerOffset:V-k-le,...L&&{alignmentOffset:le}},reset:L}}}),$v=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var s,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:c,platform:d,elements:u}=n,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...f}=Ds(t,n);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const _=Ms(a),j=xs(c),y=Ms(c)===c,N=await(d.isRTL==null?void 0:d.isRTL(u.floating)),E=x||(y||!g?[ai(c)]:Dv(c)),I=v!=="none";!x&&I&&E.push(...Tv(c,g,v,N));const S=[c,...E],D=await d.detectOverflow(n,f),P=[];let F=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&P.push(D[_]),m){const V=Pv(a,o,N);P.push(D[V[0]],D[V[1]])}if(F=[...F,{placement:a,overflows:P}],!P.every(V=>V<=0)){var M,U;const V=(((M=i.flip)==null?void 0:M.index)||0)+1,k=S[V];if(k&&(!(m==="alignment"?j!==xs(k):!1)||F.every(J=>xs(J.placement)===j?J.overflows[0]>0:!0)))return{data:{index:V,overflows:F},reset:{placement:k}};let L=(U=F.filter(le=>le.overflows[0]<=0).sort((le,J)=>le.overflows[1]-J.overflows[1])[0])==null?void 0:U.placement;if(!L)switch(p){case"bestFit":{var oe;const le=(oe=F.filter(J=>{if(I){const Z=xs(J.placement);return Z===j||Z==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(Z=>Z>0).reduce((Z,Ne)=>Z+Ne,0)]).sort((J,Z)=>J[1]-Z[1])[0])==null?void 0:oe[0];le&&(L=le);break}case"initialPlacement":L=c;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function Uo(t,n){return{top:t.top-n.height,right:t.right-n.width,bottom:t.bottom-n.height,left:t.left-n.width}}function qo(t){return Cv.some(n=>t[n]>=0)}const Vv=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(n){const{rects:s,platform:r}=n,{strategy:a="referenceHidden",...i}=Ds(t,n);switch(a){case"referenceHidden":{const o=await r.detectOverflow(n,{...i,elementContext:"reference"}),c=Uo(o,s.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:qo(c)}}}case"escaped":{const o=await r.detectOverflow(n,{...i,altBoundary:!0}),c=Uo(o,s.floating);return{data:{escapedOffsets:c,escaped:qo(c)}}}default:return{}}}}},mu=new Set(["left","top"]);async function Yv(t,n){const{placement:s,platform:r,elements:a}=t,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=Ms(s),c=Ir(s),d=xs(s)==="y",u=mu.has(o)?-1:1,h=i&&d?-1:1,m=Ds(n,t);let{mainAxis:x,crossAxis:p,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof v=="number"&&(p=c==="end"?v*-1:v),d?{x:p*h,y:x*u}:{x:x*u,y:p*h}}const Wv=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){var s,r;const{x:a,y:i,placement:o,middlewareData:c}=n,d=await Yv(n,t);return o===((s=c.offset)==null?void 0:s.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:o}}}}},Bv=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:s,y:r,placement:a,platform:i}=n,{mainAxis:o=!0,crossAxis:c=!1,limiter:d={fn:_=>{let{x:j,y}=_;return{x:j,y}}},...u}=Ds(t,n),h={x:s,y:r},m=await i.detectOverflow(n,u),x=xs(Ms(a)),p=eo(x);let v=h[p],g=h[x];if(o){const _=p==="y"?"top":"left",j=p==="y"?"bottom":"right",y=v+m[_],N=v-m[j];v=fl(y,v,N)}if(c){const _=x==="y"?"top":"left",j=x==="y"?"bottom":"right",y=g+m[_],N=g-m[j];g=fl(y,g,N)}const f=d.fn({...n,[p]:v,[x]:g});return{...f,data:{x:f.x-s,y:f.y-r,enabled:{[p]:o,[x]:c}}}}}},Hv=function(t){return t===void 0&&(t={}),{options:t,fn(n){const{x:s,y:r,placement:a,rects:i,middlewareData:o}=n,{offset:c=0,mainAxis:d=!0,crossAxis:u=!0}=Ds(t,n),h={x:s,y:r},m=xs(a),x=eo(m);let p=h[x],v=h[m];const g=Ds(c,n),f=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(d){const y=x==="y"?"height":"width",N=i.reference[x]-i.floating[y]+f.mainAxis,E=i.reference[x]+i.reference[y]-f.mainAxis;p<N?p=N:p>E&&(p=E)}if(u){var _,j;const y=x==="y"?"width":"height",N=mu.has(Ms(a)),E=i.reference[m]-i.floating[y]+(N&&((_=o.offset)==null?void 0:_[m])||0)+(N?0:f.crossAxis),I=i.reference[m]+i.reference[y]+(N?0:((j=o.offset)==null?void 0:j[m])||0)-(N?f.crossAxis:0);v<E?v=E:v>I&&(v=I)}return{[x]:p,[m]:v}}}},Uv=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(n){var s,r;const{placement:a,rects:i,platform:o,elements:c}=n,{apply:d=()=>{},...u}=Ds(t,n),h=await o.detectOverflow(n,u),m=Ms(a),x=Ir(a),p=xs(a)==="y",{width:v,height:g}=i.floating;let f,_;m==="top"||m==="bottom"?(f=m,_=x===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(_=m,f=x==="end"?"top":"bottom");const j=g-h.top-h.bottom,y=v-h.left-h.right,N=qs(g-h[f],j),E=qs(v-h[_],y),I=!n.middlewareData.shift;let S=N,D=E;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(D=y),(r=n.middlewareData.shift)!=null&&r.enabled.y&&(S=j),I&&!x){const F=Tn(h.left,0),M=Tn(h.right,0),U=Tn(h.top,0),oe=Tn(h.bottom,0);p?D=v-2*(F!==0||M!==0?F+M:Tn(h.left,h.right)):S=g-2*(U!==0||oe!==0?U+oe:Tn(h.top,h.bottom))}await d({...n,availableWidth:D,availableHeight:S});const P=await o.getDimensions(c.floating);return v!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function Si(){return typeof window<"u"}function Lr(t){return hu(t)?(t.nodeName||"").toLowerCase():"#document"}function In(t){var n;return(t==null||(n=t.ownerDocument)==null?void 0:n.defaultView)||window}function ys(t){var n;return(n=(hu(t)?t.ownerDocument:t.document)||window.document)==null?void 0:n.documentElement}function hu(t){return Si()?t instanceof Node||t instanceof In(t).Node:!1}function is(t){return Si()?t instanceof Element||t instanceof In(t).Element:!1}function vs(t){return Si()?t instanceof HTMLElement||t instanceof In(t).HTMLElement:!1}function Ko(t){return!Si()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof In(t).ShadowRoot}const qv=new Set(["inline","contents"]);function Ra(t){const{overflow:n,overflowX:s,overflowY:r,display:a}=ls(t);return/auto|scroll|overlay|hidden|clip/.test(n+r+s)&&!qv.has(a)}const Kv=new Set(["table","td","th"]);function Gv(t){return Kv.has(Lr(t))}const Xv=[":popover-open",":modal"];function Ci(t){return Xv.some(n=>{try{return t.matches(n)}catch{return!1}})}const Jv=["transform","translate","scale","rotate","perspective"],Zv=["transform","translate","scale","rotate","perspective","filter"],Qv=["paint","layout","strict","content"];function so(t){const n=ro(),s=is(t)?ls(t):t;return Jv.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!n&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!n&&(s.filter?s.filter!=="none":!1)||Zv.some(r=>(s.willChange||"").includes(r))||Qv.some(r=>(s.contain||"").includes(r))}function ej(t){let n=Ks(t);for(;vs(n)&&!Dr(n);){if(so(n))return n;if(Ci(n))return null;n=Ks(n)}return null}function ro(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tj=new Set(["html","body","#document"]);function Dr(t){return tj.has(Lr(t))}function ls(t){return In(t).getComputedStyle(t)}function ki(t){return is(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ks(t){if(Lr(t)==="html")return t;const n=t.assignedSlot||t.parentNode||Ko(t)&&t.host||ys(t);return Ko(n)?n.host:n}function fu(t){const n=Ks(t);return Dr(n)?t.ownerDocument?t.ownerDocument.body:t.body:vs(n)&&Ra(n)?n:fu(n)}function pa(t,n,s){var r;n===void 0&&(n=[]),s===void 0&&(s=!0);const a=fu(t),i=a===((r=t.ownerDocument)==null?void 0:r.body),o=In(a);if(i){const c=xl(o);return n.concat(o,o.visualViewport||[],Ra(a)?a:[],c&&s?pa(c):[])}return n.concat(a,pa(a,[],s))}function xl(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function pu(t){const n=ls(t);let s=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const a=vs(t),i=a?t.offsetWidth:s,o=a?t.offsetHeight:r,c=ri(s)!==i||ri(r)!==o;return c&&(s=i,r=o),{width:s,height:r,$:c}}function ao(t){return is(t)?t:t.contextElement}function _r(t){const n=ao(t);if(!vs(n))return gs(1);const s=n.getBoundingClientRect(),{width:r,height:a,$:i}=pu(n);let o=(i?ri(s.width):s.width)/r,c=(i?ri(s.height):s.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const nj=gs(0);function xu(t){const n=In(t);return!ro()||!n.visualViewport?nj:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function sj(t,n,s){return n===void 0&&(n=!1),!s||n&&s!==In(t)?!1:n}function rr(t,n,s,r){n===void 0&&(n=!1),s===void 0&&(s=!1);const a=t.getBoundingClientRect(),i=ao(t);let o=gs(1);n&&(r?is(r)&&(o=_r(r)):o=_r(t));const c=sj(i,s,r)?xu(i):gs(0);let d=(a.left+c.x)/o.x,u=(a.top+c.y)/o.y,h=a.width/o.x,m=a.height/o.y;if(i){const x=In(i),p=r&&is(r)?In(r):r;let v=x,g=xl(v);for(;g&&r&&p!==v;){const f=_r(g),_=g.getBoundingClientRect(),j=ls(g),y=_.left+(g.clientLeft+parseFloat(j.paddingLeft))*f.x,N=_.top+(g.clientTop+parseFloat(j.paddingTop))*f.y;d*=f.x,u*=f.y,h*=f.x,m*=f.y,d+=y,u+=N,v=In(g),g=xl(v)}}return ii({width:h,height:m,x:d,y:u})}function Ei(t,n){const s=ki(t).scrollLeft;return n?n.left+s:rr(ys(t)).left+s}function gu(t,n){const s=t.getBoundingClientRect(),r=s.left+n.scrollLeft-Ei(t,s),a=s.top+n.scrollTop;return{x:r,y:a}}function rj(t){let{elements:n,rect:s,offsetParent:r,strategy:a}=t;const i=a==="fixed",o=ys(r),c=n?Ci(n.floating):!1;if(r===o||c&&i)return s;let d={scrollLeft:0,scrollTop:0},u=gs(1);const h=gs(0),m=vs(r);if((m||!m&&!i)&&((Lr(r)!=="body"||Ra(o))&&(d=ki(r)),vs(r))){const p=rr(r);u=_r(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}const x=o&&!m&&!i?gu(o,d):gs(0);return{width:s.width*u.x,height:s.height*u.y,x:s.x*u.x-d.scrollLeft*u.x+h.x+x.x,y:s.y*u.y-d.scrollTop*u.y+h.y+x.y}}function aj(t){return Array.from(t.getClientRects())}function ij(t){const n=ys(t),s=ki(t),r=t.ownerDocument.body,a=Tn(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),i=Tn(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let o=-s.scrollLeft+Ei(t);const c=-s.scrollTop;return ls(r).direction==="rtl"&&(o+=Tn(n.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:c}}const Go=25;function lj(t,n){const s=In(t),r=ys(t),a=s.visualViewport;let i=r.clientWidth,o=r.clientHeight,c=0,d=0;if(a){i=a.width,o=a.height;const h=ro();(!h||h&&n==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}const u=Ei(r);if(u<=0){const h=r.ownerDocument,m=h.body,x=getComputedStyle(m),p=h.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,v=Math.abs(r.clientWidth-m.clientWidth-p);v<=Go&&(i-=v)}else u<=Go&&(i+=u);return{width:i,height:o,x:c,y:d}}const oj=new Set(["absolute","fixed"]);function cj(t,n){const s=rr(t,!0,n==="fixed"),r=s.top+t.clientTop,a=s.left+t.clientLeft,i=vs(t)?_r(t):gs(1),o=t.clientWidth*i.x,c=t.clientHeight*i.y,d=a*i.x,u=r*i.y;return{width:o,height:c,x:d,y:u}}function Xo(t,n,s){let r;if(n==="viewport")r=lj(t,s);else if(n==="document")r=ij(ys(t));else if(is(n))r=cj(n,s);else{const a=xu(t);r={x:n.x-a.x,y:n.y-a.y,width:n.width,height:n.height}}return ii(r)}function vu(t,n){const s=Ks(t);return s===n||!is(s)||Dr(s)?!1:ls(s).position==="fixed"||vu(s,n)}function dj(t,n){const s=n.get(t);if(s)return s;let r=pa(t,[],!1).filter(c=>is(c)&&Lr(c)!=="body"),a=null;const i=ls(t).position==="fixed";let o=i?Ks(t):t;for(;is(o)&&!Dr(o);){const c=ls(o),d=so(o);!d&&c.position==="fixed"&&(a=null),(i?!d&&!a:!d&&c.position==="static"&&!!a&&oj.has(a.position)||Ra(o)&&!d&&vu(t,o))?r=r.filter(h=>h!==o):a=c,o=Ks(o)}return n.set(t,r),r}function uj(t){let{element:n,boundary:s,rootBoundary:r,strategy:a}=t;const o=[...s==="clippingAncestors"?Ci(n)?[]:dj(n,this._c):[].concat(s),r],c=o[0],d=o.reduce((u,h)=>{const m=Xo(n,h,a);return u.top=Tn(m.top,u.top),u.right=qs(m.right,u.right),u.bottom=qs(m.bottom,u.bottom),u.left=Tn(m.left,u.left),u},Xo(n,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function mj(t){const{width:n,height:s}=pu(t);return{width:n,height:s}}function hj(t,n,s){const r=vs(n),a=ys(n),i=s==="fixed",o=rr(t,!0,i,n);let c={scrollLeft:0,scrollTop:0};const d=gs(0);function u(){d.x=Ei(a)}if(r||!r&&!i)if((Lr(n)!=="body"||Ra(a))&&(c=ki(n)),r){const p=rr(n,!0,i,n);d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}else a&&u();i&&!r&&a&&u();const h=a&&!r&&!i?gu(a,c):gs(0),m=o.left+c.scrollLeft-d.x-h.x,x=o.top+c.scrollTop-d.y-h.y;return{x:m,y:x,width:o.width,height:o.height}}function Ji(t){return ls(t).position==="static"}function Jo(t,n){if(!vs(t)||ls(t).position==="fixed")return null;if(n)return n(t);let s=t.offsetParent;return ys(t)===s&&(s=s.ownerDocument.body),s}function ju(t,n){const s=In(t);if(Ci(t))return s;if(!vs(t)){let a=Ks(t);for(;a&&!Dr(a);){if(is(a)&&!Ji(a))return a;a=Ks(a)}return s}let r=Jo(t,n);for(;r&&Gv(r)&&Ji(r);)r=Jo(r,n);return r&&Dr(r)&&Ji(r)&&!so(r)?s:r||ej(t)||s}const fj=async function(t){const n=this.getOffsetParent||ju,s=this.getDimensions,r=await s(t.floating);return{reference:hj(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pj(t){return ls(t).direction==="rtl"}const xj={convertOffsetParentRelativeRectToViewportRelativeRect:rj,getDocumentElement:ys,getClippingRect:uj,getOffsetParent:ju,getElementRects:fj,getClientRects:aj,getDimensions:mj,getScale:_r,isElement:is,isRTL:pj};function yu(t,n){return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height}function gj(t,n){let s=null,r;const a=ys(t);function i(){var c;clearTimeout(r),(c=s)==null||c.disconnect(),s=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const u=t.getBoundingClientRect(),{left:h,top:m,width:x,height:p}=u;if(c||n(),!x||!p)return;const v=$a(m),g=$a(a.clientWidth-(h+x)),f=$a(a.clientHeight-(m+p)),_=$a(h),y={rootMargin:-v+"px "+-g+"px "+-f+"px "+-_+"px",threshold:Tn(0,qs(1,d))||1};let N=!0;function E(I){const S=I[0].intersectionRatio;if(S!==d){if(!N)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!yu(u,t.getBoundingClientRect())&&o(),N=!1}try{s=new IntersectionObserver(E,{...y,root:a.ownerDocument})}catch{s=new IntersectionObserver(E,y)}s.observe(t)}return o(!0),i}function vj(t,n,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,u=ao(t),h=a||i?[...u?pa(u):[],...pa(n)]:[];h.forEach(_=>{a&&_.addEventListener("scroll",s,{passive:!0}),i&&_.addEventListener("resize",s)});const m=u&&c?gj(u,s):null;let x=-1,p=null;o&&(p=new ResizeObserver(_=>{let[j]=_;j&&j.target===u&&p&&(p.unobserve(n),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(n)})),s()}),u&&!d&&p.observe(u),p.observe(n));let v,g=d?rr(t):null;d&&f();function f(){const _=rr(t);g&&!yu(g,_)&&s(),g=_,v=requestAnimationFrame(f)}return s(),()=>{var _;h.forEach(j=>{a&&j.removeEventListener("scroll",s),i&&j.removeEventListener("resize",s)}),m?.(),(_=p)==null||_.disconnect(),p=null,d&&cancelAnimationFrame(v)}}const jj=Wv,yj=Bv,bj=$v,wj=Uv,_j=Vv,Zo=Fv,Nj=Hv,Sj=(t,n,s)=>{const r=new Map,a={platform:xj,...s},i={...a.platform,_c:r};return zv(t,n,{...a,platform:i})};var Cj=typeof document<"u",kj=function(){},Ua=Cj?l.useLayoutEffect:kj;function li(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if(typeof t=="function"&&t.toString()===n.toString())return!0;let s,r,a;if(t&&n&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==n.length)return!1;for(r=s;r--!==0;)if(!li(t[r],n[r]))return!1;return!0}if(a=Object.keys(t),s=a.length,s!==Object.keys(n).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(n,a[r]))return!1;for(r=s;r--!==0;){const i=a[r];if(!(i==="_owner"&&t.$$typeof)&&!li(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}function bu(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Qo(t,n){const s=bu(t);return Math.round(n*s)/s}function Zi(t){const n=l.useRef(t);return Ua(()=>{n.current=t}),n}function Ej(t){t===void 0&&(t={});const{placement:n="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:d,open:u}=t,[h,m]=l.useState({x:0,y:0,strategy:s,placement:n,middlewareData:{},isPositioned:!1}),[x,p]=l.useState(r);li(x,r)||p(r);const[v,g]=l.useState(null),[f,_]=l.useState(null),j=l.useCallback(J=>{J!==I.current&&(I.current=J,g(J))},[]),y=l.useCallback(J=>{J!==S.current&&(S.current=J,_(J))},[]),N=i||v,E=o||f,I=l.useRef(null),S=l.useRef(null),D=l.useRef(h),P=d!=null,F=Zi(d),M=Zi(a),U=Zi(u),oe=l.useCallback(()=>{if(!I.current||!S.current)return;const J={placement:n,strategy:s,middleware:x};M.current&&(J.platform=M.current),Sj(I.current,S.current,J).then(Z=>{const Ne={...Z,isPositioned:U.current!==!1};V.current&&!li(D.current,Ne)&&(D.current=Ne,Rl.flushSync(()=>{m(Ne)}))})},[x,n,s,M,U]);Ua(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(J=>({...J,isPositioned:!1})))},[u]);const V=l.useRef(!1);Ua(()=>(V.current=!0,()=>{V.current=!1}),[]),Ua(()=>{if(N&&(I.current=N),E&&(S.current=E),N&&E){if(F.current)return F.current(N,E,oe);oe()}},[N,E,oe,F,P]);const k=l.useMemo(()=>({reference:I,floating:S,setReference:j,setFloating:y}),[j,y]),L=l.useMemo(()=>({reference:N,floating:E}),[N,E]),le=l.useMemo(()=>{const J={position:s,left:0,top:0};if(!L.floating)return J;const Z=Qo(L.floating,h.x),Ne=Qo(L.floating,h.y);return c?{...J,transform:"translate("+Z+"px, "+Ne+"px)",...bu(L.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:Z,top:Ne}},[s,c,L.floating,h.x,h.y]);return l.useMemo(()=>({...h,update:oe,refs:k,elements:L,floatingStyles:le}),[h,oe,k,L,le])}const Rj=t=>{function n(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:r,padding:a}=typeof t=="function"?t(s):t;return r&&n(r)?r.current!=null?Zo({element:r.current,padding:a}).fn(s):{}:r?Zo({element:r,padding:a}).fn(s):{}}}},Pj=(t,n)=>({...jj(t),options:[t,n]}),Dj=(t,n)=>({...yj(t),options:[t,n]}),Mj=(t,n)=>({...Nj(t),options:[t,n]}),Aj=(t,n)=>({...bj(t),options:[t,n]}),Oj=(t,n)=>({...wj(t),options:[t,n]}),Tj=(t,n)=>({..._j(t),options:[t,n]}),Ij=(t,n)=>({...Rj(t),options:[t,n]});var Lj="Arrow",wu=l.forwardRef((t,n)=>{const{children:s,width:r=10,height:a=5,...i}=t;return e.jsx(ut.svg,{...i,ref:n,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});wu.displayName=Lj;var zj=wu;function Fj(t){const[n,s]=l.useState(void 0);return vn(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,c;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;o=u.inlineSize,c=u.blockSize}else o=t.offsetWidth,c=t.offsetHeight;s({width:o,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else s(void 0)},[t]),n}var io="Popper",[_u,Ri]=lr(io),[$j,Nu]=_u(io),Su=t=>{const{__scopePopper:n,children:s}=t,[r,a]=l.useState(null);return e.jsx($j,{scope:n,anchor:r,onAnchorChange:a,children:s})};Su.displayName=io;var Cu="PopperAnchor",ku=l.forwardRef((t,n)=>{const{__scopePopper:s,virtualRef:r,...a}=t,i=Nu(Cu,s),o=l.useRef(null),c=wt(n,o),d=l.useRef(null);return l.useEffect(()=>{const u=d.current;d.current=r?.current||o.current,u!==d.current&&i.onAnchorChange(d.current)}),r?null:e.jsx(ut.div,{...a,ref:c})});ku.displayName=Cu;var lo="PopperContent",[Vj,Yj]=_u(lo),Eu=l.forwardRef((t,n)=>{const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=t,f=Nu(lo,s),[_,j]=l.useState(null),y=wt(n,b=>j(b)),[N,E]=l.useState(null),I=Fj(N),S=I?.width??0,D=I?.height??0,P=r+(i!=="center"?"-"+i:""),F=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(u)?u:[u],U=M.length>0,oe={padding:F,boundary:M.filter(Bj),altBoundary:U},{refs:V,floatingStyles:k,placement:L,isPositioned:le,middlewareData:J}=Ej({strategy:"fixed",placement:P,whileElementsMounted:(...b)=>vj(...b,{animationFrame:p==="always"}),elements:{reference:f.anchor},middleware:[Pj({mainAxis:a+D,alignmentAxis:o}),d&&Dj({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Mj():void 0,...oe}),d&&Aj({...oe}),Oj({...oe,apply:({elements:b,rects:$,availableWidth:A,availableHeight:ae})=>{const{width:ke,height:ot}=$.reference,jt=b.floating.style;jt.setProperty("--radix-popper-available-width",`${A}px`),jt.setProperty("--radix-popper-available-height",`${ae}px`),jt.setProperty("--radix-popper-anchor-width",`${ke}px`),jt.setProperty("--radix-popper-anchor-height",`${ot}px`)}}),N&&Ij({element:N,padding:c}),Hj({arrowWidth:S,arrowHeight:D}),x&&Tj({strategy:"referenceHidden",...oe})]}),[Z,Ne]=Du(L),W=cn(v);vn(()=>{le&&W?.()},[le,W]);const he=J.arrow?.x,Qe=J.arrow?.y,We=J.arrow?.centerOffset!==0,[Pe,R]=l.useState();return vn(()=>{_&&R(window.getComputedStyle(_).zIndex)},[_]),e.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:le?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[J.transformOrigin?.x,J.transformOrigin?.y].join(" "),...J.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(Vj,{scope:s,placedSide:Z,onArrowChange:E,arrowX:he,arrowY:Qe,shouldHideArrow:We,children:e.jsx(ut.div,{"data-side":Z,"data-align":Ne,...g,ref:y,style:{...g.style,animation:le?void 0:"none"}})})})});Eu.displayName=lo;var Ru="PopperArrow",Wj={top:"bottom",right:"left",bottom:"top",left:"right"},Pu=l.forwardRef(function(n,s){const{__scopePopper:r,...a}=n,i=Yj(Ru,r),o=Wj[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(zj,{...a,ref:s,style:{...a.style,display:"block"}})})});Pu.displayName=Ru;function Bj(t){return t!==null}var Hj=t=>({name:"transformOrigin",options:t,fn(n){const{placement:s,rects:r,middlewareData:a}=n,o=a.arrow?.centerOffset!==0,c=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[u,h]=Du(s),m={start:"0%",center:"50%",end:"100%"}[h],x=(a.arrow?.x??0)+c/2,p=(a.arrow?.y??0)+d/2;let v="",g="";return u==="bottom"?(v=o?m:`${x}px`,g=`${-d}px`):u==="top"?(v=o?m:`${x}px`,g=`${r.floating.height+d}px`):u==="right"?(v=`${-d}px`,g=o?m:`${p}px`):u==="left"&&(v=`${r.floating.width+d}px`,g=o?m:`${p}px`),{data:{x:v,y:g}}}});function Du(t){const[n,s="center"]=t.split("-");return[n,s]}var Mu=Su,Au=ku,Ou=Eu,Tu=Pu;function Uj(t){const n=qj(t),s=l.forwardRef((r,a)=>{const{children:i,...o}=r,c=l.Children.toArray(i),d=c.find(Gj);if(d){const u=d.props.children,h=c.map(m=>m===d?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:m);return e.jsx(n,{...o,ref:a,children:l.isValidElement(u)?l.cloneElement(u,void 0,h):null})}return e.jsx(n,{...o,ref:a,children:i})});return s.displayName=`${t}.Slot`,s}function qj(t){const n=l.forwardRef((s,r)=>{const{children:a,...i}=s;if(l.isValidElement(a)){const o=Jj(a),c=Xj(i,a.props);return a.type!==l.Fragment&&(c.ref=r?va(r,o):o),l.cloneElement(a,c)}return l.Children.count(a)>1?l.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var Kj=Symbol("radix.slottable");function Gj(t){return l.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Kj}function Xj(t,n){const s={...n};for(const r in n){const a=t[r],i=n[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...t,...s}}function Jj(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var gl=["Enter"," "],Zj=["ArrowDown","PageUp","Home"],Iu=["ArrowUp","PageDown","End"],Qj=[...Zj,...Iu],ey={ltr:[...gl,"ArrowRight"],rtl:[...gl,"ArrowLeft"]},ty={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pa="Menu",[xa,ny,sy]=kc(Pa),[or,Lu]=lr(Pa,[sy,Ri,Cc]),Pi=Ri(),zu=Cc(),[ry,cr]=or(Pa),[ay,Da]=or(Pa),Fu=t=>{const{__scopeMenu:n,open:s=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=t,c=Pi(n),[d,u]=l.useState(null),h=l.useRef(!1),m=cn(i),x=kl(a);return l.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),e.jsx(Mu,{...c,children:e.jsx(ry,{scope:n,open:s,onOpenChange:m,content:d,onContentChange:u,children:e.jsx(ay,{scope:n,onClose:l.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:x,modal:o,children:r})})})};Fu.displayName=Pa;var iy="MenuAnchor",oo=l.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t,a=Pi(s);return e.jsx(Au,{...a,...r,ref:n})});oo.displayName=iy;var co="MenuPortal",[ly,$u]=or(co,{forceMount:void 0}),Vu=t=>{const{__scopeMenu:n,forceMount:s,children:r,container:a}=t,i=cr(co,n);return e.jsx(ly,{scope:n,forceMount:s,children:e.jsx(os,{present:s||i.open,children:e.jsx(ji,{asChild:!0,container:a,children:r})})})};Vu.displayName=co;var qn="MenuContent",[oy,uo]=or(qn),Yu=l.forwardRef((t,n)=>{const s=$u(qn,t.__scopeMenu),{forceMount:r=s.forceMount,...a}=t,i=cr(qn,t.__scopeMenu),o=Da(qn,t.__scopeMenu);return e.jsx(xa.Provider,{scope:t.__scopeMenu,children:e.jsx(os,{present:r||i.open,children:e.jsx(xa.Slot,{scope:t.__scopeMenu,children:o.modal?e.jsx(cy,{...a,ref:n}):e.jsx(dy,{...a,ref:n})})})})}),cy=l.forwardRef((t,n)=>{const s=cr(qn,t.__scopeMenu),r=l.useRef(null),a=wt(n,r);return l.useEffect(()=>{const i=r.current;if(i)return zl(i)},[]),e.jsx(mo,{...t,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Re(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),dy=l.forwardRef((t,n)=>{const s=cr(qn,t.__scopeMenu);return e.jsx(mo,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),uy=Uj("MenuContent.ScrollLock"),mo=l.forwardRef((t,n)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:x,onDismiss:p,disableOutsideScroll:v,...g}=t,f=cr(qn,s),_=Da(qn,s),j=Pi(s),y=zu(s),N=ny(s),[E,I]=l.useState(null),S=l.useRef(null),D=wt(n,S,f.onContentChange),P=l.useRef(0),F=l.useRef(""),M=l.useRef(0),U=l.useRef(null),oe=l.useRef("right"),V=l.useRef(0),k=v?bi:l.Fragment,L=v?{as:uy,allowPinchZoom:!0}:void 0,le=Z=>{const Ne=F.current+Z,W=N().filter(b=>!b.disabled),he=document.activeElement,Qe=W.find(b=>b.ref.current===he)?.textValue,We=W.map(b=>b.textValue),Pe=_y(We,Ne,Qe),R=W.find(b=>b.textValue===Pe)?.ref.current;(function b($){F.current=$,window.clearTimeout(P.current),$!==""&&(P.current=window.setTimeout(()=>b(""),1e3))})(Ne),R&&setTimeout(()=>R.focus())};l.useEffect(()=>()=>window.clearTimeout(P.current),[]),Ll();const J=l.useCallback(Z=>oe.current===U.current?.side&&Sy(Z,U.current?.area),[]);return e.jsx(oy,{scope:s,searchRef:F,onItemEnter:l.useCallback(Z=>{J(Z)&&Z.preventDefault()},[J]),onItemLeave:l.useCallback(Z=>{J(Z)||(S.current?.focus(),I(null))},[J]),onTriggerLeave:l.useCallback(Z=>{J(Z)&&Z.preventDefault()},[J]),pointerGraceTimerRef:M,onPointerGraceIntentChange:l.useCallback(Z=>{U.current=Z},[]),children:e.jsx(k,{...L,children:e.jsx(vi,{asChild:!0,trapped:a,onMountAutoFocus:Re(i,Z=>{Z.preventDefault(),S.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:e.jsx(gi,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:x,onDismiss:p,children:e.jsx(ef,{asChild:!0,...y,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:I,onEntryFocus:Re(d,Z=>{_.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Ou,{role:"menu","aria-orientation":"vertical","data-state":rm(f.open),"data-radix-menu-content":"",dir:_.dir,...j,...g,ref:D,style:{outline:"none",...g.style},onKeyDown:Re(g.onKeyDown,Z=>{const W=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,he=Z.ctrlKey||Z.altKey||Z.metaKey,Qe=Z.key.length===1;W&&(Z.key==="Tab"&&Z.preventDefault(),!he&&Qe&&le(Z.key));const We=S.current;if(Z.target!==We||!Qj.includes(Z.key))return;Z.preventDefault();const R=N().filter(b=>!b.disabled).map(b=>b.ref.current);Iu.includes(Z.key)&&R.reverse(),by(R)}),onBlur:Re(t.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(P.current),F.current="")}),onPointerMove:Re(t.onPointerMove,ga(Z=>{const Ne=Z.target,W=V.current!==Z.clientX;if(Z.currentTarget.contains(Ne)&&W){const he=Z.clientX>V.current?"right":"left";oe.current=he,V.current=Z.clientX}}))})})})})})})});Yu.displayName=qn;var my="MenuGroup",ho=l.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t;return e.jsx(ut.div,{role:"group",...r,ref:n})});ho.displayName=my;var hy="MenuLabel",Wu=l.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t;return e.jsx(ut.div,{...r,ref:n})});Wu.displayName=hy;var oi="MenuItem",ec="menu.itemSelect",Di=l.forwardRef((t,n)=>{const{disabled:s=!1,onSelect:r,...a}=t,i=l.useRef(null),o=Da(oi,t.__scopeMenu),c=uo(oi,t.__scopeMenu),d=wt(n,i),u=l.useRef(!1),h=()=>{const m=i.current;if(!s&&m){const x=new CustomEvent(ec,{bubbles:!0,cancelable:!0});m.addEventListener(ec,p=>r?.(p),{once:!0}),Nc(m,x),x.defaultPrevented?u.current=!1:o.onClose()}};return e.jsx(Bu,{...a,ref:d,disabled:s,onClick:Re(t.onClick,h),onPointerDown:m=>{t.onPointerDown?.(m),u.current=!0},onPointerUp:Re(t.onPointerUp,m=>{u.current||m.currentTarget?.click()}),onKeyDown:Re(t.onKeyDown,m=>{const x=c.searchRef.current!=="";s||x&&m.key===" "||gl.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Di.displayName=oi;var Bu=l.forwardRef((t,n)=>{const{__scopeMenu:s,disabled:r=!1,textValue:a,...i}=t,o=uo(oi,s),c=zu(s),d=l.useRef(null),u=wt(n,d),[h,m]=l.useState(!1),[x,p]=l.useState("");return l.useEffect(()=>{const v=d.current;v&&p((v.textContent??"").trim())},[i.children]),e.jsx(xa.ItemSlot,{scope:s,disabled:r,textValue:a??x,children:e.jsx(Qh,{asChild:!0,...c,focusable:!r,children:e.jsx(ut.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:Re(t.onPointerMove,ga(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Re(t.onPointerLeave,ga(v=>o.onItemLeave(v))),onFocus:Re(t.onFocus,()=>m(!0)),onBlur:Re(t.onBlur,()=>m(!1))})})})}),fy="MenuCheckboxItem",Hu=l.forwardRef((t,n)=>{const{checked:s=!1,onCheckedChange:r,...a}=t;return e.jsx(Xu,{scope:t.__scopeMenu,checked:s,children:e.jsx(Di,{role:"menuitemcheckbox","aria-checked":ci(s)?"mixed":s,...a,ref:n,"data-state":po(s),onSelect:Re(a.onSelect,()=>r?.(ci(s)?!0:!s),{checkForDefaultPrevented:!1})})})});Hu.displayName=fy;var Uu="MenuRadioGroup",[py,xy]=or(Uu,{value:void 0,onValueChange:()=>{}}),qu=l.forwardRef((t,n)=>{const{value:s,onValueChange:r,...a}=t,i=cn(r);return e.jsx(py,{scope:t.__scopeMenu,value:s,onValueChange:i,children:e.jsx(ho,{...a,ref:n})})});qu.displayName=Uu;var Ku="MenuRadioItem",Gu=l.forwardRef((t,n)=>{const{value:s,...r}=t,a=xy(Ku,t.__scopeMenu),i=s===a.value;return e.jsx(Xu,{scope:t.__scopeMenu,checked:i,children:e.jsx(Di,{role:"menuitemradio","aria-checked":i,...r,ref:n,"data-state":po(i),onSelect:Re(r.onSelect,()=>a.onValueChange?.(s),{checkForDefaultPrevented:!1})})})});Gu.displayName=Ku;var fo="MenuItemIndicator",[Xu,gy]=or(fo,{checked:!1}),Ju=l.forwardRef((t,n)=>{const{__scopeMenu:s,forceMount:r,...a}=t,i=gy(fo,s);return e.jsx(os,{present:r||ci(i.checked)||i.checked===!0,children:e.jsx(ut.span,{...a,ref:n,"data-state":po(i.checked)})})});Ju.displayName=fo;var vy="MenuSeparator",Zu=l.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t;return e.jsx(ut.div,{role:"separator","aria-orientation":"horizontal",...r,ref:n})});Zu.displayName=vy;var jy="MenuArrow",Qu=l.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t,a=Pi(s);return e.jsx(Tu,{...a,...r,ref:n})});Qu.displayName=jy;var yy="MenuSub",[p_,em]=or(yy),aa="MenuSubTrigger",tm=l.forwardRef((t,n)=>{const s=cr(aa,t.__scopeMenu),r=Da(aa,t.__scopeMenu),a=em(aa,t.__scopeMenu),i=uo(aa,t.__scopeMenu),o=l.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,u={__scopeMenu:t.__scopeMenu},h=l.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return l.useEffect(()=>h,[h]),l.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),d(null)}},[c,d]),e.jsx(oo,{asChild:!0,...u,children:e.jsx(Bu,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":rm(s.open),...t,ref:va(n,a.onTriggerChange),onClick:m=>{t.onClick?.(m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Re(t.onPointerMove,ga(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!s.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),h()},100))})),onPointerLeave:Re(t.onPointerLeave,ga(m=>{h();const x=s.content?.getBoundingClientRect();if(x){const p=s.content?.dataset.side,v=p==="right",g=v?-5:5,f=x[v?"left":"right"],_=x[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+g,y:m.clientY},{x:f,y:x.top},{x:_,y:x.top},{x:_,y:x.bottom},{x:f,y:x.bottom}],side:p}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Re(t.onKeyDown,m=>{const x=i.searchRef.current!=="";t.disabled||x&&m.key===" "||ey[r.dir].includes(m.key)&&(s.onOpenChange(!0),s.content?.focus(),m.preventDefault())})})})});tm.displayName=aa;var nm="MenuSubContent",sm=l.forwardRef((t,n)=>{const s=$u(qn,t.__scopeMenu),{forceMount:r=s.forceMount,...a}=t,i=cr(qn,t.__scopeMenu),o=Da(qn,t.__scopeMenu),c=em(nm,t.__scopeMenu),d=l.useRef(null),u=wt(n,d);return e.jsx(xa.Provider,{scope:t.__scopeMenu,children:e.jsx(os,{present:r||i.open,children:e.jsx(xa.Slot,{scope:t.__scopeMenu,children:e.jsx(mo,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{o.isUsingKeyboardRef.current&&d.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Re(t.onFocusOutside,h=>{h.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Re(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Re(t.onKeyDown,h=>{const m=h.currentTarget.contains(h.target),x=ty[o.dir].includes(h.key);m&&x&&(i.onOpenChange(!1),c.trigger?.focus(),h.preventDefault())})})})})})});sm.displayName=nm;function rm(t){return t?"open":"closed"}function ci(t){return t==="indeterminate"}function po(t){return ci(t)?"indeterminate":t?"checked":"unchecked"}function by(t){const n=document.activeElement;for(const s of t)if(s===n||(s.focus(),document.activeElement!==n))return}function wy(t,n){return t.map((s,r)=>t[(n+r)%t.length])}function _y(t,n,s){const a=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,i=s?t.indexOf(s):-1;let o=wy(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==s));const d=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return d!==s?d:void 0}function Ny(t,n){const{x:s,y:r}=t;let a=!1;for(let i=0,o=n.length-1;i<n.length;o=i++){const c=n[i],d=n[o],u=c.x,h=c.y,m=d.x,x=d.y;h>r!=x>r&&s<(m-u)*(r-h)/(x-h)+u&&(a=!a)}return a}function Sy(t,n){if(!n)return!1;const s={x:t.clientX,y:t.clientY};return Ny(s,n)}function ga(t){return n=>n.pointerType==="mouse"?t(n):void 0}var Cy=Fu,ky=oo,Ey=Vu,Ry=Yu,Py=ho,Dy=Wu,My=Di,Ay=Hu,Oy=qu,Ty=Gu,Iy=Ju,Ly=Zu,zy=Qu,Fy=tm,$y=sm,Mi="DropdownMenu",[Vy]=lr(Mi,[Lu]),Nn=Lu(),[Yy,am]=Vy(Mi),im=t=>{const{__scopeDropdownMenu:n,children:s,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:c=!0}=t,d=Nn(n),u=l.useRef(null),[h,m]=Xa({prop:a,defaultProp:i??!1,onChange:o,caller:Mi});return e.jsx(Yy,{scope:n,triggerId:Vs(),triggerRef:u,contentId:Vs(),open:h,onOpenChange:m,onOpenToggle:l.useCallback(()=>m(x=>!x),[m]),modal:c,children:e.jsx(Cy,{...d,open:h,onOpenChange:m,dir:r,modal:c,children:s})})};im.displayName=Mi;var lm="DropdownMenuTrigger",om=l.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...a}=t,i=am(lm,s),o=Nn(s);return e.jsx(ky,{asChild:!0,...o,children:e.jsx(ut.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:va(n,i.triggerRef),onPointerDown:Re(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Re(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});om.displayName=lm;var Wy="DropdownMenuPortal",cm=t=>{const{__scopeDropdownMenu:n,...s}=t,r=Nn(n);return e.jsx(Ey,{...r,...s})};cm.displayName=Wy;var dm="DropdownMenuContent",um=l.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=am(dm,s),i=Nn(s),o=l.useRef(!1);return e.jsx(Ry,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:n,onCloseAutoFocus:Re(t.onCloseAutoFocus,c=>{o.current||a.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Re(t.onInteractOutside,c=>{const d=c.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,h=d.button===2||u;(!a.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});um.displayName=dm;var By="DropdownMenuGroup",Hy=l.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Nn(s);return e.jsx(Py,{...a,...r,ref:n})});Hy.displayName=By;var Uy="DropdownMenuLabel",mm=l.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Nn(s);return e.jsx(Dy,{...a,...r,ref:n})});mm.displayName=Uy;var qy="DropdownMenuItem",hm=l.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Nn(s);return e.jsx(My,{...a,...r,ref:n})});hm.displayName=qy;var Ky="DropdownMenuCheckboxItem",fm=l.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Nn(s);return e.jsx(Ay,{...a,...r,ref:n})});fm.displayName=Ky;var Gy="DropdownMenuRadioGroup",Xy=l.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Nn(s);return e.jsx(Oy,{...a,...r,ref:n})});Xy.displayName=Gy;var Jy="DropdownMenuRadioItem",pm=l.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Nn(s);return e.jsx(Ty,{...a,...r,ref:n})});pm.displayName=Jy;var Zy="DropdownMenuItemIndicator",Qy=l.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Nn(s);return e.jsx(Iy,{...a,...r,ref:n})});Qy.displayName=Zy;var e0="DropdownMenuSeparator",xm=l.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Nn(s);return e.jsx(Ly,{...a,...r,ref:n})});xm.displayName=e0;var t0="DropdownMenuArrow",n0=l.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Nn(s);return e.jsx(zy,{...a,...r,ref:n})});n0.displayName=t0;var s0="DropdownMenuSubTrigger",gm=l.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Nn(s);return e.jsx(Fy,{...a,...r,ref:n})});gm.displayName=s0;var r0="DropdownMenuSubContent",vm=l.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Nn(s);return e.jsx($y,{...a,...r,ref:n,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vm.displayName=r0;var a0=im,i0=om,l0=cm,jm=um,ym=mm,bm=hm,wm=fm,_m=pm,Nm=xm,Sm=gm,Cm=vm;const la=a0,oa=i0,o0=l.forwardRef(({className:t,inset:n,children:s,...r},a)=>e.jsx(Sm,{ref:a,className:K("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"ps-8",t),...r,children:s}));o0.displayName=Sm.displayName;const c0=l.forwardRef(({className:t,...n},s)=>e.jsx(Cm,{ref:s,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));c0.displayName=Cm.displayName;const Nr=l.forwardRef(({className:t,sideOffset:n=4,...s},r)=>e.jsx(l0,{children:e.jsx(jm,{ref:r,sideOffset:n,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));Nr.displayName=jm.displayName;const as=l.forwardRef(({className:t,inset:n,...s},r)=>e.jsx(bm,{ref:r,className:K("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"ps-8",t),...s}));as.displayName=bm.displayName;const d0=l.forwardRef(({className:t,children:n,checked:s,...r},a)=>e.jsx(wm,{ref:a,className:K("relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...r,children:n}));d0.displayName=wm.displayName;const u0=l.forwardRef(({className:t,children:n,...s},r)=>e.jsx(_m,{ref:r,className:K("relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:n}));u0.displayName=_m.displayName;const vl=l.forwardRef(({className:t,inset:n,...s},r)=>e.jsx(ym,{ref:r,className:K("px-2 py-1.5 text-sm font-semibold",n&&"ps-8",t),...s}));vl.displayName=ym.displayName;const qa=l.forwardRef(({className:t,...n},s)=>e.jsx(Nm,{ref:s,className:K("-mx-1 my-1 h-px bg-muted",t),...n}));qa.displayName=Nm.displayName;const km="pzl_language",m0=3600*24*30;function jl(t){if(!t)return"en";const n=String(t).toLowerCase().trim();return n.startsWith("en")||n==="english"?"en":n.startsWith("fa")||n==="persian"?"fa":"en"}function h0(t){try{document.cookie=`${km}=${t}; path=/; max-age=${m0}; SameSite=Lax`}catch{}}function tc(t){const n=jl(t),s=jl(typeof document<"u"?document.documentElement.getAttribute("lang"):null),r=(typeof document<"u"?document.documentElement.getAttribute("dir"):"ltr")??"ltr";typeof localStorage<"u"&&localStorage.setItem(km,n),h0(n);const a=typeof window<"u"?window.puzzlingcrm?.ajaxUrl:void 0,i=typeof window<"u"?window.puzzlingcrm?.nonce:void 0;if(a&&i){const c=new FormData;c.set("action","puzzling_save_user_preference"),c.set("nonce",i),c.set("preference","pzl_language"),c.set("value",n),fetch(a,{method:"POST",body:c}).catch(()=>{})}typeof document<"u"&&(document.documentElement.setAttribute("lang",n==="fa"?"fa":"en"),document.documentElement.setAttribute("dir",n==="fa"?"rtl":"ltr")),(n!==s||n==="fa"&&r!=="rtl"||n==="en"&&r!=="ltr")&&typeof window<"u"&&window.location.reload()}function ca(){return typeof document>"u"?"fa":jl(document.documentElement.getAttribute("lang"))}function f0(){if(!document.fullscreenElement&&!document.webkitFullscreenElement&&!document.mozFullScreenElement){const t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()}else document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen()}function p0(t){let n;if(t.url.startsWith("http"))try{n=new URL(t.url).pathname}catch{n=t.url}else n=t.url;return n.replace(/^\/dashboard\/?/,"")||"/"}function x0({user:t,profileMenu:n,loginUrl:s,logoutUrl:r,onOpenMobileMenu:a,isRtl:i}){const{setTheme:o,resolved:c}=Bp();return e.jsxs("header",{dir:i?"rtl":"ltr",className:"sticky top-0 z-40 flex h-14 w-full items-center gap-4 overflow-visible border-b bg-background px-4",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-4 overflow-hidden shrink",children:[a&&e.jsx(O,{variant:"ghost",size:"icon",className:"md:hidden",onClick:a,"aria-label":"Ù…Ù†Ùˆ",children:e.jsx(Zd,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative w-full max-w-sm",children:[e.jsx(Qg,{className:K("absolute top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground",i?"right-3":"left-3")}),e.jsx(ie,{type:"search",placeholder:"Ø¬Ø³ØªØ¬Ùˆ...",className:K(i?"pr-9":"pl-9")})]})]}),e.jsxs("div",{className:"flex flex-none shrink-0 items-center gap-2 overflow-visible",role:"toolbar","aria-label":"Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ù‡Ø¯Ø±",children:[e.jsx("a",{href:typeof window<"u"?window.puzzlingcrm?.siteUrl??"/":"/",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground","aria-label":"View Site",children:e.jsx(Tg,{className:"h-4 w-4"})}),e.jsxs(la,{children:[e.jsx(oa,{asChild:!0,children:e.jsx(O,{variant:"ghost",size:"icon","aria-label":"Ø²Ø¨Ø§Ù†",children:e.jsx(Wg,{className:"h-4 w-4"})})}),e.jsxs(Nr,{align:"end",children:[e.jsxs(as,{onClick:()=>tc("fa"),children:[e.jsx("span",{className:K("font-medium",i?"ml-2":"mr-2"),children:"FA"}),"ÙØ§Ø±Ø³ÛŒ"]}),e.jsxs(as,{onClick:()=>tc("en"),children:[e.jsx("span",{className:K("font-medium",i?"ml-2":"mr-2"),children:"EN"}),"English"]})]})]}),e.jsxs(la,{children:[e.jsx(oa,{asChild:!0,children:e.jsx(O,{variant:"ghost",size:"icon","aria-label":"Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§",children:e.jsx(Yd,{className:"h-4 w-4"})})}),e.jsxs(Nr,{align:"end",className:"w-72",children:[e.jsx(vl,{children:"Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§"}),e.jsx(qa,{}),e.jsx("div",{className:"py-4 text-center text-sm text-muted-foreground",children:"Ù…ÙˆØ±Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."})]})]}),e.jsx(O,{variant:"ghost",size:"icon",onClick:f0,"aria-label":"ØªÙ…Ø§Ù…â€ŒØµÙØ­Ù‡",children:e.jsx(Kg,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"icon",onClick:()=>o(c==="dark"?"light":"dark"),children:c==="dark"?e.jsx(sv,{className:"h-4 w-4"}):e.jsx(Gg,{className:"h-4 w-4"})}),e.jsxs(la,{children:[e.jsx(oa,{asChild:!0,children:e.jsx(O,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(Ca,{className:"h-8 w-8",children:[e.jsx(ka,{src:t?.avatar,alt:t?.name}),e.jsx(Ea,{children:t?.name?.slice(0,2)?.toUpperCase()??"U"})]})})}),e.jsxs(Nr,{align:"end",className:"w-56",children:[e.jsx(vl,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:t?.name??"User"}),e.jsx("span",{className:"text-xs font-normal text-muted-foreground",children:t?.role??""})]})}),e.jsx(qa,{}),n.map((d,u)=>e.jsx(as,{asChild:!0,children:e.jsxs(Vt,{to:p0(d),children:[e.jsx(Er,{className:K("h-4 w-4",i?"ml-2":"mr-2")}),d.title]})},`${d.url}-${d.title}-${u}`)),e.jsx(qa,{}),e.jsx(as,{asChild:!0,children:e.jsxs("a",{href:r??s,children:[e.jsx(qg,{className:K("h-4 w-4",i?"ml-2":"mr-2")}),"Ø®Ø±ÙˆØ¬"]})})]})]})]})]})}const Em=l.forwardRef(({...t},n)=>e.jsx("nav",{ref:n,"aria-label":"breadcrumb",...t}));Em.displayName="Breadcrumb";const Rm=l.forwardRef(({className:t,...n},s)=>e.jsx("ol",{ref:s,className:K("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...n}));Rm.displayName="BreadcrumbList";const yl=l.forwardRef(({className:t,...n},s)=>e.jsx("li",{ref:s,className:K("inline-flex items-center gap-1.5",t),...n}));yl.displayName="BreadcrumbItem";const Pm=l.forwardRef(({asChild:t,className:n,...s},r)=>{const a=t?tf:"a";return e.jsx(a,{ref:r,className:K("transition-colors hover:text-foreground",n),...s})});Pm.displayName="BreadcrumbLink";const Dm=l.forwardRef(({className:t,...n},s)=>e.jsx("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:K("font-normal text-foreground",t),...n}));Dm.displayName="BreadcrumbPage";const Mm=({children:t,className:n,...s})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:K("[&>svg]:w-3.5 [&>svg]:h-3.5",n),...s,children:t??e.jsx(Pr,{})});Mm.displayName="BreadcrumbSeparator";function Am(){const t=window.puzzlingcrm;if(!t?.ajaxUrl||!t?.nonce)throw new Error("PuzzlingCRM: ajaxUrl or nonce not found");return{ajaxUrl:t.ajaxUrl,nonce:t.nonce}}function Sr(){return window.puzzlingcrm?.i18n?.server_error??"Ø®Ø·Ø§ÛŒ Ø³Ø±ÙˆØ±"}async function Ma(t,n){try{const{ajaxUrl:s,nonce:r}=Am();n.set("action",t),n.set("security",r);const a=await fetch(s,{method:"POST",body:n,credentials:"same-origin"});let i;try{i=await a.json()}catch{return{success:!1,message:Sr()}}return a.ok?i:{success:!1,message:i.message??Sr()}}catch(s){return{success:!1,message:s instanceof Error?s.message:Sr()}}}async function de(t,n={}){try{const{ajaxUrl:s,nonce:r}=Am(),a=Object.entries(n).filter(([,d])=>d!==void 0&&d!=="").map(([d,u])=>[d,String(u)]),i=new URLSearchParams({action:t,security:r,...Object.fromEntries(a)}),o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i.toString(),credentials:"same-origin"});let c;try{c=await o.json()}catch{return{success:!1,message:Sr()}}return o.ok?c:{success:!1,message:c.message??Sr()}}catch(s){return{success:!1,message:s instanceof Error?s.message:Sr()}}}function pt(){return window.puzzlingcrm??null}class g0 extends l.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught:",n,s)}handleRetry=()=>{this.setState({hasError:!1,error:null})};handleRefresh=()=>{window.location.reload()};render(){return this.state.hasError?e.jsxs("div",{className:"flex min-h-[280px] flex-col items-center justify-center gap-4 rounded-lg border border-destructive/30 bg-destructive/5 p-8 text-center",children:[e.jsx(lv,{className:"h-12 w-12 text-destructive"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:this.state.error?.message??"ÛŒÚ© Ø®Ø·Ø§ÛŒ ØºÛŒØ±Ù…Ù†ØªØ¸Ø±Ù‡ Ø±Ø® Ø¯Ø§Ø¯."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{variant:"outline",onClick:this.handleRetry,children:"ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯"}),e.jsx(O,{onClick:this.handleRefresh,children:"Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¬Ø¯Ø¯ ØµÙØ­Ù‡"})]})]}):this.props.children}}const v0={dashboard:"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯",projects:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§",contracts:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§",invoices:"Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±Ù‡Ø§",tickets:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§",tasks:"ÙˆØ¸Ø§ÛŒÙ",appointments:"Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øªâ€ŒÙ‡Ø§",leads:"Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§",licenses:"Ù„Ø§ÛŒØ³Ù†Ø³â€ŒÙ‡Ø§",customers:"Ù…Ø´ØªØ±ÛŒØ§Ù†",staff:"Ú©Ø§Ø±Ú©Ù†Ø§Ù†",consultations:"Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§",reports:"Ú¯Ø²Ø§Ø±Ø´Ø§Øª","visitor-statistics":"Ø¢Ù…Ø§Ø± Ø¨Ø§Ø²Ø¯ÛŒØ¯",campaigns:"Ú©Ù…Ù¾ÛŒÙ†â€ŒÙ‡Ø§",services:"Ø®Ø¯Ù…Ø§Øª Ùˆ Ù…Ø­ØµÙˆÙ„Ø§Øª",logs:"Ù„Ø§Ú¯â€ŒÙ‡Ø§",settings:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª",profile:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ù†",accounting:"Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ","accounting/persons":"Ø§Ø´Ø®Ø§Øµ (Ø·Ø±Ùâ€ŒÙ‡Ø§ÛŒ Ø­Ø³Ø§Ø¨)","accounting/products":"Ú©Ø§Ù„Ø§ Ùˆ Ø®Ø¯Ù…Ø§Øª","accounting/chart":"Ù†Ù…ÙˆØ¯Ø§Ø± Ø­Ø³Ø§Ø¨â€ŒÙ‡Ø§","accounting/journals":"Ø§Ø³Ù†Ø§Ø¯ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ","accounting/ledger":"Ø¯ÙØªØ± Ú©Ù„ / Ù…Ø¹ÛŒÙ†","accounting/reports":"Ú¯Ø²Ø§Ø±Ø´Ø§Øª Ù…Ø§Ù„ÛŒ","accounting/fiscal-year":"Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ","accounting/settings":"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ","accounting-chart":"Ù†Ù…ÙˆØ¯Ø§Ø± Ø­Ø³Ø§Ø¨â€ŒÙ‡Ø§","accounting-journals":"Ø§Ø³Ù†Ø§Ø¯ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ","accounting-ledger":"Ø¯ÙØªØ± Ú©Ù„ / Ù…Ø¹ÛŒÙ†","accounting-reports":"Ú¯Ø²Ø§Ø±Ø´Ø§Øª Ù…Ø§Ù„ÛŒ","accounting-fiscal-year":"Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ","accounting-settings":"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ","accounting-persons":"Ø§Ø´Ø®Ø§Øµ (Ø·Ø±Ùâ€ŒÙ‡Ø§ÛŒ Ø­Ø³Ø§Ø¨)","accounting-products":"Ú©Ø§Ù„Ø§ Ùˆ Ø®Ø¯Ù…Ø§Øª"};function j0(){const n=Xn().pathname.replace(/^\/dashboard\/?/,"").replace(/^\//,"")||"dashboard";return v0[n]??n}function y0(){const t=pt(),n=Xn(),s=j0();if(!t)return e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})});const{user:r,menuItems:a,loginUrl:i,siteUrl:o,logoUrl:c,isRtl:d}=t,u=c??"";let h="PuzzlingCRM";if(o?.trim())try{h=new URL(o).hostname||h}catch{}const m=t.profileMenu??[{title:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ù†",url:"/dashboard/profile",icon:"user"}],x=d===!0,[p,v]=l.useState(!1);return e.jsxs("div",{className:"flex min-h-screen min-w-0 flex-col md:flex-row bg-background text-foreground",dir:x?"rtl":"ltr",children:[e.jsx(fv,{menuItems:a,logoUrl:u,siteName:h,mobileOpen:p,onMobileOpenChange:v,isRtl:x}),e.jsxs("div",{className:K("flex min-w-0 flex-1 flex-col overflow-visible",x&&"text-right"),dir:x?"rtl":"ltr",children:[e.jsx(x0,{user:r??null,profileMenu:m,loginUrl:i,logoutUrl:t.logoutUrl,onOpenMobileMenu:()=>v(!0),isRtl:x}),e.jsxs("main",{className:K("flex-1 overflow-auto p-4",x?"text-right":"text-left"),dir:x?"rtl":"ltr",children:[e.jsx(Em,{dir:x?"rtl":"ltr",className:"mb-4 [&_ol]:justify-start",children:e.jsxs(Rm,{children:[e.jsx(yl,{children:e.jsx(Pm,{asChild:!0,children:e.jsx(Vt,{to:"/",children:"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"})})}),e.jsx(Mm,{children:x?e.jsx(Gl,{className:"h-3.5 w-3.5"}):e.jsx(Pr,{className:"h-3.5 w-3.5"})}),e.jsx(yl,{children:e.jsx(Dm,{children:s})})]})}),e.jsx(g0,{children:e.jsx(ap,{},n.pathname)})]})]})]})}const Tt=l.forwardRef(({className:t,...n},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:K("w-full caption-bottom text-sm",t),...n})}));Tt.displayName="Table";const It=l.forwardRef(({className:t,...n},s)=>e.jsx("thead",{ref:s,className:K("[&_tr]:border-b",t),...n}));It.displayName="TableHeader";const Lt=l.forwardRef(({className:t,...n},s)=>e.jsx("tbody",{ref:s,className:K("[&_tr:last-child]:border-0",t),...n}));Lt.displayName="TableBody";const b0=l.forwardRef(({className:t,...n},s)=>e.jsx("tfoot",{ref:s,className:K("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n}));b0.displayName="TableFooter";const Ve=l.forwardRef(({className:t,...n},s)=>e.jsx("tr",{ref:s,className:K("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...n}));Ve.displayName="TableRow";const G=l.forwardRef(({className:t,...n},s)=>e.jsx("th",{ref:s,className:K("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n}));G.displayName="TableHead";const q=l.forwardRef(({className:t,...n},s)=>e.jsx("td",{ref:s,className:K("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n}));q.displayName="TableCell";const w0=l.forwardRef(({className:t,...n},s)=>e.jsx("caption",{ref:s,className:K("mt-4 text-sm text-muted-foreground",t),...n}));w0.displayName="TableCaption";const di=l.forwardRef(({className:t,value:n=0,max:s=100,...r},a)=>{const i=Math.min(100,Math.max(0,n/s*100));return e.jsx("div",{ref:a,role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":s,className:K("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...r,children:e.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${i}%`}})})});di.displayName="Progress";const _0=Sc("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500/15 text-green-700 dark:text-green-400",warning:"border-transparent bg-amber-500/15 text-amber-700 dark:text-amber-400"}},defaultVariants:{variant:"default"}});function vt({className:t,variant:n,...s}){return e.jsx("div",{className:K(_0({variant:n}),t),...s})}function xn({title:t,value:n,description:s,icon:r}){return e.jsxs(se,{children:[e.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(tt,{className:"text-sm font-medium",children:t}),e.jsx(r,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(re,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n}),s!=null&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s})]})]})}function bt(t,n){return n?t.toLocaleString("fa-IR"):t.toLocaleString()}function N0({data:t,labels:n,max:s}){const r=s??Math.max(...t,1);return e.jsx("div",{className:"flex h-[200px] items-end gap-1",children:t.map((a,i)=>e.jsxs("div",{className:"flex flex-1 flex-col items-center gap-1",children:[e.jsx("div",{className:"w-full min-h-[4px] rounded-t bg-primary transition-all",style:{height:`${a/r*100}%`}}),e.jsx("span",{className:"text-[10px] text-muted-foreground truncate max-w-full",title:n[i],children:n[i]})]},i))})}function S0({values:t,labels:n}){const s=t.reduce((i,o)=>i+o,0)||1,r=t.reduce((i,o,c)=>{const d=i.length?i[i.length-1].pct:0;return i.push({pct:d+o/s*100,color:["hsl(var(--primary))","#22c55e","#eab308"][c]||"#6b7280"}),i},[]),a=r.map((i,o)=>{const c=o===0?0:r[o-1].pct;return`${i.color} ${c}% ${i.pct}%`}).join(", ");return e.jsxs("div",{className:"flex h-[200px] flex-col items-center justify-center gap-2",children:[e.jsx("div",{className:"h-32 w-32 rounded-full",style:{background:`conic-gradient(from 0deg, ${a})`}}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 text-xs",children:n.map((i,o)=>e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"h-2 w-2 rounded-full",style:{background:["hsl(var(--primary))","#22c55e","#eab308"][o]||"#6b7280"}}),i,": ",bt(t[o])]},o))})]})}function C0(){const[t,n]=l.useState(null),[s,r]=l.useState(!0),i=pt()?.isRtl===!0;l.useEffect(()=>{let p=!1;return de("puzzlingcrm_get_dashboard_full",{}).then(v=>{p||v.success&&v.data&&n(v.data)}).finally(()=>{p||r(!1)}),()=>{p=!0}},[]);const o=t?.stats??{new_projects_this_month:0,new_projects_growth:0,completed_projects:0,in_progress_projects:0,pending_projects:0,total_tasks:0,completed_tasks:0,total_revenue:0,completion_rate:0},c=t?.team??[],d=t?.running_projects??[],u=t?.daily_tasks??[],h=t?.projects_table??[],m=t?.revenue_data??{values:[],labels:[]},x=t?.monthly_goals??{new_projects:0,completed:0,pending:0};return s?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(p=>e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})})},p))})}):e.jsxs("div",{className:"space-y-4",dir:i?"rtl":"ltr",children:[e.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx(se,{className:"overflow-hidden bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:e.jsx(re,{className:"flex flex-row items-center justify-between p-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsx("p",{className:"text-sm opacity-90",children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø§ ÛŒÚ© Ú©Ù„ÛŒÚ© Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯."}),e.jsx(O,{asChild:!0,size:"sm",className:"mt-2",variant:"secondary",children:e.jsxs(Vt,{to:"/projects",children:["Ù‡Ù…ÛŒÙ† Ø§Ù„Ø§Ù† Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯ ",e.jsx(Eg,{className:"h-4 w-4"})]})})]})})}),e.jsxs(se,{children:[e.jsxs(et,{className:"flex flex-row items-center justify-between",children:[e.jsx(tt,{children:"ØªÛŒÙ…"}),e.jsx(O,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(Vt,{to:"/staff",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡"})})]}),e.jsx(re,{className:"p-0",children:e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ù†Ø§Ù…"}),e.jsx(G,{children:"ÙˆØ¸Ø§ÛŒÙ"}),e.jsx(G,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(G,{children:"Ù¾ÛŒØ´Ø±ÙØª"}),e.jsx(G,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:c.length===0?e.jsx(Ve,{children:e.jsx(q,{colSpan:5,className:"text-center text-muted-foreground",children:"Ù…ÙˆØ±Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯"})}):c.map(p=>e.jsxs(Ve,{children:[e.jsx(q,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Ca,{className:"h-8 w-8",children:[e.jsx(ka,{src:p.avatar}),e.jsx(Ea,{children:p.name.slice(0,2)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:p.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:p.role})]})]})}),e.jsx(q,{children:bt(p.total_tasks,i)}),e.jsx(q,{children:e.jsx(vt,{variant:p.is_online?"default":"secondary",children:p.is_online?"Ø¢Ù†Ù„Ø§ÛŒÙ†":"Ø¢ÙÙ„Ø§ÛŒÙ†"})}),e.jsxs(q,{children:[bt(p.completed_tasks,i)," / ",bt(p.total_tasks,i)]}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(O,{variant:"ghost",size:"icon",children:e.jsx(Tr,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx("a",{href:`mailto:${p.id}`,children:e.jsx(nf,{className:"h-4 w-4"})})}),e.jsx(O,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(Vt,{to:`/staff?user=${p.id}`,children:e.jsx(ua,{className:"h-4 w-4"})})})]})})]},p.id))})]})})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-1",children:[e.jsx(xn,{title:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯",value:bt(o.new_projects_this_month??0,i),description:`${(o.new_projects_growth??0)>=0?"+":""}${bt(Math.round(o.new_projects_growth??0),i)}Ùª`,icon:Gn}),e.jsx(xn,{title:"ØªÚ©Ù…ÛŒÙ„â€ŒØ´Ø¯Ù‡",value:bt(o.completed_projects??0,i),icon:ha}),e.jsx(xn,{title:"Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…",value:bt(o.in_progress_projects??0,i),icon:Gn}),e.jsx(xn,{title:"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±",value:bt(o.pending_projects??0,i),icon:Bs})]})})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[e.jsxs(se,{className:"lg:col-span-2",children:[e.jsx(et,{children:e.jsx(tt,{children:"Ø¢Ù…Ø§Ø± Ù¾Ø±ÙˆÚ˜Ù‡"})}),e.jsxs(re,{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ Ø¯Ø±Ø¢Ù…Ø¯"}),e.jsx("p",{className:"text-xl font-bold",children:bt(o.total_revenue??0,i)})]})}),e.jsx(N0,{data:m.values,labels:m.labels})]})]}),e.jsxs(se,{children:[e.jsxs(et,{className:"flex flex-row items-center justify-between",children:[e.jsx(tt,{children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§"}),e.jsx(O,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(Vt,{to:"/projects",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡"})})]}),e.jsx(re,{children:d.length===0?e.jsx("p",{className:"text-center text-sm text-muted-foreground py-4",children:"Ù¾Ø±ÙˆÚ˜Ù‡ ÙØ¹Ø§Ù„ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯"}):e.jsx("div",{className:"space-y-4",children:d.map(p=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx(Vt,{to:`/projects/${p.id}`,className:"font-medium hover:underline",children:p.title}),e.jsxs("span",{className:"text-muted-foreground",children:[p.progress,"Ùª"]})]}),e.jsx(di,{value:p.progress})]},p.id))})})]})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[e.jsxs(se,{children:[e.jsxs(et,{className:"flex flex-row items-center justify-between",children:[e.jsx(tt,{children:"Ø§Ù‡Ø¯Ø§Ù Ù…Ø§Ù‡Ø§Ù†Ù‡"}),e.jsx(O,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(Vt,{to:"/reports",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡"})})]}),e.jsx(re,{children:e.jsx(S0,{values:[x.new_projects,x.completed,x.pending],labels:["Ø¬Ø¯ÛŒØ¯","ØªÚ©Ù…ÛŒÙ„â€ŒØ´Ø¯Ù‡","Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"]})})]}),e.jsxs(se,{className:"lg:col-span-2",children:[e.jsx(et,{children:e.jsx(tt,{children:"ÙˆØ¸Ø§ÛŒÙ Ø±ÙˆØ²Ø§Ù†Ù‡"})}),e.jsx(re,{children:u.length===0?e.jsx("p",{className:"text-center text-sm text-muted-foreground py-4",children:"ÙˆØ¸ÛŒÙÙ‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ù…Ø±ÙˆØ² ØªØ¹ÛŒÛŒÙ† Ù†Ø´Ø¯Ù‡"}):e.jsx("div",{className:"space-y-2",children:u.map(p=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:p.title}),p.project&&e.jsx(vt,{variant:"outline",className:"mt-1",children:p.project})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:p.due_time||p.due_date})]},p.id))})})]})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[e.jsxs(se,{className:"lg:col-span-2",children:[e.jsx(et,{children:e.jsx(tt,{children:"Ø®Ù„Ø§ØµÙ‡ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"})}),e.jsx(re,{className:"p-0",children:e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"#"}),e.jsx(G,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(G,{children:"ÙˆØ¸Ø§ÛŒÙ"}),e.jsx(G,{children:"Ù¾ÛŒØ´Ø±ÙØª"}),e.jsx(G,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(G,{children:"ØªØ§Ø±ÛŒØ®"}),e.jsx(G,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:h.length===0?e.jsx(Ve,{children:e.jsx(q,{colSpan:7,className:"text-center text-muted-foreground",children:"Ù…ÙˆØ±Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯"})}):h.map((p,v)=>e.jsxs(Ve,{children:[e.jsx(q,{children:bt(v+1,i)}),e.jsx(q,{className:"font-medium",children:p.title}),e.jsxs(q,{children:[bt(p.done_tasks,i)," / ",bt(p.total_tasks,i)]}),e.jsx(q,{children:e.jsx(di,{value:p.progress,className:"w-20"})}),e.jsx(q,{children:e.jsx(vt,{variant:"outline",children:p.status})}),e.jsx(q,{children:p.due_date||"-"}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(O,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(Vt,{to:`/projects/${p.id}`,children:e.jsx(ua,{className:"h-4 w-4"})})}),e.jsx(O,{variant:"ghost",size:"icon",children:e.jsx(_n,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"icon",children:e.jsx(gn,{className:"h-4 w-4"})})]})})]},p.id))})]})})]}),e.jsxs(se,{children:[e.jsxs(et,{className:"flex flex-row items-center justify-between",children:[e.jsx(tt,{children:"Ø®Ù„Ø§ØµÙ‡ ÙˆØ¸Ø§ÛŒÙ"}),e.jsx(O,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(Vt,{to:"/tasks",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡"})})]}),e.jsx(re,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù†Ø±Ø® ØªÚ©Ù…ÛŒÙ„"}),e.jsxs("p",{className:"text-2xl font-bold",children:[bt(Math.round(o.completion_rate??0),i),"Ùª"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡"}),e.jsx("span",{children:bt(o.completed_tasks??0,i)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…"}),e.jsx("span",{children:bt((o.total_tasks??0)-(o.completed_tasks??0),i)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Ù…Ø¹ÙˆÙ‚"}),e.jsx("span",{children:bt(o.overdue_tasks??0,i)})]})]})]})})]})]})]})}function k0(){const[t,n]=l.useState(null),[s,r]=l.useState(!0),i=pt()?.isRtl===!0;l.useEffect(()=>{let c=!1;return de("puzzlingcrm_get_team_member_stats",{}).then(d=>{c||d.success&&d.data&&n(d.data)}).finally(()=>{c||r(!1)}),()=>{c=!0}},[]);const o=t??{total_tasks:0,completed_tasks:0,in_progress_tasks:0,overdue_tasks:0,total_projects:0,completion_rate:0,open_tickets:0};return s?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(c=>e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})})},c))}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",dir:i?"rtl":"ltr",children:[e.jsx(xn,{title:"ÙˆØ¸Ø§ÛŒÙ Ù…Ù†",value:bt(o.total_tasks,i),description:o.completion_rate!=null?`${bt(Math.round(o.completion_rate),i)}Ùª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡`:void 0,icon:Bs}),e.jsx(xn,{title:"ÙˆØ¸Ø§ÛŒÙ Ø§Ù†Ø¬Ø§Ù…â€ŒØ´Ø¯Ù‡",value:bt(o.completed_tasks,i),icon:ha}),e.jsx(xn,{title:"ÙˆØ¸Ø§ÛŒÙ Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…",value:bt(o.in_progress_tasks,i),icon:Gn}),e.jsx(xn,{title:"ÙˆØ¸Ø§ÛŒÙ Ù…Ø¹ÙˆÙ‚",value:bt(o.overdue_tasks,i),icon:Bs}),e.jsx(xn,{title:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù†",value:bt(o.total_projects,i),icon:Gn}),e.jsx(xn,{title:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²",value:bt(o.open_tickets,i),icon:Xl})]})}function E0(){const[t,n]=l.useState(null),[s,r]=l.useState(!0),i=pt()?.isRtl===!0;l.useEffect(()=>{let c=!1;return de("puzzlingcrm_get_client_stats",{}).then(d=>{c||d.success&&d.data&&n(d.data)}).finally(()=>{c||r(!1)}),()=>{c=!0}},[]);const o=t??{total_projects:0,active_projects:0,open_tickets:0,total_contracts:0,total_value:0,paid_amount:0,pending_amount:0};return s?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(c=>e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})})},c))}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",dir:i?"rtl":"ltr",children:[e.jsx(xn,{title:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù†",value:bt(o.total_projects,i),description:o.active_projects!=null?`${bt(o.active_projects,i)} ÙØ¹Ø§Ù„`:void 0,icon:Gn}),e.jsx(xn,{title:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§",value:bt(o.total_contracts,i),icon:ha}),e.jsx(xn,{title:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²",value:bt(o.open_tickets,i),icon:Xl}),e.jsx(xn,{title:"Ù…Ø¨Ù„Øº Ú©Ù„ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§",value:bt(o.total_value,i),icon:iv}),e.jsx(xn,{title:"Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒØ´Ø¯Ù‡",value:bt(o.paid_amount,i),icon:ha}),e.jsx(xn,{title:"Ù…Ø§Ù†Ø¯Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª",value:bt(o.pending_amount,i),icon:Bs})]})}function R0(){const t=pt(),n=t?.user?.roleSlug??"client",s=t?.isRtl===!0;return e.jsxs("div",{className:"space-y-4",dir:s?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"}),n==="system_manager"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(zg,{className:"h-4 w-4"})," ÙÛŒÙ„ØªØ±"]}),e.jsxs(O,{size:"sm",children:[e.jsx(ev,{className:"h-4 w-4"})," Ø§Ø´ØªØ±Ø§Ú©"]})]})]}),n==="system_manager"&&e.jsx(C0,{}),n==="team_member"&&e.jsx(k0,{}),(n==="client"||n==="finance_manager"||!n)&&e.jsx(E0,{})]})}const dn=Yl,P0=Wl,Om=l.forwardRef(({className:t,...n},s)=>e.jsx(wa,{ref:s,className:K("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n}));Om.displayName=wa.displayName;const sn=l.forwardRef(({className:t,children:n,showClose:s=!0,...r},a)=>e.jsxs(P0,{children:[e.jsx(Om,{}),e.jsxs(_a,{ref:a,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[n,s&&e.jsxs(Bl,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(dv,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sn.displayName=_a.displayName;const rn=({className:t,...n})=>e.jsx("div",{className:K("flex flex-col space-y-1.5 text-center sm:text-left",t),...n});rn.displayName="DialogHeader";const un=({className:t,...n})=>e.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});un.displayName="DialogFooter";const an=l.forwardRef(({className:t,...n},s)=>e.jsx(Na,{ref:s,className:K("text-lg font-semibold leading-none tracking-tight",t),...n}));an.displayName=Na.displayName;const D0=l.forwardRef(({className:t,...n},s)=>e.jsx(Sa,{ref:s,className:K("text-sm text-muted-foreground",t),...n}));D0.displayName=Sa.displayName;function M0(t){const n=A0(t),s=l.forwardRef((r,a)=>{const{children:i,...o}=r,c=l.Children.toArray(i),d=c.find(T0);if(d){const u=d.props.children,h=c.map(m=>m===d?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:m);return e.jsx(n,{...o,ref:a,children:l.isValidElement(u)?l.cloneElement(u,void 0,h):null})}return e.jsx(n,{...o,ref:a,children:i})});return s.displayName=`${t}.Slot`,s}function A0(t){const n=l.forwardRef((s,r)=>{const{children:a,...i}=s;if(l.isValidElement(a)){const o=L0(a),c=I0(i,a.props);return a.type!==l.Fragment&&(c.ref=r?va(r,o):o),l.cloneElement(a,c)}return l.Children.count(a)>1?l.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var O0=Symbol("radix.slottable");function T0(t){return l.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===O0}function I0(t,n){const s={...n};for(const r in n){const a=t[r],i=n[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...t,...s}}function L0(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function z0(t){const n=l.useRef({value:t,previous:t});return l.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var Tm=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),F0="VisuallyHidden",$0=l.forwardRef((t,n)=>e.jsx(ut.span,{...t,ref:n,style:{...Tm,...t.style}}));$0.displayName=F0;var V0=[" ","Enter","ArrowUp","ArrowDown"],Y0=[" ","Enter"],ar="Select",[Ai,Oi,W0]=kc(ar),[zr]=lr(ar,[W0,Ri]),Ti=Ri(),[B0,Gs]=zr(ar),[H0,U0]=zr(ar),Im=t=>{const{__scopeSelect:n,children:s,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:c,onValueChange:d,dir:u,name:h,autoComplete:m,disabled:x,required:p,form:v}=t,g=Ti(n),[f,_]=l.useState(null),[j,y]=l.useState(null),[N,E]=l.useState(!1),I=kl(u),[S,D]=Xa({prop:r,defaultProp:a??!1,onChange:i,caller:ar}),[P,F]=Xa({prop:o,defaultProp:c,onChange:d,caller:ar}),M=l.useRef(null),U=f?v||!!f.closest("form"):!0,[oe,V]=l.useState(new Set),k=Array.from(oe).map(L=>L.props.value).join(";");return e.jsx(Mu,{...g,children:e.jsxs(B0,{required:p,scope:n,trigger:f,onTriggerChange:_,valueNode:j,onValueNodeChange:y,valueNodeHasChildren:N,onValueNodeHasChildrenChange:E,contentId:Vs(),value:P,onValueChange:F,open:S,onOpenChange:D,dir:I,triggerPointerDownPosRef:M,disabled:x,children:[e.jsx(Ai.Provider,{scope:n,children:e.jsx(H0,{scope:t.__scopeSelect,onNativeOptionAdd:l.useCallback(L=>{V(le=>new Set(le).add(L))},[]),onNativeOptionRemove:l.useCallback(L=>{V(le=>{const J=new Set(le);return J.delete(L),J})},[]),children:s})}),U?e.jsxs(ih,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:m,value:P,onChange:L=>F(L.target.value),disabled:x,form:v,children:[P===void 0?e.jsx("option",{value:""}):null,Array.from(oe)]},k):null]})})};Im.displayName=ar;var Lm="SelectTrigger",zm=l.forwardRef((t,n)=>{const{__scopeSelect:s,disabled:r=!1,...a}=t,i=Ti(s),o=Gs(Lm,s),c=o.disabled||r,d=wt(n,o.onTriggerChange),u=Oi(s),h=l.useRef("touch"),[m,x,p]=oh(g=>{const f=u().filter(y=>!y.disabled),_=f.find(y=>y.value===o.value),j=ch(f,g,_);j!==void 0&&o.onValueChange(j.value)}),v=g=>{c||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return e.jsx(Au,{asChild:!0,...i,children:e.jsx(ut.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":lh(o.value)?"":void 0,...a,ref:d,onClick:Re(a.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&v(g)}),onPointerDown:Re(a.onPointerDown,g=>{h.current=g.pointerType;const f=g.target;f.hasPointerCapture(g.pointerId)&&f.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Re(a.onKeyDown,g=>{const f=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&x(g.key),!(f&&g.key===" ")&&V0.includes(g.key)&&(v(),g.preventDefault())})})})});zm.displayName=Lm;var Fm="SelectValue",$m=l.forwardRef((t,n)=>{const{__scopeSelect:s,className:r,style:a,children:i,placeholder:o="",...c}=t,d=Gs(Fm,s),{onValueNodeHasChildrenChange:u}=d,h=i!==void 0,m=wt(n,d.onValueNodeChange);return vn(()=>{u(h)},[u,h]),e.jsx(ut.span,{...c,ref:m,style:{pointerEvents:"none"},children:lh(d.value)?e.jsx(e.Fragment,{children:o}):i})});$m.displayName=Fm;var q0="SelectIcon",Vm=l.forwardRef((t,n)=>{const{__scopeSelect:s,children:r,...a}=t;return e.jsx(ut.span,{"aria-hidden":!0,...a,ref:n,children:r||"â–¼"})});Vm.displayName=q0;var K0="SelectPortal",Ym=t=>e.jsx(ji,{asChild:!0,...t});Ym.displayName=K0;var ir="SelectContent",Wm=l.forwardRef((t,n)=>{const s=Gs(ir,t.__scopeSelect),[r,a]=l.useState();if(vn(()=>{a(new DocumentFragment)},[]),!s.open){const i=r;return i?Rl.createPortal(e.jsx(Bm,{scope:t.__scopeSelect,children:e.jsx(Ai.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(Hm,{...t,ref:n})});Wm.displayName=ir;var rs=10,[Bm,Xs]=zr(ir),G0="SelectContentImpl",X0=M0("SelectContent.RemoveScroll"),Hm=l.forwardRef((t,n)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:d,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:x,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:f,..._}=t,j=Gs(ir,s),[y,N]=l.useState(null),[E,I]=l.useState(null),S=wt(n,b=>N(b)),[D,P]=l.useState(null),[F,M]=l.useState(null),U=Oi(s),[oe,V]=l.useState(!1),k=l.useRef(!1);l.useEffect(()=>{if(y)return zl(y)},[y]),Ll();const L=l.useCallback(b=>{const[$,...A]=U().map(ot=>ot.ref.current),[ae]=A.slice(-1),ke=document.activeElement;for(const ot of b)if(ot===ke||(ot?.scrollIntoView({block:"nearest"}),ot===$&&E&&(E.scrollTop=0),ot===ae&&E&&(E.scrollTop=E.scrollHeight),ot?.focus(),document.activeElement!==ke))return},[U,E]),le=l.useCallback(()=>L([D,y]),[L,D,y]);l.useEffect(()=>{oe&&le()},[oe,le]);const{onOpenChange:J,triggerPointerDownPosRef:Z}=j;l.useEffect(()=>{if(y){let b={x:0,y:0};const $=ae=>{b={x:Math.abs(Math.round(ae.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(ae.pageY)-(Z.current?.y??0))}},A=ae=>{b.x<=10&&b.y<=10?ae.preventDefault():y.contains(ae.target)||J(!1),document.removeEventListener("pointermove",$),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",$),document.addEventListener("pointerup",A,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",A,{capture:!0})}}},[y,J,Z]),l.useEffect(()=>{const b=()=>J(!1);return window.addEventListener("blur",b),window.addEventListener("resize",b),()=>{window.removeEventListener("blur",b),window.removeEventListener("resize",b)}},[J]);const[Ne,W]=oh(b=>{const $=U().filter(ke=>!ke.disabled),A=$.find(ke=>ke.ref.current===document.activeElement),ae=ch($,b,A);ae&&setTimeout(()=>ae.ref.current.focus())}),he=l.useCallback((b,$,A)=>{const ae=!k.current&&!A;(j.value!==void 0&&j.value===$||ae)&&(P(b),ae&&(k.current=!0))},[j.value]),Qe=l.useCallback(()=>y?.focus(),[y]),We=l.useCallback((b,$,A)=>{const ae=!k.current&&!A;(j.value!==void 0&&j.value===$||ae)&&M(b)},[j.value]),Pe=r==="popper"?bl:Um,R=Pe===bl?{side:c,sideOffset:d,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:x,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:f}:{};return e.jsx(Bm,{scope:s,content:y,viewport:E,onViewportChange:I,itemRefCallback:he,selectedItem:D,onItemLeave:Qe,itemTextRefCallback:We,focusSelectedItem:le,selectedItemText:F,position:r,isPositioned:oe,searchRef:Ne,children:e.jsx(bi,{as:X0,allowPinchZoom:!0,children:e.jsx(vi,{asChild:!0,trapped:j.open,onMountAutoFocus:b=>{b.preventDefault()},onUnmountAutoFocus:Re(a,b=>{j.trigger?.focus({preventScroll:!0}),b.preventDefault()}),children:e.jsx(gi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:b=>b.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:e.jsx(Pe,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:b=>b.preventDefault(),..._,...R,onPlaced:()=>V(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Re(_.onKeyDown,b=>{const $=b.ctrlKey||b.altKey||b.metaKey;if(b.key==="Tab"&&b.preventDefault(),!$&&b.key.length===1&&W(b.key),["ArrowUp","ArrowDown","Home","End"].includes(b.key)){let ae=U().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(b.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(b.key)){const ke=b.target,ot=ae.indexOf(ke);ae=ae.slice(ot+1)}setTimeout(()=>L(ae)),b.preventDefault()}})})})})})})});Hm.displayName=G0;var J0="SelectItemAlignedPosition",Um=l.forwardRef((t,n)=>{const{__scopeSelect:s,onPlaced:r,...a}=t,i=Gs(ir,s),o=Xs(ir,s),[c,d]=l.useState(null),[u,h]=l.useState(null),m=wt(n,S=>h(S)),x=Oi(s),p=l.useRef(!1),v=l.useRef(!0),{viewport:g,selectedItem:f,selectedItemText:_,focusSelectedItem:j}=o,y=l.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&g&&f&&_){const S=i.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),F=_.getBoundingClientRect();if(i.dir!=="rtl"){const ke=F.left-D.left,ot=P.left-ke,jt=S.left-ot,rt=S.width+jt,it=Math.max(rt,D.width),Qt=window.innerWidth-rs,qt=hl(ot,[rs,Math.max(rs,Qt-it)]);c.style.minWidth=rt+"px",c.style.left=qt+"px"}else{const ke=D.right-F.right,ot=window.innerWidth-P.right-ke,jt=window.innerWidth-S.right-ot,rt=S.width+jt,it=Math.max(rt,D.width),Qt=window.innerWidth-rs,qt=hl(ot,[rs,Math.max(rs,Qt-it)]);c.style.minWidth=rt+"px",c.style.right=qt+"px"}const M=x(),U=window.innerHeight-rs*2,oe=g.scrollHeight,V=window.getComputedStyle(u),k=parseInt(V.borderTopWidth,10),L=parseInt(V.paddingTop,10),le=parseInt(V.borderBottomWidth,10),J=parseInt(V.paddingBottom,10),Z=k+L+oe+J+le,Ne=Math.min(f.offsetHeight*5,Z),W=window.getComputedStyle(g),he=parseInt(W.paddingTop,10),Qe=parseInt(W.paddingBottom,10),We=S.top+S.height/2-rs,Pe=U-We,R=f.offsetHeight/2,b=f.offsetTop+R,$=k+L+b,A=Z-$;if($<=We){const ke=M.length>0&&f===M[M.length-1].ref.current;c.style.bottom="0px";const ot=u.clientHeight-g.offsetTop-g.offsetHeight,jt=Math.max(Pe,R+(ke?Qe:0)+ot+le),rt=$+jt;c.style.height=rt+"px"}else{const ke=M.length>0&&f===M[0].ref.current;c.style.top="0px";const jt=Math.max(We,k+g.offsetTop+(ke?he:0)+R)+A;c.style.height=jt+"px",g.scrollTop=$-We+g.offsetTop}c.style.margin=`${rs}px 0`,c.style.minHeight=Ne+"px",c.style.maxHeight=U+"px",r?.(),requestAnimationFrame(()=>p.current=!0)}},[x,i.trigger,i.valueNode,c,u,g,f,_,i.dir,r]);vn(()=>y(),[y]);const[N,E]=l.useState();vn(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const I=l.useCallback(S=>{S&&v.current===!0&&(y(),j?.(),v.current=!1)},[y,j]);return e.jsx(Q0,{scope:s,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:I,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:e.jsx(ut.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Um.displayName=J0;var Z0="SelectPopperPosition",bl=l.forwardRef((t,n)=>{const{__scopeSelect:s,align:r="start",collisionPadding:a=rs,...i}=t,o=Ti(s);return e.jsx(Ou,{...o,...i,ref:n,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bl.displayName=Z0;var[Q0,xo]=zr(ir,{}),wl="SelectViewport",qm=l.forwardRef((t,n)=>{const{__scopeSelect:s,nonce:r,...a}=t,i=Xs(wl,s),o=xo(wl,s),c=wt(n,i.onViewportChange),d=l.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(Ai.Slot,{scope:s,children:e.jsx(ut.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Re(a.onScroll,u=>{const h=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=o;if(x?.current&&m){const p=Math.abs(d.current-h.scrollTop);if(p>0){const v=window.innerHeight-rs*2,g=parseFloat(m.style.minHeight),f=parseFloat(m.style.height),_=Math.max(g,f);if(_<v){const j=_+p,y=Math.min(v,j),N=j-y;m.style.height=y+"px",m.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});qm.displayName=wl;var Km="SelectGroup",[eb,tb]=zr(Km),nb=l.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t,a=Vs();return e.jsx(eb,{scope:s,id:a,children:e.jsx(ut.div,{role:"group","aria-labelledby":a,...r,ref:n})})});nb.displayName=Km;var Gm="SelectLabel",Xm=l.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t,a=tb(Gm,s);return e.jsx(ut.div,{id:a.id,...r,ref:n})});Xm.displayName=Gm;var ui="SelectItem",[sb,Jm]=zr(ui),Zm=l.forwardRef((t,n)=>{const{__scopeSelect:s,value:r,disabled:a=!1,textValue:i,...o}=t,c=Gs(ui,s),d=Xs(ui,s),u=c.value===r,[h,m]=l.useState(i??""),[x,p]=l.useState(!1),v=wt(n,j=>d.itemRefCallback?.(j,r,a)),g=Vs(),f=l.useRef("touch"),_=()=>{a||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(sb,{scope:s,value:r,disabled:a,textId:g,isSelected:u,onItemTextChange:l.useCallback(j=>{m(y=>y||(j?.textContent??"").trim())},[]),children:e.jsx(Ai.ItemSlot,{scope:s,value:r,disabled:a,textValue:h,children:e.jsx(ut.div,{role:"option","aria-labelledby":g,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:Re(o.onFocus,()=>p(!0)),onBlur:Re(o.onBlur,()=>p(!1)),onClick:Re(o.onClick,()=>{f.current!=="mouse"&&_()}),onPointerUp:Re(o.onPointerUp,()=>{f.current==="mouse"&&_()}),onPointerDown:Re(o.onPointerDown,j=>{f.current=j.pointerType}),onPointerMove:Re(o.onPointerMove,j=>{f.current=j.pointerType,a?d.onItemLeave?.():f.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(o.onPointerLeave,j=>{j.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Re(o.onKeyDown,j=>{d.searchRef?.current!==""&&j.key===" "||(Y0.includes(j.key)&&_(),j.key===" "&&j.preventDefault())})})})})});Zm.displayName=ui;var ia="SelectItemText",Qm=l.forwardRef((t,n)=>{const{__scopeSelect:s,className:r,style:a,...i}=t,o=Gs(ia,s),c=Xs(ia,s),d=Jm(ia,s),u=U0(ia,s),[h,m]=l.useState(null),x=wt(n,_=>m(_),d.onItemTextChange,_=>c.itemTextRefCallback?.(_,d.value,d.disabled)),p=h?.textContent,v=l.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:p},d.value),[d.disabled,d.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:f}=u;return vn(()=>(g(v),()=>f(v)),[g,f,v]),e.jsxs(e.Fragment,{children:[e.jsx(ut.span,{id:d.textId,...i,ref:x}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Rl.createPortal(i.children,o.valueNode):null]})});Qm.displayName=ia;var eh="SelectItemIndicator",th=l.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t;return Jm(eh,s).isSelected?e.jsx(ut.span,{"aria-hidden":!0,...r,ref:n}):null});th.displayName=eh;var _l="SelectScrollUpButton",nh=l.forwardRef((t,n)=>{const s=Xs(_l,t.__scopeSelect),r=xo(_l,t.__scopeSelect),[a,i]=l.useState(!1),o=wt(n,r.onScrollButtonChange);return vn(()=>{if(s.viewport&&s.isPositioned){let c=function(){const u=d.scrollTop>0;i(u)};const d=s.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),a?e.jsx(rh,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=s;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});nh.displayName=_l;var Nl="SelectScrollDownButton",sh=l.forwardRef((t,n)=>{const s=Xs(Nl,t.__scopeSelect),r=xo(Nl,t.__scopeSelect),[a,i]=l.useState(!1),o=wt(n,r.onScrollButtonChange);return vn(()=>{if(s.viewport&&s.isPositioned){let c=function(){const u=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<u;i(h)};const d=s.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),a?e.jsx(rh,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=s;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});sh.displayName=Nl;var rh=l.forwardRef((t,n)=>{const{__scopeSelect:s,onAutoScroll:r,...a}=t,i=Xs("SelectScrollButton",s),o=l.useRef(null),c=Oi(s),d=l.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return l.useEffect(()=>()=>d(),[d]),vn(()=>{c().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(ut.div,{"aria-hidden":!0,...a,ref:n,style:{flexShrink:0,...a.style},onPointerDown:Re(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Re(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Re(a.onPointerLeave,()=>{d()})})}),rb="SelectSeparator",ah=l.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t;return e.jsx(ut.div,{"aria-hidden":!0,...r,ref:n})});ah.displayName=rb;var Sl="SelectArrow",ab=l.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t,a=Ti(s),i=Gs(Sl,s),o=Xs(Sl,s);return i.open&&o.position==="popper"?e.jsx(Tu,{...a,...r,ref:n}):null});ab.displayName=Sl;var ib="SelectBubbleInput",ih=l.forwardRef(({__scopeSelect:t,value:n,...s},r)=>{const a=l.useRef(null),i=wt(r,a),o=z0(n);return l.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==n&&h){const m=new Event("change",{bubbles:!0});h.call(c,n),c.dispatchEvent(m)}},[o,n]),e.jsx(ut.select,{...s,style:{...Tm,...s.style},ref:i,defaultValue:n})});ih.displayName=ib;function lh(t){return t===""||t===void 0}function oh(t){const n=cn(t),s=l.useRef(""),r=l.useRef(0),a=l.useCallback(o=>{const c=s.current+o;n(c),(function d(u){s.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[n]),i=l.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,i]}function ch(t,n,s){const a=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,i=s?t.indexOf(s):-1;let o=lb(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==s));const d=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==s?d:void 0}function lb(t,n){return t.map((s,r)=>t[(n+r)%t.length])}var ob=Im,dh=zm,cb=$m,db=Vm,ub=Ym,uh=Wm,mb=qm,mh=Xm,hh=Zm,hb=Qm,fb=th,fh=nh,ph=sh,xh=ah;const ze=ob,Fe=cb,Ae=l.forwardRef(({className:t,children:n,...s},r)=>e.jsxs(dh,{ref:r,className:K("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[n,e.jsx(db,{asChild:!0,children:e.jsx(Ud,{className:"h-4 w-4 opacity-50"})})]}));Ae.displayName=dh.displayName;const gh=l.forwardRef(({className:t,...n},s)=>e.jsx(fh,{ref:s,className:K("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(Mg,{className:"h-4 w-4"})}));gh.displayName=fh.displayName;const vh=l.forwardRef(({className:t,...n},s)=>e.jsx(ph,{ref:s,className:K("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(Ud,{className:"h-4 w-4"})}));vh.displayName=ph.displayName;const Oe=l.forwardRef(({className:t,children:n,position:s="popper",...r},a)=>e.jsx(ub,{children:e.jsxs(uh,{ref:a,className:K("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...r,children:[e.jsx(gh,{}),e.jsx(mb,{className:K("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(vh,{})]})}));Oe.displayName=uh.displayName;const pb=l.forwardRef(({className:t,...n},s)=>e.jsx(mh,{ref:s,className:K("px-2 py-1.5 text-sm font-semibold",t),...n}));pb.displayName=mh.displayName;const ce=l.forwardRef(({className:t,children:n,value:s,...r},a)=>e.jsxs(hh,{ref:a,className:K("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),value:s===""?"__empty__":s,...r,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(fb,{children:e.jsx(Dg,{className:"h-4 w-4"})})}),e.jsx(hb,{children:n})]}));ce.displayName=hh.displayName;const xb=l.forwardRef(({className:t,...n},s)=>e.jsx(xh,{ref:s,className:K("-mx-1 my-1 h-px bg-muted",t),...n}));xb.displayName=xh.displayName;async function gb(t){return await de("puzzling_get_leads",t)}async function vb(t){const n={first_name:t.first_name,last_name:t.last_name,mobile:t.mobile};return t.email?.trim()&&(n.email=t.email.trim()),t.business_name?.trim()&&(n.business_name=t.business_name.trim()),t.gender?.trim()&&(n.gender=t.gender.trim()),t.notes?.trim()&&(n.notes=t.notes.trim()),t.lead_source?.trim()&&(n.lead_source=t.lead_source.trim()),t.campaign_id!=null&&t.campaign_id>0&&(n.campaign_id=t.campaign_id),de("puzzling_add_lead",n)}async function jb(t,n,s){const r={lead_id:t,assigned_to:n};return s?.trim()&&(r.note=s.trim()),de("puzzling_assign_lead",r)}async function yb(t){return de("puzzlingcrm_get_lead_assignees",{search:""})}async function bb(t){return de("puzzlingcrm_get_lead_for_contract",{lead_id:t})}async function wb(t){return de("puzzlingcrm_create_customer_from_lead",{lead_id:t})}const _b={new:"secondary",assigned:"default","in-progress":"outline",contracted:"default",converted:"default",cancelled:"destructive"};function nc({slug:t,name:n}){const s=_b[t]??"secondary";return e.jsx(vt,{variant:s,children:n})}function Nb(){const n=pt()?.isRtl===!0,s=As(),[r,a]=l.useState([]),[i,o]=l.useState(0),[c,d]=l.useState([]),[u,h]=l.useState([]),[m,x]=l.useState([]),[p,v]=l.useState(!0),[g,f]=l.useState(null),[_,j]=l.useState(!1),[y,N]=l.useState(!1),[E,I]=l.useState({first_name:"",last_name:"",mobile:"",email:"",business_name:"",gender:"",notes:"",lead_source:"",campaign_id:0}),[S,D]=l.useState(""),[P,F]=l.useState(null),[M,U]=l.useState(0),[oe,V]=l.useState(""),[k,L]=l.useState(!1),[le,J]=l.useState([]),[Z,Ne]=l.useState(!1),[W,he]=l.useState(null),Qe=async()=>{v(!0),f(null);try{const b=await gb({paged:1,per_page:20,status_filter:S||void 0});if(b.success&&b.data){const $=b.data;a($.leads),o($.total),d($.statuses??[]),h($.lead_sources??[]),x($.campaigns??[])}else f(b.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§")}catch{f("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§")}finally{v(!1)}};l.useEffect(()=>{Qe()},[S]);const We=async()=>{Ne(!0);try{const b=await yb();b.success&&b.data?.users&&J(b.data.users)}finally{Ne(!1)}};l.useEffect(()=>{P&&(We(),U(P.assigned_to??0),V(""))},[P]);const Pe=async b=>{if(b.preventDefault(),!E.first_name.trim()||!E.last_name.trim()||!E.mobile.trim()){f("Ù†Ø§Ù…ØŒ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ùˆ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¶Ø±ÙˆØ±ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}N(!0),f(null);const $=await vb({first_name:E.first_name.trim(),last_name:E.last_name.trim(),mobile:E.mobile.trim(),email:E.email.trim()||void 0,business_name:E.business_name.trim()||void 0,gender:E.gender||void 0,notes:E.notes.trim()||void 0,lead_source:E.lead_source.trim()||void 0,campaign_id:E.campaign_id>0?E.campaign_id:void 0});N(!1),$.success?(j(!1),I({first_name:"",last_name:"",mobile:"",email:"",business_name:"",gender:"",notes:"",lead_source:"",campaign_id:0}),Qe()):f($.message??"Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ø³Ø±Ù†Ø®")},R=async b=>{if(b.preventDefault(),!P)return;L(!0),f(null);const $=await jb(P.id,M,oe||void 0);L(!1),$.success?(F(null),Qe()):f($.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø¬Ø§Ø¹")};return e.jsxs("div",{className:K("space-y-4",n&&"text-right"),dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§"}),e.jsxs(O,{onClick:()=>j(!0),children:[e.jsx(jn,{className:"h-4 w-4 ml-2"}),"Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø±Ù†Ø®"]})]}),g&&e.jsx(Rn,{variant:"destructive",children:e.jsx(Pn,{children:g})}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs(tt,{children:["Ù„ÛŒØ³Øª Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§ ",i>0?`(${i})`:"",c.length>0?` Â· ${c.length} ÙˆØ¶Ø¹ÛŒØª`:""]}),c.length>0&&e.jsxs(ze,{value:S||"_all",onValueChange:b=>D(b==="_all"?"":b),children:[e.jsx(Ae,{className:"w-40",children:e.jsx(Fe,{placeholder:"Ù‡Ù…Ù‡ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:"_all",children:"Ù‡Ù…Ù‡ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§"}),c.map(b=>e.jsx(ce,{value:b.slug,children:b.name},b.slug))]})]})]})}),e.jsx(re,{children:p?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ù†Ø§Ù…"}),e.jsx(G,{children:"Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(G,{children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(G,{children:"Ù…Ù†Ø¨Ø¹"}),e.jsx(G,{children:"Ø§Ø±Ø¬Ø§Ø¹ Ø¨Ù‡"}),e.jsx(G,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(G,{children:"ØªØ§Ø±ÛŒØ®"}),e.jsx(G,{className:"w-24",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:r.length===0?e.jsx(Ve,{children:e.jsx(q,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"Ø³Ø±Ù†Ø®ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."})}):r.map(b=>e.jsxs(Ve,{children:[e.jsxs(q,{className:"font-medium",children:[b.first_name," ",b.last_name]}),e.jsx(q,{dir:"ltr",children:b.mobile}),e.jsx(q,{dir:"ltr",children:b.email||"â€”"}),e.jsx(q,{children:b.lead_source_name||"â€”"}),e.jsx(q,{children:b.assigned_to_name||"â€”"}),e.jsx(q,{children:e.jsx(nc,{slug:b.status_slug,name:b.status_name})}),e.jsx(q,{children:b.date}),e.jsx(q,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>he(b),title:"Ù…Ø´Ø§Ù‡Ø¯Ù‡",children:e.jsx(ua,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>F(b),title:"Ø§Ø±Ø¬Ø§Ø¹",children:e.jsx(Tr,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>s(`/contracts?action=new&from_lead=${b.id}`),title:"Ø§ÛŒØ¬Ø§Ø¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯",children:e.jsx(Un,{className:"h-4 w-4"})})]})})]},b.id))})]})})]}),e.jsx(dn,{open:_,onOpenChange:j,children:e.jsxs(sn,{children:[e.jsx(rn,{children:e.jsx(an,{children:"Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø±Ù†Ø®"})}),e.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"first_name",children:"Ù†Ø§Ù… *"}),e.jsx(ie,{id:"first_name",value:E.first_name,onChange:b=>I($=>({...$,first_name:b.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"last_name",children:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *"}),e.jsx(ie,{id:"last_name",value:E.last_name,onChange:b=>I($=>({...$,last_name:b.target.value})),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"mobile",children:"Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ *"}),e.jsx(ie,{id:"mobile",type:"tel",dir:"ltr",value:E.mobile,onChange:b=>I($=>({...$,mobile:b.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"email",children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(ie,{id:"email",type:"email",dir:"ltr",value:E.email,onChange:b=>I($=>({...$,email:b.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"business_name",children:"Ù†Ø§Ù… Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±"}),e.jsx(ie,{id:"business_name",value:E.business_name,onChange:b=>I($=>({...$,business_name:b.target.value}))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ù†Ø¨Ø¹ ÙˆØ±ÙˆØ¯"}),e.jsxs(ze,{value:E.lead_source||"_none",onValueChange:b=>I($=>({...$,lead_source:b==="_none"?"":b})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:"_none",children:"â€”"}),u.map(b=>e.jsx(ce,{value:b.slug,children:b.name},b.slug))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ú©Ù…Ù¾ÛŒÙ†"}),e.jsxs(ze,{value:E.campaign_id>0?String(E.campaign_id):"_none",onValueChange:b=>I($=>({...$,campaign_id:b==="_none"?0:parseInt(b,10)})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:"_none",children:"â€”"}),m.map(b=>e.jsx(ce,{value:String(b.id),children:b.title},b.id))]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø¬Ù†Ø³ÛŒØª"}),e.jsxs(ze,{value:E.gender||void 0,onValueChange:b=>I($=>({...$,gender:b})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:"male",children:"Ø¢Ù‚Ø§"}),e.jsx(ce,{value:"female",children:"Ø®Ø§Ù†Ù…"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"notes",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øª"}),e.jsx(ie,{id:"notes",value:E.notes,onChange:b=>I($=>({...$,notes:b.target.value}))})]}),e.jsxs(un,{children:[e.jsx(O,{type:"button",variant:"outline",onClick:()=>j(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{type:"submit",disabled:y,children:["Ø°Ø®ÛŒØ±Ù‡",y?e.jsx(_e,{className:"h-4 w-4 animate-spin ml-2"}):null]})]})]})]})}),e.jsx(dn,{open:!!P,onOpenChange:b=>!b&&F(null),children:e.jsxs(sn,{children:[e.jsx(rn,{children:e.jsxs(an,{children:["Ø§Ø±Ø¬Ø§Ø¹ Ø³Ø±Ù†Ø®",P&&e.jsxs("span",{className:"font-normal text-muted-foreground mr-2",children:["â€” ",P.first_name," ",P.last_name]})]})}),e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø§Ø±Ø¬Ø§Ø¹ Ø¨Ù‡ Ú©Ø§Ø±Ø´Ù†Ø§Ø³ ÙØ±ÙˆØ´"}),Z?e.jsxs("div",{className:"flex items-center gap-2 py-2",children:[e.jsx(_e,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})]}):e.jsxs(ze,{value:M>0?String(M):"_none",onValueChange:b=>U(b==="_none"?0:parseInt(b,10)),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:"_none",children:"Ø¨Ø¯ÙˆÙ† Ø§Ø±Ø¬Ø§Ø¹"}),le.map(b=>e.jsx(ce,{value:String(b.id),children:b.display_name},b.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"assign_note",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ø§Ø±Ø¬Ø§Ø¹"}),e.jsx(ie,{id:"assign_note",value:oe,onChange:b=>V(b.target.value),placeholder:"ØªÙˆØ¶ÛŒØ­ Ù…Ø®ØªØµØ± Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø¬Ø§Ø¹..."})]}),e.jsxs(un,{children:[e.jsx(O,{type:"button",variant:"outline",onClick:()=>F(null),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{type:"submit",disabled:k,children:["Ø§Ø±Ø¬Ø§Ø¹",k?e.jsx(_e,{className:"h-4 w-4 animate-spin ml-2"}):null]})]})]})]})}),e.jsx(dn,{open:!!W,onOpenChange:b=>!b&&he(null),children:e.jsxs(sn,{className:"max-w-lg",children:[e.jsx(rn,{children:e.jsx(an,{children:"Ø¬Ø²Ø¦ÛŒØ§Øª Ø³Ø±Ù†Ø®"})}),W&&e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("div",{className:"flex justify-end mb-2",children:e.jsxs(O,{size:"sm",onClick:()=>{he(null),s(`/contracts?action=new&from_lead=${W.id}`)},children:[e.jsx(Un,{className:"h-4 w-4 ml-2"}),"Ø§ÛŒØ¬Ø§Ø¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Ù†Ø§Ù…:"}),e.jsxs("span",{children:[W.first_name," ",W.last_name]}),e.jsx("span",{className:"text-muted-foreground",children:"Ù…ÙˆØ¨Ø§ÛŒÙ„:"}),e.jsx("span",{dir:"ltr",children:W.mobile}),e.jsx("span",{className:"text-muted-foreground",children:"Ø§ÛŒÙ…ÛŒÙ„:"}),e.jsx("span",{dir:"ltr",children:W.email||"â€”"}),e.jsx("span",{className:"text-muted-foreground",children:"Ù†Ø§Ù… Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±:"}),e.jsx("span",{children:W.business_name||"â€”"}),e.jsx("span",{className:"text-muted-foreground",children:"Ù…Ù†Ø¨Ø¹ ÙˆØ±ÙˆØ¯:"}),e.jsx("span",{children:W.lead_source_name||"â€”"}),e.jsx("span",{className:"text-muted-foreground",children:"Ø§Ø±Ø¬Ø§Ø¹ Ø¨Ù‡:"}),e.jsx("span",{children:W.assigned_to_name||"â€”"}),e.jsx("span",{className:"text-muted-foreground",children:"ÙˆØ¶Ø¹ÛŒØª:"}),e.jsx("span",{children:e.jsx(nc,{slug:W.status_slug,name:W.status_name})}),e.jsx("span",{className:"text-muted-foreground",children:"ØªØ§Ø±ÛŒØ®:"}),e.jsx("span",{children:W.date}),W.last_assignment_note?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-muted-foreground",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ø§Ø±Ø¬Ø§Ø¹:"}),e.jsx("span",{children:W.last_assignment_note})]}):null,W.notes?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-muted-foreground",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øª:"}),e.jsx("span",{className:"whitespace-pre-wrap",children:W.notes})]}):null]}),W.form_submission_data&&W.form_submission_data.length>0?e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ±Ù…"}),e.jsx("div",{className:"space-y-2 text-sm",children:W.form_submission_data.map((b,$)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:"text-muted-foreground shrink-0 min-w-24",children:[b.label,":"]}),e.jsx("span",{className:"whitespace-pre-wrap break-words",children:b.value||"â€”"})]},$))})]}):null]})]})})]})}async function Sb(t){const n=new FormData;return n.set("first_name",t.first_name),n.set("last_name",t.last_name),t.pzl_mobile_phone!=null&&n.set("pzl_mobile_phone",t.pzl_mobile_phone),t.password?.trim()&&n.set("password",t.password),t.password_confirm?.trim()&&n.set("password_confirm",t.password_confirm),t.pzl_profile_picture&&n.set("pzl_profile_picture",t.pzl_profile_picture),Ma("puzzling_update_my_profile",n)}function Cb(){const t=pt(),n=t?.isRtl===!0,s=t?.user,[r,a]=l.useState({first_name:s?.first_name??s?.name?.split(" ")?.[0]??"",last_name:s?.last_name??s?.name?.split(" ")?.slice(1).join(" ")??"",pzl_mobile_phone:s?.pzl_mobile_phone??"",password:"",password_confirm:""}),[i,o]=l.useState(null),[c,d]=l.useState(null),[u,h]=l.useState(!1),[m,x]=l.useState(null),[p,v]=l.useState(!1),g=j=>{const y=j.target.files?.[0];y?(o(y),d(URL.createObjectURL(y))):(o(null),d(null))},f=async j=>{if(j.preventDefault(),x(null),v(!1),!r.last_name.trim()){x("Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ø¶Ø±ÙˆØ±ÛŒ Ø§Ø³Øª.");return}if(r.password&&r.password!==r.password_confirm){x("Ø±Ù…Ø²Ù‡Ø§ÛŒ Ø¹Ø¨ÙˆØ± ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡ ÛŒÚ©Ø³Ø§Ù† Ù†ÛŒØ³ØªÙ†Ø¯.");return}h(!0);try{const y=await Sb({first_name:r.first_name.trim(),last_name:r.last_name.trim(),pzl_mobile_phone:r.pzl_mobile_phone.trim()||void 0,password:r.password||void 0,password_confirm:r.password_confirm||void 0,pzl_profile_picture:i??void 0});y.success?(v(!0),a(N=>({...N,password:"",password_confirm:""})),o(null),d(null),y.data?.reload&&window.location.reload()):x(y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ø±ÙˆÙØ§ÛŒÙ„")}catch{x("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ø±ÙˆÙØ§ÛŒÙ„")}finally{h(!1)}},_=c??s?.avatarLarge??s?.avatar;return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ù†"})}),m&&e.jsx(Rn,{variant:"destructive",children:e.jsx(Pn,{children:m})}),p&&e.jsx(Rn,{children:e.jsx(Pn,{children:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯."})}),e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[e.jsxs("div",{className:"flex flex-col items-start gap-2",children:[e.jsx(Y,{children:"Ø¹Ú©Ø³ Ù¾Ø±ÙˆÙØ§ÛŒÙ„"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Ca,{className:"h-24 w-24",children:[e.jsx(ka,{src:_,alt:s?.name}),e.jsx(Ea,{children:e.jsx(Er,{className:"h-12 w-12"})})]}),e.jsx(ie,{type:"file",accept:"image/*",onChange:g,className:"max-w-[200px]"})]})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ØµÙ„ÛŒ Ùˆ ÙˆØ±ÙˆØ¯"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"first_name",children:"Ù†Ø§Ù…"}),e.jsx(ie,{id:"first_name",value:r.first_name,onChange:j=>a(y=>({...y,first_name:j.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"last_name",children:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *"}),e.jsx(ie,{id:"last_name",value:r.last_name,onChange:j=>a(y=>({...y,last_name:j.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(Y,{htmlFor:"email",children:"Ø§ÛŒÙ…ÛŒÙ„ (ØºÛŒØ±Ù‚Ø§Ø¨Ù„ ØªØºÛŒÛŒØ±)"}),e.jsx(ie,{id:"email",type:"email",value:s?.email??"",disabled:!0,className:"bg-muted"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"pzl_mobile_phone",children:"Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(ie,{id:"pzl_mobile_phone",dir:"ltr",className:"text-left",value:r.pzl_mobile_phone,onChange:j=>a(y=>({...y,pzl_mobile_phone:j.target.value}))})]})]}),e.jsx("hr",{}),e.jsx("h4",{className:"font-medium",children:"ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±ØŒ Ù‡Ø± Ø¯Ùˆ ÙÛŒÙ„Ø¯ Ø²ÛŒØ± Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯. Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±ØªØŒ Ø¢Ù† Ø±Ø§ Ø®Ø§Ù„ÛŒ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯."}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"password",children:"Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯"}),e.jsx(ie,{id:"password",type:"password",value:r.password,onChange:j=>a(y=>({...y,password:j.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"password_confirm",children:"ØªÚ©Ø±Ø§Ø± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯"}),e.jsx(ie,{id:"password_confirm",type:"password",value:r.password_confirm,onChange:j=>a(y=>({...y,password_confirm:j.target.value}))})]})]})]})]}),e.jsx("div",{children:e.jsxs(O,{type:"submit",disabled:u,children:[u&&e.jsx(_e,{className:K("h-4 w-4 animate-spin",n?"ms-2":"me-2")}),"Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª"]})})]})})})]})}var Qi={},Ka={exports:{}},kb=Ka.exports,sc;function Eb(){return sc||(sc=1,(function(t,n){(function(s,r){t.exports=r(sf(),El())})(kb,(function(s,r){function a(f){return f&&typeof f=="object"&&"default"in f?f:{default:f}}var i=a(r);function o(f,_){var j=Object.keys(f);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(f);_&&(y=y.filter((function(N){return Object.getOwnPropertyDescriptor(f,N).enumerable}))),j.push.apply(j,y)}return j}function c(f){for(var _=1;_<arguments.length;_++){var j=arguments[_]!=null?arguments[_]:{};_%2?o(Object(j),!0).forEach((function(y){d(f,y,j[y])})):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(j)):o(Object(j)).forEach((function(y){Object.defineProperty(f,y,Object.getOwnPropertyDescriptor(j,y))}))}return f}function d(f,_,j){return _ in f?Object.defineProperty(f,_,{value:j,enumerable:!0,configurable:!0,writable:!0}):f[_]=j,f}function u(f,_){return(function(j){if(Array.isArray(j))return j})(f)||(function(j,y){var N=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(N!=null){var E,I,S=[],D=!0,P=!1;try{for(N=N.call(j);!(D=(E=N.next()).done)&&(S.push(E.value),!y||S.length!==y);D=!0);}catch(F){P=!0,I=F}finally{try{D||N.return==null||N.return()}finally{if(P)throw I}}return S}})(f,_)||(function(j,y){if(j){if(typeof j=="string")return h(j,y);var N=Object.prototype.toString.call(j).slice(8,-1);if(N==="Object"&&j.constructor&&(N=j.constructor.name),N==="Map"||N==="Set")return Array.from(j);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return h(j,y)}})(f,_)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function h(f,_){(_==null||_>f.length)&&(_=f.length);for(var j=0,y=new Array(_);j<_;j++)y[j]=f[j];return y}function m(f,_){var j=f.element,y=f.popper,N=f.position,E=N===void 0?"bottom-center":N,I=f.containerStyle,S=f.containerClassName,D=S===void 0?"":S,P=f.arrow,F=f.arrowStyle,M=F===void 0?{}:F,U=f.arrowClassName,oe=U===void 0?"":U,V=f.fixMainPosition,k=f.fixRelativePosition,L=f.offsetY,le=f.offsetX,J=f.animations,Z=f.zIndex,Ne=Z===void 0?0:Z,W=f.popperShadow,he=f.onChange,Qe=f.active,We=Qe===void 0||Qe,Pe=f.portal,R=f.portalTarget,b=typeof window<"u",$=b&&R instanceof HTMLElement,A=P===!0,ae=y&&We===!0,ke=r.useRef(),ot=r.useRef(),jt=r.useRef(),rt=r.useRef(),it=r.useMemo((function(){return{position:E,fixMainPosition:V,fixRelativePosition:k,offsetY:L,offsetX:le,defaultArrow:A,animations:J,zIndex:Ne,onChange:he}}),[E,V,k,L,le,A,J,he,Ne]),Qt=r.useCallback((function(){jt.current&&(jt.current.style.transition=""),ot.current&&(ot.current.parentNode.style.transition="")}),[]),qt={element:c({display:"inline-block",height:"max-content"},I),arrow:c({visibility:"hidden",left:"0",top:"0",position:"absolute"},M),popper:{position:"absolute",left:"0",top:"0",willChange:"transform",visibility:"hidden",zIndex:Ne}};b&&!rt.current&&(rt.current=document.createElement("div"),rt.current.data={portal:Pe,isValidPortalTarget:$}),r.useEffect((function(){if(Pe&&!$){var xt=rt.current;return document.body.appendChild(xt),function(){document.body.contains(xt)&&document.body.removeChild(xt)}}}),[Pe,$]),r.useEffect((function(){if(!ae)return Qt(),ot.current.parentNode.style.visibility="hidden",void(jt.current&&(jt.current.style.visibility="hidden"));function xt(ln){ln&&ln.type!=="resize"&&!ln.target.contains(ke.current)||(ln&&Qt(),x(ke,ot,jt,it,ln))}return xt(),document.addEventListener("scroll",xt,!0),window.addEventListener("resize",xt),function(){document.removeEventListener("scroll",xt,!0),window.removeEventListener("resize",xt)}}),[ae,it,Qt]),r.useEffect((function(){var xt={portal:Pe,isValidPortalTarget:$},ln=rt.current.data;JSON.stringify(xt)!==JSON.stringify(ln)&&(rt.current.data=xt,ke.current.refreshPosition())}),[Pe,$]);var mn=i.default.createElement(i.default.Fragment,null,(function(){if(!P||!ae)return null;var xt=i.default.createElement("div",{ref:jt,style:qt.arrow}),ln=r.isValidElement(P)?{children:P}:{className:"ep-arrow ".concat(W?"ep-shadow":""," ").concat(oe)};return r.cloneElement(xt,ln)})(),i.default.createElement("div",{className:W?"ep-popper-shadow":"",style:qt.popper},i.default.createElement("div",{ref:ot},y)));return i.default.createElement("div",{ref:function(xt){if(xt&&(xt.removeTransition=Qt,xt.refreshPosition=function(){return setTimeout((function(){return x(ke,ot,jt,it,{})}),10)}),ke.current=xt,_ instanceof Function)return _(xt);_&&(_.current=xt)},className:D,style:qt.element},j,Pe&&b?s.createPortal(mn,$?R:rt.current):mn)}function x(f,_,j,y,N){var E=y.position,I=y.fixMainPosition,S=y.fixRelativePosition,D=y.offsetY,P=D===void 0?0:D,F=y.offsetX,M=F===void 0?0:F,U=y.defaultArrow,oe=y.animations,V=oe===void 0?[]:oe,k=y.zIndex,L=y.onChange;if(f.current&&_.current){var le,J,Z,Ne,W=(J=window.pageXOffset!==void 0,Z=(document.compatMode||"")==="CSS1Compat",{scrollLeft:J?window.pageXOffset:Z?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:J?window.pageYOffset:Z?document.documentElement.scrollTop:document.body.scrollTop}),he=W.scrollLeft,Qe=W.scrollTop,We=p(f.current,he,Qe),Pe=We.top,R=We.left,b=We.height,$=We.width,A=We.right,ae=We.bottom,ke=p(_.current,he,Qe),ot=ke.top,jt=ke.left,rt=ke.height,it=ke.width,Qt=document.documentElement,qt=Qt.clientHeight,mn=Qt.clientWidth,xt=_.current.parentNode,ln=(function(Ke){if(!Ke)return[0,0];var Le=u((Ke.style.transform.match(/translate\((.*?)px,\s(.*?)px\)/)||[]).map((function(Ze){return Number(Ze)})),3),Ce=Le[1],$e=Ce===void 0?0:Ce,Ge=Le[2];return[$e,Ge===void 0?0:Ge]})(xt),us=u(ln,2),te=us[0],ct=us[1],Sn=(function(Ke){var Le=u(Ke.split("-"),2),Ce=Le[0],$e=Ce===void 0?"bottom":Ce,Ge=Le[1],Ze=Ge===void 0?"center":Ge;$e==="auto"&&($e="bottom"),Ze==="auto"&&(Ze="center");var Kt=$e==="top"||$e==="bottom",Ft=$e==="left"||$e==="right";return Ft&&(Ze==="start"&&(Ze="top"),Ze==="end"&&(Ze="bottom")),Kt&&(Ze==="start"&&(Ze="left"),Ze==="end"&&(Ze="right")),[$e,Ze,Kt,Ft]})(E),w=u(Sn,4),T=w[0],z=w[1],B=w[2],ee=w[3],Q=T,ve=function(Ke,Le){return"translate(".concat(Ke,"px, ").concat(Le,"px)")},je=$-it,ye=b-rt,be=z==="left"?0:z==="right"?je:je/2,ue=je-be,we=z==="top"?0:z==="bottom"?ye:ye/2,me=ye-we,De=R-jt+te,Xe=Pe-ot+ct,qe=0,Be=0,C=v(f.current),X=[],fe=j.current,He=p(fe,he,Qe)||{},Ye=He.height,Te=Ye===void 0?0:Ye,gt=He.width,nt=gt===void 0?0:gt,Ee=De,Se=Xe,Me={top:"bottom",bottom:"top",left:"right",right:"left"};for(B&&(De+=be,Xe+=T==="top"?-rt:b,U&&(Te=11,nt=20)),ee&&(De+=T==="left"?-it:$,Xe+=we,U&&(Te=20,nt=11));C;)X.push(C),Je(p(C,he,Qe)),C=v(C.parentNode);Je({top:Qe,bottom:Qe+qt,left:he,right:he+mn,height:qt,width:mn}),B&&(Xe+=Q==="bottom"?P:-P),ee&&(De+=Q==="right"?M:-M),De-=qe,Xe-=Be,le=Me[Q],fe&&(B&&((Ne=$<it)?Ee+=$/2:Ee=De+it/2,Ee-=nt/2,Q==="bottom"&&(Se=Xe,Xe+=Te),Q==="top"&&(Se=(Xe-=Te)+rt),qe<0&&qe-be<0&&(Ne?Ee+=(be-qe)/2:$-be+qe<it&&(Ee+=($-be+qe-it)/2)),qe>0&&qe+ue>0&&(Ne?Ee-=(qe+ue)/2:$-qe-ue<it&&(Ee-=($-qe-ue-it)/2))),ee&&((Ne=b<rt)?Se+=b/2:Se=Xe+rt/2,Se-=Te/2,Q==="left"&&(Ee=(De-=nt)+it),Q==="right"&&(Ee=De,De+=nt),Be<0&&Be-we<0&&(Ne?Se+=(we-Be)/2:b-we+Be<rt&&(Se+=(b-we+Be-rt)/2)),Be>0&&Be+me>0&&(Ne?Se-=(Be+me)/2:b-Be-me<rt&&(Se-=(b-Be-me-rt)/2))),fe.setAttribute("direction",le),fe.style.height=Te+"px",fe.style.width=nt+"px",fe.style.transform=ve(Ee,Se),fe.style.visibility="visible",fe.style.zIndex=k+1),xt.style.transform=ve(De,Xe);var Ie={popper:{top:Xe,bottom:Xe+rt,left:De,right:De+it,height:rt,width:it},element:{top:Pe,bottom:ae,left:R,right:A,height:b,width:$},arrow:{top:Se,bottom:Se+Te,left:Ee,right:Ee+nt,height:Te,width:nt,direction:le},position:Q+"-"+(qe!==0?"auto":z),scroll:{scrollLeft:he,scrollTop:Qe},scrollableParents:X,event:N};N||V.forEach((function(Ke){Ke({popper:xt,arrow:fe,data:c(c({},Ie),{},{getTransform:ve,mirror:Me})})})),xt.style.visibility="visible",typeof L=="function"&&L(Ie)}function Je(Ke){var Le=Ke.top,Ce=Ke.bottom,$e=Ke.left,Ge=Ke.right,Ze=Ke.height,Kt=Ke.width;if(B){var Ft=Math.round(Pe-Le+b/2),zn=Math.round(Ze/2);I||(Pe-(rt+P+Te)<Le&&Ft<=zn&&Q==="top"?(Xe+=rt+b,Q="bottom"):ae+rt+P+Te>Ze+Le&&Ft>=zn&&Q==="bottom"&&(Xe-=rt+b,Q="top")),S||(R+be<$e&&(qe=g(A-nt>$e?R+be-$e:-$+be+nt,qe)),A-ue>Ge&&(qe=g(R+nt<Ge?A-ue-Ge:$-ue-nt,qe)))}if(ee){var lt=Math.round(R-$e+$/2),mt=Math.round(Kt/2);I||(R-(it+M+nt)<$e&&lt<mt&&Q==="left"?(De+=$+it,Q="right"):A+it+M+nt>Ge&&lt>mt&&Q==="right"&&(De-=$+it,Q="left")),S||(Pe+we<Le&&(Be=g(ae-Te>Le?Pe+we-Le:-b+we+Te,Be)),ae-me>Ce&&(Be=g(Pe+Te<Ce?ae-me-Ce:b-me-Te,Be)))}}}function p(f,_,j){if(f){var y=f.getBoundingClientRect(),N=y.top,E=y.left,I=y.width,S=y.height,D=N+j,P=E+_;return{top:D,bottom:D+S,left:P,right:P+I,width:I,height:S}}}function v(f){if(f&&f.tagName!=="HTML"){var _=window.getComputedStyle(f),j=function(y){return["auto","scroll"].includes(y)};return f.clientHeight<f.scrollHeight&&j(_.overflowX)||f.clientWidth<f.scrollWidth&&j(_.overflowY)?f:v(f.parentNode)}}function g(f,_){return Math.round(Math.abs(f))>Math.round(Math.abs(_))?f:_}return r.forwardRef(m)}))})(Ka)),Ka.exports}function Cr(t){return Cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cr(t)}function Rb(t){return(function(n){if(Array.isArray(n))return Cl(n)})(t)||jh(t)||Ii(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function jh(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rc(t,n){var s=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=Ii(t))||n){s&&(t=s);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,c=!1;return{s:function(){s=s.call(t)},n:function(){var d=s.next();return o=d.done,d},e:function(d){c=!0,i=d},f:function(){try{o||s.return==null||s.return()}finally{if(c)throw i}}}}function ac(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),s.push.apply(s,r)}return s}function ic(t){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?ac(Object(s),!0).forEach((function(r){Pb(t,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ac(Object(s)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))}))}return t}function Pb(t,n,s){return(n=wh(n))in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}function er(t,n){return bh(t)||(function(s,r){var a=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(a!=null){var i,o,c,d,u=[],h=!0,m=!1;try{if(c=(a=a.call(s)).next,r===0){if(Object(a)!==a)return;h=!1}else for(;!(h=(i=c.call(a)).done)&&(u.push(i.value),u.length!==r);h=!0);}catch(x){m=!0,o=x}finally{try{if(!h&&a.return!=null&&(d=a.return(),Object(d)!==d))return}finally{if(m)throw o}}return u}})(t,n)||Ii(t,n)||yh()}function yh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ii(t,n){if(t){if(typeof t=="string")return Cl(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Cl(t,n):void 0}}function Cl(t,n){(n==null||n>t.length)&&(n=t.length);for(var s=0,r=new Array(n);s<n;s++)r[s]=t[s];return r}function bh(t){if(Array.isArray(t))return t}function Db(t,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wh(r.key),r)}}function wh(t){var n=(function(s,r){if(Cr(s)!=="object"||s===null)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var i=a.call(s,r);if(Cr(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)})(t,"string");return Cr(n)==="symbol"?n:String(n)}function Xt(t,n,s){(function(r,a){if(a.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.set(t,s)}function H(t,n){return(function(s,r){return r.get?r.get.call(s):r.value})(t,_h(t,n,"get"))}function xe(t,n,s){return(function(r,a,i){if(a.set)a.set.call(r,i);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=i}})(t,_h(t,n,"set"),s),s}function _h(t,n,s){if(!n.has(t))throw new TypeError("attempted to "+s+" private field on non-instance");return n.get(t)}function Mb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ab(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lc={name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]},Va={name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:function(t){return[31,t?29:28,31,30,31,30,31,31,30,31,30,31]},isLeap:function(t){return t%4==0&&t%100!=0||t%400==0},getLeaps:function(t){if(t!==0){for(var n=t>0?1:-1,s=[];t>0?n<=t:t<=n;)this.isLeap(n)&&s.push(n),t>0?n++:n--;return s}},getDayOfYear:function(t){for(var n=t.year,s=t.month,r=t.day,a=this.getMonthLengths(this.isLeap(n)),i=0;i<s.index;i++)r+=a[i];return r},getAllDays:function(t){var n=t.year;return this.yearLength*(n-1)+this.leapsLength(n)+this.getDayOfYear(t)},leapsLength:function(t){return((t-1)/4|0)+(-(t-1)/100|0)+((t-1)/400|0)},guessYear:function(t,n){return~~(t/365.24)+(n>0?1:-1)}};function zs(t){return t&&t.constructor===Object}function Yn(t){if(!isNaN(t))return parseInt(t)}function tr(t){return Array.isArray(t)}function xr(t,n,s){return t===void 0||t<n||t>s}var Jt=new WeakMap,At=new WeakMap,Pt=new WeakMap,Wn=new WeakMap,Ns=new WeakMap,Ss=new WeakMap,Bt=new WeakMap,Cs=new WeakMap,on=new WeakMap,Ot=new WeakMap,gr=new WeakMap,Bn=new WeakMap,oc=new WeakMap,vr=new WeakMap,jr=new WeakMap,cc=new WeakMap,el=new WeakMap,Hn=new WeakMap,tl=new WeakMap,Ob=(function(){function t(r){var a=this;(function(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t),Xt(this,Jt,{writable:!0,value:void 0}),Xt(this,At,{writable:!0,value:void 0}),Xt(this,Pt,{writable:!0,value:void 0}),Xt(this,Wn,{writable:!0,value:void 0}),Xt(this,Ns,{writable:!0,value:void 0}),Xt(this,Ss,{writable:!0,value:void 0}),Xt(this,Bt,{writable:!0,value:void 0}),Xt(this,Cs,{writable:!0,value:void 0}),Xt(this,on,{writable:!0,value:lc}),Xt(this,Ot,{writable:!0,value:Va}),Xt(this,gr,{writable:!0,value:!1}),Xt(this,Bn,{writable:!0,value:{}}),Xt(this,oc,{writable:!0,value:/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ$/}),Xt(this,vr,{writable:!0,value:[]}),Xt(this,jr,{writable:!0,value:!0}),Xt(this,cc,{writable:!0,value:function(d,u){switch(d){case"YYYY":return["year",u];case"YY":return["year","".concat(H(a,Ot).century).concat(u)];case"MMMM":case"MMM":return["month",a.months.findIndex((function(m){var x=m.name,p=m.shortName;return new RegExp(u,"i").test(x+p)}))+1];case"MM":case"M":return["month",u];case"DD":case"D":return["day",u];case"HH":case"H":return["hour",u];case"hh":case"h":var h=Yn(u);return["hour",h>12?h-12:h];case"mm":case"m":return["minute",u];case"ss":case"s":return["second",u];case"SSS":case"SS":case"S":return["millisecond",u];default:return[]}}}),Xt(this,el,{writable:!0,value:function(){return H(a,Jt)===0&&H(a,Ot).startYear!==0}}),Xt(this,Hn,{writable:!0,value:function(){if(H(a,jr)&&a.isValid){var d=Math.floor,u=function(g,f){return[(y=g,(y<0?-1:1)*Math.abs(d(g/f))),(_=g,j=f,(_<0&&d(_%j)!==-0?j:0)+d(g%f))];var _,j,y},h=function(){if(H(a,At)<0||H(a,At)>11){var g=H(a,At)<0?-1:1,f=er(u(H(a,At),12),2),_=f[0],j=f[1];xe(a,Jt,H(a,Jt)+_),xe(a,At,j),H(a,el).call(a)&&xe(a,Jt,g)}};for(xe(a,jr,!1),[["millisecond","second",1e3],["second","minute",60],["minute","hour",60],["hour","day",24]].forEach((function(g){var f=er(g,3),_=f[0],j=f[1],y=f[2];if((function(S,D){return S>=D||S<0})(a[_],y)){var N=er(u(a[_],y),2),E=N[0],I=N[1];a[j]+=E,a[_]=I}})),xe(a,jr,!0),h();H(a,Pt)<-H(a,Ot).yearLength||H(a,Pt)>H(a,Ot).yearLength;){if(H(a,At)>0){for(var m=H(a,Ot).getMonthLengths(a.isLeap),x=0;x<H(a,At);x++)xe(a,Pt,H(a,Pt)+m[x]);xe(a,At,0)}var p=a.isLeap?a.calendar.yearLength+1:a.calendar.yearLength;xe(a,Pt,H(a,Pt)+p*(H(a,Pt)<0?1:-1)),xe(a,Jt,H(a,Jt)+(H(a,Pt)<0?-1:1))}for(;;){var v;for(h();H(a,Pt)<1;)xe(a,At,H(a,At)-1),h(),xe(a,Pt,a.month.length+H(a,Pt));if(H(a,Pt)<=a.month.length||isNaN(H(a,Pt)))break;xe(a,Pt,H(a,Pt)-a.month.length),xe(a,At,(v=H(a,At),v++,v))}H(a,Wn)||xe(a,Wn,0),H(a,Ns)||xe(a,Ns,0),H(a,Ss)||xe(a,Ss,0),H(a,Bt)||xe(a,Bt,0)}}}),Xt(this,tl,{writable:!0,value:function(){return(H(a,Bn).weekDays||H(a,on).weekDays).map((function(d,u){var h=er(d,2),m=h[0],x=h[1],p=u-a.weekStartDayIndex;return p<0&&(p+=7),{name:m,shortName:x,index:p,number:p+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}}))}});var i=zs(r)?ic({},r):r,o=!0;if(i&&typeof i!="boolean"||(i={date:new Date}),zs(i)||(i={date:i}),Object.keys(i).length!==0){for(var c in zs(i.calendar)&&xe(this,Ot,i.calendar),zs(i.locale)&&xe(this,on,i.locale),isNaN(i.year)&&isNaN(i.month)&&isNaN(i.day)&&!i.date&&(i.date=new Date),i.date&&(typeof i.date=="string"&&i.format&&xe(this,Cs,i.format),this.setDate(i.date),i.calendar&&this.convert(i.calendar),o=!1),delete i.calendar,delete i.locale,delete i.date,i)this.set(c,i[c]);H(this,el).call(this)&&xe(this,Jt,-1),o&&H(this,Hn).call(this)}}var n,s;return n=t,s=[{key:"parse",value:function(r){if(!r)return this;var a,i,o=H(this,Cs),c=H(this,on).digits,d=rc(c);try{for(d.s();!(a=d.n()).done;){var u=a.value;r=r.replace(new RegExp(u,"g"),c.indexOf(u))}}catch(M){d.e(M)}finally{d.f()}if(o)for(var h=o.split(/[^\w\u0600-\u06FF]/),m=r.split(/[^\w\u0600-\u06FF]/),x=0;x<h.length;x++)this.set.apply(this,Rb(H(this,cc).call(this,h[x],m[x])));else{var p=r.match(/(-?\d{2,4})?\W?([A-z]{3,9}|\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,3})?\W?(am|pm)?/),v=(bh(i=p)||jh(i)||Ii(i)||yh()).slice(1),g=v[1];g&&(g=/\d+/.test(g)?Yn(g)-1:this.months.findIndex((function(M){return new RegExp(g,"i").test(M.name)}))),v[1]=g;var f=er(v.map(Yn),7),_=f[0],j=f[1],y=f[2],N=f[3],E=f[4],I=f[5],S=f[6];xe(this,Jt,_),xe(this,At,j),xe(this,Pt,y),xe(this,Wn,N),xe(this,Ns,E),xe(this,Ss,I),xe(this,Bt,S)}var D=er(H(this,on).meridiems[1],2),P=D[0],F=D[1];return H(this,Wn)<12&&(r.includes(P)||r.includes(F))&&xe(this,Wn,H(this,Wn)+12),H(this,Hn).call(this),this}},{key:"convert",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Va,a=arguments.length>1?arguments[1]:void 0;if(zs(a)&&xe(this,on,a),!zs(r)||r.name===H(this,Ot).name)return this;var i=this.toJulianDay()-r.epoch,o=new t({calendar:r,year:r.guessYear(i,H(this,Jt)),month:1,day:1});return o.day+=i-o.toDays(),xe(this,Jt,o.year),xe(this,At,o.month.index),xe(this,Pt,o.day),xe(this,Ot,r),this}},{key:"format",value:function(r,a){if(!this.isValid||r&&typeof r!="string")return"";r||(r=H(this,Cs)||"YYYY/MM/DD"),tr(a)||(a=[]),a=(a=a.concat(H(this,vr))).filter((function(x){return typeof x=="string"||(console.warn("type of all items in the ignore list must be string, found",Cr(x)),!1)})).map((function(x){return x.replace(/[*/+\-()[\]{}\s$^]/g,(function(p){return"\\"+p}))}));var i,o=new RegExp("".concat(a.join("|")).concat(a.length>0?"|":"","YYYY|YY|MMMM|MMM|MM|M|WW|W|DDDD|DDD|DD|D|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|SSS|SS|S|A|a|."),"g"),c="",d=rc(r.match(o)||[]);try{for(d.s();!(i=d.n()).done;){var u=i.value,h=this.getValue(u);c+=a.includes(u)?u:h===0?h:h||u}}catch(x){d.e(x)}finally{d.f()}var m=this.digits;return c.replace(/[0-9]/g,(function(x){return m[x]}))}},{key:"getProperty",value:function(r){return this.getValue(r)}},{key:"getValue",value:function(r){var a=function(i){return i<10?"0"+i:i};switch(r){case"YYYY":return this.year;case"YY":return this.year.toString().substring(2,4);case"MMMM":return this.month.name;case"MMM":return this.month.shortName;case"MM":return a(this.month.number);case"M":return this.month.number;case"WW":return a(this.weekOfYear);case"W":return this.weekOfYear;case"DDDD":case"DDD":return this.dayOfYear;case"DD":return a(this.day);case"D":return this.day;case"HH":return a(this.hour);case"H":return this.hour;case"dddd":return this.weekDay.name;case"ddd":return this.weekDay.shortName;case"dd":return a(this.weekDay.number);case"d":return this.weekDay.number;case"hh":return a(this.hour>12?this.hour-12:this.hour||12);case"h":return this.hour>12?this.hour-12:this.hour||12;case"mm":return a(this.minute);case"m":return this.minute;case"ss":return a(this.second);case"s":return this.second;case"SSS":return H(this,Bt)<10?"00".concat(H(this,Bt)):H(this,Bt)<100?"0".concat(H(this,Bt)):H(this,Bt);case"SS":return H(this,Bt)<10?"00":H(this,Bt)<100?("0"+H(this,Bt)).substring(2,0):H(this,Bt).toString().substring(0,2);case"S":return H(this,Bt)<10||H(this,Bt)<100?"0":H(this,Bt).toString().substring(0,1);case"a":return this.hour>=12?H(this,on).meridiems[1][1]:H(this,on).meridiems[0][1];case"A":return this.hour>=12?H(this,on).meridiems[1][0]:H(this,on).meridiems[0][0];default:return""}}},{key:"setYear",value:function(r){return this.year=r,this}},{key:"setMonths",value:function(r){return this.months=r,this}},{key:"setMonth",value:function(r){return this.month=r,this}},{key:"setWeekDays",value:function(r){return this.weekDays=r,this}},{key:"setDigits",value:function(r){return this.digits=r,this}},{key:"setDay",value:function(r){return this.day=r,this}},{key:"setHour",value:function(r){return this.hour=r,this}},{key:"setMinute",value:function(r){return this.minute=r,this}},{key:"setSecond",value:function(r){return this.second=r,this}},{key:"setMillisecond",value:function(r){return this.millisecond=r,this}},{key:"setFormat",value:function(r){return xe(this,Cs,r),this}},{key:"setLocale",value:function(r){return this.locale=r,this}},{key:"setCalendar",value:function(r){return this.calendar=r,this}},{key:"setDate",value:function(r){if(typeof r=="string"){if(!H(this,oc).test(r))return this.parse(r);r=new Date(r)}return typeof r=="number"&&(r=new Date(r)),r instanceof Date&&(xe(this,Ot,Va),xe(this,Jt,r.getFullYear()),xe(this,At,r.getMonth()),xe(this,Pt,r.getDate()),xe(this,Wn,r.getHours()),xe(this,Ns,r.getMinutes()),xe(this,Ss,r.getSeconds()),xe(this,Bt,r.getMilliseconds()),xe(this,gr,!1)),r instanceof t&&(xe(this,Jt,r.year),xe(this,At,r.month.index),xe(this,Pt,r.day),xe(this,Wn,r.hour),xe(this,Ns,r.minute),xe(this,Ss,r.second),xe(this,Bt,r.millisecond),xe(this,on,r.locale),xe(this,Cs,r._format),xe(this,Ot,r.calendar),xe(this,gr,r.isUTC),xe(this,vr,r.ignoreList),xe(this,Bn,r.custom)),this}},{key:"setIgnoreList",value:function(r){return this.ignoreList=r,this}},{key:"set",value:function(r,a){if(r==null)return this;if(zs(r)){var i=ic({},r);for(var o in i.date&&(this.setDate(i.date),delete i.date),i.calendar&&(this.convert(i.calendar),delete i.calendar),i.locale&&(this.setLocale(i.locale),delete i.locale),xe(this,jr,!1),i)this.set(o,i[o]);return xe(this,jr,!0),H(this,Hn).call(this),this}r==="format"&&(r="_format");try{this[r]=a}catch{}return this}},{key:"add",value:function(r,a){if(!(r=Yn(r))||!a)return this;switch(a){case"years":case"y":a="year";break;case"months":case"M":a="month";break;case"days":case"d":a="day";break;case"hours":case"h":a="hour";break;case"minutes":case"m":a="minute";break;case"seconds":case"s":a="second";break;case"milliseconds":case"ms":a="millisecond"}return this[a]+=r,this}},{key:"subtract",value:function(r,a){return this.add(-r,a)}},{key:"toFirstOfYear",value:function(){return this.month=1,this.day=1,this}},{key:"toLastOfYear",value:function(){return this.day>=29&&(this.day=29),this.month=12,this.toLastOfMonth(),this}},{key:"toFirstOfMonth",value:function(){return xe(this,Pt,1),this}},{key:"toLastOfMonth",value:function(){return xe(this,Pt,0),xe(this,At,H(this,At)+1),H(this,Hn).call(this),this}},{key:"toFirstOfWeek",value:function(){return this.day-=this.weekDay.index,this}},{key:"toLastOfWeek",value:function(){return this.day+=6-this.weekDay.index,this}},{key:"toFirstWeekOfYear",value:function(){return this.toFirstOfYear(),this.weekDay.index===0?this:this.toLastOfWeek().setDay(this.day+1)}},{key:"toLastWeekOfYear",value:function(){return this.toLastOfYear().toFirstOfWeek()}},{key:"toString",value:function(){return this.format()}},{key:"toDate",value:function(){var r=new t(this);return H(this,Ot).name!=="gregorian"&&r.convert(Va),new Date(r.year,r.month.index,r.day,r.hour,r.minute,r.second,r.millisecond)}},{key:"toUTC",value:function(){return H(this,gr)||(this.minute+=this.toDate().getTimezoneOffset(),xe(this,gr,!0)),this}},{key:"toUnix",value:function(){return this.unix}},{key:"toJulianDay",value:function(){return this.toDays()+H(this,Ot).epoch}},{key:"toObject",value:function(){return{year:H(this,Jt),month:this.month,day:H(this,Pt),weekDay:this.weekDay,hour:H(this,Wn),minute:H(this,Ns),second:H(this,Ss),millisecond:H(this,Bt),weekOfYear:this.weekOfYear,dayOfYear:this.dayOfYear,daysLeft:this.daysLeft,calendar:H(this,Ot),locale:H(this,on),format:H(this,Cs)||"YYYY/MM/DD",ignoreList:H(this,vr)}}},{key:"toJSON",value:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this.toDate().valueOf()}},{key:"toDays",value:function(){if(this.isValid)return H(this,Ot).getAllDays(this)}},{key:"dayOfBeginning",get:function(){return this.toDays()}},{key:"dayOfYear",get:function(){if(this.isValid)return H(this,Ot).getDayOfYear(this)}},{key:"weekOfYear",get:function(){if(this.isValid)return 1+~~(this.dayOfYear/7)}},{key:"daysLeft",get:function(){if(this.isValid){var r=H(this,Ot).yearLength;return(this.isLeap?r+1:r)-this.dayOfYear}}},{key:"year",get:function(){return H(this,Jt)},set:function(r){xe(this,Jt,Yn(r)),H(this,Hn).call(this)}},{key:"month",get:function(){return this.months[H(this,At)]||{}},set:function(r){var a;r=(a=Yn(r.valueOf())-1)!==null&&a!==void 0?a:void 0,xe(this,At,r),xr(r,0,11)&&H(this,Hn).call(this)}},{key:"monthIndex",get:function(){return H(this,At)}},{key:"day",get:function(){return H(this,Pt)},set:function(r){r=Yn(r),xe(this,Pt,r),xr(r,1,28)&&H(this,Hn).call(this)}},{key:"weekDay",get:function(){if(!this.isValid)return{};var r=(this.toJulianDay()+3)%7;return H(this,tl).call(this)[r]}},{key:"hour",get:function(){return H(this,Wn)},set:function(r){r=Yn(r),xe(this,Wn,r),xr(r,0,23)&&H(this,Hn).call(this)}},{key:"minute",get:function(){return H(this,Ns)},set:function(r){r=Yn(r),xe(this,Ns,r),xr(r,0,59)&&H(this,Hn).call(this)}},{key:"second",get:function(){return H(this,Ss)},set:function(r){r=Yn(r),xe(this,Ss,r),xr(r,0,59)&&H(this,Hn).call(this)}},{key:"millisecond",get:function(){return H(this,Bt)},set:function(r){r=Yn(r),xe(this,Bt,r),xr(r,0,999)&&H(this,Hn).call(this)}},{key:"months",get:function(){var r=H(this,Ot).getMonthLengths(this.isLeap),a=(H(this,Bn).months||H(this,on).months).map((function(i,o){var c=er(i,2);return{name:c[0],shortName:c[1],length:r[o],index:o,number:o+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}}));return a},set:function(r){if(!r)return delete H(this,Bn).months;tr(r)&&r.length===12&&r.every((function(a){return tr(a)&&a.length===2&&a.every((function(i){return typeof i=="string"}))}))&&(H(this,Bn).months=r)}},{key:"weekDays",get:function(){return H(this,tl).call(this).sort((function(r,a){return r.index-a.index}))},set:function(r){if(!r)return delete H(this,Bn).weekDays;tr(r)&&r.length===7&&r.every((function(a){return tr(a)&&a.length===2&&a.every((function(i){return typeof i=="string"}))}))&&(H(this,Bn).weekDays=r)}},{key:"leaps",get:function(){return H(this,Ot).getLeaps(H(this,Jt))}},{key:"calendar",get:function(){return H(this,Ot)},set:function(r){this.convert(r)}},{key:"locale",get:function(){return H(this,on)},set:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lc;zs(r)&&xe(this,on,r)}},{key:"custom",get:function(){return H(this,Bn)}},{key:"meridiems",get:function(){return H(this,on).meridiems}},{key:"digits",get:function(){return H(this,Bn).digits||H(this,on).digits},set:function(r){if(!r)return delete H(this,Bn).digits;tr(r)&&r.length===10&&(H(this,Bn).digits=r)}},{key:"_format",get:function(){return H(this,Cs)},set:function(r){typeof r=="string"&&xe(this,Cs,r)}},{key:"isLeap",get:function(){return H(this,Ot).isLeap(H(this,Jt))}},{key:"isValid",get:function(){return!isNaN(H(this,Jt))&&!isNaN(H(this,At))&&!isNaN(H(this,Pt))}},{key:"isUTC",get:function(){return H(this,gr)}},{key:"unix",get:function(){return(this.valueOf()-this.millisecond)/1e3}},{key:"ignoreList",get:function(){return H(this,vr)},set:function(r){tr(r)&&xe(this,vr,r)}},{key:"weekStartDayIndex",get:function(){return H(this,Ot).weekStartDayIndex},set:function(r){(r=Yn(r))!==void 0&&(H(this,Ot).weekStartDayIndex=Math.abs(r)%7)}},{key:"date",set:function(r){this.setDate(r)}}],s&&Db(n.prototype,s),Object.defineProperty(n,"prototype",{writable:!1}),t})(),$s=Mb(Ab(Ob));const Tb=Object.freeze(Object.defineProperty({__proto__:null,default:$s},Symbol.toStringTag,{value:"Module"})),Ib=rf(Tb);var dc;function Lb(){return dc||(dc=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=El(),s=Eb(),r=Ib;function a(w){return w&&typeof w=="object"&&"default"in w?w:{default:w}}var i=a(n),o=a(s),c=a(r);function d(w,T){var z=Object.keys(w);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(w);T&&(B=B.filter((function(ee){return Object.getOwnPropertyDescriptor(w,ee).enumerable}))),z.push.apply(z,B)}return z}function u(w){for(var T=1;T<arguments.length;T++){var z=arguments[T]!=null?arguments[T]:{};T%2?d(Object(z),!0).forEach((function(B){h(w,B,z[B])})):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(z)):d(Object(z)).forEach((function(B){Object.defineProperty(w,B,Object.getOwnPropertyDescriptor(z,B))}))}return w}function h(w,T,z){return(T=(function(B){var ee=(function(Q,ve){if(typeof Q!="object"||Q===null)return Q;var je=Q[Symbol.toPrimitive];if(je!==void 0){var ye=je.call(Q,ve);if(typeof ye!="object")return ye;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ve==="string"?String:Number)(Q)})(B,"string");return typeof ee=="symbol"?ee:String(ee)})(T))in w?Object.defineProperty(w,T,{value:z,enumerable:!0,configurable:!0,writable:!0}):w[T]=z,w}function m(){return m=Object.assign?Object.assign.bind():function(w){for(var T=1;T<arguments.length;T++){var z=arguments[T];for(var B in z)Object.prototype.hasOwnProperty.call(z,B)&&(w[B]=z[B])}return w},m.apply(this,arguments)}function x(w,T){if(w==null)return{};var z,B,ee=(function(ve,je){if(ve==null)return{};var ye,be,ue={},we=Object.keys(ve);for(be=0;be<we.length;be++)ye=we[be],je.indexOf(ye)>=0||(ue[ye]=ve[ye]);return ue})(w,T);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(w);for(B=0;B<Q.length;B++)z=Q[B],T.indexOf(z)>=0||Object.prototype.propertyIsEnumerable.call(w,z)&&(ee[z]=w[z])}return ee}function p(w,T){return(function(z){if(Array.isArray(z))return z})(w)||(function(z,B){var ee=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(ee!=null){var Q,ve,je,ye,be=[],ue=!0,we=!1;try{if(je=(ee=ee.call(z)).next,B===0){if(Object(ee)!==ee)return;ue=!1}else for(;!(ue=(Q=je.call(ee)).done)&&(be.push(Q.value),be.length!==B);ue=!0);}catch(me){we=!0,ve=me}finally{try{if(!ue&&ee.return!=null&&(ye=ee.return(),Object(ye)!==ye))return}finally{if(we)throw ve}}return be}})(w,T)||g(w,T)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function v(w){return(function(T){if(Array.isArray(T))return f(T)})(w)||(function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)})(w)||g(w)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function g(w,T){if(w){if(typeof w=="string")return f(w,T);var z=Object.prototype.toString.call(w).slice(8,-1);return z==="Object"&&w.constructor&&(z=w.constructor.name),z==="Map"||z==="Set"?Array.from(w):z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z)?f(w,T):void 0}}function f(w,T){(T==null||T>w.length)&&(T=w.length);for(var z=0,B=new Array(T);z<T;z++)B[z]=w[z];return B}function _(w,T){var z=typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(!z){if(Array.isArray(w)||(z=g(w))||T){z&&(w=z);var B=0,ee=function(){};return{s:ee,n:function(){return B>=w.length?{done:!0}:{done:!1,value:w[B++]}},e:function(ye){throw ye},f:ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Q,ve=!0,je=!1;return{s:function(){z=z.call(w)},n:function(){var ye=z.next();return ve=ye.done,ye},e:function(ye){je=!0,Q=ye},f:function(){try{ve||z.return==null||z.return()}finally{if(je)throw Q}}}}function j(w){return Array.isArray(w)}function y(w){var T=w.state.date,z=T.calendar,B=T.locale,ee=w.customWeekDays,Q=w.weekStartDayIndex,ve=w.displayWeekNumbers,je=w.weekNumber,ye=n.useMemo((function(){var be=ee;return j(be)&&be.length>=7?(be.length=7,be=be.map((function(ue){return j(ue)&ue.length>1?ue=ue[1]:j(ue)&&(ue=ue[0]),ue}))):be=new c.default({year:1,calendar:z,locale:B}).weekDays.map((function(ue){return ue.shortName})),be}),[z,B,ee]);return ye=v(ye).slice(Q).concat(v(ye).splice(0,Q)),i.default.createElement("div",{className:"rmdp-week"},ve&&i.default.createElement("div",{className:"rmdp-week-day"},je),ye.map((function(be,ue){return i.default.createElement("div",{key:ue,className:"rmdp-week-day"},be)})))}function N(w,T){var z=arguments.length>2&&arguments[2]!==void 0&&arguments[2],B=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!w||!T)return!1;if(w.year===T.year){if(B)return!0;if(w.monthIndex===T.monthIndex)return!!z||w.day===T.day}}function E(w){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY/MM/DD";return w.format(T)}function I(w,T,z){var B=z.multiple,ee=z.range,Q=z.selectedDate,ve=z.onlyMonthPicker,je=z.onlyYearPicker,ye=z.format,be=z.focused,ue=z.weekPicker;w.setFormat(ye);var we=new c.default(w);return Q=B&&ee?(function(){var me=!0;j(Q)||(Q=[[Q]]);var De=Q.find((function(C){return C.length===1})),Xe=ve?"YYYY/MM":"YYYY/MM/DD",qe=Q;if(De){var Be=De[0];qe=qe.filter((function(C){if(C.length===1)return!0;var X=p(C,2),fe=X[0],He=X[1],Ye=p([Be,we].sort((function(Ie,Je){return Ie-Je})),2),Te=[fe,He,Ye[0],Ye[1]].map((function(Ie){return E(Ie,Xe)})),gt=p(Te,4),nt=gt[0],Ee=gt[1],Se=gt[2],Me=gt[3];return!(Se<=nt&&Me>=Ee||Se>=nt&&Me>=Ee&&Se<=Ee||Se<=nt&&Me<=Ee&&Me>=nt)}))}else qe=qe.filter((function(C){if(!j(C))return!0;if(C.length===0)return!1;var X=p(C,2),fe=[X[0],X[1],we].map((function(nt){return E(nt,Xe)})),He=p(fe,3),Ye=He[0],Te=He[1],gt=He[2];return!(gt>=Ye&&gt<=Te)}));return qe=qe.map((function(C){var X;return j(C)?C.length===1?(me=!1,X=C.concat(we)):X=C:(me=!1,X=[C,we]),X.sort((function(fe,He){return fe-He}))})),me&&(qe=[].concat(v(qe),[[we]])),qe})():B?(function(){var me=Q.filter((function(De){return!N(w,De,ve,je)}));return me.length===Q.length?me.push(we):we=me.find((function(De){return N(De,be)})),T&&me.sort((function(De,Xe){return De-Xe})),me})():ee?(function(){if(ue)return[new c.default(we).toFirstOfWeek(),new c.default(we).toLastOfWeek()];if(Q.length===2||Q.length===0)return[we];if(Q.length===1)return[Q[0],we].sort((function(me,De){return me-De}))})():we,[Q,we]}function S(w,T,z,B){var ee=[],Q=z?"YYYY/MM":"YYYY/MM/DD",ve=E(w,Q);function je(ye){var be=ye[0],ue=ye[1];if(ye.length===1)N(w,be,z)&&ee.push("rmdp-range");else if(ye.length===2){var we=[be,ue].map((function(qe){return E(qe,Q)})),me=p(we,2),De=me[0],Xe=me[1];ve>=De&&ve<=Xe&&ee.push("rmdp-range"),ve===De&&ee.push("start"),ve===Xe&&ee.push("end")}}return B?(j(T)?T:[[T]]).forEach(je):je(T),ee.join(" ")}function D(w,T,z,B){var ee=arguments.length>5?arguments[5]:void 0,Q=[];if(B&&z){var ve,je=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:"day")==="day"?"YYYY/MM/DD":"YYYY/MM",ye=z.format(je),be=w.format(je);if(ee||T?.length!==1){if(ee&&j(T)){var ue,we=_(T);try{for(we.s();!(ue=we.n()).done;){var me=ue.value;if(j(me)&&me.length===1){ve=me[0].format(je);break}}}catch(De){we.e(De)}finally{we.f()}}}else ve=T[0].format(je);(be>ve&&be<=ye||be<ve&&be>=ye)&&(Q.push("rmdp-range-hover"),be===ye&&Q.push(ye>ve?"end":"start"),j(T)&&T.flat().some((function(De){return De.format(je)===be}))&&Q.push("force"))}return Q}function P(w,T,z){if(w){var B=F(w);return z?Array.from(B.querySelectorAll(T)):B.querySelector(T)}}function F(w){return w.closest(".rmdp-calendar")}var M=["selected","today","day:not(.rmdp-day-hidden):not(.rmdp-disabled)"];function U(w,T,z){var B=z.type,ee=B===void 0?"day":B,Q=z.format;w.preventDefault();var ve=w.currentTarget,je=w.key,ye=w.code,be=ee==="day"?7:3,ue=F(ve),we=ue&&ue.classList.contains("rmdp-rtl"),me={ArrowRight:we?-1:1,ArrowLeft:we?1:-1,ArrowUp:-be,ArrowDown:be};if(ye==="Space"||je===" ")ve.click();else if(Object.keys(me).includes(je)){var De=function(){if(ee==="month")return oe(ue,[M[2]]);var C=P(ve,Xe<0?".rmdp-left":".rmdp-right");C&&(C.click(),oe(ue))},Xe=me[je],qe=new c.default(T.date).add(Xe,ee);(function(C){if(!C)return De();var X=C.getAttribute("class");X.includes("hidden")||X.includes("disabled")?U(w,u(u({},T),{},{date:qe}),{type:ee,format:Q}):C.focus()})(P(ve,'[aria-label*="'.concat(T.year?"year ".concat(T.year+Xe):qe.format(Q),'"]')))}else{var Be=P(ve,".rmdp-arrow-container");Be&&Be.focus()}}function oe(w){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M,z=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],B="[data-active='true']";w.querySelectorAll("".concat(B," [tabindex='0']")).forEach((function(ee){return ee.setAttribute("tabindex","-1")})),setTimeout((function(){var ee,Q=_(T);try{for(Q.s();!(ee=Q.n()).done;){var ve=ee.value,je=w.querySelector("".concat(B," .rmdp-").concat(ve));if(je){je.setAttribute("tabindex","0"),z&&je.focus();break}}}catch(ye){Q.e(ye)}finally{Q.f()}}),10)}var V="dddd MMMM DD of YYYY";function k(w){var T=w.state,z=w.onChange,B=w.showOtherDays,ee=B!==void 0&&B,Q=w.mapDays,ve=w.onlyShowInRangeDates,je=w.customWeekDays,ye=w.sort,be=w.numberOfMonths,ue=w.isRTL,we=w.weekStartDayIndex,me=w.handleFocusedDate,De=w.hideWeekDays,Xe=w.fullYear,qe=p(w.monthAndYears,1)[0],Be=w.displayWeekNumbers,C=w.weekNumber,X=C===void 0?"":C,fe=w.rangeHover,He=w.highlightToday,Ye=n.useRef({}),Te=n.useRef(),gt=T.today,nt=T.minDate,Ee=T.maxDate,Se=T.range,Me=T.multiple,Ie=T.date,Je=T.selectedDate,Ke=T.onlyMonthPicker,Le=T.onlyYearPicker,Ce=T.mustShowMonthPicker,$e=T.mustShowYearPicker,Ge=!Ke&&!Le,Ze=p(n.useState(),2),Kt=Ze[0],Ft=Ze[1];Ye.current.date=Ie;var zn=n.useMemo((function(){return Ge?(function(mt,Mt,Rt,yn){if(!mt)return[];for(var Nt=[],Fn=0;Fn<Rt;Fn++){var hn=(mt=new c.default(mt).toFirstOfMonth()).monthIndex,Cn=[];mt.toFirstOfWeek().add(yn,"day"),mt.monthIndex===hn&&mt.day>1&&mt.subtract(7,"days");for(var en=0;en<6;en++){for(var fn=[],Ht=0;Ht<7;Ht++)fn.push({date:new c.default(mt),day:mt.format("D"),current:mt.monthIndex===hn}),mt.day+=1;if(Cn.push(fn),en>2&&mt.monthIndex!==hn)break}Nt.push(Cn)}return Nt})(Ye.current.date,0,be,we):[]}),[Ie.monthIndex,Ie.year,Ie.calendar,Ie.locale,Ge,ee,be,we]);return Ge&&i.default.createElement("div",{ref:Te,className:"rmdp-day-picker ".concat(Xe?"rmdp-full-year":""),style:{display:Xe?"grid":"flex"},onMouseLeave:function(){return fe&&Ft()},"data-active":Ge&&!Ce&&!$e},zn.map((function(mt,Mt){return i.default.createElement("div",{key:Mt,style:h({},ue?"marginLeft":"marginRight",Mt+(Xe?0:1)<be?"10px":"")},Xe&&i.default.createElement("div",{className:"rmdp-month-name"},qe[Mt]),!De&&i.default.createElement(y,{state:T,customWeekDays:je,weekStartDayIndex:we,displayWeekNumbers:Be,weekNumber:X}),mt.map((function(Rt,yn){return i.default.createElement("div",{key:yn,className:"rmdp-week"},Be&&i.default.createElement("div",{className:"rmdp-day rmdp-disabled"},i.default.createElement("span",null,Rt[0].date.format("WW"))),Rt.map((function(Nt,Fn){var hn=(function(St){if(!St.current&&!ee)return{};var Ct={};return Q.forEach((function(Yt){var Gt,Wt=Yt({date:St.date,today:gt,currentMonth:T.date.month,selectedDate:T.selectedDate,isSameDate:N});((Gt=Wt)===null||Gt===void 0?void 0:Gt.constructor)!==Object&&(Wt={}),(Wt.disabled||Wt.hidden)&&(St.disabled=!0),Wt.hidden&&(St.hidden=!0),Ct=u(u({},Ct),Wt)})),delete Ct.disabled,delete Ct.hidden,Ct})(Nt={date:Nt.date,day:Nt.day,current:Nt.current}),Cn=lt(Nt)&&!Nt.disabled,en="".concat(Cn?"sd":""),fn=hn.children;Cn&&(en="".concat(en," ").concat(hn.className||"")),delete hn.className,delete hn.children;var Ht=(function(St,Ct){var Yt=["rmdp-day"],Gt=St.date,Wt=St.hidden,Zn=St.current;if(!lt(St)||Wt)Yt.push("rmdp-day-hidden");else{(nt&&Gt<nt||Ee&&Gt>Ee||St.disabled)&&(Yt.push("rmdp-disabled"),St.disabled||(St.disabled=!0)),Zn||Yt.push("rmdp-deactive");var $n=Ct>1&&Zn||Ct===1;St.disabled&&ve||(N(Gt,gt)&&He&&Yt.push("rmdp-today"),Vn=Gt,[].concat(Je).some((function(Dn){return N(Dn,Vn)}))&&$n&&!Se&&Yt.push("rmdp-selected")),Se&&!St.disabled&&$n&&(Yt.push(S(Gt,Je,void 0,Me)),Yt=Yt.concat(D(Gt,Je,Kt,fe,void 0,Me)))}var Vn;return Yt.join(" ")})(Nt,be);return(Nt.hidden||Nt.disabled)&&(en=en.replace("sd","")),i.default.createElement("div",{key:Fn,tabIndex:-1,"aria-label":"Choose ".concat(Nt.date.format(V)),className:Ht,onMouseEnter:function(){return fe&&Ft(Nt.date)},onKeyDown:function(St){return U(St,Nt,{format:V})},onClick:function(){lt(Nt)&&!Nt.disabled&&(function(St,Ct,Yt){var Gt,Wt,Zn,$n=St.date,Vn=St.current,Dn=T.selectedDate,Ts=T.focused,kn=T.date,Is=kn,Js=Is.hour,Ur=Is.minute,Zs=Is.second;$n.set({hour:((Gt=Dn)===null||Gt===void 0?void 0:Gt.hour)||Js,minute:((Wt=Dn)===null||Wt===void 0?void 0:Wt.minute)||Ur,second:((Zn=Dn)===null||Zn===void 0?void 0:Zn.second)||Zs}),Yt!==1||Vn?Yt>1&&!Vn&&(Ct===0&&$n<kn&&(kn=new c.default(kn).toFirstOfMonth()),Ct>0&&$n.monthIndex>kn.monthIndex+Ct&&Ct+1===Yt&&(kn=new c.default(kn).toFirstOfMonth().add(1,"month"))):kn=new c.default(kn).toFirstOfMonth();var Ls=p(I($n,ye,T),2);Dn=Ls[0],Ts=Ls[1],z(Dn,u(u({},T),{},{date:kn,focused:Ts,selectedDate:Dn})),me(Ts,$n)})(Nt,Mt,be)}},i.default.createElement("span",m({className:en},hn),lt(Nt)&&!Nt.hidden?fn??Nt.day:""))})))})))})));function lt(mt){return!!mt.current||ee}}function L(w){var T=w.direction,z=w.onClick,B=w.disabled,ee=w.onKeyDown;return i.default.createElement("button",{type:"button",className:"rmdp-arrow-container ".concat(T," ").concat(B?"disabled":""),onClick:z,onKeyDown:ee,"aria-roledescription":"button to navigate ".concat(T.replace("rmdp-",""))},i.default.createElement("i",{className:"rmdp-arrow"}))}function le(w){var T=w.state,z=w.setState,B=w.disableYearPicker,ee=w.disableMonthPicker,Q=w.buttons,ve=w.renderButton,je=w.handleMonthChange,ye=w.disabled,be=w.hideMonth,ue=w.hideYear,we=w.isRTL,me=w.fullYear,De=p(w.monthAndYears,2),Xe=De[0],qe=De[1],Be=w.monthYearSeparator,C=w.formatMonth,X=w.formatYear,fe=w.headerOrder,He=w.onYearChange,Ye={},Te=T.date,gt=T.onlyMonthPicker,nt=T.onlyYearPicker,Ee=T.mustShowYearPicker,Se=T.minDate,Me=T.maxDate,Ie=T.year,Je=T.today,Ke=Se&&Te.year<=Se.year&&Se.monthIndex>Te.monthIndex-1,Le=Me&&Te.year>=Me.year&&Me.monthIndex<Te.monthIndex+1,Ce=Je.year+7;if(Ce-=12*Math.floor((Ce-Ie)/12),(be||me)&&ue&&!Q)return null;if((gt||me)&&(Se&&Se.year>=Te.year&&(Ke=!0),Me&&Me.year<=Te.year&&(Le=!0)),Ee||nt){var $e=Ce-11;Ke=Se&&Se.year>$e,Le=Me&&Me.year<Ce}return ye&&(Ke=!0,Le=!0),i.default.createElement("div",{className:"rmdp-header"},i.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},Array.from(new Set(fe)).map((function(lt,mt){return i.default.createElement(n.Fragment,{key:mt},(function(Mt){switch(Mt){case"LEFT_BUTTON":return Q&&Kt("left");case"RIGHT_BUTTON":return Q&&Kt("right");case"MONTH_YEAR":case"YEAR_MONTH":if(me)return i.default.createElement("div",{className:"rmdp-header-values",style:Ye},!ue&&Te.format("YYYY"));var Rt=Mt.split("_").filter((function(yn){return yn==="MONTH"&&!be||yn==="YEAR"&&!ue}));return Rt.length>1&&(Rt=[Rt[0],Ze(),Rt[1]]),Xe.map((function(yn,Nt){return i.default.createElement("div",{key:Nt,className:"rmdp-header-values",style:Ye},Rt.map((function(Fn,hn){return i.default.createElement(n.Fragment,{key:hn},(function(Cn,en,fn){switch(Cn){case"MONTH":return i.default.createElement("span",{tabIndex:0,onKeyDown:Ge,style:{cursor:ye||ee||gt?"default":"pointer"},onClick:function(Ht){return!ee&&zn("mustShowMonthPicker",Ht)}},(function(Ht,St){return typeof C=="function"?C(Ht,St):Ht})(en,qe[fn]));case"YEAR":return i.default.createElement("span",{tabIndex:0,onKeyDown:Ge,style:{cursor:ye||B||nt?"default":"pointer"},onClick:function(Ht){return!B&&zn("mustShowYearPicker",Ht)}},(function(Ht,St){return typeof C=="function"?X(Ht,St):Ht})(qe[fn],en));default:return Cn}})(Fn,yn,Nt))})))}));default:return}})(lt))}))));function Ge(lt){var mt=lt.currentTarget,Mt=lt.key,Rt=lt.code;Rt==="Space"||Mt===" "?(lt.preventDefault(),mt.click()):Rt==="ArrowDown"&&(lt.preventDefault(),oe(F(lt.target)))}function Ze(){return Be?i.default.createElement("span",null,Be):we?"ØŒ":","}function Kt(lt){var mt=function(Rt){Rt.preventDefault(),Ft(lt==="right"?1:-1,Rt)},Mt=lt==="left"&&Ke||lt==="right"&&Le;return ve instanceof Function?ve(lt,mt,Mt,Ge):n.isValidElement(ve)?n.cloneElement(ve,{direction:lt,handleClick:mt,disabled:Mt,onKeyDown:Ge}):i.default.createElement(L,{direction:"rmdp-".concat(lt),onClick:mt,onKeyDown:Ge,disabled:Mt})}function Ft(lt,mt){ye||lt<0&&Ke||lt>0&&Le||(me?(Te.year+=lt,He?.(new c.default(Te))):Ee||nt?(Ie+=12*lt,lt<0&&Se&&Ie<Se.year&&(Ie=Se.year),lt>0&&Me&&Ie>Me.year&&(Ie=Me.year)):(Te.toFirstOfMonth(),gt?Te.year+=lt:(Te.month+=lt,je(Te))),z(u(u({},T),{},{date:Te,year:Ie})),oe(F(mt.target),void 0,!1))}function zn(lt,mt){if(!ye){var Mt={mustShowMonthPicker:!1,mustShowYearPicker:!1};Mt[lt]=!T[lt],z(u(u({},T),Mt)),oe(F(mt.target),void 0,!1)}}}function J(w){return j(w)||(w=[]),JSON.stringify(w)}var Z="MMMM of YYYY";function Ne(w){var T=w.state,z=w.onChange,B=w.customMonths,ee=w.sort,Q=w.handleMonthChange,ve=w.handleFocusedDate,je=w.rangeHover,ye=w.highlightToday,be=w.numberOfMonths,ue=T.date,we=T.today,me=T.minDate,De=T.maxDate,Xe=T.calendar,qe=T.locale,Be=T.onlyMonthPicker,C=T.onlyYearPicker,X=T.range,fe=T.onlyShowInRangeDates,He=(T.mustShowMonthPicker||Be)&&!C,Ye=p(n.useState(),2),Te=Ye[0],gt=Ye[1];B=B&&J(B);var nt=n.useMemo((function(){var Me=[],Ie=Be?be:1,Je=B&&JSON.parse(B),Ke=new c.default({calendar:Xe,locale:qe,format:T.date._format,year:T.date.year,month:1,day:1});j(Je)&&Je.length>=12?(Je.length=12,Je=Je.map((function(Ft){return j(Ft)?Ft[0]:Ft}))):Je=Ke.locale.months.map((function(Ft){return p(Ft,1)[0]}));for(var Le=0;Le<Ie;Le++){for(var Ce=[],$e=0,Ge=0;Ge<4;Ge++){for(var Ze=[],Kt=0;Kt<3;Kt++)Ze.push({date:new c.default(Ke),name:Je[$e]}),$e++,Ke.add(1,"month");Ce.push(Ze)}Me.push(Ce)}return Me}),[Xe,qe,B,T.date.year,T.date._format,be,Be]);return i.default.createElement("div",{className:"".concat(Be?"only ":"","rmdp-month-picker"),style:{display:He?"flex":"none"},"data-active":He,onMouseLeave:function(){return je&&gt()}},nt.map((function(Me,Ie){return i.default.createElement("div",{key:Ie,style:{margin:"0 5px",flex:1}},Me.map((function(Je,Ke){return i.default.createElement("div",{key:Ke,className:"rmdp-ym"},Je.map((function(Le,Ce){var $e=Le.date,Ge=Le.name;return i.default.createElement("div",{key:Ce,"aria-label":"Select ".concat($e.format(Z)),tabIndex:-1,onKeyDown:function(Ze){return U(Ze,{date:$e},{format:Z,type:"month"})},className:Se($e),onClick:function(Ze){return Ee($e,Ze)},onMouseEnter:function(){return je&&gt($e)}},i.default.createElement("span",{className:Be?"sd":""},Ge))})))})))})));function Ee(Me,Ie){var Je=T.selectedDate,Ke=T.focused,Le=Me.year,Ce=Me.monthIndex;if(!(me&&Le<=me.year&&Ce<me.monthIndex||De&&Le>=De.year&&Ce>De.monthIndex)){if(ue.setMonth(Ce+1),Be){var $e=p(I(Me,ee,T),2);Je=$e[0],Ke=$e[1]}else Q(ue),oe(F(Ie.target));z(Be?Je:void 0,u(u({},T),{},{date:ue,focused:Ke,selectedDate:Je,mustShowMonthPicker:!1})),Be&&ve(Ke,Me)}}function Se(Me){var Ie=["rmdp-day"],Je=Me.year,Ke=Me.monthIndex,Le=T.selectedDate,Ce=T.multiple;if((me&&(Je<me.year||Je===me.year&&Ke<me.monthIndex)||De&&(Je>De.year||Je===De.year&&Ke>De.monthIndex))&&Ie.push("rmdp-disabled"),!Ie.includes("rmdp-disabled")||!fe)return N(we,Me,!0)&&ye&&Ie.push("rmdp-today"),Be?X?(Ie.push(S(Me,Le,!0,Ce)),Ie=Ie.concat(D(Me,Le,Te,je,"month",Ce))):[].concat(Le).some((function($e){return N($e,Me,!0)}))&&Ie.push("rmdp-selected"):ue.monthIndex===Ke&&Ie.push("rmdp-selected"),Ie.join(" ")}}function W(w,T){return w.replace(/[0-9]/g,(function(z){return T[z]}))}var he="YYYY";function Qe(w){var T=w.state,z=w.onChange,B=w.sort,ee=w.handleFocusedDate,Q=w.onYearChange,ve=w.rangeHover,je=w.highlightToday,ye=T.date,be=T.today,ue=T.minDate,we=T.maxDate,me=T.onlyYearPicker,De=T.range,Xe=T.onlyShowInRangeDates,qe=T.year,Be=T.mustShowYearPicker||me,C=ye.digits,X=p(n.useState(),2),fe=X[0],He=X[1],Ye=be.year-4;Ye-=12*Math.ceil((Ye-qe)/12);var Te=n.useMemo((function(){for(var Ee=[],Se=Ye,Me=0;Me<4;Me++){for(var Ie=[],Je=0;Je<3;Je++)Ie.push(Se),Se++;Ee.push(Ie)}return Ee}),[Ye]);return i.default.createElement("div",{className:"".concat(me?"only ":"","rmdp-year-picker"),style:{display:Be?"block":"none"},"data-active":Be},Te.map((function(Ee,Se){return i.default.createElement("div",{key:Se,className:"rmdp-ym",onMouseLeave:function(){return ve&&He()}},Ee.map((function(Me,Ie){return i.default.createElement("div",{key:Ie,"aria-label":"Select year ".concat(Me),tabIndex:-1,onKeyDown:function(Je){return U(Je,{year:Me,date:ye},{format:he,type:"year"})},className:gt(Me),onClick:function(Je){return(function(Ke,Le){if(!nt(Ke)){var Ce=new c.default(T.date).setYear(Ke),$e=T.selectedDate,Ge=T.focused;if(me){var Ze=p(I(Ce,B,T),2);$e=Ze[0],Ge=Ze[1]}else ue&&Ce.monthIndex<ue.monthIndex?Ce=Ce.setMonth(ue.monthIndex+1):we&&Ce.monthIndex>we.monthIndex&&(Ce=Ce.setMonth(we.monthIndex+1)),Q?.(Ce),oe(F(Le.target));z(me?$e:void 0,u(u({},T),{},{date:Ce,focused:Ge,selectedDate:$e,mustShowYearPicker:!1})),me&&ee(Ge,Ce)}})(Me,Je)},onMouseEnter:function(){return ve&&He(Me)}},i.default.createElement("span",{className:me?"sd":""},W(Me.toString(),C)))})))})));function gt(Ee){var Se=["rmdp-day"],Me=T.date,Ie=T.selectedDate,Je=T.multiple;if(nt(Ee)&&Se.push("rmdp-disabled"),!Se.includes("rmdp-disabled")||!Xe){if(be.year===Ee&&je&&Se.push("rmdp-today"),me)if(De){var Ke=function(Le){var Ce=Le[0],$e=Le[1];if(Le.length===1){if(Ee===Ce.year&&Se.push("rmdp-range"),ve){var Ge=Le[0].year;(Ee>Ge&&Ee<=fe||Ee<Ge&&Ee>=fe)&&(Se.push("rmdp-range-hover"),Ee===fe&&Se.push(fe>Ge?"end":"start"))}}else Le.length===2&&(Ee>=Ce.year&&Ee<=$e.year&&Se.push("rmdp-range"),Ee===Ce.year&&Se.push("start"),Ee===$e.year&&Se.push("end"))};Je?(j(Ie)?Ie:[[Ie]]).forEach((function(Le){return Ke(Le)})):Ke(Ie)}else[].concat(Ie).some((function(Le){return Le&&Le.year===Ee}))&&Se.push("rmdp-selected");else Ee===Me.year&&Se.push("rmdp-selected");return Se.join(" ")}}function nt(Ee){return ue&&Ee<ue.year||we&&Ee>we.year}}function We(w,T,z){return z||(w?"MM/YYYY":T?"YYYY":"YYYY/MM/DD")}function Pe(w,T){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY/MM/DD";return w instanceof c.default?w.set({calendar:T,format:z}):w=new c.default({date:w,calendar:T,format:z}),w}function R(w){"_self"in i.default.createElement("div")&&console.warn(w.join(`
`))}var b=new c.default,$=b.calendar,A=b.locale;function ae(w,T){return w&&w.constructor!==Object&&(R(ke("calendar")),w=void 0),T&&T.constructor!==Object&&(R(ke("locale")),T=void 0),[w||$,T||A]}function ke(w){return["".concat(w," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function ot(w){return w&&w.name?w.name.split("_")[1]:""}function jt(w){return["fa","ar"].includes(ot(w))}function rt(w,T){T===void 0&&(T={});var z=T.insertAt;if(w&&typeof document<"u"){var B=document.head||document.getElementsByTagName("head")[0],ee=document.createElement("style");ee.type="text/css",z==="top"&&B.firstChild?B.insertBefore(ee,B.firstChild):B.appendChild(ee),ee.styleSheet?ee.styleSheet.cssText=w:ee.appendChild(document.createTextNode(w))}}rt(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-calendar :focus{outline-color:#00539c}.rmdp-day:not(.rmdp-range):focus{border-radius:50%}.rmdp-ym .rmdp-day:not(.rmdp-range):focus{border-radius:15px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start:not(.force),.rmdp-range.start:not(.force){border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end:not(.force),.rmdp-range.end:not(.force){border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-ym .rmdp-range.start:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-ym .rmdp-range.end:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}@media (hover:hover){.rmdp-day:not(.rmdp-disabled,.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;margin-top:5px;padding:9px 0}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:240px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;padding:0;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-range.start:not(.force){border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-range.end:not(.force){border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end:not(.force){border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.start:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.end:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:230px}.rmdp-header{padding:3px 0 0}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var it=["datePickerProps","DatePicker"];function Qt(w,T){var z,B=w.value,ee=w.calendar,Q=w.locale,ve=w.format,je=w.onlyMonthPicker,ye=w.onlyYearPicker,be=w.range,ue=be!==void 0&&be,we=w.multiple,me=we!==void 0&&we,De=w.className,Xe=w.role,qe=w.weekDays,Be=w.months,C=w.children,X=w.onChange,fe=w.showOtherDays,He=w.minDate,Ye=w.maxDate,Te=w.mapDays,gt=w.disableMonthPicker,nt=w.disableYearPicker,Ee=w.formattingIgnoreList,Se=w.onReady,Me=w.onlyShowInRangeDates,Ie=Me===void 0||Me,Je=w.zIndex,Ke=Je===void 0?100:Je,Le=w.plugins,Ce=Le===void 0?[]:Le,$e=w.sort,Ge=w.numberOfMonths,Ze=Ge===void 0?1:Ge,Kt=w.currentDate,Ft=w.digits,zn=w.buttons,lt=zn===void 0||zn,mt=w.renderButton,Mt=w.weekStartDayIndex,Rt=Mt===void 0?0:Mt,yn=w.disableDayPicker,Nt=w.onPropsChange,Fn=w.onMonthChange,hn=w.onYearChange,Cn=w.onFocusedDateChange,en=w.readOnly,fn=w.disabled,Ht=w.hideMonth,St=w.hideYear,Ct=w.hideWeekDays,Yt=w.shadow,Gt=Yt===void 0||Yt,Wt=w.fullYear,Zn=w.displayWeekNumbers,$n=w.weekNumber,Vn=w.weekPicker,Dn=w.rangeHover,Ts=w.monthYearSeparator,kn=w.formatMonth,Is=w.formatYear,Js=w.highlightToday,Ur=Js===void 0||Js,Zs=w.headerOrder,Ls=Zs===void 0?["LEFT_BUTTON","MONTH_YEAR","RIGHT_BUTTON"]:Zs,qr=w.style,Li=qr===void 0?{}:qr,Kr=w.autoFocus,Gr=Kr!==void 0&&Kr;!Kt||Kt instanceof c.default||(console.warn("currentDate must be instance of DateObject"),Kt=void 0),(typeof Rt!="number"||Rt<0||Rt>6)&&(Rt=0),(typeof Ze!="number"||Ze<1||ye)&&(Ze=1),!(me||ue||j(B))||ue||me||(me=!0),Vn&&(ue=!0,me=!1),Wt&&(Ze=12,je=!1,ye=!1),ye&&!Ht&&(Ht=!0);var Qs=p(ae(ee,Q),2);ee=Qs[0],Q=Qs[1],ve=We(je,ye,ve),Ee=J(Ee),Te=[].concat(Te).filter(Boolean),Ce=[].concat.apply([],Ce);var Xr=p(n.useState({}),2),En=Xr[0],Qn=Xr[1],ms={},bn=n.useRef({mustCallOnReady:!0,currentDate:Kt});n.useEffect((function(){Qn((function(ge){var dt=bn.current.currentDate,at=ge.date,st=ge.selectedDate,Ut=ge.initialValue,$t=ge.focused,kt=ge.mustSortDates;function tn(ne){if(ne)return ne.calendar.name!==ee.name&&ne.setCalendar(ee),ne.locale.name!==Q.name&&ne.setLocale(Q),ne._format!==ve&&ne.setFormat(ve),ne.digits=Ft,ne.ignoreList=JSON.parse(Ee),ne}function wn(ne){return new c.default(dt||ne)}if(B)if(j(st=mn(B,ee,Q,ve)))at||(at=wn(st.flat()[0]));else if(at&&Ze!==1){var ns=new c.default(at).toFirstOfMonth(),fs=new c.default(at).add(Ze-1,je?"years":"months").toLastOfMonth();(st<ns||st>fs)&&(at=new c.default(st))}else at=wn(st);else at||(at=wn({calendar:ee,locale:Q,format:ve})),Ut&&(st=void 0);if([].concat(st).flat().forEach(tn),tn(at),me||ue||j(B)){if(st||(st=[]),j(st)||(st=me&&ue?[[st]]:[st]),ue&&!me&&st.length>2){var ss=st[st.length-1];st=[st[0],ss],$t=ss}me&&!ue&&$e&&!kt?(kt=!0,st.sort((function(ne,Ue){return ne-Ue}))):ue&&!me&&st.sort((function(ne,Ue){return ne-Ue}))}else j(st)&&(st=st.flat()[st.length-1]);return Wt&&at.toFirstOfYear(),delete bn.current.currentDate,u(u({},ge),{},{date:at,selectedDate:st,multiple:me,range:ue,onlyMonthPicker:je,onlyYearPicker:ye,initialValue:ge.initialValue||B,value:B,focused:$t,calendar:ee,locale:Q,format:ve,mustSortDates:kt,year:at.year,today:tn(ge.today)||new c.default({calendar:ee}),weekPicker:Vn})}))}),[B,ee,Q,ve,je,ye,ue,me,$e,Ze,Ft,Ee,Wt,Vn]),n.useEffect((function(){(He||Ye)&&Qn((function(ge){var dt=ge.calendar,at=ge.locale,st=ge.format,Ut=(function(ns,fs,ss,ne,Ue){return fs&&(fs=Pe(fs,ne,Ue).set({hour:0,minute:0,second:0,millisecond:0})),ss&&(ss=Pe(ss,ne,Ue).set({hour:23,minute:59,second:59,millisecond:999})),j(ns)&&(ns=ns.filter((function(_t){return!(fs&&_t<fs)&&!(ss&&_t>ss)}))),[ns,fs,ss]})(mn(B,dt,at,st),He,Ye,dt,st),$t=p(Ut,3),kt=$t[0],tn=$t[1],wn=$t[2];return u(u({},ge),{},{inRangeDates:Ie?kt:ge.selectedDate,minDate:tn,maxDate:wn})}))}),[He,Ye,Ie,B]),En.today&&!bn.current.isReady&&(bn.current.isReady=!0),n.useEffect((function(){bn.current.isReady&&bn.current.mustCallOnReady&&Se instanceof Function&&(bn.current.mustCallOnReady=!1,Se())}),[bn.current.isReady,Se]);var bs="rmdp-top-class "+ts(["top","bottom"]),Mn={top:[],bottom:[],left:[],right:[]},Jr=jt((z=En.date)===null||z===void 0?void 0:z.locale),es={state:En,setState:Qn,onChange:ws,sort:$e,handleFocusedDate:_s,isRTL:Jr,fullYear:Wt,monthAndYears:(function(){var ge=En.date;if(!ge)return[];for(var dt=[],at=[],st=ge.digits,Ut=0;Ut<Ze;Ut++){var $t=void 0,kt=ge.year,tn=ge.monthIndex+Ut;if(je&&(kt+=Ut),tn>11&&(tn-=12,je||kt++),j(Be)&&Be.length>=12){var wn=Be[tn];$t=j(wn)?wn[0]:wn}else $t=ge.months[tn].name;kt=W(kt.toString(),st),dt.push($t),at.push(kt)}return[dt,at]})(),rangeHover:Dn,highlightToday:Ur,numberOfMonths:Ze},ur=arguments[0],Zr=ur.datePickerProps,mr=ur.DatePicker,Qr=x(ur,it);return n.useEffect((function(){var ge=bn.current.Calendar;ge&&oe(ge,void 0,Gr&&!mr)}),[Gr,En.today,mr]),(function(){if(!(!bn.current.isReady||!j(Ce))){var ge={state:En,setState:Qn,registerListener:ea,calendarProps:Qr,datePickerProps:Zr,handleChange:ws,Calendar:bn.current.Calendar,DatePicker:mr,handlePropsChange:hs,handleFocusedDate:function(at){return _s(at)},minDate:He,maxDate:Ye},dt=function(at){return yn?"bottom":at.props.position||"right"};Ce.forEach((function(at,st){if(typeof at.type!="string"){var Ut={},$t=dt(at);if(Mn[$t]&&!at.props.disabled){for(var kt=0;kt<Ce.length;kt++)if(typeof Ce[kt].type!="string"&&!Ce[kt].props.disabled){if(Object.keys(Ut).length===4)break;var tn=dt(Ce[kt]);["top","bottom"].includes($t)?(tn===$t&&kt>st&&(Ut.bottom=!0),tn===$t&&kt<st&&(Ut.top=!0)):(bs.includes("border-top")&&(Ut.top=!0),bs.includes("border-bottom")&&(Ut.bottom=!0),tn===$t&&kt>st&&(Ut.right=!0),tn===$t&&kt<st&&(Ut.left=!0))}Mn[$t].push(n.cloneElement(at,u({key:st,position:$t,nodes:Ut},ge)))}}else at.type==="mapDays"&&Te.push(at.fn(ge))}))}})(),En.today?i.default.createElement("div",{ref:function(ge){if(ge&&(ge.date=En.date,ge.set=function(dt,at){fn||Qn(u(u({},En),{},{date:new c.default(En.date.set(dt,at))}))}),bn.current.Calendar=ge,T instanceof Function)return T(ge);T&&(T.current=ge)},role:Xe||"dialog",className:"rmdp-wrapper rmdp-".concat(Gt?"shadow":"border"," ").concat(De||""),style:u({zIndex:Ke},Li)},Mn.top,i.default.createElement("div",{style:{display:"flex"},className:bs},Mn.left,!yn&&i.default.createElement("div",{className:"rmdp-calendar ".concat(Jr?"rmdp-rtl":""," ").concat(ts(["left","right"]))},i.default.createElement(le,u(u({},es),{},{disableYearPicker:nt,disableMonthPicker:gt,buttons:lt,renderButton:mt,handleMonthChange:ft,disabled:fn,hideMonth:Ht,hideYear:St,monthYearSeparator:Ts,formatMonth:kn,formatYear:Is,headerOrder:Ls,onYearChange:hn})),i.default.createElement("div",{style:{position:"relative"}},i.default.createElement(k,u(u({},es),{},{showOtherDays:fe,mapDays:Te,onlyShowInRangeDates:Ie,customWeekDays:qe,weekStartDayIndex:Rt,hideWeekDays:Ct,displayWeekNumbers:Zn,weekNumber:$n})),!Wt&&i.default.createElement(i.default.Fragment,null,!gt&&i.default.createElement(Ne,m({},es,{customMonths:Be,handleMonthChange:ft})),!nt&&i.default.createElement(Qe,m({},es,{onYearChange:hn}))))),Mn.right),Mn.bottom,C):null;function ws(ge,dt){if(ge instanceof c.default&&(ge=new c.default(ge)),!fn){if(ge||ge===null){if(en)return;ms.change&&ms.change.forEach((function(st){return st(ge)}))}if(ge||ge===null){var at=X?.(ge);dt&&at!==!1&&Qn(dt)}else dt&&Qn(dt);hs({value:ge})}}function hs(){var ge,dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!en&&!fn){var at=u(u(u(u({},Qr),Zr),dt),{},{value:(ge=dt.value)!==null&&ge!==void 0?ge:En.selectedDate});delete at.onPropsChange,Nt?.(at)}}function _s(ge,dt){en||fn||Cn==null||Cn(ge,dt)}function ft(ge){Fn?.(ge)}function ts(ge){return yn||!j(Ce)?"":Array.from(new Set(Ce.map((function(dt){if(!dt.props)return"";var at=dt.props.position||"right";return ge.includes(at)&&!dt.props.disabled?"rmdp-border-"+at:""})))).join(" ")}function ea(ge,dt){ms[ge]||(ms[ge]=[]),ms[ge].push(dt)}}var qt=n.forwardRef(Qt);function mn(w,T,z,B){var ee=[].concat(w).map((function(je){return j(je)?je.map(Q).filter(ve):Q(je)})).filter(ve);return j(w)?ee:ee.flat()[0];function Q(je){return je?je instanceof c.default?je:new c.default({date:je,calendar:T,locale:z,format:B}):{}}function ve(je){return j(je)||je.isValid}}rt('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var xt=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons","dateSeparator","multipleRangeSeparator","typingTimeout"],ln=["label"];function us(w,T){var z=w.value,B=w.calendar,ee=w.locale,Q=w.format,ve=w.onlyMonthPicker,je=w.onlyYearPicker,ye=w.onChange,be=w.range,ue=be!==void 0&&be,we=w.multiple,me=we!==void 0&&we,De=w.name,Xe=w.id,qe=w.title,Be=w.placeholder,C=w.required,X=w.style,fe=X===void 0?{}:X,He=w.className,Ye=He===void 0?"":He,Te=w.inputClass,gt=w.disabled,nt=w.render,Ee=w.weekDays,Se=w.months,Me=w.children,Ie=w.inputMode,Je=w.scrollSensitive,Ke=Je===void 0||Je,Le=w.hideOnScroll,Ce=w.minDate,$e=w.maxDate,Ge=w.formattingIgnoreList,Ze=w.containerClassName,Kt=Ze===void 0?"":Ze,Ft=w.calendarPosition,zn=Ft===void 0?"bottom-left":Ft,lt=w.editable,mt=lt===void 0||lt,Mt=w.onOpen,Rt=w.onClose,yn=w.arrowClassName,Nt=yn===void 0?"":yn,Fn=w.zIndex,hn=Fn===void 0?100:Fn,Cn=w.arrow,en=Cn===void 0||Cn,fn=w.fixMainPosition,Ht=w.onPositionChange,St=w.onPropsChange,Ct=w.digits,Yt=w.readOnly,Gt=w.shadow,Wt=Gt===void 0||Gt,Zn=w.onFocusedDateChange,$n=w.type,Vn=w.weekPicker,Dn=w.mobileLabels,Ts=w.onOpenPickNewDate,kn=Ts===void 0||Ts,Is=w.mobileButtons,Js=Is===void 0?[]:Is,Ur=w.dateSeparator,Zs=w.multipleRangeSeparator,Ls=Zs===void 0?",":Zs,qr=w.typingTimeout,Li=qr===void 0?700:qr,Kr=x(w,xt),Gr=p(n.useState(),2),Qs=Gr[0],Xr=Gr[1],En=p(n.useState(),2),Qn=En[0],ms=En[1],bn=p(n.useState(""),2),bs=bn[0],Mn=bn[1],Jr=p(n.useState(!1),2),es=Jr[0],ur=Jr[1],Zr=p(n.useState(!1),2),mr=Zr[0],Qr=Zr[1],ws=n.useRef(),hs=n.useRef(),_s=n.useRef(),ft=n.useRef({isTyping:!1}),ts=Ur||(ue||Vn?" ~ ":", "),ea=arguments[0],ge=typeof Ye=="string"&&Ye.includes("rmdp-mobile"),dt=n.useCallback((function(){if(Rt?.()!==!1){var ne=Sn(hs);if(ne&&ne.forEach((function(_t){return _t.blur()})),ft.current.mobile){var Ue=_s.current.parentNode.parentNode;Ue.classList.remove("rmdp-calendar-container-mobile"),Ue.style.position="absolute",Ue.style.visibility="hidden"}ft.current.validInputValue!==void 0&&(Mn(ft.current.validInputValue),ft.current.validInputValue=void 0),ur(!1),Qr(!1)}}),[Rt]),at=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){ms(void 0),dt()},label:$t("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){Qn&&(wn(Qn,!0),ms(void 0)),dt()},label:$t("OK")}];ge&&!ft.current.mobile&&(ft.current=u(u({},ft.current),{},{mobile:!0})),!ge&&ft.current.mobile&&(ft.current=u(u({},ft.current),{},{mobile:!1})),Ge=J(Ge),Q=We(ve,je,Q);var st,Ut=p(ae(B,ee),2);return B=Ut[0],ee=Ut[1],n.useEffect((function(){function ne(_t){if(es&&!ft.current.mobile){var pn=[];if([hs.current,_s.current].forEach((function(An){var nn,On;!An||An.contains(_t.target)||_t.target.classList.contains("b-deselect")||(nn=_t.target.parentNode)!==null&&nn!==void 0&&(nn=nn.classList)!==null&&nn!==void 0&&(On=nn.contains)!==null&&On!==void 0&&On.call(nn,"b-deselect")||pn.push(An)})),pn.length===2)return dt();_s.current&&_s.current.contains(_t.target)&&(ws.current.removeTransition(),ws.current.refreshPosition())}}function Ue(){Le&&es&&dt()}return document.addEventListener("click",ne,!1),document.addEventListener("scroll",Ue,!0),function(){document.removeEventListener("click",ne,!1),document.removeEventListener("scroll",Ue,!0)}}),[dt,T,es,Le]),n.useEffect((function(){var ne=z,Ue=ft.current,_t=Ue.date,pn=Ue.initialValue,An=function(){return ne[ne.length-1]};function nn(Et){if(Et)return Et instanceof c.default||(Et=new c.default({date:Et,calendar:B,locale:ee,format:Q})),Et.calendar!==B&&Et.setCalendar(B),Et.set({weekDays:Ee,months:Se,digits:Ct,locale:ee,format:Q,ignoreList:JSON.parse(Ge)}),Et}z||pn||!_t?pn&&!z&&(pn=void 0):ne=_t;var On="";if(ue||me||j(ne)){var ta=function(Et){return Et=Et.map(nn).filter((function(sa){return sa!==void 0})),ue&&Et.length>2&&(Et=[Et[0],An()]),[Et,ct(Et,ts)]};if(j(ne)||(ne=ue&&me?ne?[[ne]]:[]:[ne]),me&&ue)ne=ne.map((function(Et,sa){var vo=p(ta(j(Et)?Et:[Et]),2),Kh=vo[0],Gh=vo[1];return On+=Gh+(sa<ne.length-1?" ".concat(Ls," "):""),Kh}));else{var na=p(ta(ne),2);ne=na[0],On=na[1]}On=On.toString().replace(/\s,\s$/,"")}else j(ne)&&(ne=An()),(ne=nn(ne))&&(On=ne.format());ft.current.isTyping||Mn(On),ft.current=u(u({},ft.current),{},{date:ne,separator:ts,initialValue:pn||z}),ft.current.mobile&&ws.current.isOpen?ms(ne):(ft.current.validInputValue=void 0,Xr(ne))}),[z,B,ee,Q,ue,me,ts,ve,je,Ee,Se,Ct,Ge]),n.useEffect((function(){var ne=ft.current.selection;if(ne){var Ue=Sn(hs);Ue.length!==0&&(Ue.forEach((function(_t){document.activeElement===_t&&(_t.setSelectionRange(ne,ne),ft.current.selection=void 0)})),ws.current.refreshPosition())}}),[bs]),(me||ue||j(Qs)||!mt)&&(Ie="none"),i.default.createElement(o.default,m({ref:function(ne){if(ne&&(ne.openCalendar=function(){return setTimeout((function(){return kt()}),10)},ne.closeCalendar=dt,ne.isOpen=es&&mr),ws.current=ne,T instanceof Function)return T(ne);T&&(T.current=ne)},element:nt?i.default.createElement("div",{ref:hs},n.isValidElement(nt)?n.cloneElement(nt,{value:bs,openCalendar:kt,onFocus:kt,handleValueChange:ns,onChange:ns,locale:ee,separator:ts}):nt instanceof Function?nt(bs,kt,ns,ee,ts):null):i.default.createElement("input",{ref:hs,type:$n||"text",name:De,id:Xe,title:qe,required:C,onFocus:kt,className:Te||"rmdp-input",placeholder:Be,value:bs,onChange:ns,style:fe,autoComplete:"off",disabled:!!gt,inputMode:Ie||(ge?"none":void 0),readOnly:Yt}),popper:es&&i.default.createElement(qt,m({ref:_s,value:Qn||Qs,onChange:wn,range:ue,multiple:me,calendar:B,locale:ee,format:Q,onlyMonthPicker:ve,onlyYearPicker:je,className:Ye+(ge?" rmdp-mobile":""),weekDays:Ee,months:Se,digits:Ct,minDate:Ce,maxDate:$e,formattingIgnoreList:JSON.parse(Ge),onPropsChange:St,shadow:Wt,onReady:fs,DatePicker:ws.current,datePickerProps:ea,onFocusedDateChange:ss,weekPicker:Vn},Kr),Me,ge&&(st=[].concat.apply([],ea.plugins||[]).some((function(ne){var Ue=ne.props;return!(Ue===void 0?{}:Ue).disabled})),j(Js)&&i.default.createElement("div",{className:"rmdp-action-buttons ".concat(jt(ee)?"rmdp-rtl":""," ").concat(st?"rmdp-border-top":"")},Js.concat(at).map((function(ne,Ue){var _t=ne.label,pn=x(ne,ln);return i.default.createElement("button",m({key:Ue},pn),_t)}))))),active:!ge&&mr,position:zn,arrow:!ge&&en,fixMainPosition:!Ke||fn,zIndex:hn,onChange:!ge&&Ht,containerClassName:"rmdp-container ".concat(Kt),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(Wt?"shadow":"border"),Ye,Nt].join(" ")},Kr));function $t(ne){var Ue,_t=ee||new c.default().locale;return typeof _t.name!="string"?ne:Dn?.[ne]||((Ue={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"ØªØ£ÛŒÛŒØ¯",CANCEL:"Ù„ØºÙˆ"},ar:{OK:"ØªØ£ÙƒÙŠØ¯",CANCEL:"Ø§Ù„ØºØ§Ø¡"},hi:{OK:"à¤ªà¥à¤·à¥à¤Ÿà¤¿",CANCEL:"à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚"}}[ot(_t)])===null||Ue===void 0?void 0:Ue[ne])||ne}function kt(){if(!gt&&!Yt&&Mt?.()!==!1){if(kn&&!z&&!ft.current.date&&!ue&&!me&&!ge){var ne=new c.default({calendar:B,locale:ee,format:Q,months:Se,weekDays:Ee,digits:Ct,ignoreList:JSON.parse(Ge)});(!Ce||ne>Pe(Ce,B,Q))&&(!$e||ne<Pe($e,B,Q))&&(wn(ne),St?.(u(u({},ea),{},{value:ne})),ft.current.date=ne)}var Ue=Sn(hs);ge&&Ue.length>0&&Ue.forEach((function(_t){return _t.blur()})),Ue.length>0||!es?ur(!0):dt()}}function tn(ne){var Ue="";return ne&&(Ue=me&&ue&&j(ne)?ne.map((function(_t){return ct(_t,ts)})).join(" ".concat(Ls," ")):ct(ne,ts)),Ue}function wn(ne,Ue,_t){if(ge&&!Ue)return ms(ne);var pn=tn(ne),An=_t||pn.toString().replace(/\s,\s$/,"");return ne&&[].concat(ne).flat().some((function(nn){return Ce&&nn<Pe(Ce,B,Q)||$e&&nn>Pe($e,B,Q)}))?(ft.current.validInputValue=tn(z||ft.current.date),Mn(An)):(ft.current.validInputValue=pn,ye?.(ne,{validatedValue:pn,input:hs.current,isTyping:!!_t})===!1?(Mn(bs),!1):(Xr(ne),Mn(An),void(ft.current=u(u({},ft.current),{},{date:ne}))))}function ns(ne){if(mt){ft.current.isTyping=!0,setTimeout((function(){ft.current.isTyping=!1}),Li),ft.current.selection=ne.target.selectionStart;var Ue=ne.target.value,_t={calendar:B,locale:ee,format:Q,ignoreList:JSON.parse(Ge)};if(Ct=j(Ct)?Ct:ee.digits,!Ue)return Mn(""),wn(null);if(Ct){var pn,An,nn=_(Ct);try{for(nn.s();!(pn=nn.n()).done;){var On=pn.value;Ue=Ue.replace(new RegExp(On,"g"),Ct.indexOf(On))}}catch(Et){nn.e(Et)}finally{nn.f()}An=j(Qs)?me&&ue?(Ue||"").split(Ls).filter(Boolean).map(na):na(Ue):ta(Ue),wn(j(Qs)||An.isValid?An:null,void 0,W(Ue,Ct))}}function ta(Et){return/(?=.*Y)(?=.*M)(?=.*D)/.test(Q)?new c.default(u(u({},_t),{},{date:Et})):new c.default(_t).parse(Et)}function na(Et){return(Et||"").split(ts).filter(Boolean).map((function(sa){return ta(sa.trim())}))}}function fs(){if(Qr(!0),ge){var ne=_s.current.parentNode.parentNode;ne.className="rmdp-calendar-container-mobile",ne.style.position="fixed",ne.style.transform="",setTimeout((function(){ne.style.visibility="visible"}),50)}}function ss(ne,Ue){j(ft.current.date)||!Ue||ge||dt(),Zn?.(ne,Ue)}}var te=n.forwardRef(us);function ct(w,T){var z=[].concat(w).map((function(B){return B!=null&&B.isValid?B.format():""}));return z.toString=function(){return this.filter(Boolean).join(T)},z}function Sn(w){return w.current?w.current.tagName==="INPUT"?[w.current]:Array.from(w.current.querySelectorAll("input")):[]}Object.defineProperty(t,"DateObject",{enumerable:!0,get:function(){return c.default}}),t.Calendar=qt,t.default=te,t.getAllDatesInRange=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(w))return[];var z=w[0],B=w[w.length-1],ee=[];if(!(z instanceof c.default&&B instanceof c.default&&z.isValid&&B.isValid&&!(z>B)))return[];for(z=new c.default(z),B=new c.default(B);z<=B;z.day++)ee.push(T?z.toDate():new c.default(z));return ee},t.toDateObject=Pe})(Qi)),Qi}var zb=Lb();const Fb=ja(zb);var nl,uc;function $b(){if(uc)return nl;uc=1;function t(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var n=t({name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:s=>[31,s?29:28,31,30,31,30,31,31,30,31,30,31],isLeap:s=>s%4==0&&s%100!=0||s%400==0,getLeaps(s){if(s===0)return;let r=s>0?1:-1,a=[];for(;s>0?r<=s:s<=r;)this.isLeap(r)&&a.push(r),s>0?r++:r--;return a},getDayOfYear({year:s,month:r,day:a}){let i=this.getMonthLengths(this.isLeap(s));for(let o=0;o<r.index;o++)a+=i[o];return a},getAllDays(s){const{year:r}=s;return this.yearLength*(r-1)+this.leapsLength(r)+this.getDayOfYear(s)},leapsLength:s=>((s-1)/4|0)+(-(s-1)/100|0)+((s-1)/400|0),guessYear:(s,r)=>~~(s/365.24)+(r>0?1:-1)});return nl=n,nl}var Vb=$b();const da=ja(Vb);var sl,mc;function Yb(){if(mc)return sl;mc=1;function t(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var n=t({name:"persian",startYear:1,yearLength:365,epoch:1948319,century:14,weekStartDayIndex:0,getMonthLengths:s=>[31,31,31,31,31,31,30,30,30,30,30,s?30:29],isLeap(s){return this.getLeaps(s).includes(s)},getLeaps(s){if(s===0)return;let r=s>0?1:-1,a=[],i=.242362,o=s>0?.2684:.7316,c={5:4,38:37,199:198,232:231,265:264,298:297,557:558,590:591,623:624,982:983,1015:1016,1048:1049,1081:1082,1114:1115,1242:1243,1374:1375,1407:1408,1440:1441,1506:1507,1539:1540,1572:1573,1605:1606,1931:1932,1964:1965,2063:2064,2096:2097,2687:2686,2720:2719,2753:2752,2819:2818,2852:2851,2885:2884,3017:3016,3112:3111,3145:3144,3178:3177,3211:3210,3244:3243,3277:3276,3310:3309,3343:3342,3376:3375,3409:3408,3442:3441,3508:3507,3541:3540,3574:3573,3603:3602,3607:3606,3636:3635,3669:3668,3702:3701,3706:3705,3735:3734,3768:3767,3801:3800,3834:3833,3867:3866,3900:3899,3933:3932,3966:3965,3999:3998,4065:4064,4094:4093,4098:4097,4127:4126,4131:4130,4160:4159,4193:4192,4226:4225,4259:4258,4292:4291,4325:4324,4358:4357,4391:4390,4585:4584,4618:4617,4651:4650,4750:4749,4943:4944,4976:4977,5009:5010,5170:5171,5203:5204,5236:5237,5265:5266,5269:5270,5298:5299,5302:5303,5331:5332,5335:5336,5364:5365,5368:5369,5393:5394,5397:5398,5401:5402,5426:5427,5430:5431,5434:5435,5459:5460,5463:5464,5467:5468,5492:5493,5496:5497,5500:5501,5521:5522,5525:5526,5529:5530,5554:5555,5558:5559,5562:5563,5587:5588,5591:5592,5595:5596,5616:5617,5620:5621,5624:5625,5628:5629,5649:5650,5653:5654,5657:5658,5661:5662,5682:5683,5686:5687,5690:5691,5694:5695,5715:5716,5719:5720,5723:5724,5727:5728,5744:5745,5748:5749,5752:5753,5756:5757,5760:5761,5777:5778,5781:5782,5785:5786,5789:5790,5793:5794,5810:5811,5814:5815,5818:5819,5822:5823,5826:5827,5839:5840,5843:5844,5847:5848,5851:5852,5855:5856,5859:5860,5872:5873,5876:5877,5880:5881,5884:5885,5888:5889,5892:5893,5901:5902,5905:5906,5909:5910,5913:5914,5917:5918,5921:5922,5925:5926,5934:5935,5938:5939,5942:5943,5946:5947,5950:5951,5954:5955,5958:5959,5967:5968,5971:5972,5975:5976,5979:5980,5983:5984,5987:5988,5991:5992,5996:5997,6e3:6001,6004:6005,6008:6009,6012:6013,6016:6017,6020:6021,6029:6030,6033:6034,6037:6038,6041:6042,6045:6046,6049:6050,6053:6054,6058:6059,6062:6063,6066:6067,6070:6071,6074:6075,6078:6079,6082:6083,6086:6087,6091:6092,6095:6096,6099:6100,6103:6104,6107:6108,6111:6112,6115:6116,6119:6120,6124:6125,6128:6129,6132:6133,6136:6137,6140:6141,6144:6145,6148:6149,6152:6154,6157:6158,6161:6162,6165:6166,6169:6170,6173:6174,6177:6178,6181:6182,6185:6187,6190:6191,6194:6195,6198:6199,6202:6203,6206:6207,6210:6211,6214:6215,6218:6220,6223:6224,6227:6228,6231:6232,6235:6236,6239:6240,6243:6244,6247:6249,6251:6253,6256:6257,6260:6261,6264:6265,6268:6269,6272:6273,6276:6277,6280:6282,6284:6286,6289:6290,6293:6294,6297:6298,6301:6302,6305:6306,6309:6310,6313:6315,6317:6319,6322:6323,6326:6327,6330:6331,6334:6335,6338:6339,6342:6344,6346:6348,6350:6352,6355:6356,6359:6360,6363:6364,6367:6368,6371:6372,6375:6377,6379:6381,6383:6385,6388:6389,6392:6393,6396:6397,6400:6401,6404:6406,6408:6410,6412:6414,6416:6418,6421:6422,6425:6426,6429:6430,6433:6434,6437:6439,6441:6443,6445:6447,6449:6451,6454:6455,6458:6459,6462:6463,6466:6468,6470:6472,6474:6476,6478:6480,6482:6484,6487:6488,6491:6492,6495:6496};for(;s>0?r<=s:s<=r;){if(o+=s>0?i:-1*i,o>1&&(o-=1),o<0&&(o+=1),o>=.257800926&&o<=.5){let d=c[r]||r<-1?r+1:r;s>0&&d<=s&&a.push(d),s<0&&a.push(d)}s>0?r++:r--}return a},getDayOfYear:({month:{index:s},day:r})=>(s<=6?31*s:186+30*(s-6))+r,getAllDays(s){const{year:r}=s,a=this.getLeaps(r),i=a.includes(r);return this.yearLength*(r-1)+(i?a.length-1:a.length)+this.getDayOfYear(s)},guessYear:(s,r)=>~~((s+.5)/365.241)+(r>0?1:-1)});return sl=n,sl}var Wb=Yb();const nr=ja(Wb);var rl,hc;function Bb(){if(hc)return rl;hc=1;function t(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var n=t({name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]});return rl=n,rl}var Hb=Bb();const Ub=ja(Hb);var al,fc;function qb(){if(fc)return al;fc=1;function t(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var n=t({name:"persian_fa",months:[["ÙØ±ÙˆØ±Ø¯ÛŒÙ†","ÙØ±"],["Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª","Ø§Ø±"],["Ø®Ø±Ø¯Ø§Ø¯","Ø®Ø±Ø¯"],["ØªÛŒØ±","ØªÛŒØ±"],["Ù…Ø±Ø¯Ø§Ø¯","Ù…Ø±"],["Ø´Ù‡Ø±ÛŒÙˆØ±","Ø´Ù‡"],["Ù…Ù‡Ø±","Ù…Ù‡"],["Ø¢Ø¨Ø§Ù†","Ø¢Ø¨Ø§"],["Ø¢Ø°Ø±","Ø¢Ø°"],["Ø¯ÛŒ","Ø¯ÛŒ"],["Ø¨Ù‡Ù…Ù†","Ø¨Ù‡Ù…"],["Ø§Ø³ÙÙ†Ø¯","Ø§Ø³Ù"]],weekDays:[["Ø´Ù†Ø¨Ù‡","Ø´Ù†"],["ÛŒÚ©Ø´Ù†Ø¨Ù‡","ÛŒÚ©"],["Ø¯ÙˆØ´Ù†Ø¨Ù‡","Ø¯Ùˆ"],["Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡","Ø³Ù‡"],["Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡","Ú†Ù‡Ø§Ø±"],["Ù¾Ù†Ø¬Ø´Ù†Ø¨Ù‡","Ù¾Ù†Ø¬"],["Ø¬Ù…Ø¹Ù‡","Ø¬Ù…"]],digits:["Û°","Û±","Û²","Û³","Û´","Ûµ","Û¶","Û·","Û¸","Û¹"],meridiems:[["Ù‚Ø¨Ù„ Ø§Ø² Ø¸Ù‡Ø±","Ù‚.Ø¸"],["Ø¨Ø¹Ø¯ Ø§Ø² Ø¸Ù‡Ø±","Ø¨.Ø¸"]]});return al=n,al}var Kb=qb();const Ga=ja(Kb);function Gb(){return ca()==="fa"?{calendar:nr,locale:Ga}:{calendar:da,locale:Ub}}const Zt=l.forwardRef(({value:t,onChange:n,disabled:s,required:r,placeholder:a,className:i,inputClass:o,id:c},d)=>{const{calendar:u,locale:h}=l.useMemo(()=>Gb(),[]),m=l.useMemo(()=>{if(!(!t||t.trim()===""))try{return new $s(t)}catch{return}},[t]),x=l.useCallback(v=>{if(!v){n("");return}const g=v.convert(da);n(g.format("YYYY-MM-DD"))},[n]),p=K("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",o);return e.jsx("div",{ref:d,className:K("w-full",i),children:e.jsx(Fb,{value:m,onChange:x,calendar:u,locale:h,format:"YYYY/MM/DD",disabled:s,required:r,placeholder:a??(ca()==="fa"?"ØªØ§Ø±ÛŒØ®":"Date"),inputClass:p,containerClassName:"w-full",id:c})})});Zt.displayName="DatePicker";function Aa(t){const n=typeof window<"u"?window.puzzlingcrm:null;return{...t,nonce:n?.nonce??""}}async function Xb(){return de("puzzlingcrm_get_licenses",Aa({}))}async function Jb(t){return de("puzzlingcrm_add_license",Aa({project_name:t.project_name,domain:t.domain,start_date:t.start_date??new Date().toISOString().slice(0,10),expiry_date:t.expiry_date??"",logo_url:t.logo_url??"",status:t.status??"active"}))}async function Zb(t,n){return de("puzzlingcrm_renew_license",Aa({id:String(t),expiry_date:n}))}async function Qb(t){return de("puzzlingcrm_cancel_license",Aa({id:String(t)}))}async function ew(t){return de("puzzlingcrm_delete_license",Aa({id:String(t)}))}const tw={active:"ÙØ¹Ø§Ù„",inactive:"ØºÛŒØ±ÙØ¹Ø§Ù„",expired:"Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡",cancelled:"Ù„ØºÙˆ Ø´Ø¯Ù‡"};function nw(){const n=pt()?.isRtl===!0,[s,r]=l.useState([]),[a,i]=l.useState(!0),[o,c]=l.useState(null),[d,u]=l.useState(!1),[h,m]=l.useState(!1),[x,p]=l.useState(null),[v,g]=l.useState(""),[f,_]=l.useState(!1),[j,y]=l.useState({project_name:"",domain:"",start_date:new Date().toISOString().slice(0,10),expiry_date:"",logo_url:"",status:"active"}),N=async()=>{i(!0),c(null);try{const M=await Xb();if(M.success&&M.data){const U=M.data;r(U.licenses??[])}else c(M.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§ÛŒØ³Ù†Ø³â€ŒÙ‡Ø§")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§ÛŒØ³Ù†Ø³â€ŒÙ‡Ø§")}finally{i(!1)}};l.useEffect(()=>{N()},[]);const E=async M=>{if(M.preventDefault(),!j.project_name.trim()||!j.domain.trim()){c("Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ùˆ Ø¯Ø§Ù…Ù†Ù‡ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}_(!0),c(null);try{const U=await Jb({project_name:j.project_name.trim(),domain:j.domain.trim(),start_date:j.start_date||void 0,expiry_date:j.expiry_date||void 0,logo_url:j.logo_url.trim()||void 0,status:j.status});U.success?(u(!1),y({project_name:"",domain:"",start_date:new Date().toISOString().slice(0,10),expiry_date:"",logo_url:"",status:"active"}),N()):c(U.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒØ³Ù†Ø³")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒØ³Ù†Ø³")}finally{_(!1)}},I=async M=>{if(M.preventDefault(),!(!x||!v)){_(!0),c(null);try{const U=await Zb(x,v);U.success?(m(!1),p(null),g(""),N()):c(U.message??"Ø®Ø·Ø§ Ø¯Ø± ØªÙ…Ø¯ÛŒØ¯ Ù„Ø§ÛŒØ³Ù†Ø³")}catch{c("Ø®Ø·Ø§ Ø¯Ø± ØªÙ…Ø¯ÛŒØ¯ Ù„Ø§ÛŒØ³Ù†Ø³")}finally{_(!1)}}},S=async M=>{if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ù„ØºÙˆ Ø§ÛŒÙ† Ù„Ø§ÛŒØ³Ù†Ø³ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ")){_(!0),c(null);try{const U=await Qb(M);U.success?N():c(U.message??"Ø®Ø·Ø§ Ø¯Ø± Ù„ØºÙˆ Ù„Ø§ÛŒØ³Ù†Ø³")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ù„ØºÙˆ Ù„Ø§ÛŒØ³Ù†Ø³")}finally{_(!1)}}},D=async M=>{if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù„Ø§ÛŒØ³Ù†Ø³ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ Ø§ÛŒÙ† Ø¹Ù…Ù„ Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ø²Ú¯Ø´Øª Ù†ÛŒØ³Øª.")){_(!0),c(null);try{const U=await ew(M);U.success?N():c(U.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù„Ø§ÛŒØ³Ù†Ø³")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù„Ø§ÛŒØ³Ù†Ø³")}finally{_(!1)}}},P=M=>{p(M),g(new Date().toISOString().slice(0,10)),m(!0)},F=M=>M?new Date(M).toLocaleDateString("fa-IR"):"Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯";return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù„Ø§ÛŒØ³Ù†Ø³â€ŒÙ‡Ø§"}),e.jsxs(O,{onClick:()=>u(!0),children:[e.jsx(jn,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒØ³Ù†Ø³ Ø¬Ø¯ÛŒØ¯"]})]}),o&&e.jsx(Rn,{variant:"destructive",children:e.jsx(Pn,{children:o})}),a?e.jsx(se,{children:e.jsx(re,{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):s.length===0?e.jsx(se,{children:e.jsxs(re,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(Xd,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Ù‡Ù†ÙˆØ² Ù„Ø§ÛŒØ³Ù†Ø³â€ŒØ§ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."})]})}):e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:s.map(M=>e.jsx(se,{className:"overflow-hidden",children:e.jsxs(re,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[M.logo_url?e.jsx("img",{src:M.logo_url,alt:M.project_name,className:"h-16 w-16 object-contain mb-2"}):e.jsx("div",{className:"h-16 w-16 rounded-lg bg-muted flex items-center justify-center mb-2",children:e.jsx(Pg,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h5",{className:"font-medium",children:M.project_name}),e.jsx("p",{className:"text-sm text-muted-foreground",dir:"ltr",children:M.domain})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡:"}),e.jsxs("span",{className:"font-medium",children:[M.remaining_percentage.toFixed(1),"Ùª"]})]}),e.jsx(di,{value:M.remaining_percentage,className:"h-1.5"})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§:"}),e.jsx("span",{className:"font-medium",children:F(M.expiry_date)})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡:"}),M.expiry_date?e.jsxs(vt,{variant:"outline",children:[M.remaining_days," Ø±ÙˆØ²"]}):e.jsx(vt,{variant:"secondary",children:"VIP"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(vt,{variant:M.status==="active"?"default":M.status==="expired"?"destructive":"secondary",children:tw[M.status]??M.status}),e.jsxs(la,{children:[e.jsx(oa,{asChild:!0,children:e.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Gd,{className:"h-4 w-4"})})}),e.jsxs(Nr,{align:"end",children:[e.jsxs(as,{onClick:()=>P(M.id),children:[e.jsx(eu,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"ØªÙ…Ø¯ÛŒØ¯"]}),e.jsxs(as,{onClick:()=>S(M.id),children:[e.jsx(qd,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ØºÙˆ Ù„Ø§ÛŒØ³Ù†Ø³"]}),e.jsxs(as,{className:"text-destructive",onClick:()=>D(M.id),children:[e.jsx(gn,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø­Ø°Ù"]})]})]})]})]})},M.id))}),e.jsx(dn,{open:d,onOpenChange:u,children:e.jsxs(sn,{children:[e.jsx(rn,{children:e.jsx(an,{children:"Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒØ³Ù†Ø³ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"project_name",children:"Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ *"}),e.jsx(ie,{id:"project_name",value:j.project_name,onChange:M=>y(U=>({...U,project_name:M.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"domain",children:"Ø¯Ø§Ù…Ù†Ù‡ *"}),e.jsx(ie,{id:"domain",dir:"ltr",placeholder:"example.com",value:j.domain,onChange:M=>y(U=>({...U,domain:M.target.value})),required:!0})]}),e.jsx(Rn,{children:e.jsx(Pn,{children:"Ú©Ù„ÛŒØ¯ Ù„Ø§ÛŒØ³Ù†Ø³ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯."})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"start_date",children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹"}),e.jsx(Zt,{id:"start_date",value:j.start_date,onChange:M=>y(U=>({...U,start_date:M}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"expiry_date",children:"ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§"}),e.jsx(Zt,{id:"expiry_date",value:j.expiry_date,onChange:M=>y(U=>({...U,expiry_date:M}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"logo_url",children:"Ø¢Ø¯Ø±Ø³ Ù„ÙˆÚ¯Ùˆ"}),e.jsx(ie,{id:"logo_url",type:"url",dir:"ltr",placeholder:"https://example.com/logo.png",value:j.logo_url,onChange:M=>y(U=>({...U,logo_url:M.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"status",children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsxs("select",{id:"status",className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm",value:j.status,onChange:M=>y(U=>({...U,status:M.target.value})),children:[e.jsx("option",{value:"active",children:"ÙØ¹Ø§Ù„"}),e.jsx("option",{value:"inactive",children:"ØºÛŒØ±ÙØ¹Ø§Ù„"})]})]}),e.jsxs(un,{children:[e.jsx(O,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{type:"submit",disabled:f,children:[f&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§ÙØ²ÙˆØ¯Ù†"]})]})]})]})}),e.jsx(dn,{open:h,onOpenChange:m,children:e.jsxs(sn,{children:[e.jsx(rn,{children:e.jsx(an,{children:"ØªÙ…Ø¯ÛŒØ¯ Ù„Ø§ÛŒØ³Ù†Ø³"})}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"renew_expiry_date",children:"ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ *"}),e.jsx(Zt,{id:"renew_expiry_date",value:v,onChange:g,required:!0})]}),e.jsxs(un,{children:[e.jsx(O,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{type:"submit",disabled:f,children:[f&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"ØªÙ…Ø¯ÛŒØ¯"]})]})]})]})})]})}async function sw(){return de("puzzlingcrm_get_consultations",{})}async function rw(t){return de("puzzling_manage_consultation",{consultation_id:t.consultation_id??0,name:t.name,phone:t.phone,email:t.email??"",type:t.type,date:t.date??"",time:t.time??"",status:t.status,notes:t.notes??""})}async function aw(t){return de("puzzling_convert_consultation_to_project",{consultation_id:String(t)})}function iw(){const n=pt()?.isRtl===!0,[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState(!0),[d,u]=l.useState(null),[h,m]=l.useState(!1),[x,p]=l.useState(null),[v,g]=l.useState(!1),[f,_]=l.useState({name:"",phone:"",email:"",type:"phone",date:"",time:"",status:"in-progress",notes:""}),j=async()=>{c(!0),u(null);try{const S=await sw();if(S.success&&S.data){const D=S.data;r(D.consultations??[]),i(D.statuses??[])}else u(S.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§")}finally{c(!1)}};l.useEffect(()=>{j()},[]);const y=()=>{p(null),_({name:"",phone:"",email:"",type:"phone",date:"",time:"",status:"in-progress",notes:""}),m(!0)},N=S=>{p(S.id);const D=S.datetime?new Date(S.datetime):null;_({name:S.name,phone:S.phone,email:S.email??"",type:S.type,date:D?D.toISOString().slice(0,10):"",time:D?D.toTimeString().slice(0,5):"",status:S.status_slug,notes:S.notes??""}),m(!0)},E=async S=>{if(S.preventDefault(),!f.name.trim()||!f.phone.trim()){u("Ù†Ø§Ù… Ùˆ Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}g(!0),u(null);try{const D=await rw({consultation_id:x??void 0,name:f.name.trim(),phone:f.phone.trim(),email:f.email.trim()||void 0,type:f.type,date:f.date||void 0,time:f.time||void 0,status:f.status,notes:f.notes.trim()||void 0});D.success?(m(!1),j(),D.data?.reload&&window.location.reload()):u(D.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{g(!1)}},I=async S=>{if(confirm("Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø±ØŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ùˆ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¬Ø¯ÛŒØ¯ Ø§ÛŒØ¬Ø§Ø¯ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.")){g(!0),u(null);try{const D=await aw(S);if(D.success){const P=D.data?.redirect_url;P?window.location.href=P:j()}else u(D.message??"Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„")}catch{u("Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„")}finally{g(!1)}}};return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§"}),e.jsxs(O,{onClick:y,children:[e.jsx(jn,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø´Ø§ÙˆØ±Ù‡ Ø¬Ø¯ÛŒØ¯"]})]}),d&&e.jsx(Rn,{variant:"destructive",children:e.jsx(Pn,{children:d})}),e.jsx(se,{children:e.jsx(re,{className:"p-0",children:o?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒØ§ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ù†Ø§Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ú©Ù†Ù†Ø¯Ù‡"}),e.jsx(G,{children:"Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³"}),e.jsx(G,{children:"Ù†ÙˆØ¹ Ù…Ø´Ø§ÙˆØ±Ù‡"}),e.jsx(G,{children:"ØªØ§Ø±ÛŒØ® Ùˆ Ø³Ø§Ø¹Øª"}),e.jsx(G,{children:"Ù†ØªÛŒØ¬Ù‡"}),e.jsx(G,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:s.map(S=>e.jsxs(Ve,{children:[e.jsx(q,{className:"font-medium",children:S.name}),e.jsx(q,{dir:"ltr",children:S.phone}),e.jsx(q,{children:S.type_label}),e.jsx(q,{children:S.datetime_display||"---"}),e.jsx(q,{children:e.jsx(vt,{variant:S.status_slug==="converted"?"default":"secondary",children:S.status_name})}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",onClick:()=>N(S),children:e.jsx(_n,{className:"h-4 w-4"})}),S.status_slug!=="converted"&&e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>I(S.id),disabled:v,children:[e.jsx(Fg,{className:"h-4 w-4"}),"ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡"]})]})})]},S.id))})]})})}),e.jsx(dn,{open:h,onOpenChange:m,children:e.jsxs(sn,{children:[e.jsx(rn,{children:e.jsx(an,{children:x?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø´Ø§ÙˆØ±Ù‡":"Ø«Ø¨Øª Ù…Ø´Ø§ÙˆØ±Ù‡ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"name",children:"Ù†Ø§Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ú©Ù†Ù†Ø¯Ù‡ *"}),e.jsx(ie,{id:"name",value:f.name,onChange:S=>_(D=>({...D,name:S.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"phone",children:"Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ *"}),e.jsx(ie,{id:"phone",dir:"ltr",value:f.phone,onChange:S=>_(D=>({...D,phone:S.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"email",children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(ie,{id:"email",type:"email",dir:"ltr",value:f.email,onChange:S=>_(D=>({...D,email:S.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"type",children:"Ù†ÙˆØ¹ Ù…Ø´Ø§ÙˆØ±Ù‡"}),e.jsxs(ze,{value:f.type,onValueChange:S=>_(D=>({...D,type:S})),children:[e.jsx(Ae,{children:e.jsx(Fe,{})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:"phone",children:"ØªÙ„ÙÙ†ÛŒ"}),e.jsx(ce,{value:"in-person",children:"Ø­Ø¶ÙˆØ±ÛŒ"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"date",children:"ØªØ§Ø±ÛŒØ® Ù‚Ø±Ø§Ø±"}),e.jsx(Zt,{id:"date",value:f.date,onChange:S=>_(D=>({...D,date:S}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"time",children:"Ø³Ø§Ø¹Øª Ù‚Ø±Ø§Ø±"}),e.jsx(ie,{id:"time",type:"time",value:f.time,onChange:S=>_(D=>({...D,time:S.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"status",children:"Ù†ØªÛŒØ¬Ù‡ Ù…Ø´Ø§ÙˆØ±Ù‡"}),e.jsxs(ze,{value:f.status,onValueChange:S=>_(D=>({...D,status:S})),children:[e.jsx(Ae,{children:e.jsx(Fe,{})}),e.jsx(Oe,{children:a.map(S=>e.jsx(ce,{value:S.slug,children:S.name},S.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"notes",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øªâ€ŒÙ‡Ø§"}),e.jsx("textarea",{id:"notes",className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:f.notes,onChange:S=>_(D=>({...D,notes:S.target.value})),rows:4})]}),e.jsxs(un,{children:[e.jsx(O,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{type:"submit",disabled:v,children:[v&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),x?"Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª":"Ø«Ø¨Øª Ù…Ø´Ø§ÙˆØ±Ù‡"]})]})]})]})})]})}async function pc(t){return de("puzzlingcrm_get_logs",{log_tab:t.log_tab??"events",paged:t.paged??1})}function lw(){const n=pt()?.isRtl===!0,[s,r]=l.useState("events"),[a,i]=l.useState([]),[o,c]=l.useState([]),[d,u]=l.useState(!0),[h,m]=l.useState(null),[x,p]=l.useState(1),[v,g]=l.useState(1),[f,_]=l.useState(1),[j,y]=l.useState(1),N=async(D=1)=>{u(!0),m(null);try{const P=await pc({log_tab:"events",paged:D});if(P.success&&P.data){const F=P.data;i(F.logs??[]),_(F.total_pages??1),p(D)}else m(P.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§")}finally{u(!1)}},E=async(D=1)=>{u(!0),m(null);try{const P=await pc({log_tab:"system",paged:D});if(P.success&&P.data){const F=P.data;c(F.logs??[]),y(F.total_pages??1),g(D)}else m(P.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§")}finally{u(!1)}};l.useEffect(()=>{s==="events"?N(1):E(1)},[s]);const I=()=>e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Yg,{className:"h-5 w-5"}),"Ù„Ø§Ú¯ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…"]}),d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.length===0?e.jsx("p",{className:"text-muted-foreground py-8",children:"Ù‡ÛŒÚ† Ù„Ø§Ú¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯."}):e.jsxs(e.Fragment,{children:[e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ø±ÙˆÛŒØ¯Ø§Ø¯"}),e.jsx(G,{children:"Ø¬Ø²Ø¦ÛŒØ§Øª"}),e.jsx(G,{children:"Ú©Ø§Ø±Ø¨Ø±"}),e.jsx(G,{children:"ØªØ§Ø±ÛŒØ®"})]})}),e.jsx(Lt,{children:a.map(D=>e.jsxs(Ve,{children:[e.jsx(q,{className:"font-medium",children:D.title}),e.jsx(q,{className:"max-w-md truncate",title:D.content,children:D.content}),e.jsx(q,{children:D.author}),e.jsx(q,{children:D.date})]},D.id))})]}),f>1&&e.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[e.jsx(O,{variant:"outline",size:"sm",disabled:x<=1,onClick:()=>N(x-1),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2",children:[x," / ",f]}),e.jsx(O,{variant:"outline",size:"sm",disabled:x>=f,onClick:()=>N(x+1),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]}),S=()=>e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-2",children:[e.jsx(wr,{className:"h-5 w-5"}),"Ù„Ø§Ú¯ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…"]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…ÛŒØŒ Ù…Ø´Ú©Ù„Ø§Øª Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ API Ùˆ Ø³Ø§ÛŒØ± Ø¨Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø«Ø¨Øª Ø´Ø¯Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯."}),d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(ha,{className:"h-16 w-16 text-green-500 mb-4"}),e.jsx("h4",{className:"font-medium mb-2",children:"Ø³ÛŒØ³ØªÙ… Ø¯Ø± ÙˆØ¶Ø¹ÛŒØª Ù¾Ø§ÛŒØ¯Ø§Ø± Ø§Ø³Øª"}),e.jsx("p",{className:"text-muted-foreground",children:"Ù‡ÛŒÚ† Ø®Ø·Ø§ÛŒ Ø³ÛŒØ³ØªÙ…ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯."})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ø¹Ù†ÙˆØ§Ù† Ø®Ø·Ø§"}),e.jsx(G,{children:"Ø¬Ø²Ø¦ÛŒØ§Øª"}),e.jsx(G,{children:"ØªØ§Ø±ÛŒØ®"})]})}),e.jsx(Lt,{children:o.map(D=>e.jsxs(Ve,{children:[e.jsx(q,{className:"font-medium",children:D.title}),e.jsx(q,{className:"max-w-md",title:D.content,children:e.jsx("span",{className:"line-clamp-2",children:D.content})}),e.jsx(q,{children:D.date})]},D.id))})]}),j>1&&e.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[e.jsx(O,{variant:"outline",size:"sm",disabled:v<=1,onClick:()=>E(v-1),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2",children:[v," / ",j]}),e.jsx(O,{variant:"outline",size:"sm",disabled:v>=j,onClick:()=>E(v+1),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]});return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…"})}),h&&e.jsx(Rn,{variant:"destructive",children:e.jsx(Pn,{children:h})}),e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs(mi,{value:s,onValueChange:r,children:[e.jsxs(hi,{children:[e.jsx(Ys,{value:"events",children:"Ù„Ø§Ú¯ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§"}),e.jsx(Ys,{value:"system",children:"Ù„Ø§Ú¯ Ø³ÛŒØ³ØªÙ…"})]}),e.jsx(Ws,{value:"events",className:"mt-4",children:I()}),e.jsx(Ws,{value:"system",className:"mt-4",children:S()})]})})})]})}const ht="__all__",yr="__none__";async function go(t){return de("puzzlingcrm_get_users",{search:t?.search,role:t?.role})}async function Nh(t){const n={user_id:t.user_id??0,first_name:t.first_name,last_name:t.last_name,email:t.email,pzl_mobile_phone:t.pzl_mobile_phone??"",role:t.role,password:t.password??""};return t.department!==void 0&&(n.department=t.department),t.job_title!==void 0&&(n.job_title=t.job_title),de("puzzling_manage_user",n)}async function Sh(t,n){return de("puzzling_delete_user",{user_id:String(t),nonce:n})}async function ow(t,n){return de("puzzling_send_custom_sms",{user_id:String(t),message:n})}function cw(){const n=pt()?.isRtl===!0,[s,r]=l.useState([]),[a,i]=l.useState({total:0,customers:0,staff:0}),[o,c]=l.useState([]),[d,u]=l.useState(!0),[h,m]=l.useState(null),[x,p]=l.useState(""),[v,g]=l.useState(""),[f,_]=l.useState(!1),[j,y]=l.useState(!1),[N,E]=l.useState(null),[I,S]=l.useState(null),[D,P]=l.useState(""),[F,M]=l.useState(!1),[U,oe]=l.useState({first_name:"",last_name:"",email:"",pzl_mobile_phone:"",role:"customer",password:""}),V=l.useCallback(async()=>{u(!0),m(null);try{const W=await go({search:x||void 0,role:v||void 0});if(W.success&&W.data){const he=W.data;r(he.users??[]),i(he.stats??{total:0,customers:0,staff:0}),c(he.roles??[])}else m(W.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†")}finally{u(!1)}},[x,v]);l.useEffect(()=>{const W=setTimeout(V,x||v?300:0);return()=>clearTimeout(W)},[V,x,v]);const k=()=>{E(null),oe({first_name:"",last_name:"",email:"",pzl_mobile_phone:"",role:"customer",password:""}),_(!0)},L=W=>{E(W),oe({first_name:W.first_name??"",last_name:W.last_name??"",email:W.email??"",pzl_mobile_phone:W.phone??"",role:W.role_slug||"customer",password:""}),_(!0)},le=async W=>{if(W.preventDefault(),!U.last_name.trim()||!U.email.trim()||!U.role){m("Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒØŒ Ø§ÛŒÙ…ÛŒÙ„ Ùˆ Ù†Ù‚Ø´ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}if(!N&&!U.password.trim()){m("Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯ØŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}M(!0),m(null);try{const he=await Nh({user_id:N?.id,first_name:U.first_name.trim(),last_name:U.last_name.trim(),email:U.email.trim(),pzl_mobile_phone:U.pzl_mobile_phone.trim()||void 0,role:U.role,password:U.password.trim()||void 0});he.success?(_(!1),V(),he.data?.reload&&window.location.reload()):m(he.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{M(!1)}},J=async W=>{if(!(!W.can_delete||!W.delete_nonce)&&confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ")){M(!0),m(null);try{const he=await Sh(W.id,W.delete_nonce);he.success?V():m(he.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{M(!1)}}},Z=W=>{S(W),P(""),y(!0)},Ne=async W=>{if(W.preventDefault(),!(!I||!D.trim())){M(!0),m(null);try{const he=await ow(I.id,D.trim());he.success?(y(!1),S(null),P("")):m(he.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©")}finally{M(!1)}}};return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø´ØªØ±ÛŒØ§Ù† Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†"}),e.jsxs(O,{onClick:k,children:[e.jsx(jn,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯"]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:e.jsx(Us,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†"}),e.jsx("p",{className:"text-2xl font-semibold",children:a.total})]})]})})}),e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-success/10 p-3",children:e.jsx(Ag,{className:"h-6 w-6 text-success"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù…Ø´ØªØ±ÛŒØ§Ù†"}),e.jsx("p",{className:"text-2xl font-semibold",children:a.customers})]})]})})}),e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-amber-500/10 p-3",children:e.jsx(ov,{className:"h-6 w-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ø§Ø±Ù…Ù†Ø¯Ø§Ù†"}),e.jsx("p",{className:"text-2xl font-semibold",children:a.staff})]})]})})})]}),e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx(Y,{children:"Ø¬Ø³ØªØ¬ÙˆÛŒ Ø³Ø±ÛŒØ¹"}),e.jsx("div",{className:"mt-1 flex rounded-md border",children:e.jsx(ie,{dir:"ltr",placeholder:"Ù†Ø§Ù…ØŒ Ø§ÛŒÙ…ÛŒÙ„ØŒ Ù…ÙˆØ¨Ø§ÛŒÙ„...",value:x,onChange:W=>p(W.target.value),className:"border-0 focus-visible:ring-0"})})]}),e.jsxs("div",{className:"w-[180px]",children:[e.jsx(Y,{children:"Ù†Ù‚Ø´"}),e.jsxs(ze,{value:v===""?ht:v,onValueChange:W=>g(W===ht?"":W),children:[e.jsx(Ae,{className:"mt-1",children:e.jsx(Fe,{placeholder:"Ù‡Ù…Ù‡ Ù†Ù‚Ø´â€ŒÙ‡Ø§"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:ht,children:"Ù‡Ù…Ù‡ Ù†Ù‚Ø´â€ŒÙ‡Ø§"}),o.map(W=>e.jsx(ce,{value:W.slug,children:W.name},W.slug))]})]})]})]})})}),h&&e.jsx(Rn,{variant:"destructive",children:e.jsx(Pn,{children:h})}),e.jsx(se,{children:e.jsx(re,{className:"p-0",children:d?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ú©Ø§Ø±Ø¨Ø±"}),e.jsx(G,{children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(G,{children:"Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(G,{children:"Ù†Ù‚Ø´"}),e.jsx(G,{children:"ØªØ§Ø±ÛŒØ® Ø¹Ø¶ÙˆÛŒØª"}),e.jsx(G,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:s.map(W=>e.jsxs(Ve,{children:[e.jsx(q,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Ca,{className:"h-10 w-10",children:[e.jsx(ka,{src:W.avatar_url,alt:""}),e.jsx(Ea,{children:W.display_name?.slice(0,2)??"?"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:W.display_name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",W.id]})]})]})}),e.jsx(q,{dir:"ltr",className:"font-mono text-sm",children:W.email}),e.jsx(q,{dir:"ltr",children:W.phone||"â€”"}),e.jsx(q,{children:e.jsx(vt,{variant:"secondary",children:W.role_name})}),e.jsx(q,{children:W.registered_jalali}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",onClick:()=>L(W),children:e.jsx(_n,{className:"h-4 w-4"})}),e.jsx(O,{variant:"outline",size:"sm",onClick:()=>Z(W),title:"Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©",children:e.jsx(Jl,{className:"h-4 w-4"})}),W.can_delete&&e.jsx(O,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>J(W),disabled:F,title:"Ø­Ø°Ù",children:e.jsx(gn,{className:"h-4 w-4"})})]})})]},W.id))})]})})}),e.jsx(dn,{open:f,onOpenChange:_,children:e.jsxs(sn,{children:[e.jsx(rn,{children:e.jsx(an,{children:N?"ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±":"Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("form",{onSubmit:le,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"first_name",children:"Ù†Ø§Ù…"}),e.jsx(ie,{id:"first_name",value:U.first_name,onChange:W=>oe(he=>({...he,first_name:W.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"last_name",children:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *"}),e.jsx(ie,{id:"last_name",value:U.last_name,onChange:W=>oe(he=>({...he,last_name:W.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"email",children:"Ø§ÛŒÙ…ÛŒÙ„ *"}),e.jsx(ie,{id:"email",type:"email",dir:"ltr",value:U.email,onChange:W=>oe(he=>({...he,email:W.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"phone",children:"Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(ie,{id:"phone",dir:"ltr",value:U.pzl_mobile_phone,onChange:W=>oe(he=>({...he,pzl_mobile_phone:W.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"role",children:"Ù†Ù‚Ø´ Ú©Ø§Ø±Ø¨Ø±ÛŒ *"}),e.jsxs(ze,{value:U.role,onValueChange:W=>oe(he=>({...he,role:W})),children:[e.jsx(Ae,{children:e.jsx(Fe,{})}),e.jsx(Oe,{children:o.map(W=>e.jsx(ce,{value:W.slug,children:W.name},W.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Y,{htmlFor:"password",children:["Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± ",N?"(Ø¨Ø±Ø§ÛŒ Ø¹Ø¯Ù… ØªØºÛŒÛŒØ± Ø®Ø§Ù„ÛŒ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯)":"*"]}),e.jsx(ie,{id:"password",type:"password",dir:"ltr",value:U.password,onChange:W=>oe(he=>({...he,password:W.target.value})),required:!N})]})]}),e.jsxs(un,{children:[e.jsx(O,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{type:"submit",disabled:F,children:[F&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),N?"Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª":"Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±"]})]})]})]})}),e.jsx(dn,{open:j,onOpenChange:y,children:e.jsxs(sn,{children:[e.jsx(rn,{children:e.jsxs(an,{children:["Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú© Ø¨Ù‡ ",I?.display_name]})}),e.jsxs("form",{onSubmit:Ne,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{htmlFor:"sms_message",children:"Ù…ØªÙ† Ù¾ÛŒØ§Ù…"}),e.jsx("textarea",{id:"sms_message",className:"flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:D,onChange:W=>P(W.target.value),required:!0,rows:5})]}),e.jsxs(un,{children:[e.jsx(O,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{type:"submit",disabled:F||!D.trim(),children:[F&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©"]})]})]})]})})]})}async function il(t){return de("puzzlingcrm_get_contracts",{s:t?.s,customer_filter:t?.customer_filter,payment_status:t?.payment_status,paged:t?.paged??1})}async function dw(t){return de("puzzlingcrm_get_contract",{contract_id:String(t)})}async function uw(){return de("puzzlingcrm_get_project_templates",{})}async function mw(){return de("puzzlingcrm_list_products",{})}async function hw(t){return de("puzzlingcrm_get_project_assignees",{search:""})}async function fw(t){return de("puzzlingcrm_get_product_projects_preview",{product_id:t})}async function pw(t){const n=new FormData;return n.set("contract_id",String(t.contract_id??0)),n.set("customer_id",String(t.customer_id)),n.set("_project_start_date",t._project_start_date),n.set("contract_title",t.contract_title??""),n.set("total_amount",t.total_amount),n.set("total_installments",String(t.total_installments)),n.set("_project_contract_duration",t._project_contract_duration),n.set("_project_subscription_model",t._project_subscription_model),t.payment_amount.forEach((s,r)=>{n.append("payment_amount[]",s),n.append("payment_due_date[]",t.payment_due_date[r]??""),n.append("payment_status[]",t.payment_status[r]??"pending")}),t.project_template_id!=null&&t.project_template_id>0&&n.set("project_template_id",String(t.project_template_id)),t.product_id!=null&&t.product_id>0&&(n.set("product_id",String(t.product_id)),t.project_assignments?.length&&t.project_assignments.forEach(s=>n.append("project_assignments[]",String(s)))),Ma("puzzling_manage_contract",n)}async function xw(t,n){return de("puzzling_delete_contract",{contract_id:String(t),nonce:n})}async function gw(t,n){return de("puzzling_cancel_contract",{contract_id:String(t),reason:"Ø¯Ù„ÛŒÙ„ÛŒ Ø°Ú©Ø± Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."})}async function vw(t,n){return de("puzzling_add_project_to_contract",{contract_id:String(t),project_title:n})}function xc(t){return new Intl.NumberFormat("fa-IR").format(t)}function jw(){const n=pt()?.isRtl===!0,s=As(),[r]=xi(),a=r.get("action")==="new"?"new":"list",i=r.get("contract_id")?parseInt(r.get("contract_id"),10):null,o=r.get("from_lead")?parseInt(r.get("from_lead"),10):null,[c,d]=l.useState(a),[u,h]=l.useState([]),[m,x]=l.useState([]),[p,v]=l.useState(1),[g,f]=l.useState(1),[_,j]=l.useState(!0),[y,N]=l.useState(null),[E,I]=l.useState(""),[S,D]=l.useState(""),[P,F]=l.useState(""),[M,U]=l.useState(null),[oe,V]=l.useState([]),[k,L]=l.useState([]),[le,J]=l.useState([]),[Z,Ne]=l.useState(!1),[W,he]=l.useState(""),[Qe,We]=l.useState([]),[Pe,R]=l.useState(!1),[b,$]=l.useState(""),[A,ae]=l.useState(1),[ke,ot]=l.useState([]),[jt,rt]=l.useState(!1),[it,Qt]=l.useState(0),[qt,mn]=l.useState([]),[xt,ln]=l.useState([]),[us,te]=l.useState([]),[ct,Sn]=l.useState(null),[w,T]=l.useState(!1),[z,B]=l.useState({customer_id:0,start_date:"",contract_title:"",total_amount:"",total_installments:1,duration:"1-month",subscription_model:"onetime",installments:[]}),ee=l.useCallback(async()=>{j(!0),N(null);try{const C=await il({s:E||void 0,customer_filter:S?parseInt(S,10):void 0,payment_status:P||void 0,paged:g});C.success&&C.data?(h(C.data.contracts??[]),x(C.data.customers??[]),v(C.data.total_pages??1),f(C.data.current_page??1)):N(C.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§")}finally{j(!1)}},[E,S,P,g]),Q=l.useCallback(async C=>{j(!0),N(null);try{const X=await dw(C);if(X.success&&X.data){const fe=X.data.contract;V(X.data.related_projects??[]),L(X.data.durations??[]),J(X.data.models??[]),fe?(U(fe),B({customer_id:fe.customer_id,start_date:fe.start_date?fe.start_date.slice(0,10):"",contract_title:fe.title??"",total_amount:fe.total_amount??"",total_installments:fe.total_installments??1,duration:fe.duration??"1-month",subscription_model:fe.subscription_model??"onetime",installments:(fe.installments??[]).map(He=>({amount:He.amount,due_date:He.due_date_gregorian?He.due_date_gregorian.slice(0,10):He.due_date,status:He.status}))})):(U(null),N(X.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"))}else N(X.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯")}finally{j(!1)}},[]);l.useEffect(()=>{c==="list"&&ee()},[c,ee]),l.useEffect(()=>{o&&c==="new"?bb(o).then(C=>{const X=C.success&&C.data?C.data:null;X&&(Sn(X),X.existing_customer_id>0&&B(fe=>({...fe,customer_id:X.existing_customer_id})))}):Sn(null)},[o,c]),l.useEffect(()=>{i&&c==="new"?Q(i):c==="new"&&!i&&(U(null),B({customer_id:0,start_date:new Date().toISOString().slice(0,10),contract_title:"",total_amount:"",total_installments:1,duration:"1-month",subscription_model:"onetime",installments:[]}),V([]),il({}).then(C=>{C.success&&C.data&&x(C.data.customers??[])}),L([{value:"1-month",label:"ÛŒÚ© Ù…Ø§Ù‡Ù‡"},{value:"3-months",label:"Ø³Ù‡ Ù…Ø§Ù‡Ù‡"},{value:"6-months",label:"Ø´Ø´ Ù…Ø§Ù‡Ù‡"},{value:"12-months",label:"ÛŒÚ© Ø³Ø§Ù„Ù‡"}]),J([{value:"onetime",label:"ÛŒÚ©Ø¨Ø§Ø± Ù¾Ø±Ø¯Ø§Ø®Øª"},{value:"subscription",label:"Ø§Ø´ØªØ±Ø§Ú©ÛŒ"}]))},[c,i]),l.useEffect(()=>{c==="new"&&!M&&(uw().then(C=>{C.success&&C.data?.templates&&We(C.data.templates)}),mw().then(C=>{C.success&&C.data&&(ot(C.data.products??[]),rt(C.data.wc_active??!1))}),hw().then(C=>{C.success&&C.data?.users&&ln(C.data.users)}))},[c,M]),l.useEffect(()=>{it>0?fw(it).then(C=>{C.success&&C.data?.titles&&(mn(C.data.titles),te(C.data.titles.map(()=>0)))}):(mn([]),te([]))},[it]);const ve=()=>{s("/contracts?action=new"),d("new"),Sn(null),U(null),R(!1),$(""),ae(1),Qt(0),mn([]),te([])},je=C=>{s(`/contracts?action=new&contract_id=${C.id}`),d("new"),Q(C.id)},ye=()=>{s("/contracts"),d("list"),ee()},be=()=>{B(C=>({...C,installments:[...C.installments,{amount:"",due_date:"",status:"pending"}]}))},ue=C=>{B(X=>({...X,installments:X.installments.filter((fe,He)=>He!==C)}))},we=(C,X,fe)=>{B(He=>{const Ye=[...He.installments];return Ye[C]={...Ye[C],[X]:fe},{...He,installments:Ye}})},me=()=>{const C=parseInt(z.total_amount.replace(/\D/g,""),10)||0,X=z.total_installments||1;if(C<=0||X<=0)return;const fe=Math.floor(C/X),He=z.start_date?new Date(z.start_date):new Date,Ye=[];for(let Te=0;Te<X;Te++){const gt=new Date(He);gt.setMonth(gt.getMonth()+Te),Ye.push({amount:String(fe),due_date:gt.toISOString().slice(0,10),status:"pending"})}B(Te=>({...Te,installments:Ye}))},De=async C=>{if(C.preventDefault(),!z.customer_id||!z.start_date){N("Ù…Ø´ØªØ±ÛŒ Ùˆ ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}if(z.installments.length===0){N("Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ù‚Ø³Ø· Ø¨Ø§ÛŒØ¯ Ø«Ø¨Øª Ø´ÙˆØ¯.");return}if(z.installments.some(fe=>!fe.amount||!fe.due_date)){N("ØªÙ…Ø§Ù… Ø§Ù‚Ø³Ø§Ø· Ø¨Ø§ÛŒØ¯ Ù…Ø¨Ù„Øº Ùˆ ØªØ§Ø±ÛŒØ® Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯.");return}Ne(!0),N(null);try{const fe=z.total_amount.replace(/\D/g,"")||String(z.installments.reduce((Ye,Te)=>Ye+(parseInt(Te.amount.replace(/\D/g,""),10)||0),0)),He=await pw({contract_id:M?.id,customer_id:z.customer_id,_project_start_date:z.start_date,contract_title:z.contract_title||void 0,total_amount:String(fe),total_installments:z.installments.length,_project_contract_duration:z.duration,_project_subscription_model:z.subscription_model,payment_amount:z.installments.map(Ye=>Ye.amount.replace(/\D/g,"")||"0"),payment_due_date:z.installments.map(Ye=>Ye.due_date),payment_status:z.installments.map(Ye=>Ye.status),project_template_id:!M&&!it&&Pe&&b?parseInt(b,10):void 0,product_id:!M&&it>0?it:void 0,project_assignments:!M&&it>0?us:void 0});He.success?(ye(),He.data?.reload&&window.location.reload()):N(He.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{Ne(!1)}},Xe=async C=>{if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø¯Ø§Ø¦Ù…ÛŒ Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ")){Ne(!0),N(null);try{const X=await xw(C.id,C.delete_nonce);X.success?ee():N(X.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{Ne(!1)}}},qe=async()=>{if(!(!M||!confirm("Ø¢ÛŒØ§ Ø§Ø² Ù„ØºÙˆ Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"))){Ne(!0),N(null);try{const C=await gw(M.id);C.success?Q(M.id):N(C.message??"Ø®Ø·Ø§ Ø¯Ø± Ù„ØºÙˆ")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ù„ØºÙˆ")}finally{Ne(!1)}}},Be=async C=>{if(C.preventDefault(),!(!M||!W.trim())){Ne(!0),N(null);try{const X=await vw(M.id,W.trim());X.success?(he(""),Q(M.id)):N(X.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡")}finally{Ne(!1)}}};return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{variant:c==="list"?"default":"outline",onClick:()=>d("list"),children:[e.jsx(Hs,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ÛŒØ³Øª Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§"]}),e.jsxs(O,{variant:c==="new"?"default":"outline",onClick:ve,children:[e.jsx(jn,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¬Ø¯ÛŒØ¯"]})]})]}),y&&e.jsx(Rn,{variant:"destructive",children:e.jsx(Pn,{children:y})}),c==="list"?e.jsxs(e.Fragment,{children:[e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[150px]",children:[e.jsx(Y,{children:"Ø¬Ø³ØªØ¬Ùˆ"}),e.jsx(ie,{className:"mt-1",placeholder:"Ø´Ù…Ø§Ø±Ù‡ ÛŒØ§ Ø¹Ù†ÙˆØ§Ù†...",value:E,onChange:C=>I(C.target.value)})]}),e.jsxs("div",{className:"w-[180px]",children:[e.jsx(Y,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsxs(ze,{value:S===""?ht:S,onValueChange:C=>D(C===ht?"":C),children:[e.jsx(Ae,{className:"mt-1",children:e.jsx(Fe,{placeholder:"Ù‡Ù…Ù‡"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:ht,children:"Ù‡Ù…Ù‡ Ù…Ø´ØªØ±ÛŒØ§Ù†"}),m.map(C=>e.jsx(ce,{value:String(C.id),children:C.display_name},C.id))]})]})]}),e.jsxs("div",{className:"w-[140px]",children:[e.jsx(Y,{children:"ÙˆØ¶Ø¹ÛŒØª Ù¾Ø±Ø¯Ø§Ø®Øª"}),e.jsxs(ze,{value:P===""?ht:P,onValueChange:C=>F(C===ht?"":C),children:[e.jsx(Ae,{className:"mt-1",children:e.jsx(Fe,{placeholder:"Ù‡Ù…Ù‡"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:ht,children:"Ù‡Ù…Ù‡"}),e.jsx(ce,{value:"paid",children:"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡"}),e.jsx(ce,{value:"pending",children:"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(O,{onClick:ee,children:"ÙÛŒÙ„ØªØ±"})})]})})}),e.jsx(se,{children:e.jsx(re,{className:"p-0",children:_?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):u.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ø´Ù…Ø§Ø±Ù‡"}),e.jsx(G,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsx(G,{children:"Ù…Ø¨Ù„Øº Ú©Ù„"}),e.jsx(G,{children:"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡"}),e.jsx(G,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(G,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:u.map(C=>e.jsxs(Ve,{children:[e.jsxs(q,{children:[e.jsxs("span",{className:"font-mono",children:["#",C.contract_number]}),C.is_cancelled&&e.jsx(vt,{variant:"destructive",className:"ms-2",children:"Ù„ØºÙˆ Ø´Ø¯Ù‡"})]}),e.jsxs(q,{children:[e.jsx("div",{children:C.customer_name}),C.customer_email&&e.jsx("div",{className:"text-xs text-muted-foreground",dir:"ltr",children:C.customer_email})]}),e.jsxs(q,{dir:"ltr",children:[xc(C.total_amount)," ØªÙˆÙ…Ø§Ù†"]}),e.jsxs(q,{children:[e.jsxs("div",{className:"text-success",dir:"ltr",children:[xc(C.paid_amount)," ØªÙˆÙ…Ø§Ù†"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[C.payment_percentage,"%"]})]}),e.jsxs(q,{children:[e.jsx(vt,{variant:C.status_class==="paid"?"default":"secondary",children:C.status_text}),C.installment_count>0&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[C.paid_count," Ù¾Ø±Ø¯Ø§Ø®Øª / ",C.pending_count," Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"]})]}),e.jsxs(q,{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",onClick:()=>je(C),children:e.jsx(_n,{className:"h-4 w-4"})}),!C.is_cancelled&&e.jsx(O,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>Xe(C),disabled:Z,children:e.jsx(gn,{className:"h-4 w-4"})})]}),C.start_date_jalali!=="-"&&e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:C.start_date_jalali})]})]},C.id))})]})})}),p>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",disabled:g<=1,onClick:()=>f(C=>Math.max(1,C-1)),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2 text-sm",children:["ØµÙØ­Ù‡ ",g," Ø§Ø² ",p]}),e.jsx(O,{variant:"outline",size:"sm",disabled:g>=p,onClick:()=>f(C=>Math.min(p,C+1)),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]}):e.jsx(se,{children:e.jsxs(re,{className:"pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:M?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯":"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¬Ø¯ÛŒØ¯"}),e.jsxs("div",{className:"flex gap-2",children:[M&&!M.is_cancelled&&e.jsxs(O,{variant:"outline",size:"sm",onClick:qe,disabled:Z,children:[e.jsx(qd,{className:"h-4 w-4"}),"Ù„ØºÙˆ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"]}),e.jsx(O,{variant:"outline",size:"sm",onClick:ye,children:"Ø¨Ø§Ø²Ú¯Ø´Øª"})]})]}),M?.is_cancelled&&e.jsx(Rn,{variant:"destructive",className:"mb-4",children:e.jsx(Pn,{children:"Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù„ØºÙˆ Ø´Ø¯Ù‡ Ø§Ø³Øª."})}),!M&&e.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b",children:[[1,2,3,4].map(C=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",A===C?"bg-primary text-primary-foreground":A>C?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:C}),C<4&&e.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})]},C)),e.jsxs("span",{className:"text-sm text-muted-foreground mr-2",children:[A===1&&"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÙ‡",A===2&&"Ø§Ù‚Ø³Ø§Ø·",A===3&&"Ù…Ø­ØµÙˆÙ„",A===4&&"Ø§Ø±Ø¬Ø§Ø¹ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"]})]}),e.jsx("form",{onSubmit:De,className:"space-y-6",children:M?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(ze,{value:z.customer_id?String(z.customer_id):"",onValueChange:C=>B(X=>({...X,customer_id:parseInt(C,10)||0})),disabled:!0,children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø´ØªØ±ÛŒ"})}),e.jsx(Oe,{children:m.map(C=>e.jsx(ce,{value:String(C.id),children:C.display_name},C.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹ *"}),e.jsx(Zt,{value:z.start_date,onChange:C=>B(X=>({...X,start_date:C})),required:!0})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(Y,{children:"Ø¹Ù†ÙˆØ§Ù† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"}),e.jsx(ie,{value:z.contract_title,onChange:C=>B(X=>({...X,contract_title:C.target.value})),placeholder:"Ù…Ø«Ø§Ù„: Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø³Ø§Ù„Ø§Ù†Ù‡"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø¯Øª Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"}),e.jsxs(ze,{value:z.duration,onValueChange:C=>B(X=>({...X,duration:C})),children:[e.jsx(Ae,{children:e.jsx(Fe,{})}),e.jsx(Oe,{children:(k.length?k:[{value:"1-month",label:"ÛŒÚ© Ù…Ø§Ù‡Ù‡"},{value:"3-months",label:"Ø³Ù‡ Ù…Ø§Ù‡Ù‡"},{value:"6-months",label:"Ø´Ø´ Ù…Ø§Ù‡Ù‡"},{value:"12-months",label:"ÛŒÚ© Ø³Ø§Ù„Ù‡"}]).map(C=>e.jsx(ce,{value:C.value,children:C.label},C.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø¯Ù„ Ø§Ø´ØªØ±Ø§Ú©"}),e.jsxs(ze,{value:z.subscription_model,onValueChange:C=>B(X=>({...X,subscription_model:C})),children:[e.jsx(Ae,{children:e.jsx(Fe,{})}),e.jsx(Oe,{children:(le.length?le:[{value:"onetime",label:"ÛŒÚ©Ø¨Ø§Ø± Ù¾Ø±Ø¯Ø§Ø®Øª"},{value:"subscription",label:"Ø§Ø´ØªØ±Ø§Ú©ÛŒ"}]).map(C=>e.jsx(ce,{value:C.value,children:C.label},C.value))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Ø§Ù‚Ø³Ø§Ø·"}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-end p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø¨Ù„Øº Ú©Ù„ (ØªÙˆÙ…Ø§Ù†)"}),e.jsx(ie,{placeholder:"30,000,000",value:z.total_amount,onChange:C=>B(X=>({...X,total_amount:C.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ØªØ¹Ø¯Ø§Ø¯ Ø§Ù‚Ø³Ø§Ø·"}),e.jsx(ie,{type:"number",min:1,value:z.total_installments,onChange:C=>B(X=>({...X,total_installments:parseInt(C.target.value,10)||1}))})]}),e.jsx(O,{type:"button",variant:"secondary",onClick:me,children:"Ù…Ø­Ø§Ø³Ø¨Ù‡"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(Y,{children:"Ù„ÛŒØ³Øª Ø§Ù‚Ø³Ø§Ø·"}),e.jsx(O,{type:"button",variant:"outline",size:"sm",onClick:be,children:"Ø§ÙØ²ÙˆØ¯Ù† Ù‚Ø³Ø· Ø¯Ø³ØªÛŒ"})]}),e.jsx("div",{className:"space-y-2",children:z.installments.map((C,X)=>e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("span",{className:"w-8 text-muted-foreground",children:["#",X+1]}),e.jsx(ie,{placeholder:"Ù…Ø¨Ù„Øº",value:C.amount,onChange:fe=>we(X,"amount",fe.target.value),className:"flex-1"}),e.jsx(Zt,{value:C.due_date,onChange:fe=>we(X,"due_date",fe),className:"flex-1"}),e.jsxs(ze,{value:C.status,onValueChange:fe=>we(X,"status",fe),children:[e.jsx(Ae,{className:"w-[130px]",children:e.jsx(Fe,{})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:"pending",children:"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"}),e.jsx(ce,{value:"paid",children:"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡"}),e.jsx(ce,{value:"cancelled",children:"Ù„ØºÙˆ Ø´Ø¯Ù‡"})]})]}),e.jsx(O,{type:"button",variant:"ghost",size:"icon",onClick:()=>ue(X),children:e.jsx(gn,{className:"h-4 w-4 text-destructive"})})]},X))})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(O,{type:"submit",disabled:Z||(M?.is_cancelled??!1),children:[Z&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª"]}),e.jsx(O,{type:"button",variant:"outline",onClick:ye,children:"Ø§Ù†ØµØ±Ø§Ù"})]})]}):e.jsxs(e.Fragment,{children:[A===1&&e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[ct&&e.jsxs("div",{className:"sm:col-span-2 rounded-lg border p-4 bg-muted/30 space-y-2",children:[e.jsxs("p",{className:"text-sm font-medium",children:["Ø³Ø±Ù†Ø® #",ct.lead_id,": ",ct.first_name," ",ct.last_name," â€” ",ct.mobile]}),ct.existing_customer_id>0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù…Ø´ØªØ±ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ù…ÙˆØ¨Ø§ÛŒÙ„/Ø§ÛŒÙ…ÛŒÙ„ Ø§Ø² Ù‚Ø¨Ù„ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ Ùˆ Ø¯Ø± Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø§Ø³Øª."}):e.jsxs(O,{type:"button",variant:"outline",size:"sm",disabled:w,onClick:async()=>{T(!0),N(null);const C=await wb(ct.lead_id);T(!1),C.success&&C.data?.customer_id?(B(X=>({...X,customer_id:C.data.customer_id})),il({}).then(X=>{X.success&&X.data&&x(X.data.customers??[])})):N(C.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø´ØªØ±ÛŒ")},children:[w?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø´ØªØ±ÛŒ Ø§Ø² Ø³Ø±Ù†Ø®"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(ze,{value:z.customer_id?String(z.customer_id):"",onValueChange:C=>B(X=>({...X,customer_id:parseInt(C,10)||0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø´ØªØ±ÛŒ"})}),e.jsx(Oe,{children:m.map(C=>e.jsx(ce,{value:String(C.id),children:C.display_name},C.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹ *"}),e.jsx(Zt,{value:z.start_date,onChange:C=>B(X=>({...X,start_date:C})),required:!0})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(Y,{children:"Ø¹Ù†ÙˆØ§Ù† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"}),e.jsx(ie,{value:z.contract_title,onChange:C=>B(X=>({...X,contract_title:C.target.value})),placeholder:"Ù…Ø«Ø§Ù„: Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø³Ø§Ù„Ø§Ù†Ù‡"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø¯Øª Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"}),e.jsxs(ze,{value:z.duration,onValueChange:C=>B(X=>({...X,duration:C})),children:[e.jsx(Ae,{children:e.jsx(Fe,{})}),e.jsx(Oe,{children:(k.length?k:[{value:"1-month",label:"ÛŒÚ© Ù…Ø§Ù‡Ù‡"},{value:"3-months",label:"Ø³Ù‡ Ù…Ø§Ù‡Ù‡"},{value:"6-months",label:"Ø´Ø´ Ù…Ø§Ù‡Ù‡"},{value:"12-months",label:"ÛŒÚ© Ø³Ø§Ù„Ù‡"}]).map(C=>e.jsx(ce,{value:C.value,children:C.label},C.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø¯Ù„ Ø§Ø´ØªØ±Ø§Ú©"}),e.jsxs(ze,{value:z.subscription_model,onValueChange:C=>B(X=>({...X,subscription_model:C})),children:[e.jsx(Ae,{children:e.jsx(Fe,{})}),e.jsx(Oe,{children:(le.length?le:[{value:"onetime",label:"ÛŒÚ©Ø¨Ø§Ø± Ù¾Ø±Ø¯Ø§Ø®Øª"},{value:"subscription",label:"Ø§Ø´ØªØ±Ø§Ú©ÛŒ"}]).map(C=>e.jsx(ce,{value:C.value,children:C.label},C.value))})]})]})]}),A===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Ø§Ù‚Ø³Ø§Ø·"}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-end p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø¨Ù„Øº Ú©Ù„ (ØªÙˆÙ…Ø§Ù†)"}),e.jsx(ie,{placeholder:"30,000,000",value:z.total_amount,onChange:C=>B(X=>({...X,total_amount:C.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ØªØ¹Ø¯Ø§Ø¯ Ø§Ù‚Ø³Ø§Ø·"}),e.jsx(ie,{type:"number",min:1,value:z.total_installments,onChange:C=>B(X=>({...X,total_installments:parseInt(C.target.value,10)||1}))})]}),e.jsx(O,{type:"button",variant:"secondary",onClick:me,children:"Ù…Ø­Ø§Ø³Ø¨Ù‡"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(Y,{children:"Ù„ÛŒØ³Øª Ø§Ù‚Ø³Ø§Ø·"}),e.jsx(O,{type:"button",variant:"outline",size:"sm",onClick:be,children:"Ø§ÙØ²ÙˆØ¯Ù† Ù‚Ø³Ø· Ø¯Ø³ØªÛŒ"})]}),e.jsx("div",{className:"space-y-2",children:z.installments.map((C,X)=>e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("span",{className:"w-8 text-muted-foreground",children:["#",X+1]}),e.jsx(ie,{placeholder:"Ù…Ø¨Ù„Øº",value:C.amount,onChange:fe=>we(X,"amount",fe.target.value),className:"flex-1"}),e.jsx(Zt,{value:C.due_date,onChange:fe=>we(X,"due_date",fe),className:"flex-1"}),e.jsxs(ze,{value:C.status,onValueChange:fe=>we(X,"status",fe),children:[e.jsx(Ae,{className:"w-[130px]",children:e.jsx(Fe,{})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:"pending",children:"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"}),e.jsx(ce,{value:"paid",children:"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡"}),e.jsx(ce,{value:"cancelled",children:"Ù„ØºÙˆ Ø´Ø¯Ù‡"})]})]}),e.jsx(O,{type:"button",variant:"ghost",size:"icon",onClick:()=>ue(X),children:e.jsx(gn,{className:"h-4 w-4 text-destructive"})})]},X))})]}),A===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(fa,{className:"h-5 w-5"})," Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø­ØµÙˆÙ„ ÙˆÙˆÚ©Ø§Ù…Ø±Ø³"]}),jt?e.jsxs(e.Fragment,{children:[e.jsxs(ze,{value:it>0?String(it):"_none",onValueChange:C=>Qt(C==="_none"?0:parseInt(C,10)),children:[e.jsx(Ae,{className:"max-w-md",children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø­ØµÙˆÙ„ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:"_none",children:"Ø¨Ø¯ÙˆÙ† Ù…Ø­ØµÙˆÙ„"}),ke.map(C=>e.jsxs(ce,{value:String(C.id),children:[C.name," (",C.type,") â€” ",C.price]},C.id))]})]}),it===0&&e.jsxs("div",{className:"rounded-lg border p-4 space-y-4 bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"create-project-template",checked:Pe,onChange:C=>{R(C.target.checked),C.target.checked||$("")},className:"h-4 w-4 rounded border-input"}),e.jsx(Y,{htmlFor:"create-project-template",className:"cursor-pointer font-medium",children:"Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø§ Ù‚Ø§Ù„Ø¨"})]}),Pe&&e.jsxs(ze,{value:b,onValueChange:$,children:[e.jsx(Ae,{className:"max-w-md",children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø§Ù„Ø¨..."})}),e.jsxs(Oe,{children:[Qe.map(C=>e.jsx(ce,{value:String(C.id),children:C.title},C.id)),Qe.length===0&&e.jsx(ce,{value:"__none__",disabled:!0,children:"Ù‚Ø§Ù„Ø¨ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯"})]})]})]})]}):e.jsx("p",{className:"text-muted-foreground",children:"ÙˆÙˆÚ©Ø§Ù…Ø±Ø³ ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª. Ø§Ø² Ù‚Ø§Ù„Ø¨ Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯."})]}),A===4&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Tr,{className:"h-5 w-5"})," Ø§Ø±Ø¬Ø§Ø¹ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"]}),qt.length>0?e.jsx("div",{className:"space-y-3",children:qt.map((C,X)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"font-medium min-w-[180px]",children:C}),e.jsxs(ze,{value:us[X]>0?String(us[X]):"_none",onValueChange:fe=>te(He=>{const Ye=[...He];return Ye[X]=fe==="_none"?0:parseInt(fe,10),Ye}),children:[e.jsx(Ae,{className:"max-w-[220px]",children:e.jsx(Fe,{placeholder:"Ø§Ø±Ø¬Ø§Ø¹ Ø¨Ù‡..."})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:"_none",children:"â€”"}),xt.map(fe=>e.jsx(ce,{value:String(fe.id),children:fe.display_name},fe.id))]})]})]},X))}):e.jsx("p",{className:"text-muted-foreground",children:"Ù…Ø­ØµÙˆÙ„ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡ ÛŒØ§ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒØ§ÛŒ Ø§Ø² Ø¢Ù† Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯."})]}),e.jsxs("div",{className:"flex gap-4",children:[A>1&&e.jsxs(O,{type:"button",variant:"outline",onClick:()=>ae(C=>C-1),children:[e.jsx(Pr,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù‚Ø¨Ù„ÛŒ"]}),A<4?e.jsxs(O,{type:"button",onClick:()=>ae(C=>C+1),disabled:A===1&&(!z.customer_id||!z.start_date)||A===2&&(z.installments.length===0||z.installments.some(C=>!C.amount||!C.due_date)),children:["Ø¨Ø¹Ø¯ÛŒ",e.jsx(Gl,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")})]}):e.jsxs(O,{type:"submit",disabled:Z,children:[Z&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§ÛŒØ¬Ø§Ø¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"]}),e.jsx(O,{type:"button",variant:"outline",onClick:ye,children:"Ø§Ù†ØµØ±Ø§Ù"})]})]})}),M&&e.jsxs("div",{className:"mt-8 pt-8 border-t",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø·"}),oe.length>0?e.jsx("ul",{className:"list-disc list-inside space-y-1 mb-4",children:oe.map(C=>e.jsx("li",{children:e.jsx(Vt,{to:`/projects?action=edit&project_id=${C.id}`,className:"text-primary hover:underline",children:C.title})},C.id))}):e.jsx("p",{className:"text-muted-foreground mb-4",children:"Ù‡ÛŒÚ† Ù¾Ø±ÙˆÚ˜Ù‡â€ŒØ§ÛŒ Ø¨Ù‡ Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù…ØªØµÙ„ Ù†ÛŒØ³Øª."}),e.jsxs("form",{onSubmit:Be,className:"flex gap-2",children:[e.jsx(ie,{placeholder:"Ø¹Ù†ÙˆØ§Ù† Ù¾Ø±ÙˆÚ˜Ù‡ Ø¬Ø¯ÛŒØ¯",value:W,onChange:C=>he(C.target.value),className:"flex-1"}),e.jsx(O,{type:"submit",disabled:Z||!W.trim(),children:"Ø§ÙØ²ÙˆØ¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡"})]})]})]})})]})}async function gc(t=1){return de("puzzlingcrm_get_invoices",{paged:t})}async function yw(t){return de("puzzlingcrm_get_invoice",{invoice_id:String(t)})}async function bw(t){return de("puzzling_get_projects_for_customer",{customer_id:String(t)})}async function ww(t){const n=new FormData;return n.set("invoice_id",String(t.invoice_id??0)),n.set("customer_id",String(t.customer_id)),n.set("project_id",String(t.project_id)),n.set("issue_date",t.issue_date),n.set("payment_method",t.payment_method),n.set("notes",t.notes),t.item_title.forEach((s,r)=>{n.append("item_title[]",s),n.append("item_desc[]",t.item_desc[r]??""),n.append("item_price[]",t.item_price[r]??"0"),n.append("item_discount[]",t.item_discount[r]??"0")}),Ma("puzzling_manage_pro_invoice",n)}function ll(t){return new Intl.NumberFormat("fa-IR").format(t)}function _w(){const n=pt()?.isRtl===!0,s=As(),[r]=xi(),a=r.get("action")==="new"?"new":"list",i=r.get("invoice_id")?parseInt(r.get("invoice_id"),10):null,[o,c]=l.useState(a),[d,u]=l.useState([]),[h,m]=l.useState([]),[x,p]=l.useState([]),[v,g]=l.useState(1),[f,_]=l.useState(1),[j,y]=l.useState(!0),[N,E]=l.useState(null),[I,S]=l.useState(null),[D,P]=l.useState(!1),[F,M]=l.useState({customer_id:0,project_id:0,issue_date:new Date().toISOString().slice(0,10),items:[],payment_method:"",notes:""}),U=l.useCallback(async()=>{y(!0),E(null);try{const R=await gc(f);R.success&&R.data?(u(R.data.invoices??[]),m(R.data.customers??[]),g(R.data.total_pages??1)):E(R.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±Ù‡Ø§")}catch{E("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±Ù‡Ø§")}finally{y(!1)}},[f]),oe=l.useCallback(async R=>{y(!0),E(null);try{const b=await yw(R);if(b.success&&b.data){const $=b.data.invoice;$?(S($),M({customer_id:$.customer_id,project_id:$.project_id,issue_date:$.issue_date?$.issue_date.slice(0,10):"",items:($.items??[]).map(A=>({title:A.title??"",desc:A.desc??"",price:String(A.price??0),discount:String(A.discount??0)})),payment_method:$.payment_method??"",notes:$.notes??""}),V($.customer_id)):(S(null),E(b.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±"))}else E(b.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±")}catch{E("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±")}finally{y(!1)}},[]),V=async R=>{if(!R){p([]);return}const b=await bw(R);b.success&&b.data?p(Array.isArray(b.data)?b.data:[]):p([])};l.useEffect(()=>{o==="list"&&U()},[o,U]),l.useEffect(()=>{i&&o==="new"?oe(i):o==="new"&&!i&&(S(null),M({customer_id:0,project_id:0,issue_date:new Date().toISOString().slice(0,10),items:[{title:"",desc:"",price:"",discount:"0"}],payment_method:"",notes:""}),p([]),gc(1).then(R=>{R.success&&R.data&&m(R.data.customers??[])}))},[o,i]);const k=()=>{s("/invoices?action=new"),c("new"),S(null)},L=R=>{s(`/invoices?action=new&invoice_id=${R.id}`),c("new"),oe(R.id)},le=()=>{s("/invoices"),c("list"),U()},J=R=>{M(b=>({...b,customer_id:R,project_id:0})),V(R)},Z=()=>{M(R=>({...R,items:[...R.items,{title:"",desc:"",price:"",discount:"0"}]}))},Ne=R=>{M(b=>({...b,items:b.items.filter(($,A)=>A!==R)}))},W=(R,b,$)=>{M(A=>{const ae=[...A.items];return ae[R]={...ae[R],[b]:$},{...A,items:ae}})},he=F.items.reduce((R,b)=>R+(parseFloat(b.price.replace(/\D/g,""))||0),0),Qe=F.items.reduce((R,b)=>R+(parseFloat(b.discount.replace(/\D/g,""))||0),0),We=he-Qe,Pe=async R=>{if(R.preventDefault(),!F.customer_id||!F.project_id||!F.issue_date){E("Ù…Ø´ØªØ±ÛŒØŒ Ù¾Ø±ÙˆÚ˜Ù‡ Ùˆ ØªØ§Ø±ÛŒØ® ØµØ¯ÙˆØ± Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}const b=F.items.filter($=>$.title.trim());if(b.length===0){E("Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø¢ÛŒØªÙ… Ø¨Ø§ÛŒØ¯ Ø«Ø¨Øª Ø´ÙˆØ¯.");return}P(!0),E(null);try{const $=await ww({invoice_id:I?.id,customer_id:F.customer_id,project_id:F.project_id,issue_date:F.issue_date,item_title:b.map(A=>A.title),item_desc:b.map(A=>A.desc),item_price:b.map(A=>A.price.replace(/\D/g,"")||"0"),item_discount:b.map(A=>A.discount.replace(/\D/g,"")||"0"),payment_method:F.payment_method,notes:F.notes});$.success?(le(),$.data?.reload&&window.location.reload()):E($.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{E("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{P(!1)}};return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±Ù‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{variant:o==="list"?"default":"outline",onClick:()=>c("list"),children:[e.jsx(Hs,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ÛŒØ³Øª"]}),e.jsxs(O,{variant:o==="new"?"default":"outline",onClick:k,children:[e.jsx(jn,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø¯ÛŒØ¯"]})]})]}),N&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive",children:N}),o==="list"?e.jsxs(e.Fragment,{children:[e.jsx(se,{children:e.jsx(re,{className:"p-0",children:j?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ø´Ù…Ø§Ø±Ù‡"}),e.jsx(G,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsx(G,{children:"Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsx(G,{children:"Ù…Ø¨Ù„Øº Ù†Ù‡Ø§ÛŒÛŒ"}),e.jsx(G,{children:"ØªØ§Ø±ÛŒØ®"}),e.jsx(G,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:d.map(R=>e.jsxs(Ve,{children:[e.jsx(q,{className:"font-mono",children:R.invoice_number}),e.jsx(q,{children:R.customer_name}),e.jsx(q,{children:R.project_title}),e.jsxs(q,{dir:"ltr",children:[ll(R.final_total)," ØªÙˆÙ…Ø§Ù†"]}),e.jsx(q,{children:R.date_display}),e.jsx(q,{children:e.jsx(O,{variant:"outline",size:"sm",onClick:()=>L(R),children:e.jsx(_n,{className:"h-4 w-4"})})})]},R.id))})]})})}),v>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",disabled:f<=1,onClick:()=>_(R=>Math.max(1,R-1)),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2 text-sm",children:["ØµÙØ­Ù‡ ",f," Ø§Ø² ",v]}),e.jsx(O,{variant:"outline",size:"sm",disabled:f>=v,onClick:()=>_(R=>Math.min(v,R+1)),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]}):e.jsx(se,{children:e.jsxs(re,{className:"pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:I?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±":"Ø§ÛŒØ¬Ø§Ø¯ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ± Ø¬Ø¯ÛŒØ¯"}),e.jsx(O,{variant:"outline",size:"sm",onClick:le,children:"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª"})]}),e.jsxs("form",{onSubmit:Pe,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(ze,{value:F.customer_id?String(F.customer_id):"",onValueChange:R=>J(parseInt(R,10)||0),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø´ØªØ±ÛŒ"})}),e.jsx(Oe,{children:h.map(R=>e.jsx(ce,{value:String(R.id),children:R.display_name},R.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù¾Ø±ÙˆÚ˜Ù‡ *"}),e.jsxs(ze,{value:F.project_id?String(F.project_id):"",onValueChange:R=>M(b=>({...b,project_id:parseInt(R,10)||0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:F.customer_id?"Ø§Ù†ØªØ®Ø§Ø¨ Ù¾Ø±ÙˆÚ˜Ù‡":"Ø§Ø¨ØªØ¯Ø§ Ù…Ø´ØªØ±ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsx(Oe,{children:x.map(R=>e.jsx(ce,{value:String(R.id),children:R.title},R.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ØªØ§Ø±ÛŒØ® ØµØ¯ÙˆØ± *"}),e.jsx(Zt,{value:F.issue_date,onChange:R=>M(b=>({...b,issue_date:R})),required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(Y,{children:"Ø±Ø¯ÛŒÙâ€ŒÙ‡Ø§ÛŒ Ø®Ø¯Ù…Ø§Øª"}),e.jsx(O,{type:"button",variant:"outline",size:"sm",onClick:Z,children:"Ø§ÙØ²ÙˆØ¯Ù† Ø±Ø¯ÛŒÙ"})]}),e.jsx("div",{className:"space-y-2",children:F.items.map((R,b)=>e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[e.jsxs("div",{className:"col-span-3",children:[e.jsx(Y,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(ie,{value:R.title,onChange:$=>W(b,"title",$.target.value),placeholder:"Ø¹Ù†ÙˆØ§Ù† Ø®Ø¯Ù…Øª"})]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(Y,{children:"ØªÙˆØ¶ÛŒØ­Ø§Øª"}),e.jsx(ie,{value:R.desc,onChange:$=>W(b,"desc",$.target.value),placeholder:"ØªÙˆØ¶ÛŒØ­Ø§Øª"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(Y,{children:"Ù‚ÛŒÙ…Øª (ØªÙˆÙ…Ø§Ù†)"}),e.jsx(ie,{value:R.price,onChange:$=>W(b,"price",$.target.value),placeholder:"0"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(Y,{children:"ØªØ®ÙÛŒÙ"}),e.jsx(ie,{value:R.discount,onChange:$=>W(b,"discount",$.target.value),placeholder:"0"})]}),e.jsx("div",{className:"col-span-1",children:e.jsx(O,{type:"button",variant:"ghost",size:"icon",onClick:()=>Ne(b),disabled:F.items.length<=1,children:"Ã—"})})]},b))}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsxs("span",{children:["Ø¬Ù…Ø¹ Ú©Ù„: ",e.jsx("strong",{dir:"ltr",children:ll(he)})," ØªÙˆÙ…Ø§Ù†"]}),e.jsxs("span",{children:["Ù…Ø¨Ù„Øº Ù†Ù‡Ø§ÛŒÛŒ: ",e.jsx("strong",{dir:"ltr",children:ll(We)})," ØªÙˆÙ…Ø§Ù†"]})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù†Ø­ÙˆÙ‡ Ù¾Ø±Ø¯Ø§Ø®Øª"}),e.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:F.payment_method,onChange:R=>M(b=>({...b,payment_method:R.target.value})),rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øªâ€ŒÙ‡Ø§"}),e.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:F.notes,onChange:R=>M(b=>({...b,notes:R.target.value})),rows:4})]})]}),e.jsxs(O,{type:"submit",disabled:D,children:[D&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),I?"Ø°Ø®ÛŒØ±Ù‡":"Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ø§Ø±Ø³Ø§Ù„"]})]})]})})]})}async function vc(t){return de("puzzlingcrm_get_tickets",{s:t?.s,status_filter:t?.status_filter,priority_filter:t?.priority_filter,department_filter:t?.department_filter,paged:t?.paged??1})}async function Nw(t){return de("puzzlingcrm_get_ticket",{ticket_id:String(t)})}async function Sw(t){return de("puzzling_new_ticket",{ticket_title:t.ticket_title,ticket_content:t.ticket_content,department:String(t.department),ticket_priority:String(t.ticket_priority)})}async function Cw(t,n,s){const r={ticket_id:String(t),comment:n};return s&&(s.ticket_status&&(r.ticket_status=s.ticket_status),s.department&&(r.department=String(s.department)),s.assigned_to&&(r.assigned_to=String(s.assigned_to)),s.ticket_priority&&(r.ticket_priority=String(s.ticket_priority))),de("puzzling_ticket_reply",r)}async function kw(t){return de("puzzling_convert_ticket_to_task",{ticket_id:String(t)})}function Ew(){const n=pt()?.isRtl===!0,s=As(),[r]=xi(),a=r.get("ticket_id")?parseInt(r.get("ticket_id"),10):null,i=r.get("action")==="new"?"new":a?"single":"list",[o,c]=l.useState(i),[d,u]=l.useState([]),[h,m]=l.useState([]),[x,p]=l.useState([]),[v,g]=l.useState([]),[f,_]=l.useState(1),[j,y]=l.useState(1),[N,E]=l.useState(!0),[I,S]=l.useState(null),[D,P]=l.useState(""),[F,M]=l.useState(""),[U,oe]=l.useState(""),[V,k]=l.useState(""),[L,le]=l.useState(null),[J,Z]=l.useState([]),[Ne,W]=l.useState([]),[he,Qe]=l.useState(!1),[We,Pe]=l.useState(!1),[R,b]=l.useState({ticket_title:"",ticket_content:"",department:0,ticket_priority:0}),[$,A]=l.useState(""),[ae,ke]=l.useState(""),[ot,jt]=l.useState(0),rt=l.useCallback(async()=>{E(!0),S(null);try{const te=await vc({s:D||void 0,status_filter:F||void 0,priority_filter:U||void 0,department_filter:V?parseInt(V,10):void 0,paged:j});te.success&&te.data?(u(te.data.tickets??[]),m(te.data.statuses??[]),p(te.data.priorities??[]),g(te.data.departments??[]),_(te.data.total_pages??1)):S(te.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§")}finally{E(!1)}},[D,F,U,V,j]),it=l.useCallback(async te=>{E(!0),S(null);try{const ct=await Nw(te);if(ct.success&&ct.data){const Sn=ct.data.ticket;le(Sn),Z(ct.data.statuses??[]),W(ct.data.departments??[]),Qe(ct.data.can_manage??!1),Sn?(ke(Sn.status_slug??""),jt(Sn.department_id??0)):(ke(""),jt(0))}else S(ct.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÛŒÚ©Øª")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÛŒÚ©Øª")}finally{E(!1)}},[]);l.useEffect(()=>{o==="list"&&rt()},[o,rt]),l.useEffect(()=>{a&&o==="single"&&it(a)},[o,a]),l.useEffect(()=>{r.get("action")==="new"&&(c("new"),vc({}).then(te=>{te.success&&te.data&&(m(te.data.statuses??[]),p(te.data.priorities??[]),g(te.data.departments??[]))}))},[]);const Qt=()=>{s("/tickets?action=new"),c("new"),b({ticket_title:"",ticket_content:"",department:0,ticket_priority:0})},qt=te=>{s(`/tickets?ticket_id=${te.id}`),c("single"),it(te.id)},mn=()=>{s("/tickets"),c("list"),le(null),rt()},xt=async te=>{if(te.preventDefault(),!R.ticket_title.trim()||!R.ticket_content.trim()||!R.department||!R.ticket_priority){S("Ø¹Ù†ÙˆØ§Ù†ØŒ Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†ØŒ Ø§ÙˆÙ„ÙˆÛŒØª Ùˆ Ù…ØªÙ† ØªÛŒÚ©Øª Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}Pe(!0),S(null);try{const ct=await Sw({ticket_title:R.ticket_title.trim(),ticket_content:R.ticket_content.trim(),department:R.department,ticket_priority:R.ticket_priority});ct.success?(mn(),ct.data?.reload&&window.location.reload()):S(ct.message??"Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª ØªÛŒÚ©Øª")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª ØªÛŒÚ©Øª")}finally{Pe(!1)}},ln=async te=>{if(te.preventDefault(),!(!L||!$.trim())){Pe(!0),S(null);try{const ct=await Cw(L.id,$.trim(),he?{ticket_status:ae||void 0,department:ot||void 0}:void 0);ct.success?(A(""),it(L.id),ct.data?.reload&&window.location.reload()):S(ct.message??"Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ù¾Ø§Ø³Ø®")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ù¾Ø§Ø³Ø®")}finally{Pe(!1)}}},us=async()=>{if(!(!L||!he||!confirm("ØªØ¨Ø¯ÛŒÙ„ Ø§ÛŒÙ† ØªÛŒÚ©Øª Ø¨Ù‡ ÙˆØ¸ÛŒÙÙ‡ØŸ"))){Pe(!0),S(null);try{const te=await kw(L.id);te.success?(mn(),te.data?.reload&&window.location.reload()):S(te.message??"Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„")}catch{S("Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„")}finally{Pe(!1)}}};return o==="single"&&L?e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs(O,{variant:"ghost",onClick:mn,className:"mb-4",children:[e.jsx(Vd,{className:K("h-4 w-4",n?"me-2":"ms-2 rotate-180")}),"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"]}),I&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive",children:I}),e.jsx(se,{children:e.jsxs(re,{className:"pt-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:L.title}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ ØªÙˆØ³Ø·: ",L.author_name]}),e.jsxs("span",{children:["Ø¯Ø± ØªØ§Ø±ÛŒØ®: ",L.date]}),e.jsx(vt,{variant:"secondary",children:L.status_name}),e.jsx(vt,{variant:"outline",children:L.priority_name}),e.jsxs("span",{children:["Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†: ",L.department_name]}),e.jsxs("span",{children:["Ù…Ø³Ø¦ÙˆÙ„: ",L.assigned_to_name]})]}),e.jsx("div",{className:"prose prose-sm max-w-none mb-6",dangerouslySetInnerHTML:{__html:L.content}}),he&&e.jsxs(O,{variant:"outline",size:"sm",onClick:us,disabled:We,className:"mb-6",children:[e.jsx(tu,{className:"h-4 w-4 me-2"}),"ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ ÙˆØ¸ÛŒÙÙ‡"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium",children:"Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§"}),L.replies.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Ù‡Ù†ÙˆØ² Ù¾Ø§Ø³Ø®ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}):e.jsx("div",{className:"space-y-4",children:L.replies.map(te=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:[te.author," â€” ",te.date]}),e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:te.content}})]},te.id))}),!L.is_closed&&e.jsxs("form",{onSubmit:ln,className:"space-y-4 pt-4 border-t",children:[e.jsx("h4",{className:"font-medium",children:"Ø§Ø±Ø³Ø§Ù„ Ù¾Ø§Ø³Ø® Ø¬Ø¯ÛŒØ¯"}),he&&e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsxs(ze,{value:ae,onValueChange:ke,children:[e.jsx(Ae,{className:"w-[140px]",children:e.jsx(Fe,{})}),e.jsx(Oe,{children:(J.length?J:[{slug:"open",name:"Ø¨Ø§Ø²"},{slug:"in-progress",name:"Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…"},{slug:"closed",name:"Ø¨Ø³ØªÙ‡ Ø´Ø¯Ù‡"}]).map(te=>e.jsx(ce,{value:te.slug,children:te.name},te.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"}),e.jsxs(ze,{value:ot?String(ot):"",onValueChange:te=>jt(parseInt(te,10)||0),children:[e.jsx(Ae,{className:"w-[140px]",children:e.jsx(Fe,{})}),e.jsx(Oe,{children:(Ne.length?Ne:v).map(te=>e.jsx(ce,{value:String(te.id),children:te.name},te.id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…ØªÙ† Ù¾Ø§Ø³Ø® *"}),e.jsx("textarea",{className:"flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:$,onChange:te=>A(te.target.value),required:!0,rows:6})]}),e.jsxs(O,{type:"submit",disabled:We||!$.trim(),children:[We&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§Ø±Ø³Ø§Ù„ Ù¾Ø§Ø³Ø®"]})]})]})]})})]}):e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{variant:o==="list"?"default":"outline",onClick:()=>{c("list"),s("/tickets")},children:[e.jsx(Hs,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ÛŒØ³Øª ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"]}),e.jsxs(O,{variant:o==="new"?"default":"outline",onClick:Qt,children:[e.jsx(jn,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª Ø¬Ø¯ÛŒØ¯"]})]})]}),I&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive",children:I}),o==="new"?e.jsx(se,{children:e.jsxs(re,{className:"pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª Ø¬Ø¯ÛŒØ¯"}),e.jsxs("form",{onSubmit:xt,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…ÙˆØ¶ÙˆØ¹ *"}),e.jsx(ie,{value:R.ticket_title,onChange:te=>b(ct=>({...ct,ticket_title:te.target.value})),placeholder:"Ù…ÙˆØ¶ÙˆØ¹ ØªÛŒÚ©Øª Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯...",required:!0})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù† *"}),e.jsxs(ze,{value:R.department?String(R.department):"",onValueChange:te=>b(ct=>({...ct,department:parseInt(te,10)||0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"})}),e.jsx(Oe,{children:v.map(te=>e.jsx(ce,{value:String(te.id),children:te.name},te.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø§ÙˆÙ„ÙˆÛŒØª *"}),e.jsxs(ze,{value:R.ticket_priority?String(R.ticket_priority):"",onValueChange:te=>b(ct=>({...ct,ticket_priority:parseInt(te,10)||0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ø§ÙˆÙ„ÙˆÛŒØª"})}),e.jsx(Oe,{children:x.map(te=>e.jsx(ce,{value:String(te.term_id),children:te.name},te.term_id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù¾ÛŒØ§Ù… Ø´Ù…Ø§ *"}),e.jsx("textarea",{className:"flex min-h-[200px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:R.ticket_content,onChange:te=>b(ct=>({...ct,ticket_content:te.target.value})),required:!0,rows:10})]}),e.jsxs(O,{type:"submit",disabled:We,children:[We&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª"]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx(se,{children:e.jsxs(re,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsx(ie,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ...",value:D,onChange:te=>P(te.target.value),className:"max-w-[200px]"}),e.jsxs(ze,{value:F===""?ht:F,onValueChange:te=>M(te===ht?"":te),children:[e.jsx(Ae,{className:"w-[130px]",children:e.jsx(Fe,{placeholder:"ÙˆØ¶Ø¹ÛŒØª"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:ht,children:"Ù‡Ù…Ù‡"}),h.map(te=>e.jsx(ce,{value:te.slug,children:te.name},te.slug))]})]}),e.jsxs(ze,{value:U===""?ht:U,onValueChange:te=>oe(te===ht?"":te),children:[e.jsx(Ae,{className:"w-[120px]",children:e.jsx(Fe,{placeholder:"Ø§ÙˆÙ„ÙˆÛŒØª"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:ht,children:"Ù‡Ù…Ù‡"}),x.map(te=>e.jsx(ce,{value:te.slug,children:te.name},te.term_id))]})]}),e.jsxs(ze,{value:V===""?ht:V,onValueChange:te=>k(te===ht?"":te),children:[e.jsx(Ae,{className:"w-[140px]",children:e.jsx(Fe,{placeholder:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:ht,children:"Ù‡Ù…Ù‡"}),v.map(te=>e.jsx(ce,{value:String(te.id),children:te.name},te.id))]})]}),e.jsx(O,{onClick:rt,children:"ÙÛŒÙ„ØªØ±"})]}),N?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† ØªÛŒÚ©ØªÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ù…ÙˆØ¶ÙˆØ¹"}),e.jsx(G,{children:"Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ"}),e.jsx(G,{children:"Ø§ÙˆÙ„ÙˆÛŒØª"}),e.jsx(G,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(G,{})]})}),e.jsx(Lt,{children:d.map(te=>e.jsxs(Ve,{children:[e.jsx(q,{children:e.jsx("button",{type:"button",className:"text-primary hover:underline text-start font-medium",onClick:()=>qt(te),children:te.title})}),e.jsx(q,{children:te.modified}),e.jsx(q,{children:e.jsx(vt,{variant:"outline",children:te.priority_name})}),e.jsx(q,{children:e.jsx(vt,{variant:"secondary",children:te.status_name})}),e.jsx(q,{children:e.jsx(O,{variant:"outline",size:"sm",onClick:()=>qt(te),children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡"})})]},te.id))})]})]})}),f>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",disabled:j<=1,onClick:()=>y(te=>Math.max(1,te-1)),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2 text-sm",children:["ØµÙØ­Ù‡ ",j," Ø§Ø² ",f]}),e.jsx(O,{variant:"outline",size:"sm",disabled:j>=f,onClick:()=>y(te=>Math.min(f,te+1)),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]})}async function jc(t){return de("puzzlingcrm_get_projects",{s:t?.s,contract_id:t?.contract_id,status_filter:t?.status_filter,paged:t?.paged??1})}async function Ch(t){return de("puzzlingcrm_get_project",{project_id:String(t)})}async function Rw(t){const n=new FormData;return n.set("project_id",String(t.project_id??0)),n.set("project_title",t.project_title),n.set("contract_id",String(t.contract_id)),n.set("project_content",t.project_content??""),n.set("project_status",String(t.project_status)),n.set("project_manager",String(t.project_manager??0)),n.set("project_start_date",t.project_start_date??""),n.set("project_end_date",t.project_end_date??""),n.set("project_priority",t.project_priority??"medium"),Ma("puzzling_manage_project",n)}async function Pw(t,n){return de("puzzling_delete_project",{project_id:String(t),nonce:n})}function Dw({projectId:t,isRtl:n,onBack:s,onEdit:r}){const[a,i]=l.useState(null),[o,c]=l.useState(!0),[d,u]=l.useState(null);if(l.useEffect(()=>{let x=!1;return c(!0),u(null),Ch(t).then(p=>{x||(p.success&&p.data?.project?i(p.data.project):u(p.message??"Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯."))}).catch(()=>{x||u("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡.")}).finally(()=>{x||c(!1)}),()=>{x=!0}},[t]),o)return e.jsx("div",{className:"flex items-center justify-center py-12",dir:n?"rtl":"ltr",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(d||!a)return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsx(O,{variant:"ghost",onClick:s,children:"â† Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-destructive",children:d??"Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯."})]});const h={high:"Ø²ÛŒØ§Ø¯",medium:"Ù…ØªÙˆØ³Ø·",low:"Ú©Ù…"}[a.priority]??a.priority,m=a.tasks??[];return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs(O,{variant:"ghost",onClick:s,className:K("gap-2",n&&"flex-row-reverse"),children:[e.jsx(Vd,{className:K("h-4 w-4",n&&"rotate-180")}),"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:r,className:"gap-2",children:[e.jsx(_n,{className:"h-4 w-4"}),"ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø±ÙˆÚ˜Ù‡"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),e.jsx(vt,{variant:"secondary",children:a.status_name??""}),e.jsx(vt,{variant:"outline",children:h})]}),e.jsx(se,{children:e.jsxs(re,{className:"pt-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ø¬Ø²Ø¦ÛŒØ§Øª Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.customer_name&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Er,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Ù…Ø´ØªØ±ÛŒ:"}),e.jsx("span",{className:"font-medium",children:a.customer_name})]}),a.manager_name&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Er,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Ù…Ø¯ÛŒØ± Ù¾Ø±ÙˆÚ˜Ù‡:"}),e.jsx("span",{className:"font-medium",children:a.manager_name})]}),a.start_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹:"}),e.jsx("span",{children:a.start_date})]}),a.end_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"ØªØ§Ø±ÛŒØ® Ù¾Ø§ÛŒØ§Ù†:"}),e.jsx("span",{children:a.end_date})]}),a.assigned_members&&a.assigned_members.length>0&&e.jsxs("div",{className:"flex items-start gap-2 sm:col-span-2",children:[e.jsx(Us,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"block mb-1",children:"Ø§Ø¹Ø¶Ø§ÛŒ ØªÛŒÙ…:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.assigned_members.map(x=>e.jsx(vt,{variant:"outline",children:x.display_name},x.id))})]})]})]}),a.content&&e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:a.content})})]})}),a.total_tasks!==void 0&&a.total_tasks>0&&e.jsx(se,{children:e.jsxs(re,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Ù¾ÛŒØ´Ø±ÙØª ÙˆØ¸Ø§ÛŒÙ"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.completed_tasks??0," Ø§Ø² ",a.total_tasks," ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡",a.completion_percentage!=null&&` (${a.completion_percentage}%)`]})]}),a.completion_percentage!=null&&e.jsx("div",{className:"h-2 w-full rounded-full bg-muted overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${Math.min(100,a.completion_percentage)}%`}})}),m.length>0&&e.jsxs("ul",{className:"mt-4 space-y-2",children:[m.slice(0,10).map(x=>e.jsxs("li",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[e.jsx("span",{children:x.title}),e.jsx(vt,{variant:"secondary",children:x.status_name})]},x.id)),m.length>10&&e.jsxs("li",{className:"text-sm text-muted-foreground pt-2",children:["Ùˆ ",m.length-10," ÙˆØ¸ÛŒÙÙ‡Ù” Ø¯ÛŒÚ¯Ø±..."]})]})]})})]})}function Mw(){const n=pt()?.isRtl===!0,s=As(),[r]=xi(),a=r.get("project_id")?parseInt(r.get("project_id"),10):null,i=r.get("action")==="new"?"new":a?"form":"list",[o,c]=l.useState(i),[d,u]=l.useState([]),[h,m]=l.useState([]),[x,p]=l.useState([]),[v,g]=l.useState([]),[f,_]=l.useState(1),[j,y]=l.useState(1),[N,E]=l.useState(!0),[I,S]=l.useState(null),[D,P]=l.useState(""),[F,M]=l.useState(""),[U,oe]=l.useState(""),[V,k]=l.useState(!1),[L,le]=l.useState(1),[J,Z]=l.useState({project_title:"",contract_id:0,project_manager:0,project_status:0,project_content:"",start_date:"",end_date:"",priority:"medium"}),Ne=l.useCallback(async()=>{E(!0),S(null);try{const A=await jc({s:D||void 0,contract_id:F?parseInt(F,10):void 0,status_filter:U?parseInt(U,10):void 0,paged:j});A.success&&A.data?(u(A.data.projects??[]),m(A.data.contracts??[]),p(A.data.statuses??[]),g(A.data.managers??[]),_(A.data.total_pages??1)):S(A.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§")}finally{E(!1)}},[D,F,U,j]),W=l.useCallback(async A=>{E(!0),S(null);try{const ae=await Ch(A);if(ae.success&&ae.data){const ke=ae.data.project;g(ae.data.managers??[]),m(ae.data.contracts??[]),p(ae.data.statuses??[]),ke?Z({project_title:ke.title??"",contract_id:ke.contract_id??0,project_manager:ke.project_manager??0,project_status:ke.project_status??0,project_content:ke.content??"",start_date:ke.start_date?ke.start_date.slice(0,10):"",end_date:ke.end_date?ke.end_date.slice(0,10):"",priority:ke.priority??"medium"}):S(ae.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡")}else S(ae.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡")}finally{E(!1)}},[]);l.useEffect(()=>{o==="list"&&Ne()},[o,Ne]),l.useEffect(()=>{a&&o==="form"&&W(a)},[o,a]),l.useEffect(()=>{o==="new"&&jc({}).then(A=>{A.success&&A.data&&(m(A.data.contracts??[]),p(A.data.statuses??[]),g(A.data.managers??[]))})},[o]);const he=()=>{s("/projects?action=new"),c("new"),le(1),Z({project_title:"",contract_id:0,project_manager:0,project_status:0,project_content:"",start_date:"",end_date:"",priority:"medium"})},Qe=A=>{s(`/projects?action=edit&project_id=${A.id}`),c("form"),W(A.id)},We=()=>{s("/projects"),c("list"),Ne()},Pe=async A=>{if(A.preventDefault(),!J.project_title.trim()||!J.contract_id||!J.project_status){S("Ù†Ø§Ù… Ù¾Ø±ÙˆÚ˜Ù‡ØŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ùˆ ÙˆØ¶Ø¹ÛŒØª Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}k(!0),S(null);try{const ae=await Rw({project_id:a??void 0,project_title:J.project_title.trim(),contract_id:J.contract_id,project_content:J.project_content||void 0,project_status:J.project_status,project_manager:J.project_manager||void 0,project_start_date:J.start_date||void 0,project_end_date:J.end_date||void 0,project_priority:J.priority});ae.success?(We(),ae.data?.reload&&window.location.reload()):S(ae.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{k(!1)}},R=async A=>{const ae=A.delete_nonce;if(!(!ae||!confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"))){k(!0),S(null);try{const ke=await Pw(A.id,ae);ke.success?Ne():S(ke.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{k(!1)}}},b=o==="new"||o==="form",$=r.get("action")==="view"&&r.get("project_id")?parseInt(r.get("project_id"),10):null;return $?e.jsx(Dw,{projectId:$,isRtl:n,onBack:()=>{s("/projects"),c("list")},onEdit:()=>{s(`/projects?action=edit&project_id=${$}`),c("form"),W($)}}):e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{variant:o==="list"?"default":"outline",onClick:()=>{c("list"),s("/projects")},children:[e.jsx(Hs,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ÛŒØ³Øª"]}),e.jsxs(O,{variant:b?"default":"outline",onClick:he,children:[e.jsx(jn,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡"]})]})]}),I&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive",children:I}),b?e.jsx(se,{children:e.jsxs(re,{className:"pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:a?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø±ÙˆÚ˜Ù‡":"Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¬Ø¯ÛŒØ¯"}),e.jsx(O,{variant:"outline",size:"sm",onClick:We,children:"Ø¨Ø§Ø²Ú¯Ø´Øª"})]}),!a&&e.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b",children:[e.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",L===1?"bg-primary text-primary-foreground":"bg-primary/20 text-primary"),children:"1"}),e.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("div",{className:K("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",L===2?"bg-primary text-primary-foreground":L>1?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:"2"}),e.jsx("span",{className:"text-sm text-muted-foreground mr-2",children:L===1?"Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯":"Ø¬Ø²Ø¦ÛŒØ§Øª Ù¾Ø±ÙˆÚ˜Ù‡"})]}),e.jsx("form",{onSubmit:Pe,className:"space-y-4",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù†Ø§Ù… Ù¾Ø±ÙˆÚ˜Ù‡ *"}),e.jsx(ie,{value:J.project_title,onChange:A=>Z(ae=>({...ae,project_title:A.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ / Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(ze,{value:J.contract_id?String(J.contract_id):"",onValueChange:A=>Z(ae=>({...ae,contract_id:parseInt(A,10)||0})),disabled:!0,children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"})}),e.jsx(Oe,{children:h.map(A=>e.jsxs(ce,{value:String(A.id),children:[A.title," (",A.customer_name,")"]},A.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø¯ÛŒØ± Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsxs(ze,{value:J.project_manager?String(J.project_manager):"",onValueChange:A=>Z(ae=>({...ae,project_manager:parseInt(A,10)||0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø¯ÛŒØ±"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:"0",children:"â€”"}),v.map(A=>e.jsx(ce,{value:String(A.id),children:A.display_name},A.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ÙˆØ¶Ø¹ÛŒØª *"}),e.jsxs(ze,{value:J.project_status?String(J.project_status):"",onValueChange:A=>Z(ae=>({...ae,project_status:parseInt(A,10)||0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ ÙˆØ¶Ø¹ÛŒØª"})}),e.jsx(Oe,{children:x.map(A=>e.jsx(ce,{value:String(A.id),children:A.name},A.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹"}),e.jsx(Zt,{value:J.start_date,onChange:A=>Z(ae=>({...ae,start_date:A}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ØªØ§Ø±ÛŒØ® Ù¾Ø§ÛŒØ§Ù†"}),e.jsx(Zt,{value:J.end_date,onChange:A=>Z(ae=>({...ae,end_date:A}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ØªÙˆØ¶ÛŒØ­Ø§Øª"}),e.jsx("textarea",{className:"flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:J.project_content,onChange:A=>Z(ae=>({...ae,project_content:A.target.value})),rows:6})]}),e.jsxs(O,{type:"submit",disabled:V,children:[V&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø°Ø®ÛŒØ±Ù‡"]})]}):e.jsxs(e.Fragment,{children:[L===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-4",children:[e.jsx(Un,{className:"h-5 w-5"}),e.jsx("span",{children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¨Ø±Ø§ÛŒ Ù…ØªØµÙ„ Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ / Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(ze,{value:J.contract_id?String(J.contract_id):"",onValueChange:A=>Z(ae=>({...ae,contract_id:parseInt(A,10)||0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"})}),e.jsx(Oe,{children:h.map(A=>e.jsxs(ce,{value:String(A.id),children:[A.title," (",A.customer_name,")"]},A.id))})]})]}),e.jsxs(O,{type:"button",onClick:()=>le(2),disabled:!J.contract_id,children:["Ø¨Ø¹Ø¯ÛŒ",e.jsx(Gl,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")})]})]}),L===2&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù†Ø§Ù… Ù¾Ø±ÙˆÚ˜Ù‡ *"}),e.jsx(ie,{value:J.project_title,onChange:A=>Z(ae=>({...ae,project_title:A.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ (Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡)"}),e.jsxs(ze,{value:String(J.contract_id),onValueChange:()=>{},disabled:!0,children:[e.jsx(Ae,{children:e.jsx(Fe,{})}),e.jsx(Oe,{children:h.filter(A=>A.id===J.contract_id).map(A=>e.jsxs(ce,{value:String(A.id),children:[A.title," (",A.customer_name,")"]},A.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø¯ÛŒØ± Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsxs(ze,{value:J.project_manager?String(J.project_manager):"",onValueChange:A=>Z(ae=>({...ae,project_manager:parseInt(A,10)||0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø¯ÛŒØ±"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:"0",children:"â€”"}),v.map(A=>e.jsx(ce,{value:String(A.id),children:A.display_name},A.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ÙˆØ¶Ø¹ÛŒØª *"}),e.jsxs(ze,{value:J.project_status?String(J.project_status):"",onValueChange:A=>Z(ae=>({...ae,project_status:parseInt(A,10)||0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ ÙˆØ¶Ø¹ÛŒØª"})}),e.jsx(Oe,{children:x.map(A=>e.jsx(ce,{value:String(A.id),children:A.name},A.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹"}),e.jsx(Zt,{value:J.start_date,onChange:A=>Z(ae=>({...ae,start_date:A}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ØªØ§Ø±ÛŒØ® Ù¾Ø§ÛŒØ§Ù†"}),e.jsx(Zt,{value:J.end_date,onChange:A=>Z(ae=>({...ae,end_date:A}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ØªÙˆØ¶ÛŒØ­Ø§Øª"}),e.jsx("textarea",{className:"flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:J.project_content,onChange:A=>Z(ae=>({...ae,project_content:A.target.value})),rows:6})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(O,{type:"button",variant:"outline",onClick:()=>le(1),children:[e.jsx(Pr,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù‚Ø¨Ù„ÛŒ"]}),e.jsxs(O,{type:"submit",disabled:V,children:[V&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡"]})]})]})]})})]})}):e.jsxs(e.Fragment,{children:[e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsx(ie,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ...",value:D,onChange:A=>P(A.target.value),className:"max-w-[200px]"}),e.jsxs(ze,{value:F===""?ht:F,onValueChange:A=>M(A===ht?"":A),children:[e.jsx(Ae,{className:"w-[180px]",children:e.jsx(Fe,{placeholder:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:ht,children:"Ù‡Ù…Ù‡"}),h.map(A=>e.jsx(ce,{value:String(A.id),children:A.title},A.id))]})]}),e.jsxs(ze,{value:U===""?ht:U,onValueChange:A=>oe(A===ht?"":A),children:[e.jsx(Ae,{className:"w-[120px]",children:e.jsx(Fe,{placeholder:"ÙˆØ¶Ø¹ÛŒØª"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:ht,children:"Ù‡Ù…Ù‡"}),x.map(A=>e.jsx(ce,{value:String(A.id),children:A.name},A.id))]})]}),e.jsx(O,{onClick:Ne,children:"ÙÛŒÙ„ØªØ±"})]})})}),N?e.jsx(se,{children:e.jsx(re,{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):d.length===0?e.jsx(se,{children:e.jsxs(re,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(Gn,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Ù‡ÛŒÚ† Ù¾Ø±ÙˆÚ˜Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."})]})}):e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:d.map(A=>e.jsx(se,{className:"overflow-hidden",children:e.jsxs(re,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-lg bg-muted flex items-center justify-center mb-2",children:e.jsx(Gn,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx(Vt,{to:`/projects?action=view&project_id=${A.id}`,className:"font-medium text-primary hover:underline line-clamp-2",children:A.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:A.customer_name})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(vt,{variant:"secondary",children:A.status_name}),e.jsxs(la,{children:[e.jsx(oa,{asChild:!0,children:e.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Gd,{className:"h-4 w-4"})})}),e.jsxs(Nr,{align:"end",children:[e.jsx(as,{asChild:!0,children:e.jsxs(Vt,{to:`/projects?action=view&project_id=${A.id}`,children:[e.jsx(ua,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù…Ø´Ø§Ù‡Ø¯Ù‡"]})}),e.jsxs(as,{onClick:()=>Qe(A),children:[e.jsx(_n,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"ÙˆÛŒØ±Ø§ÛŒØ´"]}),A.delete_nonce&&e.jsxs(as,{className:"text-destructive",onClick:()=>R(A),disabled:V,children:[e.jsx(gn,{className:K("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø­Ø°Ù"]})]})]})]})]})},A.id))}),f>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",disabled:j<=1,onClick:()=>y(A=>Math.max(1,A-1)),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2 text-sm",children:["ØµÙØ­Ù‡ ",j," Ø§Ø² ",f]}),e.jsx(O,{variant:"outline",size:"sm",disabled:j>=f,onClick:()=>y(A=>Math.min(f,A+1)),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]})}var Aw=Symbol("radix.slottable");function Ow(t){const n=({children:s})=>e.jsx(e.Fragment,{children:s});return n.displayName=`${t}.Slottable`,n.__radixId=Aw,n}var kh="AlertDialog",[Tw]=lr(kh,[ld]),Os=ld(),Eh=t=>{const{__scopeAlertDialog:n,...s}=t,r=Os(n);return e.jsx(Yl,{...r,...s,modal:!0})};Eh.displayName=kh;var Iw="AlertDialogTrigger",Lw=l.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=Os(s);return e.jsx(_d,{...a,...r,ref:n})});Lw.displayName=Iw;var zw="AlertDialogPortal",Rh=t=>{const{__scopeAlertDialog:n,...s}=t,r=Os(n);return e.jsx(Wl,{...r,...s})};Rh.displayName=zw;var Fw="AlertDialogOverlay",Ph=l.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=Os(s);return e.jsx(wa,{...a,...r,ref:n})});Ph.displayName=Fw;var kr="AlertDialogContent",[$w,Vw]=Tw(kr),Yw=Ow("AlertDialogContent"),Dh=l.forwardRef((t,n)=>{const{__scopeAlertDialog:s,children:r,...a}=t,i=Os(s),o=l.useRef(null),c=wt(n,o),d=l.useRef(null);return e.jsx(rg,{contentName:kr,titleName:Mh,docsSlug:"alert-dialog",children:e.jsx($w,{scope:s,cancelRef:d,children:e.jsxs(_a,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:Re(a.onOpenAutoFocus,u=>{u.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[e.jsx(Yw,{children:r}),e.jsx(Bw,{contentRef:o})]})})})});Dh.displayName=kr;var Mh="AlertDialogTitle",Ah=l.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=Os(s);return e.jsx(Na,{...a,...r,ref:n})});Ah.displayName=Mh;var Oh="AlertDialogDescription",Th=l.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=Os(s);return e.jsx(Sa,{...a,...r,ref:n})});Th.displayName=Oh;var Ww="AlertDialogAction",Ih=l.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=Os(s);return e.jsx(Bl,{...a,...r,ref:n})});Ih.displayName=Ww;var Lh="AlertDialogCancel",zh=l.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,{cancelRef:a}=Vw(Lh,s),i=Os(s),o=wt(n,a);return e.jsx(Bl,{...i,...r,ref:o})});zh.displayName=Lh;var Bw=({contentRef:t})=>{const n=`\`${kr}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${kr}\` by passing a \`${Oh}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${kr}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return l.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(n)},[n,t]),null},Hw=Eh,Uw=Rh,Fh=Ph,$h=Dh,Vh=Ih,Yh=zh,Wh=Ah,Bh=Th;const Oa=Hw,qw=Uw,Hh=l.forwardRef(({className:t,...n},s)=>e.jsx(Fh,{ref:s,className:K("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n}));Hh.displayName=Fh.displayName;const Fr=l.forwardRef(({className:t,...n},s)=>e.jsxs(qw,{children:[e.jsx(Hh,{}),e.jsx($h,{ref:s,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n})]}));Fr.displayName=$h.displayName;const $r=({className:t,...n})=>e.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",t),...n});$r.displayName="AlertDialogHeader";const Vr=({className:t,...n})=>e.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-2",t),...n});Vr.displayName="AlertDialogFooter";const Yr=l.forwardRef(({className:t,...n},s)=>e.jsx(Wh,{ref:s,className:K("text-lg font-semibold",t),...n}));Yr.displayName=Wh.displayName;const Wr=l.forwardRef(({className:t,...n},s)=>e.jsx(Bh,{ref:s,className:K("text-sm text-muted-foreground",t),...n}));Wr.displayName=Bh.displayName;const Br=l.forwardRef(({className:t,...n},s)=>e.jsx(Vh,{ref:s,className:K(Ec(),t),...n}));Br.displayName=Vh.displayName;const Hr=l.forwardRef(({className:t,...n},s)=>e.jsx(Yh,{ref:s,className:K(Ec({variant:"outline"}),"mt-2 sm:mt-0",t),...n}));Hr.displayName=Yh.displayName;async function Kw(t){return de("puzzlingcrm_get_tasks",{s:t?.s,project_filter:t?.project_filter,staff_filter:t?.staff_filter,priority_filter:t?.priority_filter,label_filter:t?.label_filter,status:t?.status,paged:t?.paged??1,per_page:t?.per_page})}async function Gw(t,n){return de("puzzling_update_task_status",{task_id:String(t),status:n})}async function Xw(t){return de("puzzling_delete_task",{task_id:String(t)})}async function Jw(t){return de("puzzling_quick_add_task",{title:t.title,project_id:String(t.project_id),assigned_to:String(t.assigned_to),status_slug:t.status_slug})}function Zw(){const n=pt()?.isRtl===!0,[s,r]=l.useState("board"),[a,i]=l.useState(null),[o,c]=l.useState(!0),[d,u]=l.useState(null),[h,m]=l.useState(""),[x,p]=l.useState(""),[v,g]=l.useState(""),[f,_]=l.useState(""),[j,y]=l.useState(""),[N,E]=l.useState(!1),[I,S]=l.useState(null),[D,P]=l.useState(!1),[F,M]=l.useState({title:"",project_id:0,assigned_to:0,status_slug:""}),[U,oe]=l.useState(null),[V,k]=l.useState(null),L=l.useCallback(async()=>{c(!0),u(null);try{const b=await Kw({s:h||void 0,project_filter:x?parseInt(x,10):void 0,staff_filter:v?parseInt(v,10):void 0,priority_filter:f||void 0,label_filter:j||void 0,per_page:200});b.success&&b.data?i(b.data):u(b.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙˆØ¸Ø§ÛŒÙ")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙˆØ¸Ø§ÛŒÙ")}finally{c(!1)}},[h,x,v,f,j]);l.useEffect(()=>{L()},[L]);const le=l.useCallback(async(b,$)=>{P(!0),u(null);try{const A=await Gw(b,$);A.success?L():u(A.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ")}finally{P(!1),oe(null),k(null)}},[L]),J=l.useCallback(async b=>{P(!0),u(null);try{const $=await Xw(b);$.success?(S(null),L()):u($.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{P(!1)}},[L]),Z=l.useCallback(async()=>{if(!F.title.trim()||!F.project_id||!F.assigned_to||!F.status_slug){u("Ø¹Ù†ÙˆØ§Ù†ØŒ Ù¾Ø±ÙˆÚ˜Ù‡ØŒ Ù…Ø³Ø¦ÙˆÙ„ Ùˆ ÙˆØ¶Ø¹ÛŒØª Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}P(!0),u(null);try{const b=await Jw({title:F.title.trim(),project_id:F.project_id,assigned_to:F.assigned_to,status_slug:F.status_slug});b.success?(E(!1),M({title:"",project_id:0,assigned_to:0,status_slug:""}),L()):u(b.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ ÙˆØ¸ÛŒÙÙ‡")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ ÙˆØ¸ÛŒÙÙ‡")}finally{P(!1)}},[F,L]),Ne=a?.statuses??[],W=a?.tasks??[],he=a?.stats??{total_tasks:0,active_tasks:0,completed_tasks:0,total_projects:0},Qe=a?.projects??[],We=a?.staff??[],Pe=(he.total_projects??0)>0||We.length>0,R=b=>W.filter($=>$.status_slug===b);return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"ÙˆØ¸Ø§ÛŒÙ"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{variant:s==="board"?"default":"outline",size:"sm",onClick:()=>r("board"),className:"gap-2",children:[e.jsx(Hg,{className:"h-4 w-4"}),"Ø¨ÙØ±Ø¯"]}),e.jsxs(O,{variant:s==="list"?"default":"outline",size:"sm",onClick:()=>r("list"),className:"gap-2",children:[e.jsx(Hs,{className:"h-4 w-4"}),"Ù„ÛŒØ³Øª"]}),e.jsxs(O,{size:"sm",onClick:()=>E(!0),className:"gap-2",children:[e.jsx(jn,{className:"h-4 w-4"}),"ÙˆØ¸ÛŒÙÙ‡ Ø¬Ø¯ÛŒØ¯"]})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[Pe&&e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:e.jsx(Gn,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:he.total_projects})]})]})})}),e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-muted",children:e.jsx(Hs,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ ÙˆØ¸Ø§ÛŒÙ"}),e.jsx("p",{className:"text-xl font-semibold",children:he.total_tasks})]})]})})}),e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/10",children:e.jsx(_e,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ÙØ¹Ø§Ù„"}),e.jsx("p",{className:"text-xl font-semibold",children:he.active_tasks})]})]})})}),e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-500/10",children:e.jsx(Hs,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ØªÚ©Ù…ÛŒÙ„â€ŒØ´Ø¯Ù‡"}),e.jsx("p",{className:"text-xl font-semibold",children:he.completed_tasks})]})]})})})]}),e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(ie,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ...",value:h,onChange:b=>m(b.target.value),className:"max-w-[200px]"}),Qe.length>0&&e.jsxs(ze,{value:x===""?ht:x,onValueChange:b=>p(b===ht?"":b),children:[e.jsx(Ae,{className:"w-[180px]",children:e.jsx(Fe,{placeholder:"Ù¾Ø±ÙˆÚ˜Ù‡"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:ht,children:"Ù‡Ù…Ù‡"}),Qe.map(b=>e.jsx(ce,{value:String(b.id),children:b.title},b.id))]})]}),We.length>0&&e.jsxs(ze,{value:v===""?ht:v,onValueChange:b=>g(b===ht?"":b),children:[e.jsx(Ae,{className:"w-[160px]",children:e.jsx(Fe,{placeholder:"Ú©Ø§Ø±Ù…Ù†Ø¯"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:ht,children:"Ù‡Ù…Ù‡"}),We.map(b=>e.jsx(ce,{value:String(b.id),children:b.display_name},b.id))]})]}),(a?.priorities?.length??0)>0&&e.jsxs(ze,{value:f===""?ht:f,onValueChange:b=>_(b===ht?"":b),children:[e.jsx(Ae,{className:"w-[120px]",children:e.jsx(Fe,{placeholder:"Ø§ÙˆÙ„ÙˆÛŒØª"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:ht,children:"Ù‡Ù…Ù‡"}),(a?.priorities??[]).map(b=>e.jsx(ce,{value:b.slug,children:b.name},b.id))]})]}),(a?.labels?.length??0)>0&&e.jsxs(ze,{value:j===""?ht:j,onValueChange:b=>y(b===ht?"":b),children:[e.jsx(Ae,{className:"w-[120px]",children:e.jsx(Fe,{placeholder:"Ø¨Ø±Ú†Ø³Ø¨"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:ht,children:"Ù‡Ù…Ù‡"}),(a?.labels??[]).map(b=>e.jsx(ce,{value:b.slug,children:b.name},b.id))]})]}),e.jsx(O,{onClick:L,children:"Ø§Ø¹Ù…Ø§Ù„ ÙÛŒÙ„ØªØ±"})]})})}),d&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm",children:d}),o?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s==="board"?e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:Ne.map(b=>e.jsxs("div",{className:K("min-w-[280px] rounded-lg border-2 bg-muted/30 p-3 transition-colors",V===b.slug&&"border-primary bg-primary/5"),onDragOver:$=>{$.preventDefault(),k(b.slug)},onDragLeave:()=>k(null),onDrop:$=>{$.preventDefault(),k(null);const A=U;A&&A.status_slug!==b.slug&&le(A.id,b.slug)},children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:b.name}),e.jsx(vt,{variant:"secondary",children:R(b.slug).length})]}),e.jsx("div",{className:"space-y-2",children:R(b.slug).map($=>e.jsxs("div",{draggable:!0,onDragStart:()=>oe($),onDragEnd:()=>oe(null),className:"flex items-start gap-2 rounded-md border bg-background p-3 shadow-sm cursor-grab active:cursor-grabbing",children:[e.jsx(Vg,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:$.title}),$.project_title&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[e.jsx(Gn,{className:"h-3 w-3"}),$.project_title]}),$.due_date&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[e.jsx(Rs,{className:"h-3 w-3"}),$.due_date]}),$.assigned_name&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[e.jsx(Er,{className:"h-3 w-3"}),$.assigned_name]})]}),e.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 text-destructive hover:text-destructive",onClick:()=>S($.id),children:e.jsx(gn,{className:"h-4 w-4"})})]},$.id))})]},b.slug))}):e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:W.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† ÙˆØ¸ÛŒÙÙ‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(G,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(G,{children:"Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsx(G,{children:"Ù…Ø³Ø¦ÙˆÙ„"}),e.jsx(G,{children:"Ø³Ø±Ø±Ø³ÛŒØ¯"}),e.jsx(G,{className:"w-[80px]",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:W.map(b=>e.jsxs(Ve,{children:[e.jsx(q,{className:"font-medium",children:b.title}),e.jsx(q,{children:e.jsx(vt,{variant:"secondary",children:b.status_name})}),e.jsx(q,{children:b.project_title||"â€”"}),e.jsx(q,{children:b.assigned_name||"â€”"}),e.jsx(q,{children:b.due_date?b.due_date.slice(0,10):"â€”"}),e.jsx(q,{children:e.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>S(b.id),children:e.jsx(gn,{className:"h-4 w-4"})})})]},b.id))})]})})}),e.jsx(dn,{open:N,onOpenChange:E,children:e.jsxs(sn,{className:"sm:max-w-md",dir:n?"rtl":"ltr",children:[e.jsx(rn,{children:e.jsx(an,{children:"ÙˆØ¸ÛŒÙÙ‡ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø¹Ù†ÙˆØ§Ù† *"}),e.jsx(ie,{value:F.title,onChange:b=>M($=>({...$,title:b.target.value})),placeholder:"Ø¹Ù†ÙˆØ§Ù† ÙˆØ¸ÛŒÙÙ‡"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù¾Ø±ÙˆÚ˜Ù‡ *"}),e.jsxs(ze,{value:F.project_id?String(F.project_id):"",onValueChange:b=>M($=>({...$,project_id:parseInt(b,10)||0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù¾Ø±ÙˆÚ˜Ù‡"})}),e.jsx(Oe,{children:Qe.map(b=>e.jsx(ce,{value:String(b.id),children:b.title},b.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù…Ø³Ø¦ÙˆÙ„ *"}),e.jsxs(ze,{value:F.assigned_to?String(F.assigned_to):"",onValueChange:b=>M($=>({...$,assigned_to:parseInt(b,10)||0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø³Ø¦ÙˆÙ„"})}),e.jsx(Oe,{children:We.map(b=>e.jsx(ce,{value:String(b.id),children:b.display_name},b.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"ÙˆØ¶Ø¹ÛŒØª *"}),e.jsxs(ze,{value:F.status_slug,onValueChange:b=>M($=>({...$,status_slug:b})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ ÙˆØ¶Ø¹ÛŒØª"})}),e.jsx(Oe,{children:Ne.map(b=>e.jsx(ce,{value:b.slug,children:b.name},b.slug))})]})]})]}),e.jsxs(un,{children:[e.jsx(O,{variant:"outline",onClick:()=>E(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{onClick:Z,disabled:D,children:[D&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§ÛŒØ¬Ø§Ø¯"]})]})]})}),e.jsx(Oa,{open:I!==null,onOpenChange:b=>!b&&S(null),children:e.jsxs(Fr,{dir:n?"rtl":"ltr",children:[e.jsxs($r,{children:[e.jsx(Yr,{children:"Ø­Ø°Ù ÙˆØ¸ÛŒÙÙ‡"}),e.jsx(Wr,{children:"Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† ÙˆØ¸ÛŒÙÙ‡ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"})]}),e.jsxs(Vr,{children:[e.jsx(Hr,{children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsx(Br,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>I!==null&&J(I),disabled:D,children:D?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):"Ø­Ø°Ù"})]})]})})]})}async function Qw(t){return de("puzzlingcrm_get_appointments",{s:t?.s,date_from:t?.date_from,date_to:t?.date_to,paged:t?.paged??1,per_page:t?.per_page})}async function e1(t){return de("puzzlingcrm_get_appointment",{appointment_id:String(t)})}async function t1(t,n){return de("puzzling_get_appointments_calendar",{start:t??"",end:n??""})}async function n1(t){return de("puzzling_manage_appointment",{appointment_id:String(t.appointment_id??0),customer_id:String(t.customer_id),title:t.title,date:t.date,time:t.time??"10:00",status:t.status,notes:t.notes??""})}async function s1(t){return de("puzzling_delete_appointment",{appointment_id:String(t)})}const r1={pending:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-200",confirmed:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200",completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200"};function a1(){const n=pt()?.isRtl===!0,[s,r]=l.useState("list"),[a,i]=l.useState([]),[o,c]=l.useState([]),[d,u]=l.useState([]),[h,m]=l.useState([]),[x,p]=l.useState(!0),[v,g]=l.useState(null),[f,_]=l.useState(!1),[j,y]=l.useState(null),[N,E]=l.useState(null),[I,S]=l.useState(!1),[D,P]=l.useState({customer_id:0,title:"",date:"",time:"10:00",status_slug:"pending",notes:""}),F=ca()==="fa",[M,U]=l.useState(()=>{const R=new Date;if(ca()==="fa"){const b=new $s({date:R,calendar:nr,locale:Ga});return{year:b.year,month:b.month.index}}return{year:R.getFullYear(),month:R.getMonth()}}),oe=l.useCallback(async()=>{p(!0),g(null);try{const R=await Qw({per_page:100});R.success&&R.data?(i(R.data.appointments??[]),u(R.data.statuses??[])):g(R.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øªâ€ŒÙ‡Ø§")}catch{g("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øªâ€ŒÙ‡Ø§")}finally{p(!1)}},[]),V=l.useCallback(async()=>{let R,b;if(F){const $=new $s({year:M.year,month:M.month+1,day:1,calendar:nr}).convert(da),A=new $s({year:M.year,month:M.month+1,day:1,calendar:nr,locale:Ga}).month.length,ae=new $s({year:M.year,month:M.month+1,day:A,calendar:nr}).convert(da);R=$.format("YYYY-MM-DD"),b=ae.format("YYYY-MM-DD")}else{const $=new Date(M.year,M.month,1),A=new Date(M.year,M.month+1,0);R=$.toISOString().slice(0,10),b=A.toISOString().slice(0,10)}try{const $=await t1(R,b);$.success&&$.data?.events&&c($.data.events)}catch{c([])}},[M,F]),k=l.useCallback(async()=>{const R=await go({role:"customer"});R.success&&R.data?.users&&m(R.data.users.map(b=>({id:b.id,display_name:b.display_name||b.email})))},[]);l.useEffect(()=>{oe()},[oe]),l.useEffect(()=>{s==="calendar"&&V()},[s,V]),l.useEffect(()=>{f&&k()},[f,k]),l.useEffect(()=>{j&&f?e1(j).then(R=>{if(R.success&&R.data?.appointment){const b=R.data.appointment;P({customer_id:b.customer_id,title:b.title,date:b.date||"",time:b.time||"10:00",status_slug:b.status_slug||"pending",notes:b.notes||""})}}):f||(P({customer_id:0,title:"",date:"",time:"10:00",status_slug:"pending",notes:""}),y(null))},[j,f]);const L=()=>{y(null),P({customer_id:0,title:"",date:"",time:"10:00",status_slug:"pending",notes:""}),_(!0)},le=R=>{y(R.id),P({customer_id:R.customer_id,title:R.title,date:R.datetime?R.datetime.slice(0,10):"",time:R.datetime?R.datetime.slice(11,16):"10:00",status_slug:R.status_slug,notes:R.notes||""}),_(!0)},J=l.useCallback(async()=>{if(!D.customer_id||!D.title.trim()||!D.date){g("Ù…Ø´ØªØ±ÛŒØŒ Ù…ÙˆØ¶ÙˆØ¹ Ùˆ ØªØ§Ø±ÛŒØ® Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}S(!0),g(null);try{const R=await n1({appointment_id:j??void 0,customer_id:D.customer_id,title:D.title.trim(),date:D.date,time:D.time,status:D.status_slug,notes:D.notes});R.success?(_(!1),oe(),s==="calendar"&&V()):g(R.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{g("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{S(!1)}},[D,j,oe,V,s]),Z=l.useCallback(async()=>{if(N!=null){S(!0),g(null);try{const R=await s1(N);R.success?(E(null),oe(),s==="calendar"&&V()):g(R.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{g("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{S(!1)}}},[N,oe,V,s]),Ne=F?["Ø´","ÛŒ","Ø¯","Ø³","Ú†","Ù¾","Ø¬"]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];let W,he,Qe;const We=[];if(F){const R=new $s({year:M.year,month:M.month+1,day:1,calendar:nr,locale:Ga});W=R.month.length,he=R.weekDay.index,Qe=R.format("MMMM YYYY");for(let b=1;b<=W;b++){const $=new $s({year:M.year,month:M.month+1,day:b,calendar:nr}).convert(da);We.push({day:b,isoDate:$.format("YYYY-MM-DD")})}}else{W=new Date(M.year,M.month+1,0).getDate(),he=(new Date(M.year,M.month,1).getDay()+1)%7,Qe=new Date(M.year,M.month,1).toLocaleDateString("en-US",{month:"long",year:"numeric"});for(let b=1;b<=W;b++){const $=`${M.year}-${String(M.month+1).padStart(2,"0")}-${String(b).padStart(2,"0")}`;We.push({day:b,isoDate:$})}}const Pe={};return o.forEach(R=>{const b=R.start.slice(0,10);Pe[b]||(Pe[b]=[]),Pe[b].push(R)}),e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øªâ€ŒÙ‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{variant:s==="list"?"default":"outline",size:"sm",onClick:()=>r("list"),className:"gap-2",children:[e.jsx(Hs,{className:"h-4 w-4"}),"Ù„ÛŒØ³Øª"]}),e.jsxs(O,{variant:s==="calendar"?"default":"outline",size:"sm",onClick:()=>r("calendar"),className:"gap-2",children:[e.jsx(Rs,{className:"h-4 w-4"}),"ØªÙ‚ÙˆÛŒÙ…"]}),e.jsxs(O,{size:"sm",onClick:L,className:"gap-2",children:[e.jsx(jn,{className:"h-4 w-4"}),"Ù‚Ø±Ø§Ø± Ø¬Ø¯ÛŒØ¯"]})]})]}),v&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm",children:v}),x&&s==="list"?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s==="list"?e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:a.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§ØªÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ù…ÙˆØ¶ÙˆØ¹"}),e.jsx(G,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsx(G,{children:"ØªØ§Ø±ÛŒØ® Ùˆ Ø³Ø§Ø¹Øª"}),e.jsx(G,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(G,{className:"w-[120px]",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:a.map(R=>e.jsxs(Ve,{children:[e.jsx(q,{className:"font-medium",children:R.title}),e.jsx(q,{children:R.customer_name}),e.jsx(q,{children:R.datetime?new Date(R.datetime).toLocaleString(ca()==="fa"?"fa-IR":"en-US",{dateStyle:"short",timeStyle:"short"}):"â€”"}),e.jsx(q,{children:e.jsx(vt,{className:K(r1[R.status_slug]??"bg-muted"),children:R.status_name})}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>le(R),children:e.jsx(_n,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>E(R.id),children:e.jsx(gn,{className:"h-4 w-4"})})]})})]},R.id))})]})})}):e.jsx(se,{children:e.jsxs(re,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium",children:Qe}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",onClick:()=>U(R=>R.month===0?{year:R.year-1,month:11}:{year:R.year,month:R.month-1}),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsx(O,{variant:"outline",size:"sm",onClick:()=>U(R=>R.month===11?{year:R.year+1,month:0}:{year:R.year,month:R.month+1}),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:[Ne.map(R=>e.jsx("div",{className:"font-medium text-muted-foreground py-1",children:R},R)),Array.from({length:he},(R,b)=>e.jsx("div",{},`empty-${b}`)),We.map(({day:R,isoDate:b})=>{const $=Pe[b]??[];return e.jsxs("div",{className:"min-h-[80px] rounded border bg-muted/30 p-1 text-left",children:[e.jsx("span",{className:"text-muted-foreground",children:R}),e.jsxs("div",{className:"mt-1 space-y-0.5",children:[$.slice(0,3).map(A=>e.jsx("div",{className:"truncate rounded px-1 py-0.5 text-xs cursor-pointer",style:{backgroundColor:A.backgroundColor??"#e5e7eb",color:A.borderColor??"#374151"},title:A.title,children:A.title},A.id)),$.length>3&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",$.length-3]})]})]},`${b}-${R}`)})]})]})}),e.jsx(dn,{open:f,onOpenChange:_,children:e.jsxs(sn,{className:"sm:max-w-md",dir:n?"rtl":"ltr",children:[e.jsx(rn,{children:e.jsx(an,{children:j?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª":"Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(ze,{value:D.customer_id?String(D.customer_id):"",onValueChange:R=>P(b=>({...b,customer_id:parseInt(R,10)||0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø´ØªØ±ÛŒ"})}),e.jsx(Oe,{children:h.map(R=>e.jsx(ce,{value:String(R.id),children:R.display_name},R.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù…ÙˆØ¶ÙˆØ¹ *"}),e.jsx(ie,{value:D.title,onChange:R=>P(b=>({...b,title:R.target.value})),placeholder:"Ù…ÙˆØ¶ÙˆØ¹ Ù‚Ø±Ø§Ø±"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"ØªØ§Ø±ÛŒØ® *"}),e.jsx(Zt,{value:D.date,onChange:R=>P(b=>({...b,date:R}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø³Ø§Ø¹Øª *"}),e.jsx(ie,{type:"time",value:D.time,onChange:R=>P(b=>({...b,time:R.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsxs(ze,{value:D.status_slug,onValueChange:R=>P(b=>({...b,status_slug:R})),children:[e.jsx(Ae,{children:e.jsx(Fe,{})}),e.jsx(Oe,{children:d.map(R=>e.jsx(ce,{value:R.slug,children:R.name},R.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øª"}),e.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:D.notes,onChange:R=>P(b=>({...b,notes:R.target.value})),rows:3})]})]}),e.jsxs(un,{children:[e.jsx(O,{variant:"outline",onClick:()=>_(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{onClick:J,disabled:I,children:[I&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),j?"Ø°Ø®ÛŒØ±Ù‡":"Ø§ÛŒØ¬Ø§Ø¯"]})]})]})}),e.jsx(Oa,{open:N!==null,onOpenChange:R=>!R&&E(null),children:e.jsxs(Fr,{dir:n?"rtl":"ltr",children:[e.jsxs($r,{children:[e.jsx(Yr,{children:"Ø­Ø°Ù Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª"}),e.jsx(Wr,{children:"Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"})]}),e.jsxs(Vr,{children:[e.jsx(Hr,{children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsx(Br,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:Z,disabled:I,children:I?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):"Ø­Ø°Ù"})]})]})})]})}const i1=[{slug:"system_manager",name:"Ù…Ø¯ÛŒØ± Ø³ÛŒØ³ØªÙ…"},{slug:"finance_manager",name:"Ù…Ø¯ÛŒØ± Ù…Ø§Ù„ÛŒ"},{slug:"team_member",name:"Ø¹Ø¶Ùˆ ØªÛŒÙ…"},{slug:"customer",name:"Ù…Ø´ØªØ±ÛŒ"}];function l1(){const n=pt()?.isRtl===!0,[s,r]=l.useState(null),[a,i]=l.useState(!0),[o,c]=l.useState(null),[d,u]=l.useState(""),[h,m]=l.useState(!1),[x,p]=l.useState(null),[v,g]=l.useState(null),[f,_]=l.useState(""),[j,y]=l.useState(!1),[N,E]=l.useState({first_name:"",last_name:"",email:"",pzl_mobile_phone:"",role:"team_member",password:"",department:0,job_title:0}),I=l.useCallback(async()=>{i(!0),c(null);try{const k=await go({role:"staff",search:d||void 0});k.success&&k.data?r(k.data):c(k.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ú©Ù†Ø§Ù†")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ú©Ù†Ø§Ù†")}finally{i(!1)}},[d]);l.useEffect(()=>{I()},[I]);const S=()=>{p(null),E({first_name:"",last_name:"",email:"",pzl_mobile_phone:"",role:"team_member",password:"",department:0,job_title:0}),m(!0)},D=k=>{p(k),E({first_name:k.first_name??"",last_name:k.last_name??"",email:k.email??"",pzl_mobile_phone:k.phone??"",role:k.role_slug??"team_member",password:"",department:0,job_title:0}),m(!0)},P=l.useCallback(async()=>{if(!N.last_name.trim()||!N.email.trim()||!N.role){c("Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒØŒ Ø§ÛŒÙ…ÛŒÙ„ Ùˆ Ù†Ù‚Ø´ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}if(!x&&!N.password){c("Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯ØŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}y(!0),c(null);try{const k=await Nh({user_id:x?.id,first_name:N.first_name.trim(),last_name:N.last_name.trim(),email:N.email.trim(),pzl_mobile_phone:N.pzl_mobile_phone.trim()||void 0,role:N.role,password:N.password||void 0,department:N.department||void 0,job_title:N.job_title||void 0});k.success?(m(!1),I()):c(k.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{y(!1)}},[N,x,I]),F=l.useCallback(async()=>{if(!(v==null||!f)){y(!0),c(null);try{const k=await Sh(v,f);k.success?(g(null),_(""),I()):c(k.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{y(!1)}}},[v,f,I]),M=s?.users??[],U=s?.departments??[],oe=s?.job_titles??[],V=N.department?oe.filter(k=>k.parent===N.department):[];return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Ú©Ø§Ø±Ú©Ù†Ø§Ù†"}),e.jsxs(O,{onClick:S,className:"gap-2",children:[e.jsx(jn,{className:"h-4 w-4"}),"Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ù…Ù†Ø¯"]})]}),o&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm",children:o}),e.jsx(se,{children:e.jsxs(re,{className:"pt-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx(ie,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ (Ù†Ø§Ù…ØŒ Ø§ÛŒÙ…ÛŒÙ„ØŒ ØªÙ„ÙÙ†)...",value:d,onChange:k=>u(k.target.value),className:"max-w-sm"})}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):M.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ú©Ø§Ø±Ù…Ù†Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ù†Ø§Ù…"}),e.jsx(G,{children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(G,{children:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"}),e.jsx(G,{children:"Ø¹Ù†ÙˆØ§Ù† Ø´ØºÙ„ÛŒ"}),e.jsx(G,{children:"Ù†Ù‚Ø´"}),e.jsx(G,{className:"w-[120px]",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:M.map(k=>e.jsxs(Ve,{children:[e.jsx(q,{className:"font-medium",children:(k.first_name||k.last_name)?.trim()?`${k.first_name??""} ${k.last_name??""}`.trim():k.display_name}),e.jsx(q,{children:k.email}),e.jsx(q,{children:k.department_name??"â€”"}),e.jsx(q,{children:k.job_title_name??"â€”"}),e.jsx(q,{children:k.role_name}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>D(k),children:e.jsx(_n,{className:"h-4 w-4"})}),k.can_delete&&e.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>{g(k.id),_(k.delete_nonce)},children:e.jsx(gn,{className:"h-4 w-4"})})]})})]},k.id))})]})]})}),e.jsx(dn,{open:h,onOpenChange:m,children:e.jsxs(sn,{className:"sm:max-w-md",dir:n?"rtl":"ltr",children:[e.jsx(rn,{children:e.jsx(an,{children:x?"ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ø§Ø±Ù…Ù†Ø¯":"Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ù…Ù†Ø¯"})}),e.jsxs("form",{onSubmit:k=>{k.preventDefault(),P()},className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù†Ø§Ù…"}),e.jsx(ie,{value:N.first_name,onChange:k=>E(L=>({...L,first_name:k.target.value})),placeholder:"Ù†Ø§Ù…"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *"}),e.jsx(ie,{value:N.last_name,onChange:k=>E(L=>({...L,last_name:k.target.value})),placeholder:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø§ÛŒÙ…ÛŒÙ„ *"}),e.jsx(ie,{type:"email",value:N.email,onChange:k=>E(L=>({...L,email:k.target.value})),placeholder:"email@example.com",disabled:!!x})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(ie,{value:N.pzl_mobile_phone,onChange:k=>E(L=>({...L,pzl_mobile_phone:k.target.value})),placeholder:"09..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù†Ù‚Ø´ *"}),e.jsxs(ze,{value:N.role,onValueChange:k=>E(L=>({...L,role:k})),children:[e.jsx(Ae,{children:e.jsx(Fe,{})}),e.jsx(Oe,{children:i1.map(k=>e.jsx(ce,{value:k.slug,children:k.name},k.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± ",x?"(Ø®Ø§Ù„ÛŒ = Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±)":"*"]}),e.jsx(ie,{type:"password",value:N.password,onChange:k=>E(L=>({...L,password:k.target.value})),placeholder:x?"Ø®Ø§Ù„ÛŒ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯":"Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"})]}),U.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"}),e.jsxs(ze,{value:N.department?String(N.department):yr,onValueChange:k=>E(L=>({...L,department:k===yr?0:parseInt(k,10)||0,job_title:0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:yr,children:"â€”"}),U.map(k=>e.jsx(ce,{value:String(k.id),children:k.name},k.id))]})]})]}),V.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø¹Ù†ÙˆØ§Ù† Ø´ØºÙ„ÛŒ"}),e.jsxs(ze,{value:N.job_title?String(N.job_title):yr,onValueChange:k=>E(L=>({...L,job_title:k===yr?0:parseInt(k,10)||0})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ù†ÙˆØ§Ù† Ø´ØºÙ„ÛŒ"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:yr,children:"â€”"}),V.map(k=>e.jsx(ce,{value:String(k.id),children:k.name},k.id))]})]})]}),e.jsxs(un,{children:[e.jsx(O,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{type:"submit",disabled:j,children:[j&&e.jsx(_e,{className:K("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),x?"Ø°Ø®ÛŒØ±Ù‡":"Ø§ÛŒØ¬Ø§Ø¯"]})]})]})]})}),e.jsx(Oa,{open:v!==null,onOpenChange:k=>!k&&g(null),children:e.jsxs(Fr,{dir:n?"rtl":"ltr",children:[e.jsxs($r,{children:[e.jsx(Yr,{children:"Ø­Ø°Ù Ú©Ø§Ø±Ù…Ù†Ø¯"}),e.jsx(Wr,{children:"Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"})]}),e.jsxs(Vr,{children:[e.jsx(Hr,{children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsx(Br,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:F,disabled:j,children:j?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):"Ø­Ø°Ù"})]})]})})]})}const o1="modulepreload",c1=function(t,n){return new URL(t,n).href},yc={},d1=function(n,s,r){let a=Promise.resolve();if(s&&s.length>0){let u=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const o=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");a=u(s.map(h=>{if(h=c1(h,r),h in yc)return;yc[h]=!0;const m=h.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(r)for(let v=o.length-1;v>=0;v--){const g=o[v];if(g.href===h&&(!m||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${x}`))return;const p=document.createElement("link");if(p.rel=m?"stylesheet":o1,m||(p.as="script"),p.crossOrigin="",p.href=h,d&&p.setAttribute("nonce",d),document.head.appendChild(p),m)return new Promise((v,g)=>{p.addEventListener("load",v),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return a.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return n().catch(i)})};async function u1(t){return de("puzzlingcrm_get_reports",{tab:t.tab,date_from:t.date_from,date_to:t.date_to})}const m1=[{id:"overview",label:"Ù†Ù…Ø§ÛŒ Ú©Ù„ÛŒ",icon:Bd},{id:"finance",label:"Ú¯Ø²Ø§Ø±Ø´ Ù…Ø§Ù„ÛŒ",icon:Kd},{id:"tasks",label:"Ú¯Ø²Ø§Ø±Ø´ ÙˆØ¸Ø§ÛŒÙ",icon:Bs},{id:"tickets",label:"Ú¯Ø²Ø§Ø±Ø´ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§",icon:Jl},{id:"agile",label:"Ú¯Ø²Ø§Ø±Ø´ Ø§ÙŽØ¬Ø§ÛŒÙ„",icon:Zg}];function h1(){const n=pt()?.isRtl===!0,[s,r]=l.useState("overview"),[a,i]=l.useState(()=>{const y=new Date;return y.setDate(1),y.toISOString().slice(0,10)}),[o,c]=l.useState(()=>new Date().toISOString().slice(0,10)),[d,u]=l.useState(null),[h,m]=l.useState(!0),[x,p]=l.useState(null),v=l.useCallback(async()=>{m(!0),p(null);try{const y=await u1({tab:s,date_from:a,date_to:o});y.success&&y.data?.stats?u(y.data.stats):(p(y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú¯Ø²Ø§Ø±Ø´"),u(null))}catch{p("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú¯Ø²Ø§Ø±Ø´"),u(null)}finally{m(!1)}},[s,a,o]);l.useEffect(()=>{v()},[v]);const g=()=>{const y=new Date;i(new Date(y.getFullYear(),y.getMonth(),1).toISOString().slice(0,10)),c(new Date(y.getFullYear(),y.getMonth()+1,0).toISOString().slice(0,10))},f=()=>{const y=new Date;i(new Date(y.getFullYear(),y.getMonth()-1,1).toISOString().slice(0,10)),c(new Date(y.getFullYear(),y.getMonth(),0).toISOString().slice(0,10))},_=y=>{const N=window.puzzlingcrm;if(!N?.ajaxUrl||!N?.nonce)return;const E=new URLSearchParams({action:"puzzlingcrm_export_reports_csv",security:N.nonce,type:y,date_from:a,date_to:o});window.open(`${N.ajaxUrl}?${E.toString()}`,"_blank")},j=()=>{d&&d1(async()=>{const{jsPDF:y}=await import("./dashboard-jspdf.es.min.js").then(N=>N.j);return{jsPDF:y}},[],import.meta.url).then(({jsPDF:y})=>{const N=new y("p","mm","a4"),E=N.internal.pageSize.width;let I=20;N.setFontSize(18),N.text("Ú¯Ø²Ø§Ø±Ø´ PuzzlingCRM",E/2,I,{align:"center"}),I+=12,N.setFontSize(11),N.text(`Ø¨Ø§Ø²Ù‡: ${a} ØªØ§ ${o}`,E/2,I,{align:"center"}),I+=10,N.text(`ØªØ§Ø±ÛŒØ® ØªÙ‡ÛŒÙ‡: ${new Date().toLocaleDateString("fa-IR")}`,E/2,I,{align:"center"}),I+=15,N.setFontSize(10);const S={total_projects:"Ú©Ù„ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§",total_tasks:"Ú©Ù„ ÙˆØ¸Ø§ÛŒÙ",completed_tasks:"ÙˆØ¸Ø§ÛŒÙ ØªÚ©Ù…ÛŒÙ„â€ŒØ´Ø¯Ù‡",total_tickets:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§",total_leads:"Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§",total_customers:"Ù…Ø´ØªØ±ÛŒØ§Ù†",total_contracts:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§",total_revenue:"Ú©Ù„ Ø¯Ø±Ø¢Ù…Ø¯"};Object.entries(d).forEach(([D,P])=>{if(D==="project_by_status"||D==="task_by_status"||D==="currency")return;const M=`${S[D]??D}: ${P!=null?String(P):"-"}`;I>270&&(N.addPage(),I=20),N.text(M,20,I),I+=8}),Array.isArray(d.project_by_status)&&(N.text("Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ù‡ ÙˆØ¶Ø¹ÛŒØª:",20,I),I+=7,d.project_by_status.forEach(D=>{I>270&&(N.addPage(),I=20),N.text(`  ${D.name}: ${D.count}`,20,I),I+=7})),Array.isArray(d.task_by_status)&&(I+=5,N.text("ÙˆØ¸ÛŒÙÙ‡ Ø¨Ù‡ ÙˆØ¶Ø¹ÛŒØª:",20,I),I+=7,d.task_by_status.forEach(D=>{I>270&&(N.addPage(),I=20),N.text(`  ${D.name}: ${D.count}`,20,I),I+=7})),N.save(`report-${a}-${o}.pdf`)})};return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Ú¯Ø²Ø§Ø±Ø´Ø§Øª"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>_("contracts"),className:"gap-2",children:[e.jsx(Fo,{className:"h-4 w-4"}),"Ø®Ø±ÙˆØ¬ÛŒ CSV (Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§)"]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>_("tasks"),className:"gap-2",children:[e.jsx(Fo,{className:"h-4 w-4"}),"Ø®Ø±ÙˆØ¬ÛŒ CSV (ÙˆØ¸Ø§ÛŒÙ)"]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:j,disabled:!d,className:"gap-2",children:[e.jsx(Ig,{className:"h-4 w-4"}),"Ø®Ø±ÙˆØ¬ÛŒ PDF"]})]})]}),e.jsx(se,{children:e.jsxs(re,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-wrap items-end gap-3 mb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Ø§Ø² ØªØ§Ø±ÛŒØ®"}),e.jsx(Zt,{value:a,onChange:i,className:"w-[160px]"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"ØªØ§ ØªØ§Ø±ÛŒØ®"}),e.jsx(Zt,{value:o,onChange:c,className:"w-[160px]"})]}),e.jsx(O,{onClick:v,children:"Ø§Ø¹Ù…Ø§Ù„ ÙÛŒÙ„ØªØ±"}),e.jsx(O,{variant:"outline",onClick:g,children:"Ø§ÛŒÙ† Ù…Ø§Ù‡"}),e.jsx(O,{variant:"outline",onClick:f,children:"Ù…Ø§Ù‡ Ù‚Ø¨Ù„"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 border-b mb-4",children:m1.map(y=>{const N=y.icon;return e.jsxs(O,{variant:s===y.id?"default":"ghost",size:"sm",className:"gap-2",onClick:()=>r(y.id),children:[e.jsx(N,{className:"h-4 w-4"}),y.label]},y.id)})}),x&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm mb-4",children:x}),h?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d?e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:["total_projects"in d&&e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:e.jsx(Gn,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_projects??0)})]})]})})}),"total_tasks"in d&&e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/10",children:e.jsx(Bs,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ÙˆØ¸Ø§ÛŒÙ"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_tasks??0)})]})]})})}),"completed_tasks"in d&&e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-500/10",children:e.jsx(Bs,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ÙˆØ¸Ø§ÛŒÙ ØªÚ©Ù…ÛŒÙ„â€ŒØ´Ø¯Ù‡"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.completed_tasks??0)})]})]})})}),"total_tickets"in d&&e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/10",children:e.jsx(av,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_tickets??0)})]})]})})}),"total_leads"in d&&e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-violet-500/10",children:e.jsx(Tr,{className:"h-5 w-5 text-violet-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_leads??0)})]})]})})}),"total_customers"in d&&e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-cyan-500/10",children:e.jsx(Us,{className:"h-5 w-5 text-cyan-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù…Ø´ØªØ±ÛŒØ§Ù†"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_customers??0)})]})]})})}),"total_contracts"in d&&e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-orange-500/10",children:e.jsx(Un,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_contracts??0)})]})]})})}),"total_revenue"in d&&e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/10",children:e.jsx(Kd,{className:"h-5 w-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ Ø¯Ø±Ø¢Ù…Ø¯"}),e.jsxs("p",{className:"text-xl font-semibold",children:[Number(d.total_revenue??0).toLocaleString("fa-IR")," ",d.currency?String(d.currency):""]})]})]})})}),Array.isArray(d.project_by_status)&&d.project_by_status.map((y,N)=>e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-muted",children:e.jsx(Gn,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ù¾Ø±ÙˆÚ˜Ù‡ (",y.name,")"]}),e.jsx("p",{className:"text-xl font-semibold",children:y.count})]})]})})},N)),Array.isArray(d.task_by_status)&&d.task_by_status.map((y,N)=>e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-muted",children:e.jsx(Bs,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ÙˆØ¸ÛŒÙÙ‡ (",y.name,")"]}),e.jsx("p",{className:"text-xl font-semibold",children:y.count})]})]})})},N))]}):!h&&!x&&e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø§Ø²Ù‡ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª."})]})})]})}async function f1(t){return de("puzzlingcrm_get_visitor_stats",{date_from:t.date_from,date_to:t.date_to})}function p1({data:t,labels:n,max:s}){const r=s??Math.max(...t,1);return e.jsx("div",{className:"flex h-[180px] items-end gap-1",children:t.map((a,i)=>e.jsxs("div",{className:"flex flex-1 flex-col items-center gap-1",children:[e.jsx("div",{className:"w-full min-h-[4px] rounded-t bg-primary transition-all",style:{height:`${a/r*100}%`}}),e.jsx("span",{className:"text-[10px] text-muted-foreground truncate max-w-full",title:n[i],children:n[i]})]},i))})}function x1(t){try{return new Date(t.replace(/-/g,"/")).toLocaleDateString("fa-IR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return t}}function g1(){const n=pt()?.isRtl===!0,[s,r]=l.useState(()=>{const p=new Date;return p.setDate(p.getDate()-30),p.toISOString().slice(0,10)}),[a,i]=l.useState(()=>new Date().toISOString().slice(0,10)),[o,c]=l.useState(null),[d,u]=l.useState(!0),[h,m]=l.useState(null),x=l.useCallback(async()=>{u(!0),m(null);try{const p=await f1({date_from:s,date_to:a});p.success&&p.data?c(p.data):(m(p.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¢Ù…Ø§Ø±"),c(null))}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¢Ù…Ø§Ø±"),c(null)}finally{u(!1)}},[s,a]);return l.useEffect(()=>{x()},[x]),e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Ø¢Ù…Ø§Ø± Ø¨Ø§Ø²Ø¯ÛŒØ¯Ú©Ù†Ù†Ø¯Ú¯Ø§Ù†"}),e.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Ø§Ø² ØªØ§Ø±ÛŒØ®"}),e.jsx(Zt,{value:s,onChange:r,className:"w-[160px]"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"ØªØ§ ØªØ§Ø±ÛŒØ®"}),e.jsx(Zt,{value:a,onChange:i,className:"w-[160px]"})]})]})]}),h&&e.jsx(se,{className:"border-destructive",children:e.jsx(re,{className:"pt-6 text-destructive",children:h})}),d&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),!d&&o&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(se,{children:[e.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(tt,{className:"text-sm font-medium",children:"Ú©Ù„ Ø¨Ø§Ø²Ø¯ÛŒØ¯Ù‡Ø§"}),e.jsx(ua,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:Number(o.overall.total_visits).toLocaleString("fa-IR")})})]}),e.jsxs(se,{children:[e.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(tt,{className:"text-sm font-medium",children:"Ø¨Ø§Ø²Ø¯ÛŒØ¯ ÛŒÚ©ØªØ§"}),e.jsx(Us,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:Number(o.overall.unique_visitors).toLocaleString("fa-IR")})})]}),e.jsxs(se,{children:[e.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(tt,{className:"text-sm font-medium",children:"Ø§Ù…Ø±ÙˆØ²"}),e.jsx(Hd,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:Number(o.overall.today_visits).toLocaleString("fa-IR")})})]}),e.jsxs(se,{children:[e.jsxs(et,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(tt,{className:"text-sm font-medium",children:"Ø¢Ù†Ù„Ø§ÛŒÙ† (Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡)"}),e.jsx(kg,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:Number(o.overall.online_now).toLocaleString("fa-IR")})})]})]}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsx(tt,{children:"Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø±ÙˆØ²Ø§Ù†Ù‡"})}),e.jsx(re,{children:e.jsx(p1,{data:o.daily.map(p=>p.visits),labels:o.daily.map(p=>p.date)})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(se,{children:[e.jsx(et,{children:e.jsx(tt,{children:"Ù¾Ø±Ø¨Ø§Ø²Ø¯ÛŒØ¯ØªØ±ÛŒÙ† ØµÙØ­Ø§Øª"})}),e.jsx(re,{children:e.jsx("div",{className:"overflow-auto max-h-[280px]",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-right py-2 px-2",children:"ØµÙØ­Ù‡"}),e.jsx("th",{className:"text-left py-2 px-2",children:"Ø¨Ø§Ø²Ø¯ÛŒØ¯"})]})}),e.jsx("tbody",{children:(o.top_pages||[]).length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"text-muted-foreground py-4 text-center",children:"Ø¨Ø¯ÙˆÙ† Ø¯Ø§Ø¯Ù‡"})}):(o.top_pages||[]).map((p,v)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-2 truncate max-w-[200px]",title:p.page_url,children:p.page_url||"â€“"}),e.jsx("td",{className:"py-2 px-2",children:Number(p.visit_count).toLocaleString("fa-IR")})]},v))})]})})})]}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsx(tt,{children:"Ù…Ø±ÙˆØ±Ú¯Ø±Ù‡Ø§"})}),e.jsx(re,{children:e.jsx("div",{className:"overflow-auto max-h-[280px]",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-right py-2 px-2",children:"Ù…Ø±ÙˆØ±Ú¯Ø±"}),e.jsx("th",{className:"text-left py-2 px-2",children:"ØªØ¹Ø¯Ø§Ø¯"})]})}),e.jsx("tbody",{children:(o.browsers||[]).length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"text-muted-foreground py-4 text-center",children:"Ø¨Ø¯ÙˆÙ† Ø¯Ø§Ø¯Ù‡"})}):(o.browsers||[]).map((p,v)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-2",children:p.name||"â€“"}),e.jsx("td",{className:"py-2 px-2",children:Number(p.count).toLocaleString("fa-IR")})]},v))})]})})})]}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsx(tt,{children:"Ø³ÛŒØ³ØªÙ…â€ŒØ¹Ø§Ù…Ù„"})}),e.jsx(re,{children:e.jsx("div",{className:"overflow-auto max-h-[280px]",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-right py-2 px-2",children:"Ø³ÛŒØ³ØªÙ…â€ŒØ¹Ø§Ù…Ù„"}),e.jsx("th",{className:"text-left py-2 px-2",children:"ØªØ¹Ø¯Ø§Ø¯"})]})}),e.jsx("tbody",{children:(o.os||[]).length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"text-muted-foreground py-4 text-center",children:"Ø¨Ø¯ÙˆÙ† Ø¯Ø§Ø¯Ù‡"})}):(o.os||[]).map((p,v)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-2",children:p.name||"â€“"}),e.jsx("td",{className:"py-2 px-2",children:Number(p.count).toLocaleString("fa-IR")})]},v))})]})})})]}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsx(tt,{children:"Ù†ÙˆØ¹ Ø¯Ø³ØªÚ¯Ø§Ù‡"})}),e.jsx(re,{children:e.jsx("div",{className:"overflow-auto max-h-[280px]",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-right py-2 px-2",children:"Ø¯Ø³ØªÚ¯Ø§Ù‡"}),e.jsx("th",{className:"text-left py-2 px-2",children:"ØªØ¹Ø¯Ø§Ø¯"})]})}),e.jsx("tbody",{children:(o.devices||[]).length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"text-muted-foreground py-4 text-center",children:"Ø¨Ø¯ÙˆÙ† Ø¯Ø§Ø¯Ù‡"})}):(o.devices||[]).map((p,v)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-2",children:p.name||"â€“"}),e.jsx("td",{className:"py-2 px-2",children:Number(p.count).toLocaleString("fa-IR")})]},v))})]})})})]})]}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsx(tt,{children:"Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø§Ø²Ø¯ÛŒØ¯Ù‡Ø§"})}),e.jsx(re,{children:e.jsx("div",{className:"overflow-auto max-h-[300px]",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-right py-2 px-2",children:"Ø²Ù…Ø§Ù†"}),e.jsx("th",{className:"text-right py-2 px-2",children:"ØµÙØ­Ù‡"}),e.jsx("th",{className:"text-right py-2 px-2",children:"IP"}),e.jsx("th",{className:"text-right py-2 px-2",children:"Ù…Ø±ÙˆØ±Ú¯Ø± / Ø¯Ø³ØªÚ¯Ø§Ù‡"})]})}),e.jsx("tbody",{children:(o.recent||[]).length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-muted-foreground py-4 text-center",children:"Ø¨Ø¯ÙˆÙ† Ø¯Ø§Ø¯Ù‡"})}):(o.recent||[]).map((p,v)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 px-2",children:x1(p.visit_date)}),e.jsx("td",{className:"py-2 px-2 truncate max-w-[180px]",title:p.page_url,children:p.page_url||"â€“"}),e.jsx("td",{className:"py-2 px-2",children:p.ip_address||"â€“"}),e.jsx("td",{className:"py-2 px-2",children:(p.browser||"")+(p.device_type?" / "+p.device_type:"")||"â€“"})]},v))})]})})})]})]})]})}async function v1(t){return de("puzzlingcrm_get_settings",{settings_tab:t})}async function j1(t,n){return de("puzzling_save_settings",{settings_tab:t,...n})}async function y1(t){return de("save_auth_settings",t)}async function b1(t){const n={response_title:t.response_title,response_content:t.response_content};return t.response_id&&(n.response_id=String(t.response_id)),de("puzzling_manage_canned_response",n)}async function w1(t){return de("puzzling_delete_canned_response",{response_id:String(t)})}async function _1(t){const n=new FormData;return n.set("position_title",t.position_title),t.position_id&&n.set("position_id",String(t.position_id)),(t.position_permissions??[]).forEach(s=>n.append("position_permissions[]",s)),Ma("puzzling_manage_position",n)}async function N1(t){return de("puzzling_delete_position",{position_id:String(t)})}async function S1(t){const n={category_name:t.category_name,category_color:t.category_color??"#845adf"};return t.category_id&&(n.category_id=String(t.category_id)),de("puzzling_manage_task_category",n)}async function C1(t){return de("puzzling_delete_task_category",{category_id:String(t)})}const bc=[{id:"authentication",title:"Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª",icon:tv},{id:"style",title:"Ø¸Ø§Ù‡Ø± Ùˆ Ø§Ø³ØªØ§ÛŒÙ„",icon:Jg},{id:"payment",title:"Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª",icon:Og},{id:"sms",title:"Ø³Ø§Ù…Ø§Ù†Ù‡ Ù¾ÛŒØ§Ù…Ú©",icon:Jl},{id:"notifications",title:"Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒâ€ŒÙ‡Ø§",icon:Yd},{id:"workflow",title:"Ú¯Ø±Ø¯Ø´ Ú©Ø§Ø±",icon:$g},{id:"positions",title:"Ø¬Ø§ÛŒÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø´ØºÙ„ÛŒ",icon:Xg},{id:"task_categories",title:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ÙˆØ¸Ø§ÛŒÙ",icon:rv},{id:"automations",title:"Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ†",icon:Rg},{id:"canned_responses",title:"Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø¯Ù‡",icon:Qd},{id:"forms",title:"ÙØ±Ù…â€ŒÙ‡Ø§",icon:Un},{id:"leads",title:"ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù„ÛŒØ¯",icon:Tr}];function k1(){const n=pt()?.isRtl===!0,[s,r]=l.useState("authentication"),[a,i]=l.useState(!1),[o,c]=l.useState(!1),[d,u]=l.useState(null),[h,m]=l.useState(null);return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø±Ø§ Ø§Ø² ØªØ¨â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø§Ù†ØªØ®Ø§Ø¨ Ùˆ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯."})]}),d&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm",children:d}),h&&e.jsx("div",{className:"rounded-lg border border-green-500/50 bg-green-500/10 px-4 py-3 text-green-700 dark:text-green-400 text-sm",children:h}),e.jsxs(mi,{value:s,onValueChange:r,className:"w-full",children:[e.jsx(hi,{className:"flex flex-wrap h-auto gap-1 p-1 bg-muted/50",children:bc.map(x=>{const p=x.icon;return e.jsxs(Ys,{value:x.id,className:"gap-2",children:[e.jsx(p,{className:"h-4 w-4"}),x.title]},x.id)})}),bc.map(x=>e.jsx(Ws,{value:x.id,className:"mt-4",children:s===x.id?e.jsx(E1,{tab:x.id,isRtl:n,onError:u,onMessage:m,loading:a,saving:o,setLoading:i,setSaving:c}):null},x.id))]})]})}function E1({tab:t,isRtl:n,onError:s,onMessage:r,loading:a,saving:i,setLoading:o,setSaving:c}){const[d,u]=l.useState(null),[h,m]=l.useState({}),x=l.useCallback(async()=>{o(!0),s(null);try{const v=await v1(t);if(v.success&&v.data){u(v.data);const g=v.data.items;m(g?{}:v.data)}else s(v.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ")}catch{s("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª")}finally{o(!1)}},[t,s,o]);l.useEffect(()=>{x()},[x]);const p=l.useCallback(async()=>{c(!0),s(null),r(null);try{if(t==="authentication"){const v=await y1(h);v.success?(r(v.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),x()):s(v.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡");return}if(["style","payment","sms","notifications"].includes(t)){const v=await j1(t,h);v.success?(r(v.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),x()):s(v.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡");return}r("Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† ØªØ¨ Ø°Ø®ÛŒØ±Ù‡ Ø§Ø² Ø·Ø±ÛŒÙ‚ ÙØ±Ù… Ø²ÛŒØ± Ù‡Ø± Ø¢ÛŒØªÙ… Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯.")}finally{c(!1)}},[t,h,s,r,x,c]);if(a)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(t==="authentication"){const v=h;return e.jsxs(se,{children:[e.jsxs(et,{children:[e.jsx(tt,{children:"Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª"}),e.jsx(ks,{children:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙˆØ±ÙˆØ¯ØŒ OTP Ùˆ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ"})]}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù¾ØªØ±Ù† Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ (Regex)"}),e.jsx(ie,{value:v.login_phone_pattern??"",onChange:g=>m(f=>({...f,login_phone_pattern:g.target.value})),placeholder:"^09[0-9]{9}$"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø·ÙˆÙ„ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(ie,{type:"number",value:v.login_phone_length??11,onChange:g=>m(f=>({...f,login_phone_length:parseInt(g.target.value,10)||11}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù‚Ø§Ù„Ø¨ Ù¾ÛŒØ§Ù…Ú© ÙˆØ±ÙˆØ¯ (%CODE% Ø¨Ø±Ø§ÛŒ Ú©Ø¯)"}),e.jsx(ie,{value:v.login_sms_template??"",onChange:g=>m(f=>({...f,login_sms_template:g.target.value})),placeholder:"Ú©Ø¯ ÙˆØ±ÙˆØ¯ Ø´Ù…Ø§: %CODE%"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø§Ù†Ù‚Ø¶Ø§ÛŒ OTP (Ø¯Ù‚ÛŒÙ‚Ù‡)"}),e.jsx(ie,{type:"number",value:v.otp_expiry_minutes??5,onChange:g=>m(f=>({...f,otp_expiry_minutes:parseInt(g.target.value,10)||5}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø­Ø¯Ø§Ú©Ø«Ø± ØªÙ„Ø§Ø´ OTP"}),e.jsx(ie,{type:"number",value:v.otp_max_attempts??3,onChange:g=>m(f=>({...f,otp_max_attempts:parseInt(g.target.value,10)||3}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø·ÙˆÙ„ Ú©Ø¯ OTP"}),e.jsx(ie,{type:"number",value:v.otp_length??6,onChange:g=>m(f=>({...f,otp_length:parseInt(g.target.value,10)||6}))})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø¢Ø¯Ø±Ø³ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ Ù¾Ø³ Ø§Ø² ÙˆØ±ÙˆØ¯"}),e.jsx(ie,{value:v.login_redirect_url??"",onChange:g=>m(f=>({...f,login_redirect_url:g.target.value})),placeholder:"https://..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø¢Ø¯Ø±Ø³ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ Ù¾Ø³ Ø§Ø² Ø®Ø±ÙˆØ¬"}),e.jsx(ie,{value:v.logout_redirect_url??"",onChange:g=>m(f=>({...f,logout_redirect_url:g.target.value})),placeholder:"https://..."})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!v.enable_password_login,onChange:g=>m(f=>({...f,enable_password_login:g.target.checked})),className:"rounded border-input"}),e.jsx("span",{className:"text-sm",children:"ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!v.enable_sms_login,onChange:g=>m(f=>({...f,enable_sms_login:g.target.checked})),className:"rounded border-input"}),e.jsx("span",{className:"text-sm",children:"ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ù¾ÛŒØ§Ù…Ú© (OTP)"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!v.force_logout_inactive,onChange:g=>m(f=>({...f,force_logout_inactive:g.target.checked})),className:"rounded border-input"}),e.jsx("span",{className:"text-sm",children:"Ø®Ø±ÙˆØ¬ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… ÙØ¹Ø§Ù„ÛŒØª"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø¯Øª Ø¹Ø¯Ù… ÙØ¹Ø§Ù„ÛŒØª Ù‚Ø¨Ù„ Ø§Ø² Ø®Ø±ÙˆØ¬ (Ø¯Ù‚ÛŒÙ‚Ù‡)"}),e.jsx(ie,{type:"number",value:v.inactive_timeout_minutes??30,onChange:g=>m(f=>({...f,inactive_timeout_minutes:parseInt(g.target.value,10)||30}))})]}),e.jsxs(O,{onClick:p,disabled:i,children:[i?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª"]})]})]})}if(t==="style"){const v=h;return e.jsxs(se,{children:[e.jsxs(et,{children:[e.jsx(tt,{children:"Ø¸Ø§Ù‡Ø± Ùˆ Ø§Ø³ØªØ§ÛŒÙ„"}),e.jsx(ks,{children:"Ø±Ù†Ú¯ Ø§ØµÙ„ÛŒ Ùˆ ÙÙˆÙ†Øª Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"})]}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø±Ù†Ú¯ Ø§ØµÙ„ÛŒ"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:v.primary_color??"#845adf",onChange:g=>m(f=>({...f,primary_color:g.target.value})),className:"h-10 w-14 cursor-pointer rounded border"}),e.jsx(ie,{value:v.primary_color??"#845adf",onChange:g=>m(f=>({...f,primary_color:g.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡ ÙÙˆÙ†Øª"}),e.jsx(ie,{value:v.font_family??"IRANSans",onChange:g=>m(f=>({...f,font_family:g.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø§Ù†Ø¯Ø§Ø²Ù‡ ÙÙˆÙ†Øª Ù¾Ø§ÛŒÙ‡"}),e.jsx(ie,{type:"number",value:v.font_size??14,onChange:g=>m(f=>({...f,font_size:parseInt(g.target.value,10)||14}))})]})]}),e.jsxs(O,{onClick:p,disabled:i,children:[i?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}if(t==="payment"){const v=h;return e.jsxs(se,{children:[e.jsxs(et,{children:[e.jsx(tt,{children:"Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª"}),e.jsx(ks,{children:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø²Ø±ÛŒÙ†â€ŒÙ¾Ø§Ù„ Ùˆ Ø³Ø§ÛŒØ± Ø¯Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§"})]}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø±Ú†Ù†Øª Ø²Ø±ÛŒÙ†â€ŒÙ¾Ø§Ù„"}),e.jsx(ie,{value:v.zarinpal_merchant??"",onChange:g=>m(f=>({...f,zarinpal_merchant:g.target.value})),placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!v.zarinpal_sandbox,onChange:g=>m(f=>({...f,zarinpal_sandbox:g.target.checked})),className:"rounded border-input"}),e.jsx("span",{className:"text-sm",children:"Ø­Ø§Ù„Øª Ø³Ù†Ø¯Ø¨Ø§Ú©Ø³"})]}),e.jsxs(O,{onClick:p,disabled:i,children:[i?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}if(t==="sms"){const v=h;return e.jsxs(se,{children:[e.jsxs(et,{children:[e.jsx(tt,{children:"Ø³Ø§Ù…Ø§Ù†Ù‡ Ù¾ÛŒØ§Ù…Ú©"}),e.jsx(ks,{children:"Ø³Ø±ÙˆÛŒØ³ Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ØªØµØ§Ù„ Ù¾ÛŒØ§Ù…Ú©"})]}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø³Ø±ÙˆÛŒØ³ Ù¾ÛŒØ§Ù…Ú©"}),e.jsx(ie,{value:v.sms_service??"",onChange:g=>m(f=>({...f,sms_service:g.target.value})),placeholder:"melipayamak, parsgreen, ..."})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ"}),e.jsx(ie,{value:v.sms_username??"",onChange:g=>m(f=>({...f,sms_username:g.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"}),e.jsx(ie,{type:"password",value:v.sms_password??"",onChange:g=>m(f=>({...f,sms_password:g.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø´Ù…Ø§Ø±Ù‡ ÙØ±Ø³ØªÙ†Ø¯Ù‡"}),e.jsx(ie,{value:v.sms_sender??"",onChange:g=>m(f=>({...f,sms_sender:g.target.value}))})]}),e.jsxs(O,{onClick:p,disabled:i,children:[i?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}if(t==="notifications"){const v=h;return e.jsxs(se,{children:[e.jsxs(et,{children:[e.jsx(tt,{children:"Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒâ€ŒÙ‡Ø§"}),e.jsx(ks,{children:"ØªÙ„Ú¯Ø±Ø§Ù… Ùˆ Ø³Ø§ÛŒØ± Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø§Ø¹Ù„Ø§Ù†"})]}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù…"}),e.jsx(ie,{value:v.telegram_bot_token??"",onChange:g=>m(f=>({...f,telegram_bot_token:g.target.value})),placeholder:"..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø´Ù†Ø§Ø³Ù‡ Ú†Øª ØªÙ„Ú¯Ø±Ø§Ù…"}),e.jsx(ie,{value:v.telegram_chat_id??"",onChange:g=>m(f=>({...f,telegram_chat_id:g.target.value})),placeholder:"..."})]}),e.jsxs(O,{onClick:p,disabled:i,children:[i?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}if(t==="canned_responses"){const v=d?.items??[];return e.jsx(R1,{items:v,onError:s,onMessage:r,onReload:x,isRtl:n})}if(t==="positions"){const v=d?.items??[];return e.jsx(P1,{items:v,onError:s,onMessage:r,onReload:x,isRtl:n})}if(t==="task_categories"){const v=d?.items??[];return e.jsx(D1,{items:v,onError:s,onMessage:r,onReload:x,isRtl:n})}return e.jsxs(se,{children:[e.jsxs(et,{children:[e.jsxs(tt,{children:[t==="workflow"&&"Ú¯Ø±Ø¯Ø´ Ú©Ø§Ø±",t==="automations"&&"Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ†",t==="forms"&&"ÙØ±Ù…â€ŒÙ‡Ø§",t==="leads"&&"ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù„ÛŒØ¯"]}),e.jsx(ks,{children:"Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø§Ø² ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¯Ø± Ù†Ø³Ø®Ù‡Ù” ÙØ¹Ù„ÛŒ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ù¾Ù†Ù„ ÙˆØ±Ø¯Ù¾Ø±Ø³ ÛŒØ§ ØµÙØ­Ù‡Ù” embed Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª. Ø¨Ù‡â€ŒØ²ÙˆØ¯ÛŒ Ø¯Ø± Ù‡Ù…ÛŒÙ† Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ú©Ø§Ù…Ù„ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯."})]}),e.jsx(re,{children:e.jsx("p",{className:"text-muted-foreground text-sm",children:"Ø¨Ø±Ø§ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡Ù” Ú¯Ø±Ø¯Ø´ Ú©Ø§Ø±ØŒ Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ†ØŒ ÙØ±Ù…â€ŒÙ‡Ø§ Ùˆ ÙˆØ¶Ø¹ÛŒØª Ù„ÛŒØ¯Ù‡Ø§ Ø§Ø² Ù…Ù†ÙˆÛŒ ÙˆØ±Ø¯Ù¾Ø±Ø³ PuzzlingCRM Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯."})})]})}function R1({items:t,onError:n,onMessage:s,onReload:r,isRtl:a}){const[i,o]=l.useState(!1),[c,d]=l.useState(null),[u,h]=l.useState(""),[m,x]=l.useState(""),[p,v]=l.useState(!1),g=()=>{d(null),h(""),x(""),o(!0)},f=y=>{d(y),h(y.title),x(y.content),o(!0)},_=async()=>{if(!u.trim()||!m.trim()){n("Ø¹Ù†ÙˆØ§Ù† Ùˆ Ù…Ø­ØªÙˆØ§ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}v(!0),n(null);try{const y=await b1({response_id:c?.id,response_title:u.trim(),response_content:m.trim()});y.success?(s(y.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),o(!1),r()):n(y.message??"Ø®Ø·Ø§")}catch{n("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{v(!1)}},j=async y=>{if(confirm("Ø­Ø°Ù Ø§ÛŒÙ† Ù¾Ø§Ø³Ø® Ø¢Ù…Ø§Ø¯Ù‡ØŸ")){v(!0),n(null);try{const N=await w1(y);N.success?(s("Ø­Ø°Ù Ø´Ø¯."),r()):n(N.message??"Ø®Ø·Ø§")}finally{v(!1)}}};return e.jsxs(se,{children:[e.jsxs(et,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(tt,{children:"Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø¯Ù‡"}),e.jsx(ks,{children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø§Ø² Ù¾ÛŒØ´ ØªØ¹Ø±ÛŒÙâ€ŒØ´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"})]}),e.jsxs(O,{onClick:g,className:"gap-2",children:[e.jsx(jn,{className:"h-4 w-4"}),"Ø§ÙØ²ÙˆØ¯Ù†"]})]}),e.jsx(re,{children:e.jsxs("ul",{className:"space-y-2",children:[t.length===0&&e.jsx("li",{className:"text-muted-foreground text-sm py-4",children:"Ù¾Ø§Ø³Ø®ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}),t.map(y=>e.jsxs("li",{className:"flex items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:y.title}),e.jsx("p",{className:"text-muted-foreground text-sm line-clamp-1",children:y.content})]}),e.jsxs("div",{className:K("flex gap-2",a&&"flex-row-reverse"),children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>f(y),children:e.jsx(_n,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>j(y.id),children:e.jsx(gn,{className:"h-4 w-4 text-destructive"})})]})]},y.id))]})}),e.jsx(dn,{open:i,onOpenChange:o,children:e.jsxs(sn,{children:[e.jsx(rn,{children:e.jsx(an,{children:c?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø§Ø³Ø® Ø¢Ù…Ø§Ø¯Ù‡":"Ù¾Ø§Ø³Ø® Ø¢Ù…Ø§Ø¯Ù‡ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(ie,{value:u,onChange:y=>h(y.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…Ø­ØªÙˆØ§"}),e.jsx("textarea",{className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:m,onChange:y=>x(y.target.value)})]})]}),e.jsxs(un,{children:[e.jsx(O,{variant:"outline",onClick:()=>o(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{onClick:_,disabled:p,children:[p?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})})]})}function P1({items:t,onError:n,onMessage:s,onReload:r,isRtl:a}){const[i,o]=l.useState(!1),[c,d]=l.useState(null),[u,h]=l.useState(""),[m,x]=l.useState(!1),p=()=>{d(null),h(""),o(!0)},v=_=>{d(_),h(_.title),o(!0)},g=async()=>{if(!u.trim()){n("Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}x(!0),n(null);try{const _=await _1({position_id:c?.id,position_title:u.trim(),position_permissions:c?.permissions??[]});_.success?(s(_.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),o(!1),r()):n(_.message??"Ø®Ø·Ø§")}catch{n("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{x(!1)}},f=async _=>{if(confirm("Ø­Ø°Ù Ø§ÛŒÙ† Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø´ØºÙ„ÛŒØŸ")){x(!0),n(null);try{const j=await N1(_);j.success?(s("Ø­Ø°Ù Ø´Ø¯."),r()):n(j.message??"Ø®Ø·Ø§")}finally{x(!1)}}};return e.jsxs(se,{children:[e.jsxs(et,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(tt,{children:"Ø¬Ø§ÛŒÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø´ØºÙ„ÛŒ"}),e.jsx(ks,{children:"Ø³Ù…Øªâ€ŒÙ‡Ø§ Ùˆ Ù†Ù‚Ø´â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±ÛŒ"})]}),e.jsxs(O,{onClick:p,className:"gap-2",children:[e.jsx(jn,{className:"h-4 w-4"}),"Ø§ÙØ²ÙˆØ¯Ù†"]})]}),e.jsx(re,{children:e.jsxs("ul",{className:"space-y-2",children:[t.length===0&&e.jsx("li",{className:"text-muted-foreground text-sm py-4",children:"Ø¬Ø§ÛŒÚ¯Ø§Ù‡ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}),t.map(_=>e.jsxs("li",{className:"flex items-center justify-between rounded-lg border p-3",children:[e.jsx("p",{className:"font-medium",children:_.title}),e.jsxs("div",{className:K("flex gap-2",a&&"flex-row-reverse"),children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(_),children:e.jsx(_n,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>f(_.id),children:e.jsx(gn,{className:"h-4 w-4 text-destructive"})})]})]},_.id))]})}),e.jsx(dn,{open:i,onOpenChange:o,children:e.jsxs(sn,{children:[e.jsx(rn,{children:e.jsx(an,{children:c?"ÙˆÛŒØ±Ø§ÛŒØ´ Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø´ØºÙ„ÛŒ":"Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø´ØºÙ„ÛŒ Ø¬Ø¯ÛŒØ¯"})}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(ie,{value:u,onChange:_=>h(_.target.value)})]})}),e.jsxs(un,{children:[e.jsx(O,{variant:"outline",onClick:()=>o(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{onClick:g,disabled:m,children:[m?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})})]})}function D1({items:t,onError:n,onMessage:s,onReload:r,isRtl:a}){const[i,o]=l.useState(!1),[c,d]=l.useState(null),[u,h]=l.useState(""),[m,x]=l.useState("#845adf"),[p,v]=l.useState(!1),g=()=>{d(null),h(""),x("#845adf"),o(!0)},f=y=>{d(y),h(y.name),x(y.color||"#845adf"),o(!0)},_=async()=>{if(!u.trim()){n("Ù†Ø§Ù… Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}v(!0),n(null);try{const y=await S1({category_id:c?.id,category_name:u.trim(),category_color:m});y.success?(s(y.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),o(!1),r()):n(y.message??"Ø®Ø·Ø§")}catch{n("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{v(!1)}},j=async y=>{if(confirm("Ø­Ø°Ù Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒØŸ")){v(!0),n(null);try{const N=await C1(y);N.success?(s("Ø­Ø°Ù Ø´Ø¯."),r()):n(N.message??"Ø®Ø·Ø§")}finally{v(!1)}}};return e.jsxs(se,{children:[e.jsxs(et,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(tt,{children:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ÙˆØ¸Ø§ÛŒÙ"}),e.jsx(ks,{children:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ùˆ Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§ÛŒ ÙˆØ¸Ø§ÛŒÙ"})]}),e.jsxs(O,{onClick:g,className:"gap-2",children:[e.jsx(jn,{className:"h-4 w-4"}),"Ø§ÙØ²ÙˆØ¯Ù†"]})]}),e.jsx(re,{children:e.jsxs("ul",{className:"space-y-2",children:[t.length===0&&e.jsx("li",{className:"text-muted-foreground text-sm py-4",children:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}),t.map(y=>e.jsxs("li",{className:"flex items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-4 w-4 rounded-full border",style:{backgroundColor:y.color||"#845adf"}}),e.jsx("p",{className:"font-medium",children:y.name})]}),e.jsxs("div",{className:K("flex gap-2",a&&"flex-row-reverse"),children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>f(y),children:e.jsx(_n,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>j(y.id),children:e.jsx(gn,{className:"h-4 w-4 text-destructive"})})]})]},y.id))]})}),e.jsx(dn,{open:i,onOpenChange:o,children:e.jsxs(sn,{children:[e.jsx(rn,{children:e.jsx(an,{children:c?"ÙˆÛŒØ±Ø§ÛŒØ´ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ":"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù†Ø§Ù…"}),e.jsx(ie,{value:u,onChange:y=>h(y.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø±Ù†Ú¯"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:m,onChange:y=>x(y.target.value),className:"h-10 w-14 cursor-pointer rounded border"}),e.jsx(ie,{value:m,onChange:y=>x(y.target.value)})]})]})]}),e.jsxs(un,{children:[e.jsx(O,{variant:"outline",onClick:()=>o(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{onClick:_,disabled:p,children:[p?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})})]})}async function M1(){return de("puzzlingcrm_list_subscriptions",{})}async function A1(){return de("puzzlingcrm_list_products",{})}async function O1(t){return de("puzzlingcrm_convert_subscription_to_contract",{subscription_id:t})}async function T1(t){return de("puzzlingcrm_update_product_task_template",{product_id:t.product_id,task_template_id:t.task_template_id??0,service_task_type:t.service_task_type})}const wc=[{value:"onetime",label:"ÛŒÚ©Ø¨Ø§Ø± (Ù…Ø«Ù„ Ø³Ø§ÛŒØª)"},{value:"daily",label:"Ø±ÙˆØ²Ø§Ù†Ù‡ (Ù…Ø«Ù„ Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…)"},{value:"weekly",label:"Ù‡ÙØªÚ¯ÛŒ"},{value:"monthly",label:"Ù…Ø§Ù‡Ø§Ù†Ù‡"}];function I1(){const n=pt()?.isRtl===!0,[s,r]=l.useState("subscriptions"),[a,i]=l.useState([]),[o,c]=l.useState([]),[d,u]=l.useState([]),[h,m]=l.useState(!1),[x,p]=l.useState(!1),[v,g]=l.useState(!0),[f,_]=l.useState(null),[j,y]=l.useState(null),[N,E]=l.useState(null),[I,S]=l.useState({task_template_id:null,service_task_type:"onetime"}),[D,P]=l.useState(!1),F=l.useCallback(async()=>{g(!0),_(null);try{const k=await M1();k.success&&k.data?(i(k.data.subscriptions??[]),m(k.data.wc_subscriptions_active??!1)):_(k.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø´ØªØ±Ø§Ú©â€ŒÙ‡Ø§")}catch{_("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø´ØªØ±Ø§Ú©â€ŒÙ‡Ø§")}finally{g(!1)}},[]),M=l.useCallback(async()=>{g(!0),_(null);try{const k=await A1();k.success&&k.data?(c(k.data.products??[]),u(k.data.task_templates??[]),p(k.data.wc_active??!1)):_(k.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª")}catch{_("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª")}finally{g(!1)}},[]);l.useEffect(()=>{s==="subscriptions"?F():M()},[s,F,M]);const U=async k=>{if(!k.already_converted){y(k.id);try{const L=await O1(k.id);L.success&&L.data?.contract_id?F():_(L.message??"Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„ Ø§Ø´ØªØ±Ø§Ú©")}catch{_("Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„ Ø§Ø´ØªØ±Ø§Ú©")}finally{y(null)}}},oe=k=>{E(k),S({task_template_id:k.task_template_id,service_task_type:k.service_task_type||"onetime"})},V=async()=>{if(N){P(!0);try{const k=await T1({product_id:N.id,task_template_id:I.task_template_id,service_task_type:I.service_task_type});k.success?(E(null),M()):_(k.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{_("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{P(!1)}}};return e.jsxs("div",{className:K("space-y-4",n&&"text-right"),dir:n?"rtl":"ltr",children:[e.jsx(se,{children:e.jsx(re,{className:"pt-6",children:e.jsxs(mi,{value:s,onValueChange:r,children:[e.jsxs(hi,{children:[e.jsxs(Ys,{value:"subscriptions",className:"gap-2",children:[e.jsx(eu,{className:"h-4 w-4"}),"Ø§Ø´ØªØ±Ø§Ú©â€ŒÙ‡Ø§ÛŒ ÙˆÙˆÚ©Ø§Ù…Ø±Ø³"]}),e.jsxs(Ys,{value:"products",className:"gap-2",children:[e.jsx(nv,{className:"h-4 w-4"}),"Ù…Ø­ØµÙˆÙ„Ø§Øª Ùˆ Ø®Ø¯Ù…Ø§Øª"]})]}),e.jsxs(Ws,{value:"subscriptions",className:"mt-4",children:[!h&&e.jsx(Rn,{className:"mb-4",children:e.jsx(Pn,{children:"Ø§ÙØ²ÙˆÙ†Ù‡ WooCommerce Subscriptions ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª. Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø´ØªØ±Ø§Ú©â€ŒÙ‡Ø§ØŒ Ø§ÙØ²ÙˆÙ†Ù‡ Ø±Ø§ Ù†ØµØ¨ Ùˆ ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯."})}),f&&e.jsx(Rn,{variant:"destructive",className:"mb-4",children:e.jsx(Pn,{children:f})}),v?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ø§Ø´ØªØ±Ø§Ú©"}),e.jsx(G,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsx(G,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(G,{children:"Ù…Ø¨Ù„Øº"}),e.jsx(G,{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹"}),e.jsx(G,{children:"Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ø¹Ø¯ÛŒ"}),e.jsx(G,{className:"text-left",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:a.length===0?e.jsx(Ve,{children:e.jsx(q,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:h?"Ù‡ÛŒÚ† Ø§Ø´ØªØ±Ø§Ú©ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯.":"Ø§ÙØ²ÙˆÙ†Ù‡ Ø§Ø´ØªØ±Ø§Ú©â€ŒÙ‡Ø§ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø§Ø³Øª."})}):a.map(k=>e.jsxs(Ve,{children:[e.jsxs(q,{children:["#",k.id]}),e.jsx(q,{children:k.customer_id?e.jsx(Vt,{to:`/customers?edit=${k.customer_id}`,className:"text-primary hover:underline",children:k.customer_name}):k.customer_name}),e.jsx(q,{children:e.jsx(vt,{variant:k.status==="active"?"default":"secondary",children:k.status_name})}),e.jsx(q,{children:k.total_formatted}),e.jsx(q,{children:k.start_date||"-"}),e.jsx(q,{children:k.next_payment||"-"}),e.jsx(q,{children:k.already_converted?e.jsx(Vt,{to:"/contracts",children:e.jsxs(O,{variant:"outline",size:"sm",className:"gap-1",children:[e.jsx(Un,{className:"h-4 w-4"}),"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§"]})}):e.jsxs(O,{size:"sm",onClick:()=>U(k),disabled:j===k.id,className:"gap-1",children:[j===k.id?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):e.jsx(Un,{className:"h-4 w-4"}),"ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"]})})]},k.id))})]})]}),e.jsxs(Ws,{value:"products",className:"mt-4",children:[!x&&e.jsx(Rn,{className:"mb-4",children:e.jsx(Pn,{children:"Ø§ÙØ²ÙˆÙ†Ù‡ ÙˆÙˆÚ©Ø§Ù…Ø±Ø³ ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª."})}),f&&e.jsx(Rn,{variant:"destructive",className:"mb-4",children:e.jsx(Pn,{children:f})}),v?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_e,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ù…Ø­ØµÙˆÙ„"}),e.jsx(G,{children:"Ù†ÙˆØ¹"}),e.jsx(G,{children:"Ù‚ÛŒÙ…Øª"}),e.jsx(G,{children:"Ù‚Ø§Ù„Ø¨ ØªØ³Ú©"}),e.jsx(G,{children:"Ù†ÙˆØ¹ Ø®Ø¯Ù…Øª"}),e.jsx(G,{className:"text-left",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:o.length===0?e.jsx(Ve,{children:e.jsx(q,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:x?"Ù‡ÛŒÚ† Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯.":"Ø§ÙØ²ÙˆÙ†Ù‡ ÙˆÙˆÚ©Ø§Ù…Ø±Ø³ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø§Ø³Øª."})}):o.map(k=>e.jsxs(Ve,{children:[e.jsx(q,{children:k.name}),e.jsx(q,{children:e.jsx(vt,{variant:"outline",children:k.type})}),e.jsx(q,{children:k.price||"-"}),e.jsx(q,{children:k.task_template_title||"-"}),e.jsx(q,{children:wc.find(L=>L.value===k.service_task_type)?.label??k.service_task_type}),e.jsx(q,{children:e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>oe(k),className:"gap-1",children:[e.jsx(_n,{className:"h-4 w-4"}),"ÙˆÛŒØ±Ø§ÛŒØ´"]})})]},k.id))})]})]})]})})}),e.jsx(dn,{open:!!N,onOpenChange:k=>!k&&E(null),children:e.jsxs(sn,{children:[e.jsx(rn,{children:e.jsx(an,{children:"Ø§ØªØµØ§Ù„ Ù‚Ø§Ù„Ø¨ ØªØ³Ú© Ø¨Ù‡ Ù…Ø­ØµÙˆÙ„"})}),N&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:N.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù‚Ø§Ù„Ø¨ ØªØ³Ú©"}),e.jsxs(ze,{value:I.task_template_id?String(I.task_template_id):"0",onValueChange:k=>S(L=>({...L,task_template_id:k==="0"?null:parseInt(k,10)})),children:[e.jsx(Ae,{children:e.jsx(Fe,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsxs(Oe,{children:[e.jsx(ce,{value:"0",children:"Ù‡ÛŒÚ†Ú©Ø¯Ø§Ù…"}),d.map(k=>e.jsxs(ce,{value:String(k.id),children:[k.title," ",k.is_recurring&&`(${k.recurring_type})`]},k.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù†ÙˆØ¹ Ø®Ø¯Ù…Øª (ØªÚ©Ø±Ø§Ø± ØªØ³Ú©)"}),e.jsxs(ze,{value:I.service_task_type,onValueChange:k=>S(L=>({...L,service_task_type:k})),children:[e.jsx(Ae,{children:e.jsx(Fe,{})}),e.jsx(Oe,{children:wc.map(k=>e.jsx(ce,{value:k.value,children:k.label},k.value))})]})]})]}),e.jsxs(un,{children:[e.jsx(O,{variant:"outline",onClick:()=>E(null),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{onClick:V,disabled:D,children:[D&&e.jsx(_e,{className:"h-4 w-4 animate-spin ml-2"}),"Ø°Ø®ÛŒØ±Ù‡"]})]})]})})]})}function L1(){const n=pt()?.isRtl===!0;return e.jsx("div",{className:K("space-y-4",n&&"text-right"),dir:n?"rtl":"ltr",children:e.jsx(se,{children:e.jsxs(re,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(Jd,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Ú©Ù…Ù¾ÛŒÙ†â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-muted-foreground",children:"Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ..."})]})})})}const zt="puzzlingcrm_accounting_";async function dr(){return de(zt+"fiscal_years",{})}async function Uh(t){const n={action:zt+"chart_list"};return t&&(n.fiscal_year_id=t),de(zt+"chart_list",n)}async function qh(t){const n={action:zt+"journal_list"};return Object.entries(t).forEach(([s,r])=>{r!==void 0&&r!==""&&(n[s]=r)}),de(zt+"journal_list",n)}async function z1(t,n,s){return de(zt+"report_trial_balance",{fiscal_year_id:t,date_from:n,date_to:s})}async function F1(t,n){return de(zt+"report_balance_sheet",{fiscal_year_id:t,as_of_date:n})}async function $1(t,n,s){return de(zt+"report_profit_loss",{fiscal_year_id:t,date_from:n,date_to:s})}async function V1(t,n,s,r){return de(zt+"ledger",{account_id:t,fiscal_year_id:n,date_from:s,date_to:r})}async function Y1(){return de(zt+"settings_get")}async function W1(t){const n={};return t.currency!==void 0&&(n.currency=t.currency),t.fiscal_year_id!==void 0&&(n.fiscal_year_id=t.fiscal_year_id),de(zt+"settings_save",n)}async function B1(t){return de(zt+"seed_chart",t?{fiscal_year_id:t}:{})}function H1(t){return de(zt+"person_categories",{})}function U1(t){const n={};return Object.entries(t).forEach(([s,r])=>{r!==void 0&&r!==""&&(n[s]=r)}),de(zt+"persons_list",n)}function q1(t){return de(zt+"person_get",{id:t})}function K1(t){const n={name:t.name};return t.id&&(n.id=t.id),t.code!==void 0&&(n.code=t.code??""),t.category_id!==void 0&&(n.category_id=t.category_id??0),t.credit_limit!==void 0&&(n.credit_limit=t.credit_limit??0),t.national_id!==void 0&&(n.national_id=t.national_id??""),t.economic_code!==void 0&&(n.economic_code=t.economic_code??""),t.registration_no!==void 0&&(n.registration_no=t.registration_no??""),t.phone!==void 0&&(n.phone=t.phone??""),t.mobile!==void 0&&(n.mobile=t.mobile??""),t.extra_phones!==void 0&&(n.extra_phones=t.extra_phones??""),t.address!==void 0&&(n.address=t.address??""),t.person_type!==void 0&&(n.person_type=t.person_type),t.group_id!==void 0&&(n.group_id=t.group_id??0),t.image_url!==void 0&&(n.image_url=t.image_url??""),t.note!==void 0&&(n.note=t.note??""),t.default_price_list_id!==void 0&&(n.default_price_list_id=t.default_price_list_id??0),t.is_active!==void 0&&(n.is_active=t.is_active),de(zt+"person_save",n)}function G1(t){return de(zt+"person_delete",{id:t})}function X1(t){return de(zt+"product_categories",{})}function J1(){return de(zt+"units_list",{})}function Z1(t){const n={};return Object.entries(t).forEach(([s,r])=>{r!==void 0&&r!==""&&(n[s]=r)}),de(zt+"products_list",n)}function Q1(t){return de(zt+"product_get",{id:t})}function e_(t){const n={code:t.code,name:t.name};return t.id&&(n.id=t.id),t.category_id!==void 0&&(n.category_id=t.category_id??0),t.main_unit_id!==void 0&&(n.main_unit_id=t.main_unit_id),t.sub_unit_id!==void 0&&(n.sub_unit_id=t.sub_unit_id??0),t.sub_unit_ratio!==void 0&&(n.sub_unit_ratio=t.sub_unit_ratio),t.purchase_price!==void 0&&(n.purchase_price=t.purchase_price??0),t.barcode!==void 0&&(n.barcode=t.barcode??""),t.inventory_controlled!==void 0&&(n.inventory_controlled=t.inventory_controlled?1:0),t.reorder_point!==void 0&&(n.reorder_point=t.reorder_point??0),t.tax_rate_sales!==void 0&&(n.tax_rate_sales=t.tax_rate_sales??0),t.tax_rate_purchase!==void 0&&(n.tax_rate_purchase=t.tax_rate_purchase??0),t.image_url!==void 0&&(n.image_url=t.image_url??""),t.note!==void 0&&(n.note=t.note??""),t.is_active!==void 0&&(n.is_active=t.is_active?1:0),de(zt+"product_save",n)}function t_(t){return de(zt+"product_delete",{id:t})}const n_=[{to:"/accounting/persons",label:"Ø§Ø´Ø®Ø§Øµ (Ø·Ø±Ùâ€ŒÙ‡Ø§ÛŒ Ø­Ø³Ø§Ø¨)",icon:Us},{to:"/accounting/products",label:"Ú©Ø§Ù„Ø§ Ùˆ Ø®Ø¯Ù…Ø§Øª",icon:fa},{to:"/accounting/chart",label:"Ù†Ù…ÙˆØ¯Ø§Ø± Ø­Ø³Ø§Ø¨â€ŒÙ‡Ø§",icon:ti},{to:"/accounting/journals",label:"Ø§Ø³Ù†Ø§Ø¯ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ",icon:Un},{to:"/accounting/ledger",label:"Ø¯ÙØªØ± Ú©Ù„ / Ù…Ø¹ÛŒÙ†",icon:ni},{to:"/accounting/reports",label:"Ú¯Ø²Ø§Ø±Ø´Ø§Øª Ù…Ø§Ù„ÛŒ",icon:si},{to:"/accounting/fiscal-year",label:"Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ",icon:Rs},{to:"/accounting/settings",label:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ",icon:wr}];function s_(){const n=pt()?.isRtl===!0,[s,r]=l.useState([]),[a,i]=l.useState(0),[o,c]=l.useState(!0);return l.useEffect(()=>{let d=!1;async function u(){const h=await dr();if(d)return;h.success&&h.data?.items&&r(h.data.items);const m=await qh({per_page:5,page:1});d||(m.success&&m.data?.total!==void 0&&i(m.data.total),c(!1))}return u(),()=>{d=!0}},[]),e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold tracking-tight flex items-center gap-2",children:[e.jsx(Wd,{className:"h-5 w-5"}),"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ"]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Ø®Ù„Ø§ØµÙ‡ Ùˆ Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹ Ø¨Ù‡ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ"})]}),o?e.jsx("p",{className:"text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(se,{children:[e.jsx(et,{children:e.jsx(tt,{className:"text-base",children:"Ø³Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù„ÛŒ"})}),e.jsxs(re,{children:[e.jsx("p",{className:"text-2xl font-semibold",children:s.length}),e.jsx(O,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:e.jsx(Vt,{to:"/accounting/fiscal-year",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ"})})]})]}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsx(tt,{className:"text-base",children:"ØªØ¹Ø¯Ø§Ø¯ Ø§Ø³Ù†Ø§Ø¯"})}),e.jsxs(re,{children:[e.jsx("p",{className:"text-2xl font-semibold",children:a}),e.jsx(O,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:e.jsx(Vt,{to:"/accounting/journals",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø³Ù†Ø§Ø¯"})})]})]})]}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsx(tt,{className:"text-base",children:"Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹"})}),e.jsx(re,{children:e.jsx("div",{className:"grid gap-2 sm:grid-cols-2 md:grid-cols-3",children:n_.map(({to:d,label:u,icon:h})=>e.jsx(O,{variant:"outline",className:"justify-start",asChild:!0,children:e.jsxs(Vt,{to:d,children:[e.jsx(h,{className:"h-4 w-4 ml-2"}),u]})},d))})})]})]})]})}function r_(){const n=pt()?.isRtl===!0,[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState(0),[d,u]=l.useState(!0);return l.useEffect(()=>{let h=!1;async function m(){const x=await dr();h||(x.success&&x.data?.items?.length&&(i(x.data.items),!o&&x.data.items[0]&&c(x.data.items[0].id)),u(!1))}return m(),()=>{h=!0}},[]),l.useEffect(()=>{if(!o)return;let h=!1;return u(!0),Uh(o).then(m=>{h||(m.success&&m.data?.items&&r(m.data.items),u(!1))}),()=>{h=!0}},[o]),e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold tracking-tight flex items-center gap-2",children:[e.jsx(ti,{className:"h-5 w-5"}),"Ù†Ù…ÙˆØ¯Ø§Ø± Ø­Ø³Ø§Ø¨â€ŒÙ‡Ø§ (Ú©Ø¯ÛŒÙ†Ú¯)"]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ø­Ø³Ø§Ø¨â€ŒÙ‡Ø§ÛŒ Ú©Ù„ Ùˆ Ù…Ø¹ÛŒÙ† Ù…Ø·Ø§Ø¨Ù‚ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ø§ÛŒØ±Ø§Ù†"})]}),a.length>0&&e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("label",{className:"text-sm",children:"Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ:"}),e.jsx("select",{className:"border rounded px-2 py-1 text-sm",value:o,onChange:h=>c(Number(h.target.value)),children:a.map(h=>e.jsx("option",{value:h.id,children:h.name},h.id))})]}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsx(tt,{className:"text-base",children:"Ù„ÛŒØ³Øª Ø­Ø³Ø§Ø¨â€ŒÙ‡Ø§"})}),e.jsx(re,{children:d?e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(_e,{className:"h-4 w-4 animate-spin"}),"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."]}):s.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Ø­Ø³Ø§Ø¨ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡. Ø§Ø² ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ú©Ø¯ÛŒÙ†Ú¯ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø±Ø§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯."}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ú©Ø¯"}),e.jsx(G,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(G,{children:"Ø³Ø·Ø­"}),e.jsx(G,{children:"Ù†ÙˆØ¹"})]})}),e.jsx(Lt,{children:s.map(h=>e.jsxs(Ve,{children:[e.jsx(q,{className:"font-mono",children:h.code}),e.jsx(q,{style:{paddingRight:h.level*12},children:h.title}),e.jsx(q,{children:h.level}),e.jsx(q,{children:h.account_type})]},h.id))})]})})]})]})}function a_(){const n=pt()?.isRtl===!0,[s,r]=l.useState([]),[a,i]=l.useState(0),[o,c]=l.useState([]),[d,u]=l.useState(0),[h,m]=l.useState(1),[x,p]=l.useState(!0);return l.useEffect(()=>{let v=!1;return dr().then(g=>{v||g.success&&g.data?.items?.length&&(c(g.data.items),!d&&g.data.items[0]&&u(g.data.items[0].id))}),()=>{v=!0}},[]),l.useEffect(()=>{d&&(p(!0),qh({fiscal_year_id:d,page:h,per_page:15}).then(v=>{v.success&&v.data&&(r(v.data.items??[]),i(v.data.total??0)),p(!1)}))},[d,h]),e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold tracking-tight flex items-center gap-2",children:[e.jsx(Un,{className:"h-5 w-5"}),"Ø§Ø³Ù†Ø§Ø¯ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ"]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Ø«Ø¨Øª Ùˆ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø³Ù†Ø§Ø¯ (Ø³Ù†Ø¯ Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ)"})]}),o.length>0&&e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("label",{className:"text-sm",children:"Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ:"}),e.jsx("select",{className:"border rounded px-2 py-1 text-sm",value:d,onChange:v=>{u(Number(v.target.value)),m(1)},children:o.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))})]}),e.jsxs(se,{children:[e.jsxs(et,{children:[e.jsx(tt,{className:"text-base",children:"Ù„ÛŒØ³Øª Ø§Ø³Ù†Ø§Ø¯"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ù…Ø¬Ù…ÙˆØ¹: ",a]})]}),e.jsx(re,{children:x?e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(_e,{className:"h-4 w-4 animate-spin"}),"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."]}):s.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Ø³Ù†Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(e.Fragment,{children:[e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ø´Ù…Ø§Ø±Ù‡ Ø³Ù†Ø¯"}),e.jsx(G,{children:"ØªØ§Ø±ÛŒØ®"}),e.jsx(G,{children:"Ø´Ø±Ø­"}),e.jsx(G,{children:"ÙˆØ¶Ø¹ÛŒØª"})]})}),e.jsx(Lt,{children:s.map(v=>e.jsxs(Ve,{children:[e.jsx(q,{className:"font-mono",children:v.voucher_no}),e.jsx(q,{children:v.voucher_date}),e.jsx(q,{children:v.description||"â€”"}),e.jsx(q,{children:e.jsx(vt,{variant:v.status==="posted"?"default":"secondary",children:v.status==="posted"?"Ø«Ø¨Øªâ€ŒØ´Ø¯Ù‡":"Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³"})})]},v.id))})]}),a>15&&e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(O,{variant:"outline",size:"sm",disabled:h<=1,onClick:()=>m(v=>v-1),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"py-2 text-sm",children:["ØµÙØ­Ù‡ ",h]}),e.jsx(O,{variant:"outline",size:"sm",disabled:h*15>=a,onClick:()=>m(v=>v+1),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})})]})]})}function i_(){const n=pt()?.isRtl===!0,[s,r]=l.useState([]),[a,i]=l.useState([]),[o,c]=l.useState(0),[d,u]=l.useState(0),[h,m]=l.useState(""),[x,p]=l.useState(""),[v,g]=l.useState(null),[f,_]=l.useState(!1);l.useEffect(()=>{dr().then(y=>{y.success&&y.data?.items?.length&&(r(y.data.items),!o&&y.data.items[0]&&c(y.data.items[0].id))})},[]),l.useEffect(()=>{o&&Uh(o).then(y=>{y.success&&y.data?.items&&i(y.data.items)})},[o]);const j=()=>{!d||!o||(_(!0),V1(d,o,h||void 0,x||void 0).then(y=>{_(!1),y.success&&y.data?g(y.data):g(null)}))};return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold tracking-tight flex items-center gap-2",children:[e.jsx(ni,{className:"h-5 w-5"}),"Ø¯ÙØªØ± Ú©Ù„ / Ù…Ø¹ÛŒÙ†"]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Ú¯Ø±Ø¯Ø´ Ùˆ Ù…Ø§Ù†Ø¯Ù‡ Ø­Ø³Ø§Ø¨"})]}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsx(tt,{className:"text-base",children:"ÙÛŒÙ„ØªØ±"})}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(Y,{children:"Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ"}),e.jsx("select",{className:"w-full mt-1 border rounded px-2 py-1.5 text-sm",value:o,onChange:y=>c(Number(y.target.value)),children:s.map(y=>e.jsx("option",{value:y.id,children:y.name},y.id))})]}),e.jsxs("div",{children:[e.jsx(Y,{children:"Ø­Ø³Ø§Ø¨"}),e.jsxs("select",{className:"w-full mt-1 border rounded px-2 py-1.5 text-sm",value:d,onChange:y=>u(Number(y.target.value)),children:[e.jsx("option",{value:0,children:"Ø§Ù†ØªØ®Ø§Ø¨ Ø­Ø³Ø§Ø¨"}),a.map(y=>e.jsxs("option",{value:y.id,children:[y.code," - ",y.title]},y.id))]})]}),e.jsxs("div",{children:[e.jsx(Y,{children:"Ø§Ø² ØªØ§Ø±ÛŒØ®"}),e.jsx(ie,{type:"date",className:"mt-1",value:h,onChange:y=>m(y.target.value)})]}),e.jsxs("div",{children:[e.jsx(Y,{children:"ØªØ§ ØªØ§Ø±ÛŒØ®"}),e.jsx(ie,{type:"date",className:"mt-1",value:x,onChange:y=>p(y.target.value)})]})]}),e.jsxs(O,{onClick:j,disabled:!d||!o||f,children:[f?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ù†Ù…Ø§ÛŒØ´ Ú¯Ø±Ø¯Ø´"]})]})]}),v&&e.jsxs(se,{children:[e.jsxs(et,{children:[e.jsx(tt,{className:"text-base",children:"Ú¯Ø±Ø¯Ø´ Ø­Ø³Ø§Ø¨"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ø¬Ù…Ø¹ Ø¨Ø¯Ù‡Ú©Ø§Ø±: ",v.debit_total," â€” Ø¬Ù…Ø¹ Ø¨Ø³ØªØ§Ù†Ú©Ø§Ø±: ",v.credit_total," â€” Ù…Ø§Ù†Ø¯Ù‡ Ø¨Ø¯Ù‡Ú©Ø§Ø±: ",v.balance_debit," â€” Ù…Ø§Ù†Ø¯Ù‡ Ø¨Ø³ØªØ§Ù†Ú©Ø§Ø±: ",v.balance_credit]})]}),e.jsx(re,{children:e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ø´Ù…Ø§Ø±Ù‡ Ø³Ù†Ø¯"}),e.jsx(G,{children:"ØªØ§Ø±ÛŒØ®"}),e.jsx(G,{children:"Ø¨Ø¯Ù‡Ú©Ø§Ø±"}),e.jsx(G,{children:"Ø¨Ø³ØªØ§Ù†Ú©Ø§Ø±"}),e.jsx(G,{children:"Ø´Ø±Ø­"})]})}),e.jsx(Lt,{children:v.rows.map((y,N)=>e.jsxs(Ve,{children:[e.jsx(q,{className:"font-mono",children:y.voucher_no}),e.jsx(q,{children:y.voucher_date}),e.jsx(q,{children:y.debit}),e.jsx(q,{children:y.credit}),e.jsx(q,{children:y.line_description||"â€”"})]},N))})]})})]})]})}function l_(){const n=pt()?.isRtl===!0,[s,r]=l.useState([]),[a,i]=l.useState(0),[o,c]=l.useState(""),[d,u]=l.useState(""),[h,m]=l.useState(""),[x,p]=l.useState([]),[v,g]=l.useState(null),[f,_]=l.useState(null),[j,y]=l.useState(!1),[N,E]=l.useState("trial");l.useEffect(()=>{dr().then(P=>{P.success&&P.data?.items?.length&&(r(P.data.items),!a&&P.data.items[0]&&i(P.data.items[0].id))})},[]);const I=()=>{a&&(y(!0),z1(a,o||void 0,d||void 0).then(P=>{y(!1),P.success&&Array.isArray(P.data)?p(P.data):p([])}))},S=()=>{a&&(y(!0),F1(a,h||void 0).then(P=>{y(!1),P.success&&P.data?g(P.data):g(null)}))},D=()=>{a&&(y(!0),$1(a,o||void 0,d||void 0).then(P=>{y(!1),P.success&&P.data?_(P.data):_(null)}))};return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold tracking-tight flex items-center gap-2",children:[e.jsx(si,{className:"h-5 w-5"}),"Ú¯Ø²Ø§Ø±Ø´Ø§Øª Ù…Ø§Ù„ÛŒ"]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"ØªØ±Ø§Ø² Ø¢Ø²Ù…Ø§ÛŒØ´ÛŒØŒ ØªØ±Ø§Ø²Ù†Ø§Ù…Ù‡ØŒ Ø³ÙˆØ¯ Ùˆ Ø²ÛŒØ§Ù†"})]}),s.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm ml-1",children:"Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ:"}),e.jsx("select",{className:"border rounded px-2 py-1 text-sm mr-2",value:a,onChange:P=>i(Number(P.target.value)),children:s.map(P=>e.jsx("option",{value:P.id,children:P.name},P.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm ml-1",children:"Ø§Ø² ØªØ§Ø±ÛŒØ®:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm mr-2",value:o,onChange:P=>c(P.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm ml-1",children:"ØªØ§ ØªØ§Ø±ÛŒØ®:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm mr-2",value:d,onChange:P=>u(P.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm ml-1",children:"ØªØ§Ø±ÛŒØ® ØªØ±Ø§Ø²Ù†Ø§Ù…Ù‡:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm mr-2",value:h,onChange:P=>m(P.target.value)})]})]}),e.jsxs(mi,{value:N,onValueChange:E,children:[e.jsxs(hi,{children:[e.jsx(Ys,{value:"trial",children:"ØªØ±Ø§Ø² Ø¢Ø²Ù…Ø§ÛŒØ´ÛŒ"}),e.jsx(Ys,{value:"balance",children:"ØªØ±Ø§Ø²Ù†Ø§Ù…Ù‡"}),e.jsx(Ys,{value:"pl",children:"Ø³ÙˆØ¯ Ùˆ Ø²ÛŒØ§Ù†"})]}),e.jsx(Ws,{value:"trial",children:e.jsxs(se,{children:[e.jsxs(et,{children:[e.jsx(tt,{className:"text-base",children:"ØªØ±Ø§Ø² Ø¢Ø²Ù…Ø§ÛŒØ´ÛŒ"}),e.jsxs(O,{size:"sm",onClick:I,disabled:!a||j,children:[j?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ"]})]}),e.jsx(re,{children:x.length===0&&!j?e.jsx("p",{className:"text-muted-foreground",children:"ÙÛŒÙ„ØªØ± Ø±Ø§ ØªÙ†Ø¸ÛŒÙ… Ú©Ø±Ø¯Ù‡ Ùˆ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯."}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ú©Ø¯"}),e.jsx(G,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(G,{children:"Ù…Ø§Ù†Ø¯Ù‡ Ø¨Ø¯Ù‡Ú©Ø§Ø±"}),e.jsx(G,{children:"Ù…Ø§Ù†Ø¯Ù‡ Ø¨Ø³ØªØ§Ù†Ú©Ø§Ø±"})]})}),e.jsx(Lt,{children:x.map((P,F)=>e.jsxs(Ve,{children:[e.jsx(q,{className:"font-mono",children:P.code}),e.jsx(q,{children:P.title}),e.jsx(q,{children:P.balance_debit}),e.jsx(q,{children:P.balance_credit})]},F))})]})})]})}),e.jsx(Ws,{value:"balance",children:e.jsxs(se,{children:[e.jsxs(et,{children:[e.jsx(tt,{className:"text-base",children:"ØªØ±Ø§Ø²Ù†Ø§Ù…Ù‡"}),e.jsxs(O,{size:"sm",onClick:S,disabled:!a||j,children:[j?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ"]})]}),e.jsx(re,{children:!v&&!j?e.jsx("p",{className:"text-muted-foreground",children:"Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯."}):v?e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Ø¯Ø§Ø±Ø§ÛŒÛŒâ€ŒÙ‡Ø§"}),v.assets?.map((P,F)=>e.jsxs("p",{className:"text-sm",children:[P.code," ",P.title,": ",P.balance]},F))]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Ø¨Ø¯Ù‡ÛŒâ€ŒÙ‡Ø§"}),v.liabilities?.map((P,F)=>e.jsxs("p",{className:"text-sm",children:[P.code," ",P.title,": ",P.balance]},F))]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Ø­Ù‚ÙˆÙ‚ ØµØ§Ø­Ø¨Ø§Ù† Ø³Ù‡Ø§Ù…"}),v.equity?.map((P,F)=>e.jsxs("p",{className:"text-sm",children:[P.code," ",P.title,": ",P.balance]},F))]})]}):null})]})}),e.jsx(Ws,{value:"pl",children:e.jsxs(se,{children:[e.jsxs(et,{children:[e.jsx(tt,{className:"text-base",children:"Ø³ÙˆØ¯ Ùˆ Ø²ÛŒØ§Ù†"}),e.jsxs(O,{size:"sm",onClick:D,disabled:!a||j,children:[j?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ"]})]}),e.jsx(re,{children:!f&&!j?e.jsx("p",{className:"text-muted-foreground",children:"Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯."}):f?e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Ø¬Ù…Ø¹ Ø¯Ø±Ø¢Ù…Ø¯: ",f.income_total]}),e.jsxs("p",{className:"font-medium",children:["Ø¬Ù…Ø¹ Ù‡Ø²ÛŒÙ†Ù‡: ",f.expense_total]}),e.jsxs("p",{className:"font-semibold",children:["Ø³ÙˆØ¯ (Ø²ÛŒØ§Ù†) Ø®Ø§Ù„Øµ: ",f.net]})]}):null})]})})]})]})}function o_(){const n=pt()?.isRtl===!0,[s,r]=l.useState([]),[a,i]=l.useState(!0);return l.useEffect(()=>{dr().then(o=>{o.success&&o.data?.items&&r(o.data.items),i(!1)})},[]),e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold tracking-tight flex items-center gap-2",children:[e.jsx(Rs,{className:"h-5 w-5"}),"Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ"]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"ØªØ¹Ø±ÛŒÙ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù„ÛŒ"})]}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsx(tt,{className:"text-base",children:"Ù„ÛŒØ³Øª Ø³Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù„ÛŒ"})}),e.jsx(re,{children:a?e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(_e,{className:"h-4 w-4 animate-spin"}),"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."]}):s.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡. Ø§Ø² Ø·Ø±ÛŒÙ‚ API ÛŒØ§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯."}):e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ù†Ø§Ù…"}),e.jsx(G,{children:"Ø§Ø² ØªØ§Ø±ÛŒØ®"}),e.jsx(G,{children:"ØªØ§ ØªØ§Ø±ÛŒØ®"}),e.jsx(G,{children:"ÙˆØ¶Ø¹ÛŒØª"})]})}),e.jsx(Lt,{children:s.map(o=>e.jsxs(Ve,{children:[e.jsx(q,{children:o.name}),e.jsx(q,{children:o.start_date}),e.jsx(q,{children:o.end_date}),e.jsx(q,{children:o.is_active?e.jsx(vt,{children:"ÙØ¹Ø§Ù„"}):e.jsx(vt,{variant:"secondary",children:"ØºÛŒØ±ÙØ¹Ø§Ù„"})})]},o.id))})]})})]})]})}function c_(){const n=pt()?.isRtl===!0,[s,r]=l.useState("rial"),[a,i]=l.useState(0),[o,c]=l.useState([]),[d,u]=l.useState(!1),[h,m]=l.useState(!1),[x,p]=l.useState(null);l.useEffect(()=>{Y1().then(f=>{f.success&&f.data&&(r(f.data.currency??"rial"),i(f.data.fiscal_year_id??0))}),dr().then(f=>{f.success&&f.data?.items&&c(f.data.items)})},[]);const v=()=>{u(!0),p(null),W1({currency:s,fiscal_year_id:a}).then(f=>{u(!1),p(f.success?"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯.":f.message??"Ø®Ø·Ø§")})},g=()=>{m(!0),p(null),B1(a||void 0).then(f=>{m(!1),f.success&&f.data?.count!==void 0?p(`Ú©Ø¯ÛŒÙ†Ú¯ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯ (${f.data.count} Ø­Ø³Ø§Ø¨).`):p(f.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø¯ÛŒÙ†Ú¯.")})};return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold tracking-tight flex items-center gap-2",children:[e.jsx(wr,{className:"h-5 w-5"}),"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±ÛŒ"]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"ÙˆØ§Ø­Ø¯ Ù¾ÙˆÙ„ØŒ Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ØŒ Ú©Ø¯ÛŒÙ†Ú¯ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ø§ÛŒØ±Ø§Ù†"})]}),x&&e.jsx("p",{className:"text-sm text-muted-foreground",children:x}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsx(tt,{className:"text-base",children:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¹Ù…ÙˆÙ…ÛŒ"})}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Y,{children:"ÙˆØ§Ø­Ø¯ Ù¾ÙˆÙ„"}),e.jsxs("select",{className:"w-full mt-1 border rounded px-2 py-1.5 text-sm max-w-xs",value:s,onChange:f=>r(f.target.value),children:[e.jsx("option",{value:"rial",children:"Ø±ÛŒØ§Ù„"}),e.jsx("option",{value:"toman",children:"ØªÙˆÙ…Ø§Ù†"})]})]}),e.jsxs("div",{children:[e.jsx(Y,{children:"Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ Ù¾ÛŒØ´â€ŒÙØ±Ø¶"}),e.jsxs("select",{className:"w-full mt-1 border rounded px-2 py-1.5 text-sm max-w-xs",value:a,onChange:f=>i(Number(f.target.value)),children:[e.jsx("option",{value:0,children:"â€”"}),o.map(f=>e.jsx("option",{value:f.id,children:f.name},f.id))]})]}),e.jsxs(O,{onClick:v,disabled:d,children:[d?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª"]})]})]}),e.jsxs(se,{children:[e.jsxs(et,{children:[e.jsx(tt,{className:"text-base",children:"Ú©Ø¯ÛŒÙ†Ú¯ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø§ÛŒØ±Ø§Ù†"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù†Ù…ÙˆØ¯Ø§Ø± Ø­Ø³Ø§Ø¨â€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ (Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ÛŒ Û± ØªØ§ Û·) Ø¨Ø±Ø§ÛŒ Ø³Ø§Ù„ Ù…Ø§Ù„ÛŒ Ø§Ù†ØªØ®Ø§Ø¨â€ŒØ´Ø¯Ù‡."})]}),e.jsx(re,{children:e.jsxs(O,{variant:"outline",onClick:g,disabled:h||!a,children:[h?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø¯ÛŒÙ†Ú¯ Ù¾ÛŒØ´â€ŒÙØ±Ø¶"]})})]})]})}const _c=[{value:"customer",label:"Ù…Ø´ØªØ±ÛŒ"},{value:"supplier",label:"ØªØ£Ù…ÛŒÙ†â€ŒÚ©Ù†Ù†Ø¯Ù‡"},{value:"both",label:"Ù‡Ø± Ø¯Ùˆ"}];function d_(){const n=pt()?.isRtl===!0,[s,r]=l.useState([]),[a,i]=l.useState(0),[o,c]=l.useState([]),[d,u]=l.useState(!0),[h,m]=l.useState(""),[x,p]=l.useState(1),v=15,[g,f]=l.useState(!1),[_,j]=l.useState(null),[y,N]=l.useState(!1),[E,I]=l.useState({name:"",code:"",person_type:"both",is_active:1}),[S,D]=l.useState(null),P=l.useCallback(()=>{u(!0);const V={page:x,per_page:v};h.trim()&&(V.search=h.trim()),U1(V).then(k=>{k.success&&k.data&&(r(k.data.items??[]),i(k.data.total??0)),u(!1)})},[x,h]);l.useEffect(()=>{P()},[P]),l.useEffect(()=>{H1().then(V=>{V.success&&V.data?.items&&c(V.data.items)})},[]);const F=()=>{j(null),I({name:"",code:"",person_type:"both",is_active:1}),f(!0)},M=V=>{q1(V).then(k=>{k.success&&k.data?.person&&(I(k.data.person),j(V),f(!0))})},U=()=>{E.name?.trim()&&(N(!0),K1({...E,id:_??void 0}).then(V=>{N(!1),V.success&&(f(!1),P())}))},oe=V=>{G1(V).then(k=>{k.success&&(D(null),P())})};return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold tracking-tight flex items-center gap-2",children:[e.jsx(Us,{className:"h-5 w-5"}),"Ø§Ø´Ø®Ø§Øµ (Ø·Ø±Ùâ€ŒÙ‡Ø§ÛŒ Ø­Ø³Ø§Ø¨)"]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø´ØªØ±ÛŒØ§Ù† Ùˆ ØªØ£Ù…ÛŒÙ†â€ŒÚ©Ù†Ù†Ø¯Ú¯Ø§Ù†"})]}),e.jsxs(O,{onClick:F,children:[e.jsx(jn,{className:"h-4 w-4 ml-2"}),"Ø´Ø®Øµ Ø¬Ø¯ÛŒØ¯"]})]}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx(tt,{className:"text-base",children:"Ù„ÛŒØ³Øª Ø§Ø´Ø®Ø§Øµ"}),e.jsx(ie,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ (Ù†Ø§Ù…ØŒ Ú©Ø¯ØŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ØŒ Ø´Ù†Ø§Ø³Ù‡ Ù…Ù„ÛŒ...)",value:h,onChange:V=>m(V.target.value),onKeyDown:V=>V.key==="Enter"&&p(1),className:"max-w-xs"}),e.jsx(O,{variant:"outline",size:"sm",onClick:()=>p(1),children:"Ø¬Ø³ØªØ¬Ùˆ"})]})}),e.jsx(re,{children:d?e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(_e,{className:"h-4 w-4 animate-spin"}),"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."]}):s.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Ø´Ø®ØµÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(e.Fragment,{children:[e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ù†Ø§Ù…"}),e.jsx(G,{children:"Ú©Ø¯"}),e.jsx(G,{children:"Ù…ÙˆØ¨Ø§ÛŒÙ„ / ØªÙ„ÙÙ†"}),e.jsx(G,{children:"Ù†ÙˆØ¹"}),e.jsx(G,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(G,{className:"w-[100px]",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:s.map(V=>e.jsxs(Ve,{children:[e.jsx(q,{className:"font-medium",children:V.name}),e.jsx(q,{children:V.code||"â€”"}),e.jsx(q,{children:V.mobile||V.phone||"â€”"}),e.jsx(q,{children:_c.find(k=>k.value===V.person_type)?.label??V.person_type}),e.jsx(q,{children:V.is_active?e.jsx(vt,{children:"ÙØ¹Ø§Ù„"}):e.jsx(vt,{variant:"secondary",children:"ØºÛŒØ±ÙØ¹Ø§Ù„"})}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(O,{variant:"ghost",size:"icon",onClick:()=>M(V.id),children:e.jsx(_n,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"icon",onClick:()=>D(V.id),children:e.jsx(gn,{className:"h-4 w-4 text-destructive"})})]})})]},V.id))})]}),a>v&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a," Ù†ÙØ± â€” ØµÙØ­Ù‡ ",x," Ø§Ø² ",Math.ceil(a/v)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",disabled:x<=1,onClick:()=>p(V=>V-1),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsx(O,{variant:"outline",size:"sm",disabled:x>=Math.ceil(a/v),onClick:()=>p(V=>V+1),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]})})]}),e.jsx(dn,{open:g,onOpenChange:f,children:e.jsxs(sn,{className:"max-w-lg",children:[e.jsx(rn,{children:e.jsx(an,{children:_?"ÙˆÛŒØ±Ø§ÛŒØ´ Ø´Ø®Øµ":"Ø´Ø®Øµ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù†Ø§Ù… *"}),e.jsx(ie,{value:E.name??"",onChange:V=>I(k=>({...k,name:V.target.value})),placeholder:"Ù†Ø§Ù… Ø´Ø®Øµ"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ú©Ø¯"}),e.jsx(ie,{value:E.code??"",onChange:V=>I(k=>({...k,code:V.target.value})),placeholder:"Ú©Ø¯"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(ie,{value:E.mobile??"",onChange:V=>I(k=>({...k,mobile:V.target.value})),placeholder:"09..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ØªÙ„ÙÙ†"}),e.jsx(ie,{value:E.phone??"",onChange:V=>I(k=>({...k,phone:V.target.value})),placeholder:"ØªÙ„ÙÙ† Ø«Ø§Ø¨Øª"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø´Ù†Ø§Ø³Ù‡ Ù…Ù„ÛŒ"}),e.jsx(ie,{value:E.national_id??"",onChange:V=>I(k=>({...k,national_id:V.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ú©Ø¯ Ø§Ù‚ØªØµØ§Ø¯ÛŒ"}),e.jsx(ie,{value:E.economic_code??"",onChange:V=>I(k=>({...k,economic_code:V.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø¢Ø¯Ø±Ø³"}),e.jsx(ie,{value:E.address??"",onChange:V=>I(k=>({...k,address:V.target.value})),placeholder:"Ø¢Ø¯Ø±Ø³"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù†ÙˆØ¹ Ø´Ø®Øµ"}),e.jsx("select",{className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm",value:E.person_type??"both",onChange:V=>I(k=>({...k,person_type:V.target.value})),children:_c.map(V=>e.jsx("option",{value:V.value,children:V.label},V.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø¯Ø³ØªÙ‡"}),e.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm",value:E.category_id??"",onChange:V=>I(k=>({...k,category_id:V.target.value?Number(V.target.value):null})),children:[e.jsx("option",{value:"",children:"Ø¨Ø¯ÙˆÙ† Ø¯Ø³ØªÙ‡"}),o.map(V=>e.jsx("option",{value:V.id,children:V.name},V.id))]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:!!E.is_active,onChange:V=>I(k=>({...k,is_active:V.target.checked?1:0}))}),e.jsx(Y,{htmlFor:"is_active",children:"ÙØ¹Ø§Ù„"})]})]}),e.jsxs(un,{children:[e.jsx(O,{variant:"outline",onClick:()=>f(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{onClick:U,disabled:y||!E.name?.trim(),children:[y?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}),e.jsx(Oa,{open:S!==null,onOpenChange:()=>D(null),children:e.jsxs(Fr,{children:[e.jsxs($r,{children:[e.jsx(Yr,{children:"Ø­Ø°Ù Ø´Ø®Øµ"}),e.jsx(Wr,{children:"Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ø´Ø®Øµ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"})]}),e.jsxs(Vr,{children:[e.jsx(Hr,{children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsx(Br,{onClick:()=>S&&oe(S),className:"bg-destructive text-destructive-foreground",children:"Ø­Ø°Ù"})]})]})})]})}function u_(){const n=pt()?.isRtl===!0,[s,r]=l.useState([]),[a,i]=l.useState(0),[o,c]=l.useState([]),[d,u]=l.useState([]),[h,m]=l.useState(!0),[x,p]=l.useState(""),[v,g]=l.useState(1),f=15,[_,j]=l.useState(!1),[y,N]=l.useState(null),[E,I]=l.useState(!1),[S,D]=l.useState({code:"",name:"",main_unit_id:0,is_active:1}),[P,F]=l.useState(null),M=l.useCallback(()=>{m(!0);const L={page:v,per_page:f};x.trim()&&(L.search=x.trim()),Z1(L).then(le=>{le.success&&le.data&&(r(le.data.items??[]),i(le.data.total??0)),m(!1)})},[v,x]);l.useEffect(()=>{M()},[M]),l.useEffect(()=>{X1().then(L=>{L.success&&L.data?.items&&c(L.data.items)}),J1().then(L=>{L.success&&L.data?.items&&u(L.data.items)})},[]);const U=()=>{N(null);const L=d.length>0?d[0].id:0;D({code:"",name:"",main_unit_id:L,is_active:1}),j(!0)},oe=L=>{Q1(L).then(le=>{le.success&&le.data?.product&&(D(le.data.product),N(L),j(!0))})},V=()=>{!S.code?.trim()||!S.name?.trim()||(I(!0),e_({...S,id:y??void 0}).then(L=>{I(!1),L.success&&(j(!1),M())}))},k=L=>{t_(L).then(le=>{le.success&&(F(null),M())})};return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold tracking-tight flex items-center gap-2",children:[e.jsx(fa,{className:"h-5 w-5"}),"Ú©Ø§Ù„Ø§ Ùˆ Ø®Ø¯Ù…Ø§Øª"]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ù„Ø§Ù‡Ø§ Ùˆ Ø®Ø¯Ù…Ø§Øª Ø¨Ø±Ø§ÛŒ ÙØ§Ú©ØªÙˆØ± Ùˆ Ø§Ù†Ø¨Ø§Ø±"})]}),e.jsxs(O,{onClick:U,disabled:d.length===0,children:[e.jsx(jn,{className:"h-4 w-4 ml-2"}),"Ú©Ø§Ù„Ø§ / Ø®Ø¯Ù…Ø§Øª Ø¬Ø¯ÛŒØ¯"]})]}),e.jsxs(se,{children:[e.jsx(et,{children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx(tt,{className:"text-base",children:"Ù„ÛŒØ³Øª Ú©Ø§Ù„Ø§ Ùˆ Ø®Ø¯Ù…Ø§Øª"}),e.jsx(ie,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ (Ù†Ø§Ù…ØŒ Ú©Ø¯ØŒ Ø¨Ø§Ø±Ú©Ø¯...)",value:x,onChange:L=>p(L.target.value),onKeyDown:L=>L.key==="Enter"&&g(1),className:"max-w-xs"}),e.jsx(O,{variant:"outline",size:"sm",onClick:()=>g(1),children:"Ø¬Ø³ØªØ¬Ùˆ"})]})}),e.jsx(re,{children:h?e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(_e,{className:"h-4 w-4 animate-spin"}),"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."]}):s.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Ú©Ø§Ù„Ø§ ÛŒØ§ Ø®Ø¯Ù…Ø§ØªÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(e.Fragment,{children:[e.jsxs(Tt,{children:[e.jsx(It,{children:e.jsxs(Ve,{children:[e.jsx(G,{children:"Ú©Ø¯"}),e.jsx(G,{children:"Ù†Ø§Ù…"}),e.jsx(G,{children:"Ù‚ÛŒÙ…Øª Ø®Ø±ÛŒØ¯"}),e.jsx(G,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(G,{className:"w-[100px]",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(Lt,{children:s.map(L=>e.jsxs(Ve,{children:[e.jsx(q,{className:"font-mono",children:L.code}),e.jsx(q,{className:"font-medium",children:L.name}),e.jsx(q,{children:L.purchase_price!=null?L.purchase_price.toLocaleString("fa-IR"):"â€”"}),e.jsx(q,{children:L.is_active?e.jsx(vt,{children:"ÙØ¹Ø§Ù„"}):e.jsx(vt,{variant:"secondary",children:"ØºÛŒØ±ÙØ¹Ø§Ù„"})}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(O,{variant:"ghost",size:"icon",onClick:()=>oe(L.id),children:e.jsx(_n,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"icon",onClick:()=>F(L.id),children:e.jsx(gn,{className:"h-4 w-4 text-destructive"})})]})})]},L.id))})]}),a>f&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a," Ù…ÙˆØ±Ø¯ â€” ØµÙØ­Ù‡ ",v," Ø§Ø² ",Math.ceil(a/f)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",disabled:v<=1,onClick:()=>g(L=>L-1),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsx(O,{variant:"outline",size:"sm",disabled:v>=Math.ceil(a/f),onClick:()=>g(L=>L+1),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]})})]}),e.jsx(dn,{open:_,onOpenChange:j,children:e.jsxs(sn,{className:"max-w-lg",children:[e.jsx(rn,{children:e.jsx(an,{children:y?"ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ø§Ù„Ø§ / Ø®Ø¯Ù…Ø§Øª":"Ú©Ø§Ù„Ø§ / Ø®Ø¯Ù…Ø§Øª Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ú©Ø¯ *"}),e.jsx(ie,{value:S.code??"",onChange:L=>D(le=>({...le,code:L.target.value})),placeholder:"Ú©Ø¯ ÛŒÚ©ØªØ§"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù†Ø§Ù… *"}),e.jsx(ie,{value:S.name??"",onChange:L=>D(le=>({...le,name:L.target.value})),placeholder:"Ù†Ø§Ù… Ú©Ø§Ù„Ø§ ÛŒØ§ Ø®Ø¯Ù…Ø§Øª"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"ÙˆØ§Ø­Ø¯ Ø§ØµÙ„ÛŒ"}),e.jsx("select",{className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm",value:S.main_unit_id??0,onChange:L=>D(le=>({...le,main_unit_id:Number(L.target.value)})),children:d.map(L=>e.jsxs("option",{value:L.id,children:[L.name," ",L.symbol?`(${L.symbol})`:""]},L.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ"}),e.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm",value:S.category_id??"",onChange:L=>D(le=>({...le,category_id:L.target.value?Number(L.target.value):null})),children:[e.jsx("option",{value:"",children:"Ø¨Ø¯ÙˆÙ† Ø¯Ø³ØªÙ‡"}),o.map(L=>e.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ù‚ÛŒÙ…Øª Ø®Ø±ÛŒØ¯"}),e.jsx(ie,{type:"number",min:0,step:.01,value:S.purchase_price??"",onChange:L=>D(le=>({...le,purchase_price:L.target.value?Number(L.target.value):null})),placeholder:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Y,{children:"Ø¨Ø§Ø±Ú©Ø¯"}),e.jsx(ie,{value:S.barcode??"",onChange:L=>D(le=>({...le,barcode:L.target.value})),placeholder:"Ú†Ù†Ø¯ Ø¨Ø§Ø±Ú©Ø¯ Ø¨Ø§ ;"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"inventory_controlled",checked:!!S.inventory_controlled,onChange:L=>D(le=>({...le,inventory_controlled:L.target.checked?1:0}))}),e.jsx(Y,{htmlFor:"inventory_controlled",children:"Ú©Ù†ØªØ±Ù„ Ù…ÙˆØ¬ÙˆØ¯ÛŒ"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:!!S.is_active,onChange:L=>D(le=>({...le,is_active:L.target.checked?1:0}))}),e.jsx(Y,{htmlFor:"is_active",children:"ÙØ¹Ø§Ù„"})]})]}),e.jsxs(un,{children:[e.jsx(O,{variant:"outline",onClick:()=>j(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(O,{onClick:V,disabled:E||!S.code?.trim()||!S.name?.trim(),children:[E?e.jsx(_e,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}),e.jsx(Oa,{open:P!==null,onOpenChange:()=>F(null),children:e.jsxs(Fr,{children:[e.jsxs($r,{children:[e.jsx(Yr,{children:"Ø­Ø°Ù Ú©Ø§Ù„Ø§ / Ø®Ø¯Ù…Ø§Øª"}),e.jsx(Wr,{children:"Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù…ÙˆØ±Ø¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"})]}),e.jsxs(Vr,{children:[e.jsx(Hr,{children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsx(Br,{onClick:()=>P&&k(P),className:"bg-destructive text-destructive-foreground",children:"Ø­Ø°Ù"})]})]})})]})}function m_(){return e.jsx(lp,{children:e.jsxs(yt,{path:"/",element:e.jsx(y0,{}),children:[e.jsx(yt,{index:!0,element:e.jsx(R0,{})}),e.jsx(yt,{path:"leads",element:e.jsx(Nb,{})}),e.jsx(yt,{path:"profile",element:e.jsx(Cb,{})}),e.jsx(yt,{path:"licenses",element:e.jsx(nw,{})}),e.jsx(yt,{path:"consultations",element:e.jsx(iw,{})}),e.jsx(yt,{path:"logs",element:e.jsx(lw,{})}),e.jsx(yt,{path:"customers",element:e.jsx(cw,{})}),e.jsx(yt,{path:"contracts/*",element:e.jsx(jw,{})}),e.jsx(yt,{path:"invoices/*",element:e.jsx(_w,{})}),e.jsx(yt,{path:"tickets/*",element:e.jsx(Ew,{})}),e.jsx(yt,{path:"projects/*",element:e.jsx(Mw,{})}),e.jsx(yt,{path:"tasks/*",element:e.jsx(Zw,{})}),e.jsx(yt,{path:"appointments/*",element:e.jsx(a1,{})}),e.jsx(yt,{path:"staff/*",element:e.jsx(l1,{})}),e.jsx(yt,{path:"reports/*",element:e.jsx(h1,{})}),e.jsx(yt,{path:"visitor-statistics",element:e.jsx(g1,{})}),e.jsx(yt,{path:"services/*",element:e.jsx(I1,{})}),e.jsx(yt,{path:"campaigns/*",element:e.jsx(L1,{})}),e.jsx(yt,{path:"settings/*",element:e.jsx(k1,{})}),e.jsx(yt,{path:"accounting",element:e.jsx(s_,{})}),e.jsx(yt,{path:"accounting/chart",element:e.jsx(r_,{})}),e.jsx(yt,{path:"accounting/journals",element:e.jsx(a_,{})}),e.jsx(yt,{path:"accounting/ledger",element:e.jsx(i_,{})}),e.jsx(yt,{path:"accounting/reports",element:e.jsx(l_,{})}),e.jsx(yt,{path:"accounting/fiscal-year",element:e.jsx(o_,{})}),e.jsx(yt,{path:"accounting/settings",element:e.jsx(c_,{})}),e.jsx(yt,{path:"accounting/persons",element:e.jsx(d_,{})}),e.jsx(yt,{path:"accounting/products",element:e.jsx(u_,{})}),e.jsx(yt,{path:"*",element:e.jsx(rp,{to:"/",replace:!0})})]})})}function h_(){l.useEffect(()=>{const n=pt();if(n){const s=n.isRtl?"rtl":"ltr",r=n.locale??(n.isRtl?"fa":"en");document.documentElement.setAttribute("dir",s),document.documentElement.setAttribute("lang",r)}},[]);const t=typeof window<"u"&&window.puzzlingcrm?.dashboardBasePath?window.puzzlingcrm.dashboardBasePath:"/dashboard";return e.jsx(Wp,{children:e.jsx(Mp,{basename:t,children:e.jsx(m_,{})})})}af.createRoot(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(h_,{})}));export{d1 as _};
