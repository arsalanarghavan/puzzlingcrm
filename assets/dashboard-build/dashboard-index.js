import{r as i,j as e,u as Ae,a as je,P as fe,c as se,d as Za,b as Ie,R as fd,e as pn,f as it,g as Ft,h as pd,i as Un,k as Ct,l as V,m as Ja,n as xr,o as ee,U as Yt,B as E,p as xd,q as gd,s as gr,t as Qa,I as vd,v as ei,w as jd,x as W,S as yd,C as X,y as Z,z as Re,A as Pe,M as wd,E as ia,D as mt,F as ht,L as oe,G as F,T as ti,H as ni,J as Zs,K as Js,N as si,O as vt,Q as bd}from"./dashboard-tabs.js";var oa="popstate";function _d(t={}){function n(r,a){let{pathname:o,search:l,hash:c}=r.location;return Qs("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:cn(a)}return Sd(n,s,null,t)}function _e(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Ze(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Nd(){return Math.random().toString(36).substring(2,10)}function la(t,n){return{usr:t.state,key:t.key,idx:n}}function Qs(t,n,s=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?Jt(n):n,state:s,key:n&&n.key||r||Nd()}}function cn({pathname:t="/",search:n="",hash:s=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Jt(t){let n={};if(t){let s=t.indexOf("#");s>=0&&(n.hash=t.substring(s),t=t.substring(0,s));let r=t.indexOf("?");r>=0&&(n.search=t.substring(r),t=t.substring(0,r)),t&&(n.pathname=t)}return n}function Sd(t,n,s,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,c="POP",d=null,m=h();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function h(){return(l.state||{idx:null}).idx}function u(){c="POP";let g=h(),j=g==null?null:g-m;m=g,d&&d({action:c,location:p.location,delta:j})}function f(g,j){c="PUSH";let w=Qs(p.location,g,j);m=h()+1;let b=la(w,m),_=p.createHref(w);try{l.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}o&&d&&d({action:c,location:p.location,delta:1})}function x(g,j){c="REPLACE";let w=Qs(p.location,g,j);m=h();let b=la(w,m),_=p.createHref(w);l.replaceState(b,"",_),o&&d&&d({action:c,location:p.location,delta:0})}function v(g){return Cd(g)}let p={get action(){return c},get location(){return t(a,l)},listen(g){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(oa,u),d=g,()=>{a.removeEventListener(oa,u),d=null}},createHref(g){return n(a,g)},createURL:v,encodeLocation(g){let j=v(g);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:f,replace:x,go(g){return l.go(g)}};return p}function Cd(t,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),_e(s,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:cn(t);return r=r.replace(/ $/,"%20"),!n&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function ri(t,n,s="/"){return kd(t,n,s,!1)}function kd(t,n,s,r){let a=typeof n=="string"?Jt(n):n,o=yt(a.pathname||"/",s);if(o==null)return null;let l=ai(t);Ed(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let m=Fd(o);c=Ld(l[d],m,r)}return c}function ai(t,n=[],s=[],r="",a=!1){let o=(l,c,d=a,m)=>{let h={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&d)return;_e(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let u=jt([r,h.relativePath]),f=s.concat(h);l.children&&l.children.length>0&&(_e(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),ai(l.children,n,f,u,d)),!(l.path==null&&!l.index)&&n.push({path:u,score:Id(u,l.index),routesMeta:f})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let d of ii(l.path))o(l,c,!0,d)}),n}function ii(t){let n=t.split("/");if(n.length===0)return[];let[s,...r]=n,a=s.endsWith("?"),o=s.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=ii(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),a&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function Ed(t){t.sort((n,s)=>n.score!==s.score?s.score-n.score:Od(n.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var Rd=/^:[\w-]+$/,Pd=3,Ad=2,Td=1,Dd=10,Md=-2,ca=t=>t==="*";function Id(t,n){let s=t.split("/"),r=s.length;return s.some(ca)&&(r+=Md),n&&(r+=Ad),s.filter(a=>!ca(a)).reduce((a,o)=>a+(Rd.test(o)?Pd:o===""?Td:Dd),r)}function Od(t,n){return t.length===n.length&&t.slice(0,-1).every((r,a)=>r===n[a])?t[t.length-1]-n[n.length-1]:0}function Ld(t,n,s=!1){let{routesMeta:r}=t,a={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],m=c===r.length-1,h=o==="/"?n:n.slice(o.length)||"/",u=qn({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},h),f=d.route;if(!u&&m&&s&&!r[r.length-1].route.index&&(u=qn({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!u)return null;Object.assign(a,u.params),l.push({params:a,pathname:jt([o,u.pathname]),pathnameBase:Hd(jt([o,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(o=jt([o,u.pathnameBase]))}return l}function qn(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=zd(t.path,t.caseSensitive,t.end),a=n.match(s);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((m,{paramName:h,isOptional:u},f)=>{if(h==="*"){let v=c[f]||"";l=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const x=c[f];return u&&!x?m[h]=void 0:m[h]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:l,pattern:t}}function zd(t,n=!1,s=!0){Ze(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,n?void 0:"i"),r]}function Fd(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Ze(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function yt(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}var $d=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Bd(t,n="/"){let{pathname:s,search:r="",hash:a=""}=typeof t=="string"?Jt(t):t,o;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?o=da(s.substring(1),"/"):o=da(s,n)):o=n,{pathname:o,search:Wd(r),hash:Ud(a)}}function da(t,n){let s=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function Is(t,n,s,r){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vd(t){return t.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function vr(t){let n=Vd(t);return n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase)}function jr(t,n,s,r=!1){let a;typeof t=="string"?a=Jt(t):(a={...t},_e(!a.pathname||!a.pathname.includes("?"),Is("?","pathname","search",a)),_e(!a.pathname||!a.pathname.includes("#"),Is("#","pathname","hash",a)),_e(!a.search||!a.search.includes("#"),Is("#","search","hash",a)));let o=t===""||a.pathname==="",l=o?"/":a.pathname,c;if(l==null)c=s;else{let u=n.length-1;if(!r&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),u-=1;a.pathname=f.join("/")}c=u>=0?n[u]:"/"}let d=Bd(a,c),m=l&&l!=="/"&&l.endsWith("/"),h=(o||l===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(m||h)&&(d.pathname+="/"),d}var jt=t=>t.join("/").replace(/\/\/+/g,"/"),Hd=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Wd=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ud=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,qd=class{constructor(t,n,s,r=!1){this.status=t,this.statusText=n||"",this.internal=r,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function Kd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Gd(t){return t.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var oi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function li(t,n){let s=t;if(typeof s!="string"||!$d.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let r=s,a=!1;if(oi)try{let o=new URL(window.location.href),l=s.startsWith("//")?new URL(o.protocol+s):new URL(s),c=yt(l.pathname,n);l.origin===o.origin&&c!=null?s=c+l.search+l.hash:a=!0}catch{Ze(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ci=["POST","PUT","PATCH","DELETE"];new Set(ci);var Yd=["GET",...ci];new Set(Yd);var Qt=i.createContext(null);Qt.displayName="DataRouter";var rs=i.createContext(null);rs.displayName="DataRouterState";var Xd=i.createContext(!1),di=i.createContext({isTransitioning:!1});di.displayName="ViewTransition";var Zd=i.createContext(new Map);Zd.displayName="Fetchers";var Jd=i.createContext(null);Jd.displayName="Await";var Ye=i.createContext(null);Ye.displayName="Navigation";var xn=i.createContext(null);xn.displayName="Location";var ot=i.createContext({outlet:null,matches:[],isDataRoute:!1});ot.displayName="Route";var yr=i.createContext(null);yr.displayName="RouteError";var ui="REACT_ROUTER_ERROR",Qd="REDIRECT",eu="ROUTE_ERROR_RESPONSE";function tu(t){if(t.startsWith(`${ui}:${Qd}:{`))try{let n=JSON.parse(t.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function nu(t){if(t.startsWith(`${ui}:${eu}:{`))try{let n=JSON.parse(t.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new qd(n.status,n.statusText,n.data)}catch{}}function su(t,{relative:n}={}){_e(en(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=i.useContext(Ye),{hash:a,pathname:o,search:l}=gn(t,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:jt([s,o])),r.createHref({pathname:c,search:l,hash:a})}function en(){return i.useContext(xn)!=null}function Qe(){return _e(en(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(xn).location}var mi="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hi(t){i.useContext(Ye).static||i.useLayoutEffect(t)}function At(){let{isDataRoute:t}=i.useContext(ot);return t?vu():ru()}function ru(){_e(en(),"useNavigate() may be used only in the context of a <Router> component.");let t=i.useContext(Qt),{basename:n,navigator:s}=i.useContext(Ye),{matches:r}=i.useContext(ot),{pathname:a}=Qe(),o=JSON.stringify(vr(r)),l=i.useRef(!1);return hi(()=>{l.current=!0}),i.useCallback((d,m={})=>{if(Ze(l.current,mi),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=jr(d,JSON.parse(o),a,m.relative==="path");t==null&&n!=="/"&&(h.pathname=h.pathname==="/"?n:jt([n,h.pathname])),(m.replace?s.replace:s.push)(h,m.state,m)},[n,s,o,a,t])}var au=i.createContext(null);function iu(t){let n=i.useContext(ot).outlet;return i.useMemo(()=>n&&i.createElement(au.Provider,{value:t},n),[n,t])}function gn(t,{relative:n}={}){let{matches:s}=i.useContext(ot),{pathname:r}=Qe(),a=JSON.stringify(vr(s));return i.useMemo(()=>jr(t,JSON.parse(a),r,n==="path"),[t,a,r,n])}function ou(t,n){return fi(t,n)}function fi(t,n,s,r,a){_e(en(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=i.useContext(Ye),{matches:l}=i.useContext(ot),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",h=c?c.pathnameBase:"/",u=c&&c.route;{let w=u&&u.path||"";xi(m,!u||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let f=Qe(),x;if(n){let w=typeof n=="string"?Jt(n):n;_e(h==="/"||w.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),x=w}else x=f;let v=x.pathname||"/",p=v;if(h!=="/"){let w=h.replace(/^\//,"").split("/");p="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=ri(t,{pathname:p});Ze(u||g!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ze(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=mu(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:jt([h,o.encodeLocation?o.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:jt([h,o.encodeLocation?o.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),l,s,r,a);return n&&j?i.createElement(xn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function lu(){let t=gu(),n=Kd(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=i.createElement(i.Fragment,null,i.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:o},"ErrorBoundary")," or"," ",i.createElement("code",{style:o},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},n),s?i.createElement("pre",{style:a},s):null,l)}var cu=i.createElement(lu,null),pi=class extends i.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.onError?this.props.onError(t,n):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const s=nu(t.digest);s&&(t=s)}let n=t!==void 0?i.createElement(ot.Provider,{value:this.props.routeContext},i.createElement(yr.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?i.createElement(du,{error:t},n):n}};pi.contextType=Xd;var Os=new WeakMap;function du({children:t,error:n}){let{basename:s}=i.useContext(Ye);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let r=tu(n.digest);if(r){let a=Os.get(n);if(a)throw a;let o=li(r.location,s);if(oi&&!Os.get(n))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Os.set(n,l),l}return i.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function uu({routeContext:t,match:n,children:s}){let r=i.useContext(Qt);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(ot.Provider,{value:t},s)}function mu(t,n=[],s=null,r=null,a=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let o=t,l=s?.errors;if(l!=null){let h=o.findIndex(u=>u.route.id&&l?.[u.route.id]!==void 0);_e(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(s)for(let h=0;h<o.length;h++){let u=o[h];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=h),u.route.id){let{loaderData:f,errors:x}=s,v=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!x||x[u.route.id]===void 0);if(u.route.lazy||v){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let m=s&&r?(h,u)=>{r(h,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:Gd(s.matches),errorInfo:u})}:void 0;return o.reduceRight((h,u,f)=>{let x,v=!1,p=null,g=null;s&&(x=l&&u.route.id?l[u.route.id]:void 0,p=u.route.errorElement||cu,c&&(d<0&&f===0?(xi("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,g=null):d===f&&(v=!0,g=u.route.hydrateFallbackElement||null)));let j=n.concat(o.slice(0,f+1)),w=()=>{let b;return x?b=p:v?b=g:u.route.Component?b=i.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=h,i.createElement(uu,{match:u,routeContext:{outlet:h,matches:j,isDataRoute:s!=null},children:b})};return s&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?i.createElement(pi,{location:s.location,revalidation:s.revalidation,component:p,error:x,children:w(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:m}):w()},null)}function wr(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hu(t){let n=i.useContext(Qt);return _e(n,wr(t)),n}function fu(t){let n=i.useContext(rs);return _e(n,wr(t)),n}function pu(t){let n=i.useContext(ot);return _e(n,wr(t)),n}function br(t){let n=pu(t),s=n.matches[n.matches.length-1];return _e(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function xu(){return br("useRouteId")}function gu(){let t=i.useContext(yr),n=fu("useRouteError"),s=br("useRouteError");return t!==void 0?t:n.errors?.[s]}function vu(){let{router:t}=hu("useNavigate"),n=br("useNavigate"),s=i.useRef(!1);return hi(()=>{s.current=!0}),i.useCallback(async(a,o={})=>{Ze(s.current,mi),s.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:n,...o}))},[t,n])}var ua={};function xi(t,n,s){!n&&!ua[t]&&(ua[t]=!0,Ze(!1,s))}i.memo(ju);function ju({routes:t,future:n,state:s,onError:r}){return fi(t,void 0,s,r,n)}function yu({to:t,replace:n,state:s,relative:r}){_e(en(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=i.useContext(Ye);Ze(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=i.useContext(ot),{pathname:l}=Qe(),c=At(),d=jr(t,vr(o),l,r==="path"),m=JSON.stringify(d);return i.useEffect(()=>{c(JSON.parse(m),{replace:n,state:s,relative:r})},[c,m,r,n,s]),null}function wu(t){return iu(t.context)}function Ce(t){_e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bu({basename:t="/",children:n=null,location:s,navigationType:r="POP",navigator:a,static:o=!1,unstable_useTransitions:l}){_e(!en(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=i.useMemo(()=>({basename:c,navigator:a,static:o,unstable_useTransitions:l,future:{}}),[c,a,o,l]);typeof s=="string"&&(s=Jt(s));let{pathname:m="/",search:h="",hash:u="",state:f=null,key:x="default"}=s,v=i.useMemo(()=>{let p=yt(m,c);return p==null?null:{location:{pathname:p,search:h,hash:u,state:f,key:x},navigationType:r}},[c,m,h,u,f,x,r]);return Ze(v!=null,`<Router basename="${c}"> is not able to match the URL "${m}${h}${u}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:i.createElement(Ye.Provider,{value:d},i.createElement(xn.Provider,{children:n,value:v}))}function _u({children:t,location:n}){return ou(er(t),n)}function er(t,n=[]){let s=[];return i.Children.forEach(t,(r,a)=>{if(!i.isValidElement(r))return;let o=[...n,a];if(r.type===i.Fragment){s.push.apply(s,er(r.props.children,o));return}_e(r.type===Ce,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_e(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=er(r.props.children,o)),s.push(l)}),s}var Ln="get",zn="application/x-www-form-urlencoded";function as(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Nu(t){return as(t)&&t.tagName.toLowerCase()==="button"}function Su(t){return as(t)&&t.tagName.toLowerCase()==="form"}function Cu(t){return as(t)&&t.tagName.toLowerCase()==="input"}function ku(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Eu(t,n){return t.button===0&&(!n||n==="_self")&&!ku(t)}function tr(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,s)=>{let r=t[s];return n.concat(Array.isArray(r)?r.map(a=>[s,a]):[[s,r]])},[]))}function Ru(t,n){let s=tr(t);return n&&n.forEach((r,a)=>{s.has(a)||n.getAll(a).forEach(o=>{s.append(a,o)})}),s}var An=null;function Pu(){if(An===null)try{new FormData(document.createElement("form"),0),An=!1}catch{An=!0}return An}var Au=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ls(t){return t!=null&&!Au.has(t)?(Ze(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zn}"`),null):t}function Tu(t,n){let s,r,a,o,l;if(Su(t)){let c=t.getAttribute("action");r=c?yt(c,n):null,s=t.getAttribute("method")||Ln,a=Ls(t.getAttribute("enctype"))||zn,o=new FormData(t)}else if(Nu(t)||Cu(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?yt(d,n):null,s=t.getAttribute("formmethod")||c.getAttribute("method")||Ln,a=Ls(t.getAttribute("formenctype"))||Ls(c.getAttribute("enctype"))||zn,o=new FormData(c,t),!Pu()){let{name:m,type:h,value:u}=t;if(h==="image"){let f=m?`${m}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else m&&o.append(m,u)}}else{if(as(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Ln,r=null,a=zn,l=t}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:s.toLowerCase(),encType:a,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _r(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Du(t,n,s,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:n&&yt(a.pathname,n)==="/"?a.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function Mu(t,n){if(t.id in n)return n[t.id];try{let s=await import(t.module);return n[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Iu(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ou(t,n,s){let r=await Promise.all(t.map(async a=>{let o=n.routes[a.route.id];if(o){let l=await Mu(o,s);return l.links?l.links():[]}return[]}));return $u(r.flat(1).filter(Iu).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ma(t,n,s,r,a,o){let l=(d,m)=>s[m]?d.route.id!==s[m].route.id:!0,c=(d,m)=>s[m].pathname!==d.pathname||s[m].route.path?.endsWith("*")&&s[m].params["*"]!==d.params["*"];return o==="assets"?n.filter((d,m)=>l(d,m)||c(d,m)):o==="data"?n.filter((d,m)=>{let h=r.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(l(d,m)||c(d,m))return!0;if(d.route.shouldRevalidate){let u=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof u=="boolean")return u}return!0}):[]}function Lu(t,n,{includeHydrateFallback:s}={}){return zu(t.map(r=>{let a=n.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function zu(t){return[...new Set(t)]}function Fu(t){let n={},s=Object.keys(t).sort();for(let r of s)n[r]=t[r];return n}function $u(t,n){let s=new Set;return new Set(n),t.reduce((r,a)=>{let o=JSON.stringify(Fu(a));return s.has(o)||(s.add(o),r.push({key:o,link:a})),r},[])}function gi(){let t=i.useContext(Qt);return _r(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Bu(){let t=i.useContext(rs);return _r(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Nr=i.createContext(void 0);Nr.displayName="FrameworkContext";function vi(){let t=i.useContext(Nr);return _r(t,"You must render this element inside a <HydratedRouter> element"),t}function Vu(t,n){let s=i.useContext(Nr),[r,a]=i.useState(!1),[o,l]=i.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:m,onMouseLeave:h,onTouchStart:u}=n,f=i.useRef(null);i.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let p=j=>{j.forEach(w=>{l(w.isIntersecting)})},g=new IntersectionObserver(p,{threshold:.5});return f.current&&g.observe(f.current),()=>{g.disconnect()}}},[t]),i.useEffect(()=>{if(r){let p=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(p)}}},[r]);let x=()=>{a(!0)},v=()=>{a(!1),l(!1)};return s?t!=="intent"?[o,f,{}]:[o,f,{onFocus:rn(c,x),onBlur:rn(d,v),onMouseEnter:rn(m,x),onMouseLeave:rn(h,v),onTouchStart:rn(u,x)}]:[!1,f,{}]}function rn(t,n){return s=>{t&&t(s),s.defaultPrevented||n(s)}}function Hu({page:t,...n}){let{router:s}=gi(),r=i.useMemo(()=>ri(s.routes,t,s.basename),[s.routes,t,s.basename]);return r?i.createElement(Uu,{page:t,matches:r,...n}):null}function Wu(t){let{manifest:n,routeModules:s}=vi(),[r,a]=i.useState([]);return i.useEffect(()=>{let o=!1;return Ou(t,n,s).then(l=>{o||a(l)}),()=>{o=!0}},[t,n,s]),r}function Uu({page:t,matches:n,...s}){let r=Qe(),{future:a,manifest:o,routeModules:l}=vi(),{basename:c}=gi(),{loaderData:d,matches:m}=Bu(),h=i.useMemo(()=>ma(t,n,m,o,r,"data"),[t,n,m,o,r]),u=i.useMemo(()=>ma(t,n,m,o,r,"assets"),[t,n,m,o,r]),f=i.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let p=new Set,g=!1;if(n.forEach(w=>{let b=o.routes[w.route.id];!b||!b.hasLoader||(!h.some(_=>_.route.id===w.route.id)&&w.route.id in d&&l[w.route.id]?.shouldRevalidate||b.hasClientLoader?g=!0:p.add(w.route.id))}),p.size===0)return[];let j=Du(t,c,a.unstable_trailingSlashAwareDataRequests,"data");return g&&p.size>0&&j.searchParams.set("_routes",n.filter(w=>p.has(w.route.id)).map(w=>w.route.id).join(",")),[j.pathname+j.search]},[c,a.unstable_trailingSlashAwareDataRequests,d,r,o,h,n,t,l]),x=i.useMemo(()=>Lu(u,o),[u,o]),v=Wu(u);return i.createElement(i.Fragment,null,f.map(p=>i.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...s})),x.map(p=>i.createElement("link",{key:p,rel:"modulepreload",href:p,...s})),v.map(({key:p,link:g})=>i.createElement("link",{key:p,nonce:s.nonce,...g,crossOrigin:g.crossOrigin??s.crossOrigin})))}function qu(...t){return n=>{t.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var Ku=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ku&&(window.__reactRouterVersion="7.13.0")}catch{}function Gu({basename:t,children:n,unstable_useTransitions:s,window:r}){let a=i.useRef();a.current==null&&(a.current=_d({window:r,v5Compat:!0}));let o=a.current,[l,c]=i.useState({action:o.action,location:o.location}),d=i.useCallback(m=>{s===!1?c(m):i.startTransition(()=>c(m))},[s]);return i.useLayoutEffect(()=>o.listen(d),[o,d]),i.createElement(bu,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:s})}var ji=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=i.forwardRef(function({onClick:n,discover:s="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:c,target:d,to:m,preventScrollReset:h,viewTransition:u,unstable_defaultShouldRevalidate:f,...x},v){let{basename:p,unstable_useTransitions:g}=i.useContext(Ye),j=typeof m=="string"&&ji.test(m),w=li(m,p);m=w.to;let b=su(m,{relative:a}),[_,S,I]=Vu(r,x),N=Ju(m,{replace:l,state:c,target:d,preventScrollReset:h,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:g});function C(k){n&&n(k),k.defaultPrevented||N(k)}let L=i.createElement("a",{...x,...I,href:w.absoluteURL||b,onClick:w.isExternal||o?n:C,ref:qu(v,S),target:d,"data-discover":!j&&s==="render"?"true":void 0});return _&&!j?i.createElement(i.Fragment,null,L,i.createElement(Hu,{page:b})):L});De.displayName="Link";var Yu=i.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:c,children:d,...m},h){let u=gn(l,{relative:m.relative}),f=Qe(),x=i.useContext(rs),{navigator:v,basename:p}=i.useContext(Ye),g=x!=null&&sm(u)&&c===!0,j=v.encodeLocation?v.encodeLocation(u).pathname:u.pathname,w=f.pathname,b=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(w=w.toLowerCase(),b=b?b.toLowerCase():null,j=j.toLowerCase()),b&&p&&(b=yt(b,p)||b);const _=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let S=w===j||!a&&w.startsWith(j)&&w.charAt(_)==="/",I=b!=null&&(b===j||!a&&b.startsWith(j)&&b.charAt(j.length)==="/"),N={isActive:S,isPending:I,isTransitioning:g},C=S?n:void 0,L;typeof r=="function"?L=r(N):L=[r,S?"active":null,I?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(N):o;return i.createElement(De,{...m,"aria-current":C,className:L,ref:h,style:k,to:l,viewTransition:c},typeof d=="function"?d(N):d)});Yu.displayName="NavLink";var Xu=i.forwardRef(({discover:t="render",fetcherKey:n,navigate:s,reloadDocument:r,replace:a,state:o,method:l=Ln,action:c,onSubmit:d,relative:m,preventScrollReset:h,viewTransition:u,unstable_defaultShouldRevalidate:f,...x},v)=>{let{unstable_useTransitions:p}=i.useContext(Ye),g=tm(),j=nm(c,{relative:m}),w=l.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&ji.test(c),_=S=>{if(d&&d(S),S.defaultPrevented)return;S.preventDefault();let I=S.nativeEvent.submitter,N=I?.getAttribute("formmethod")||l,C=()=>g(I||S.currentTarget,{fetcherKey:n,method:N,navigate:s,replace:a,state:o,relative:m,preventScrollReset:h,viewTransition:u,unstable_defaultShouldRevalidate:f});p&&s!==!1?i.startTransition(()=>C()):C()};return i.createElement("form",{ref:v,method:w,action:j,onSubmit:r?d:_,...x,"data-discover":!b&&t==="render"?"true":void 0})});Xu.displayName="Form";function Zu(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yi(t){let n=i.useContext(Qt);return _e(n,Zu(t)),n}function Ju(t,{target:n,replace:s,state:r,preventScrollReset:a,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let m=At(),h=Qe(),u=gn(t,{relative:o});return i.useCallback(f=>{if(Eu(f,n)){f.preventDefault();let x=s!==void 0?s:cn(h)===cn(u),v=()=>m(t,{replace:x,state:r,preventScrollReset:a,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:c});d?i.startTransition(()=>v()):v()}},[h,m,u,s,r,n,t,a,o,l,c,d])}function is(t){Ze(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=i.useRef(tr(t)),s=i.useRef(!1),r=Qe(),a=i.useMemo(()=>Ru(r.search,s.current?null:n.current),[r.search]),o=At(),l=i.useCallback((c,d)=>{const m=tr(typeof c=="function"?c(new URLSearchParams(a)):c);s.current=!0,o("?"+m,d)},[o,a]);return[a,l]}var Qu=0,em=()=>`__${String(++Qu)}__`;function tm(){let{router:t}=yi("useSubmit"),{basename:n}=i.useContext(Ye),s=xu(),r=t.fetch,a=t.navigate;return i.useCallback(async(o,l={})=>{let{action:c,method:d,encType:m,formData:h,body:u}=Tu(o,n);if(l.navigate===!1){let f=l.fetcherKey||em();await r(f,s,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:h,body:u,formMethod:l.method||d,formEncType:l.encType||m,flushSync:l.flushSync})}else await a(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:h,body:u,formMethod:l.method||d,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:s,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,a,n,s])}function nm(t,{relative:n}={}){let{basename:s}=i.useContext(Ye),r=i.useContext(ot);_e(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...gn(t||".",{relative:n})},l=Qe();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(h=>h==="")){c.delete("index"),d.filter(u=>u).forEach(u=>c.append("index",u));let h=c.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(o.pathname=o.pathname==="/"?s:jt([s,o.pathname])),cn(o)}function sm(t,{relative:n}={}){let s=i.useContext(di);_e(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yi("useViewTransitionState"),a=gn(t,{relative:n});if(!s.isTransitioning)return!1;let o=yt(s.currentLocation.pathname,r)||s.currentLocation.pathname,l=yt(s.nextLocation.pathname,r)||s.nextLocation.pathname;return qn(a.pathname,l)!=null||qn(a.pathname,o)!=null}const wi=i.createContext(null),bi="pzl-theme",ha=["light","dark","system"];function _i(){if(typeof window>"u")return"system";try{const n=localStorage.getItem(bi);if(n&&ha.includes(n))return n}catch{}const t=document.documentElement.getAttribute("data-theme");return t&&ha.includes(t)?t:"system"}function rm(){return typeof document>"u"?"system":document.documentElement.getAttribute("data-theme")||_i()}function zs(){const t=rm();return t==="dark"?"dark":t==="light"?"light":typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function am({children:t}){const[n,s]=i.useState(_i),[r,a]=i.useState(zs);i.useEffect(()=>{const c=document.documentElement;c.setAttribute("data-theme",n);const d=zs();a(d),d==="dark"?c.classList.add("dark"):c.classList.remove("dark");try{localStorage.setItem(bi,n)}catch{}},[n]),i.useEffect(()=>{const c=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>{n==="system"&&a(zs())};return c.addEventListener("change",d),()=>c.removeEventListener("change",d)},[n]);const o=i.useCallback(c=>{s(c)},[]),l=i.useMemo(()=>({theme:n,setTheme:o,resolved:r}),[n,o,r]);return e.jsx(wi.Provider,{value:l,children:t})}function im(){const t=i.useContext(wi);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}function om(t,n=globalThis?.document){const s=Ae(t);i.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return n.addEventListener("keydown",r,{capture:!0}),()=>n.removeEventListener("keydown",r,{capture:!0})},[s,n])}var lm="DismissableLayer",nr="dismissableLayer.update",cm="dismissableLayer.pointerDownOutside",dm="dismissableLayer.focusOutside",fa,Ni=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),os=i.forwardRef((t,n)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=t,m=i.useContext(Ni),[h,u]=i.useState(null),f=h?.ownerDocument??globalThis?.document,[,x]=i.useState({}),v=je(n,N=>u(N)),p=Array.from(m.layers),[g]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),j=p.indexOf(g),w=h?p.indexOf(h):-1,b=m.layersWithOutsidePointerEventsDisabled.size>0,_=w>=j,S=hm(N=>{const C=N.target,L=[...m.branches].some(k=>k.contains(C));!_||L||(a?.(N),l?.(N),N.defaultPrevented||c?.())},f),I=fm(N=>{const C=N.target;[...m.branches].some(k=>k.contains(C))||(o?.(N),l?.(N),N.defaultPrevented||c?.())},f);return om(N=>{w===m.layers.size-1&&(r?.(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},f),i.useEffect(()=>{if(h)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(fa=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),pa(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=fa)}},[h,f,s,m]),i.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),pa())},[h,m]),i.useEffect(()=>{const N=()=>x({});return document.addEventListener(nr,N),()=>document.removeEventListener(nr,N)},[]),e.jsx(fe.div,{...d,ref:v,style:{pointerEvents:b?_?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,I.onFocusCapture),onBlurCapture:se(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,S.onPointerDownCapture)})});os.displayName=lm;var um="DismissableLayerBranch",mm=i.forwardRef((t,n)=>{const s=i.useContext(Ni),r=i.useRef(null),a=je(n,r);return i.useEffect(()=>{const o=r.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),e.jsx(fe.div,{...t,ref:a})});mm.displayName=um;function hm(t,n=globalThis?.document){const s=Ae(t),r=i.useRef(!1),a=i.useRef(()=>{});return i.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let d=function(){Si(cm,s,m,{discrete:!0})};const m={originalEvent:c};c.pointerType==="touch"?(n.removeEventListener("click",a.current),a.current=d,n.addEventListener("click",a.current,{once:!0})):d()}else n.removeEventListener("click",a.current);r.current=!1},l=window.setTimeout(()=>{n.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),n.removeEventListener("pointerdown",o),n.removeEventListener("click",a.current)}},[n,s]),{onPointerDownCapture:()=>r.current=!0}}function fm(t,n=globalThis?.document){const s=Ae(t),r=i.useRef(!1);return i.useEffect(()=>{const a=o=>{o.target&&!r.current&&Si(dm,s,{originalEvent:o},{discrete:!1})};return n.addEventListener("focusin",a),()=>n.removeEventListener("focusin",a)},[n,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pa(){const t=new CustomEvent(nr);document.dispatchEvent(t)}function Si(t,n,s,{discrete:r}){const a=s.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});n&&a.addEventListener(t,n,{once:!0}),r?Za(a,o):a.dispatchEvent(o)}var Fs="focusScope.autoFocusOnMount",$s="focusScope.autoFocusOnUnmount",xa={bubbles:!1,cancelable:!0},pm="FocusScope",ls=i.forwardRef((t,n)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...l}=t,[c,d]=i.useState(null),m=Ae(a),h=Ae(o),u=i.useRef(null),f=je(n,p=>d(p)),x=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(r){let p=function(b){if(x.paused||!c)return;const _=b.target;c.contains(_)?u.current=_:Nt(u.current,{select:!0})},g=function(b){if(x.paused||!c)return;const _=b.relatedTarget;_!==null&&(c.contains(_)||Nt(u.current,{select:!0}))},j=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&Nt(c)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const w=new MutationObserver(j);return c&&w.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),w.disconnect()}}},[r,c,x.paused]),i.useEffect(()=>{if(c){va.add(x);const p=document.activeElement;if(!c.contains(p)){const j=new CustomEvent(Fs,xa);c.addEventListener(Fs,m),c.dispatchEvent(j),j.defaultPrevented||(xm(wm(Ci(c)),{select:!0}),document.activeElement===p&&Nt(c))}return()=>{c.removeEventListener(Fs,m),setTimeout(()=>{const j=new CustomEvent($s,xa);c.addEventListener($s,h),c.dispatchEvent(j),j.defaultPrevented||Nt(p??document.body,{select:!0}),c.removeEventListener($s,h),va.remove(x)},0)}}},[c,m,h,x]);const v=i.useCallback(p=>{if(!s&&!r||x.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,j=document.activeElement;if(g&&j){const w=p.currentTarget,[b,_]=gm(w);b&&_?!p.shiftKey&&j===_?(p.preventDefault(),s&&Nt(b,{select:!0})):p.shiftKey&&j===b&&(p.preventDefault(),s&&Nt(_,{select:!0})):j===w&&p.preventDefault()}},[s,r,x.paused]);return e.jsx(fe.div,{tabIndex:-1,...l,ref:f,onKeyDown:v})});ls.displayName=pm;function xm(t,{select:n=!1}={}){const s=document.activeElement;for(const r of t)if(Nt(r,{select:n}),document.activeElement!==s)return}function gm(t){const n=Ci(t),s=ga(n,t),r=ga(n.reverse(),t);return[s,r]}function Ci(t){const n=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)n.push(s.currentNode);return n}function ga(t,n){for(const s of t)if(!vm(s,{upTo:n}))return s}function vm(t,{upTo:n}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n!==void 0&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function jm(t){return t instanceof HTMLInputElement&&"select"in t}function Nt(t,{select:n=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&jm(t)&&n&&t.select()}}var va=ym();function ym(){let t=[];return{add(n){const s=t[0];n!==s&&s?.pause(),t=ja(t,n),t.unshift(n)},remove(n){t=ja(t,n),t[0]?.resume()}}}function ja(t,n){const s=[...t],r=s.indexOf(n);return r!==-1&&s.splice(r,1),s}function wm(t){return t.filter(n=>n.tagName!=="A")}var bm="Portal",cs=i.forwardRef((t,n)=>{const{container:s,...r}=t,[a,o]=i.useState(!1);Ie(()=>o(!0),[]);const l=s||a&&globalThis?.document?.body;return l?fd.createPortal(e.jsx(fe.div,{...r,ref:n}),l):null});cs.displayName=bm;var Bs=0;function Sr(){i.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ya()),document.body.insertAdjacentElement("beforeend",t[1]??ya()),Bs++,()=>{Bs===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Bs--}},[])}function ya(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ct=function(){return ct=Object.assign||function(n){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},ct.apply(this,arguments)};function ki(t,n){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(s[r[a]]=t[r[a]]);return s}function _m(t,n,s){if(s||arguments.length===2)for(var r=0,a=n.length,o;r<a;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return t.concat(o||Array.prototype.slice.call(n))}var Fn="right-scroll-bar-position",$n="width-before-scroll-bar",Nm="with-scroll-bars-hidden",Sm="--removed-body-scroll-bar-size";function Vs(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function Cm(t,n){var s=i.useState(function(){return{value:t,callback:n,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=n,s.facade}var km=typeof window<"u"?i.useLayoutEffect:i.useEffect,wa=new WeakMap;function Em(t,n){var s=Cm(null,function(r){return t.forEach(function(a){return Vs(a,r)})});return km(function(){var r=wa.get(s);if(r){var a=new Set(r),o=new Set(t),l=s.current;a.forEach(function(c){o.has(c)||Vs(c,null)}),o.forEach(function(c){a.has(c)||Vs(c,l)})}wa.set(s,t)},[t]),s}function Rm(t){return t}function Pm(t,n){n===void 0&&(n=Rm);var s=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(o){var l=n(o,r);return s.push(l),function(){s=s.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;s.length;){var l=s;s=[],l.forEach(o)}s={push:function(c){return o(c)},filter:function(){return s}}},assignMedium:function(o){r=!0;var l=[];if(s.length){var c=s;s=[],c.forEach(o),l=s}var d=function(){var h=l;l=[],h.forEach(o)},m=function(){return Promise.resolve().then(d)};m(),s={push:function(h){l.push(h),m()},filter:function(h){return l=l.filter(h),s}}}};return a}function Am(t){t===void 0&&(t={});var n=Pm(null);return n.options=ct({async:!0,ssr:!1},t),n}var Ei=function(t){var n=t.sideCar,s=ki(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return i.createElement(r,ct({},s))};Ei.isSideCarExport=!0;function Tm(t,n){return t.useMedium(n),Ei}var Ri=Am(),Hs=function(){},ds=i.forwardRef(function(t,n){var s=i.useRef(null),r=i.useState({onScrollCapture:Hs,onWheelCapture:Hs,onTouchMoveCapture:Hs}),a=r[0],o=r[1],l=t.forwardProps,c=t.children,d=t.className,m=t.removeScrollBar,h=t.enabled,u=t.shards,f=t.sideCar,x=t.noRelative,v=t.noIsolation,p=t.inert,g=t.allowPinchZoom,j=t.as,w=j===void 0?"div":j,b=t.gapMode,_=ki(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,I=Em([s,n]),N=ct(ct({},_),a);return i.createElement(i.Fragment,null,h&&i.createElement(S,{sideCar:Ri,removeScrollBar:m,shards:u,noRelative:x,noIsolation:v,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:s,gapMode:b}),l?i.cloneElement(i.Children.only(c),ct(ct({},N),{ref:I})):i.createElement(w,ct({},N,{className:d,ref:I}),c))});ds.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ds.classNames={fullWidth:$n,zeroRight:Fn};var Dm=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Mm(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=Dm();return n&&t.setAttribute("nonce",n),t}function Im(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function Om(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var Lm=function(){var t=0,n=null;return{add:function(s){t==0&&(n=Mm())&&(Im(n,s),Om(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},zm=function(){var t=Lm();return function(n,s){i.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&s])}},Pi=function(){var t=zm(),n=function(s){var r=s.styles,a=s.dynamic;return t(r,a),null};return n},Fm={left:0,top:0,right:0,gap:0},Ws=function(t){return parseInt(t||"",10)||0},$m=function(t){var n=window.getComputedStyle(document.body),s=n[t==="padding"?"paddingLeft":"marginLeft"],r=n[t==="padding"?"paddingTop":"marginTop"],a=n[t==="padding"?"paddingRight":"marginRight"];return[Ws(s),Ws(r),Ws(a)]},Bm=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Fm;var n=$m(t),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-s+n[2]-n[0])}},Vm=Pi(),Ut="data-scroll-locked",Hm=function(t,n,s,r){var a=t.left,o=t.top,l=t.right,c=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(Nm,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Ut,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fn,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat($n,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Fn," .").concat(Fn,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($n," .").concat($n,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ut,`] {
    `).concat(Sm,": ").concat(c,`px;
  }
`)},ba=function(){var t=parseInt(document.body.getAttribute(Ut)||"0",10);return isFinite(t)?t:0},Wm=function(){i.useEffect(function(){return document.body.setAttribute(Ut,(ba()+1).toString()),function(){var t=ba()-1;t<=0?document.body.removeAttribute(Ut):document.body.setAttribute(Ut,t.toString())}},[])},Um=function(t){var n=t.noRelative,s=t.noImportant,r=t.gapMode,a=r===void 0?"margin":r;Wm();var o=i.useMemo(function(){return Bm(a)},[a]);return i.createElement(Vm,{styles:Hm(o,!n,a,s?"":"!important")})},sr=!1;if(typeof window<"u")try{var Tn=Object.defineProperty({},"passive",{get:function(){return sr=!0,!0}});window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{sr=!1}var Vt=sr?{passive:!1}:!1,qm=function(t){return t.tagName==="TEXTAREA"},Ai=function(t,n){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[n]!=="hidden"&&!(s.overflowY===s.overflowX&&!qm(t)&&s[n]==="visible")},Km=function(t){return Ai(t,"overflowY")},Gm=function(t){return Ai(t,"overflowX")},_a=function(t,n){var s=n.ownerDocument,r=n;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=Ti(t,r);if(a){var o=Di(t,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},Ym=function(t){var n=t.scrollTop,s=t.scrollHeight,r=t.clientHeight;return[n,s,r]},Xm=function(t){var n=t.scrollLeft,s=t.scrollWidth,r=t.clientWidth;return[n,s,r]},Ti=function(t,n){return t==="v"?Km(n):Gm(n)},Di=function(t,n){return t==="v"?Ym(n):Xm(n)},Zm=function(t,n){return t==="h"&&n==="rtl"?-1:1},Jm=function(t,n,s,r,a){var o=Zm(t,window.getComputedStyle(n).direction),l=o*r,c=s.target,d=n.contains(c),m=!1,h=l>0,u=0,f=0;do{if(!c)break;var x=Di(t,c),v=x[0],p=x[1],g=x[2],j=p-g-o*v;(v||j)&&Ti(t,c)&&(u+=j,f+=v);var w=c.parentNode;c=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!d&&c!==document.body||d&&(n.contains(c)||n===c));return(h&&Math.abs(u)<1||!h&&Math.abs(f)<1)&&(m=!0),m},Dn=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Na=function(t){return[t.deltaX,t.deltaY]},Sa=function(t){return t&&"current"in t?t.current:t},Qm=function(t,n){return t[0]===n[0]&&t[1]===n[1]},eh=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},th=0,Ht=[];function nh(t){var n=i.useRef([]),s=i.useRef([0,0]),r=i.useRef(),a=i.useState(th++)[0],o=i.useState(Pi)[0],l=i.useRef(t);i.useEffect(function(){l.current=t},[t]),i.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var p=_m([t.lockRef.current],(t.shards||[]).map(Sa),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var c=i.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!l.current.allowPinchZoom;var j=Dn(p),w=s.current,b="deltaX"in p?p.deltaX:w[0]-j[0],_="deltaY"in p?p.deltaY:w[1]-j[1],S,I=p.target,N=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&N==="h"&&I.type==="range")return!1;var C=window.getSelection(),L=C&&C.anchorNode,k=L?L===I||L.contains(I):!1;if(k)return!1;var P=_a(N,I);if(!P)return!0;if(P?S=N:(S=N==="v"?"h":"v",P=_a(N,I)),!P)return!1;if(!r.current&&"changedTouches"in p&&(b||_)&&(r.current=S),!S)return!0;var z=r.current||S;return Jm(z,g,p,z==="h"?b:_)},[]),d=i.useCallback(function(p){var g=p;if(!(!Ht.length||Ht[Ht.length-1]!==o)){var j="deltaY"in g?Na(g):Dn(g),w=n.current.filter(function(S){return S.name===g.type&&(S.target===g.target||g.target===S.shadowParent)&&Qm(S.delta,j)})[0];if(w&&w.should){g.cancelable&&g.preventDefault();return}if(!w){var b=(l.current.shards||[]).map(Sa).filter(Boolean).filter(function(S){return S.contains(g.target)}),_=b.length>0?c(g,b[0]):!l.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),m=i.useCallback(function(p,g,j,w){var b={name:p,delta:g,target:j,should:w,shadowParent:sh(j)};n.current.push(b),setTimeout(function(){n.current=n.current.filter(function(_){return _!==b})},1)},[]),h=i.useCallback(function(p){s.current=Dn(p),r.current=void 0},[]),u=i.useCallback(function(p){m(p.type,Na(p),p.target,c(p,t.lockRef.current))},[]),f=i.useCallback(function(p){m(p.type,Dn(p),p.target,c(p,t.lockRef.current))},[]);i.useEffect(function(){return Ht.push(o),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",d,Vt),document.addEventListener("touchmove",d,Vt),document.addEventListener("touchstart",h,Vt),function(){Ht=Ht.filter(function(p){return p!==o}),document.removeEventListener("wheel",d,Vt),document.removeEventListener("touchmove",d,Vt),document.removeEventListener("touchstart",h,Vt)}},[]);var x=t.removeScrollBar,v=t.inert;return i.createElement(i.Fragment,null,v?i.createElement(o,{styles:eh(a)}):null,x?i.createElement(Um,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function sh(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const rh=Tm(Ri,nh);var us=i.forwardRef(function(t,n){return i.createElement(ds,ct({},t,{ref:n,sideCar:rh}))});us.classNames=ds.classNames;var ah=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},Wt=new WeakMap,Mn=new WeakMap,In={},Us=0,Mi=function(t){return t&&(t.host||Mi(t.parentNode))},ih=function(t,n){return n.map(function(s){if(t.contains(s))return s;var r=Mi(s);return r&&t.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},oh=function(t,n,s,r){var a=ih(n,Array.isArray(t)?t:[t]);In[s]||(In[s]=new WeakMap);var o=In[s],l=[],c=new Set,d=new Set(a),m=function(u){!u||c.has(u)||(c.add(u),m(u.parentNode))};a.forEach(m);var h=function(u){!u||d.has(u)||Array.prototype.forEach.call(u.children,function(f){if(c.has(f))h(f);else try{var x=f.getAttribute(r),v=x!==null&&x!=="false",p=(Wt.get(f)||0)+1,g=(o.get(f)||0)+1;Wt.set(f,p),o.set(f,g),l.push(f),p===1&&v&&Mn.set(f,!0),g===1&&f.setAttribute(s,"true"),v||f.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",f,j)}})};return h(n),c.clear(),Us++,function(){l.forEach(function(u){var f=Wt.get(u)-1,x=o.get(u)-1;Wt.set(u,f),o.set(u,x),f||(Mn.has(u)||u.removeAttribute(r),Mn.delete(u)),x||u.removeAttribute(s)}),Us--,Us||(Wt=new WeakMap,Wt=new WeakMap,Mn=new WeakMap,In={})}},Cr=function(t,n,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),a=ah(t);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),oh(r,a,s,"aria-hidden")):function(){return null}};function lh(t){const n=ch(t),s=i.forwardRef((r,a)=>{const{children:o,...l}=r,c=i.Children.toArray(o),d=c.find(uh);if(d){const m=d.props.children,h=c.map(u=>u===d?i.Children.count(m)>1?i.Children.only(null):i.isValidElement(m)?m.props.children:null:u);return e.jsx(n,{...l,ref:a,children:i.isValidElement(m)?i.cloneElement(m,void 0,h):null})}return e.jsx(n,{...l,ref:a,children:o})});return s.displayName=`${t}.Slot`,s}function ch(t){const n=i.forwardRef((s,r)=>{const{children:a,...o}=s;if(i.isValidElement(a)){const l=hh(a),c=mh(o,a.props);return a.type!==i.Fragment&&(c.ref=r?pn(r,l):l),i.cloneElement(a,c)}return i.Children.count(a)>1?i.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var dh=Symbol("radix.slottable");function uh(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dh}function mh(t,n){const s={...n};for(const r in n){const a=t[r],o=n[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...c)=>{const d=o(...c);return a(...c),d}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...t,...s}}function hh(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var ms="Dialog",[Ii,Oi]=Ft(ms),[fh,lt]=Ii(ms),Li=t=>{const{__scopeDialog:n,children:s,open:r,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=i.useRef(null),d=i.useRef(null),[m,h]=Un({prop:r,defaultProp:a??!1,onChange:o,caller:ms});return e.jsx(fh,{scope:n,triggerRef:c,contentRef:d,contentId:Ct(),titleId:Ct(),descriptionId:Ct(),open:m,onOpenChange:h,onOpenToggle:i.useCallback(()=>h(u=>!u),[h]),modal:l,children:s})};Li.displayName=ms;var zi="DialogTrigger",Fi=i.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=lt(zi,s),o=je(n,a.triggerRef);return e.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Rr(a.open),...r,ref:o,onClick:se(t.onClick,a.onOpenToggle)})});Fi.displayName=zi;var kr="DialogPortal",[ph,$i]=Ii(kr,{forceMount:void 0}),Bi=t=>{const{__scopeDialog:n,forceMount:s,children:r,container:a}=t,o=lt(kr,n);return e.jsx(ph,{scope:n,forceMount:s,children:i.Children.map(r,l=>e.jsx(it,{present:s||o.open,children:e.jsx(cs,{asChild:!0,container:a,children:l})}))})};Bi.displayName=kr;var Kn="DialogOverlay",Vi=i.forwardRef((t,n)=>{const s=$i(Kn,t.__scopeDialog),{forceMount:r=s.forceMount,...a}=t,o=lt(Kn,t.__scopeDialog);return o.modal?e.jsx(it,{present:r||o.open,children:e.jsx(gh,{...a,ref:n})}):null});Vi.displayName=Kn;var xh=lh("DialogOverlay.RemoveScroll"),gh=i.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=lt(Kn,s);return e.jsx(us,{as:xh,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(fe.div,{"data-state":Rr(a.open),...r,ref:n,style:{pointerEvents:"auto",...r.style}})})}),It="DialogContent",Hi=i.forwardRef((t,n)=>{const s=$i(It,t.__scopeDialog),{forceMount:r=s.forceMount,...a}=t,o=lt(It,t.__scopeDialog);return e.jsx(it,{present:r||o.open,children:o.modal?e.jsx(vh,{...a,ref:n}):e.jsx(jh,{...a,ref:n})})});Hi.displayName=It;var vh=i.forwardRef((t,n)=>{const s=lt(It,t.__scopeDialog),r=i.useRef(null),a=je(n,s.contentRef,r);return i.useEffect(()=>{const o=r.current;if(o)return Cr(o)},[]),e.jsx(Wi,{...t,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,o=>{o.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:se(t.onFocusOutside,o=>o.preventDefault())})}),jh=i.forwardRef((t,n)=>{const s=lt(It,t.__scopeDialog),r=i.useRef(!1),a=i.useRef(!1);return e.jsx(Wi,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||s.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;s.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Wi=i.forwardRef((t,n)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...l}=t,c=lt(It,s),d=i.useRef(null),m=je(n,d);return Sr(),e.jsxs(e.Fragment,{children:[e.jsx(ls,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:e.jsx(os,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Rr(c.open),...l,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(wh,{titleId:c.titleId}),e.jsx(_h,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Er="DialogTitle",Ui=i.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=lt(Er,s);return e.jsx(fe.h2,{id:a.titleId,...r,ref:n})});Ui.displayName=Er;var qi="DialogDescription",Ki=i.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=lt(qi,s);return e.jsx(fe.p,{id:a.descriptionId,...r,ref:n})});Ki.displayName=qi;var Gi="DialogClose",Yi=i.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=lt(Gi,s);return e.jsx(fe.button,{type:"button",...r,ref:n,onClick:se(t.onClick,()=>a.onOpenChange(!1))})});Yi.displayName=Gi;function Rr(t){return t?"open":"closed"}var Xi="DialogTitleWarning",[yh,Zi]=pd(Xi,{contentName:It,titleName:Er,docsSlug:"dialog"}),wh=({titleId:t})=>{const n=Zi(Xi),s=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return i.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},bh="DialogDescriptionWarning",_h=({contentRef:t,descriptionId:n})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Zi(bh).contentName}}.`;return i.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");n&&a&&(document.getElementById(n)||console.warn(r))},[r,t,n]),null},Pr=Li,Ji=Fi,Ar=Bi,vn=Vi,jn=Hi,yn=Ui,wn=Ki,Tr=Yi;const Nh=Pr,Sh=Ji,Ch=Ar,Qi=i.forwardRef(({className:t,...n},s)=>e.jsx(vn,{className:V("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n,ref:s}));Qi.displayName=vn.displayName;const kh=Ja("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),eo=i.forwardRef(({side:t="right",className:n,children:s,...r},a)=>e.jsxs(Ch,{children:[e.jsx(Qi,{}),e.jsx(jn,{ref:a,className:V(kh({side:t}),n),...r,children:s})]}));eo.displayName=jn.displayName;const Eh=i.forwardRef(({className:t,...n},s)=>e.jsx(yn,{ref:s,className:V("text-lg font-semibold text-foreground",t),...n}));Eh.displayName=yn.displayName;const Rh=i.forwardRef(({className:t,...n},s)=>e.jsx(wn,{ref:s,className:V("text-sm text-muted-foreground",t),...n}));Rh.displayName=wn.displayName;function rr(t,[n,s]){return Math.min(s,Math.max(n,t))}function Ph(t,n){return i.useReducer((s,r)=>n[s][r]??s,t)}var Dr="ScrollArea",[to]=Ft(Dr),[Ah,et]=to(Dr),no=i.forwardRef((t,n)=>{const{__scopeScrollArea:s,type:r="hover",dir:a,scrollHideDelay:o=600,...l}=t,[c,d]=i.useState(null),[m,h]=i.useState(null),[u,f]=i.useState(null),[x,v]=i.useState(null),[p,g]=i.useState(null),[j,w]=i.useState(0),[b,_]=i.useState(0),[S,I]=i.useState(!1),[N,C]=i.useState(!1),L=je(n,P=>d(P)),k=xr(a);return e.jsx(Ah,{scope:s,type:r,dir:k,scrollHideDelay:o,scrollArea:c,viewport:m,onViewportChange:h,content:u,onContentChange:f,scrollbarX:x,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:I,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:N,onScrollbarYEnabledChange:C,onCornerWidthChange:w,onCornerHeightChange:_,children:e.jsx(fe.div,{dir:k,...l,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});no.displayName=Dr;var so="ScrollAreaViewport",ro=i.forwardRef((t,n)=>{const{__scopeScrollArea:s,children:r,nonce:a,...o}=t,l=et(so,s),c=i.useRef(null),d=je(n,c,l.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(fe.div,{"data-radix-scroll-area-viewport":"",...o,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});ro.displayName=so;var pt="ScrollAreaScrollbar",Mr=i.forwardRef((t,n)=>{const{forceMount:s,...r}=t,a=et(pt,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=a,c=t.orientation==="horizontal";return i.useEffect(()=>(c?o(!0):l(!0),()=>{c?o(!1):l(!1)}),[c,o,l]),a.type==="hover"?e.jsx(Th,{...r,ref:n,forceMount:s}):a.type==="scroll"?e.jsx(Dh,{...r,ref:n,forceMount:s}):a.type==="auto"?e.jsx(ao,{...r,ref:n,forceMount:s}):a.type==="always"?e.jsx(Ir,{...r,ref:n}):null});Mr.displayName=pt;var Th=i.forwardRef((t,n)=>{const{forceMount:s,...r}=t,a=et(pt,t.__scopeScrollArea),[o,l]=i.useState(!1);return i.useEffect(()=>{const c=a.scrollArea;let d=0;if(c){const m=()=>{window.clearTimeout(d),l(!0)},h=()=>{d=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",m),c.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",m),c.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(it,{present:s||o,children:e.jsx(ao,{"data-state":o?"visible":"hidden",...r,ref:n})})}),Dh=i.forwardRef((t,n)=>{const{forceMount:s,...r}=t,a=et(pt,t.__scopeScrollArea),o=t.orientation==="horizontal",l=fs(()=>d("SCROLL_END"),100),[c,d]=Ph("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return i.useEffect(()=>{if(c==="idle"){const m=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(m)}},[c,a.scrollHideDelay,d]),i.useEffect(()=>{const m=a.viewport,h=o?"scrollLeft":"scrollTop";if(m){let u=m[h];const f=()=>{const x=m[h];u!==x&&(d("SCROLL"),l()),u=x};return m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[a.viewport,o,d,l]),e.jsx(it,{present:s||c!=="hidden",children:e.jsx(Ir,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:n,onPointerEnter:se(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:se(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),ao=i.forwardRef((t,n)=>{const s=et(pt,t.__scopeScrollArea),{forceMount:r,...a}=t,[o,l]=i.useState(!1),c=t.orientation==="horizontal",d=fs(()=>{if(s.viewport){const m=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;l(c?m:h)}},10);return Xt(s.viewport,d),Xt(s.content,d),e.jsx(it,{present:r||o,children:e.jsx(Ir,{"data-state":o?"visible":"hidden",...a,ref:n})})}),Ir=i.forwardRef((t,n)=>{const{orientation:s="vertical",...r}=t,a=et(pt,t.__scopeScrollArea),o=i.useRef(null),l=i.useRef(0),[c,d]=i.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=uo(c.viewport,c.content),h={...r,sizes:c,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:f=>l.current=f};function u(f,x){return Fh(f,l.current,c,x)}return s==="horizontal"?e.jsx(Mh,{...h,ref:n,onThumbPositionChange:()=>{if(a.viewport&&o.current){const f=a.viewport.scrollLeft,x=Ca(f,c,a.dir);o.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=u(f,a.dir))}}):s==="vertical"?e.jsx(Ih,{...h,ref:n,onThumbPositionChange:()=>{if(a.viewport&&o.current){const f=a.viewport.scrollTop,x=Ca(f,c);o.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=u(f))}}):null}),Mh=i.forwardRef((t,n)=>{const{sizes:s,onSizesChange:r,...a}=t,o=et(pt,t.__scopeScrollArea),[l,c]=i.useState(),d=i.useRef(null),m=je(n,d,o.onScrollbarXChange);return i.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),e.jsx(oo,{"data-orientation":"horizontal",...a,ref:m,sizes:s,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":hs(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,u)=>{if(o.viewport){const f=o.viewport.scrollLeft+h.deltaX;t.onWheelScroll(f),ho(f,u)&&h.preventDefault()}},onResize:()=>{d.current&&o.viewport&&l&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Yn(l.paddingLeft),paddingEnd:Yn(l.paddingRight)}})}})}),Ih=i.forwardRef((t,n)=>{const{sizes:s,onSizesChange:r,...a}=t,o=et(pt,t.__scopeScrollArea),[l,c]=i.useState(),d=i.useRef(null),m=je(n,d,o.onScrollbarYChange);return i.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),e.jsx(oo,{"data-orientation":"vertical",...a,ref:m,sizes:s,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":hs(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,u)=>{if(o.viewport){const f=o.viewport.scrollTop+h.deltaY;t.onWheelScroll(f),ho(f,u)&&h.preventDefault()}},onResize:()=>{d.current&&o.viewport&&l&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Yn(l.paddingTop),paddingEnd:Yn(l.paddingBottom)}})}})}),[Oh,io]=to(pt),oo=i.forwardRef((t,n)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:h,onResize:u,...f}=t,x=et(pt,s),[v,p]=i.useState(null),g=je(n,L=>p(L)),j=i.useRef(null),w=i.useRef(""),b=x.viewport,_=r.content-r.viewport,S=Ae(h),I=Ae(d),N=fs(u,10);function C(L){if(j.current){const k=L.clientX-j.current.left,P=L.clientY-j.current.top;m({x:k,y:P})}}return i.useEffect(()=>{const L=k=>{const P=k.target;v?.contains(P)&&S(k,_)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[b,v,_,S]),i.useEffect(I,[r,I]),Xt(v,N),Xt(x.content,N),e.jsx(Oh,{scope:s,scrollbar:v,hasThumb:a,onThumbChange:Ae(o),onThumbPointerUp:Ae(l),onThumbPositionChange:I,onThumbPointerDown:Ae(c),children:e.jsx(fe.div,{...f,ref:g,style:{position:"absolute",...f.style},onPointerDown:se(t.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),j.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),C(L))}),onPointerMove:se(t.onPointerMove,C),onPointerUp:se(t.onPointerUp,L=>{const k=L.target;k.hasPointerCapture(L.pointerId)&&k.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=w.current,x.viewport&&(x.viewport.style.scrollBehavior=""),j.current=null})})})}),Gn="ScrollAreaThumb",lo=i.forwardRef((t,n)=>{const{forceMount:s,...r}=t,a=io(Gn,t.__scopeScrollArea);return e.jsx(it,{present:s||a.hasThumb,children:e.jsx(Lh,{ref:n,...r})})}),Lh=i.forwardRef((t,n)=>{const{__scopeScrollArea:s,style:r,...a}=t,o=et(Gn,s),l=io(Gn,s),{onThumbPositionChange:c}=l,d=je(n,u=>l.onThumbChange(u)),m=i.useRef(void 0),h=fs(()=>{m.current&&(m.current(),m.current=void 0)},100);return i.useEffect(()=>{const u=o.viewport;if(u){const f=()=>{if(h(),!m.current){const x=$h(u,c);m.current=x,c()}};return c(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[o.viewport,h,c]),e.jsx(fe.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:se(t.onPointerDownCapture,u=>{const x=u.target.getBoundingClientRect(),v=u.clientX-x.left,p=u.clientY-x.top;l.onThumbPointerDown({x:v,y:p})}),onPointerUp:se(t.onPointerUp,l.onThumbPointerUp)})});lo.displayName=Gn;var Or="ScrollAreaCorner",co=i.forwardRef((t,n)=>{const s=et(Or,t.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?e.jsx(zh,{...t,ref:n}):null});co.displayName=Or;var zh=i.forwardRef((t,n)=>{const{__scopeScrollArea:s,...r}=t,a=et(Or,s),[o,l]=i.useState(0),[c,d]=i.useState(0),m=!!(o&&c);return Xt(a.scrollbarX,()=>{const h=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(h),d(h)}),Xt(a.scrollbarY,()=>{const h=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(h),l(h)}),m?e.jsx(fe.div,{...r,ref:n,style:{width:o,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Yn(t){return t?parseInt(t,10):0}function uo(t,n){const s=t/n;return isNaN(s)?0:s}function hs(t){const n=uo(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-s)*n;return Math.max(r,18)}function Fh(t,n,s,r="ltr"){const a=hs(s),o=a/2,l=n||o,c=a-l,d=s.scrollbar.paddingStart+l,m=s.scrollbar.size-s.scrollbar.paddingEnd-c,h=s.content-s.viewport,u=r==="ltr"?[0,h]:[h*-1,0];return mo([d,m],u)(t)}function Ca(t,n,s="ltr"){const r=hs(n),a=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,o=n.scrollbar.size-a,l=n.content-n.viewport,c=o-r,d=s==="ltr"?[0,l]:[l*-1,0],m=rr(t,d);return mo([0,l],[0,c])(m)}function mo(t,n){return s=>{if(t[0]===t[1]||n[0]===n[1])return n[0];const r=(n[1]-n[0])/(t[1]-t[0]);return n[0]+r*(s-t[0])}}function ho(t,n){return t>0&&t<n}var $h=(t,n=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},r=0;return(function a(){const o={left:t.scrollLeft,top:t.scrollTop},l=s.left!==o.left,c=s.top!==o.top;(l||c)&&n(),s=o,r=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(r)};function fs(t,n){const s=Ae(t),r=i.useRef(0);return i.useEffect(()=>()=>window.clearTimeout(r.current),[]),i.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,n)},[s,n])}function Xt(t,n){const s=Ae(n);Ie(()=>{let r=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return a.observe(t),()=>{window.cancelAnimationFrame(r),a.unobserve(t)}}},[t,s])}var fo=no,Bh=ro,Vh=co;const po=i.forwardRef(({className:t,children:n,...s},r)=>e.jsxs(fo,{ref:r,className:V("relative overflow-hidden",t),...s,children:[e.jsx(Bh,{className:"h-full w-full rounded-[inherit]",children:n}),e.jsx(xo,{}),e.jsx(Vh,{})]}));po.displayName=fo.displayName;const xo=i.forwardRef(({className:t,orientation:n="vertical",...s},r)=>e.jsx(Mr,{ref:r,orientation:n,className:V("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:e.jsx(lo,{className:"relative flex-1 rounded-full bg-border"})}));xo.displayName=Mr.displayName;const Hh=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const go=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const vo=ee("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);const Wh=ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const Uh=ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const dn=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const jo=ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const qh=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const yo=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Kh=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const wo=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Gh=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const un=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Yh=ee("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const bo=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Xh=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const _o=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Zh=ee("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const Jh=ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Qh=ee("FileStack",[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]]);const Lr=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const ef=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const tf=ee("FolderInput",[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]]);const st=ee("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const nf=ee("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const sf=ee("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const zr=ee("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);const rf=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const No=ee("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const af=ee("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const of=ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const lf=ee("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const cf=ee("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);const kt=ee("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const Et=ee("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const df=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const uf=ee("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);const So=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Co=ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const Fr=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const mf=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const hf=ee("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const ff=ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const tt=ee("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Be=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const pf=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const xf=ee("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const gf=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const ko=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const vf=ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const jf=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Eo=ee("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const yf=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const wf=ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const bf=ee("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const We=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const _f=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Nf=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Sf=ee("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const Cf=ee("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);const ps=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const xs=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const kf=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ef(){return typeof document>"u"?"rtl":document.documentElement.getAttribute("dir")==="ltr"?"ltr":"rtl"}const Rf={dashboard:of,projects:st,contracts:Lr,invoices:cf,tickets:zr,tasks:Eo,appointments:dn,leads:ps,licenses:No,customers:xs,staff:Cf,consultations:Co,reports:jo,logs:Qh,settings:ko,profile:Yt};function Pf(t){const n=t.url??"";try{const r=(n.startsWith("http")?new URL(n).pathname:n).replace(/^\/dashboard\/?/,"").replace(/^\//,"").trim()||"";return r!==""&&r!=="dashboard"?`/${r}`:t.id?t.id==="dashboard"?"/":`/${t.id}`:"/"}catch{return t.id?t.id==="dashboard"?"/":`/${t.id}`:"/"}}function Af({menuItems:t,logoUrl:n,siteName:s,className:r,mobileOpen:a,onMobileOpenChange:o,isRtl:l}){const c=Qe(),d=At(),m=c.pathname.replace(/^\/dashboard\/?/,"").replace(/^\//,"")||"dashboard",h=typeof l=="boolean"?l?"rtl":"ltr":Ef(),u=h==="rtl"?"text-right":"text-left",f=e.jsx("nav",{dir:h,className:V("flex flex-col gap-1 px-2 py-4",u),style:{textAlign:h==="rtl"?"right":"left"},children:t.map((x,v)=>{if(x.type==="category")return e.jsx("div",{dir:h,className:V("px-2 py-2 text-xs font-semibold text-muted-foreground",u),style:{textAlign:h==="rtl"?"right":"left"},children:x.title},`cat-${v}`);const p=Pf(x),g=x.id?m===x.id||m===""&&x.id==="dashboard":!1,j=()=>{o?.(!1),d(p)};return e.jsxs("button",{type:"button",onClick:j,dir:h,className:V("w-full cursor-pointer border-0 bg-transparent flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground","justify-start",u,g?"bg-accent text-accent-foreground":"text-muted-foreground"),style:{textAlign:h==="rtl"?"right":"left"},children:[(()=>{const w=x.id?Rf[x.id]:null;return w?e.jsx(w,{className:"h-5 w-5 shrink-0"}):null})(),e.jsx("span",{children:x.title})]},x.id??v)})});return e.jsxs(e.Fragment,{children:[e.jsxs("aside",{dir:h,className:V("hidden w-64 flex-col bg-card md:flex",h==="rtl"?"border-l text-right":"border-r text-left",r),style:h==="rtl"?{textAlign:"right"}:{textAlign:"left"},children:[e.jsx("div",{className:"flex h-14 items-center justify-start border-b px-4",children:e.jsx(De,{to:"/",className:V("flex items-center gap-2",h==="rtl"&&"flex-row-reverse"),children:n?e.jsx("img",{src:n,alt:s,className:"h-8 max-w-[140px] object-contain"}):e.jsx("span",{className:"font-semibold",children:s})})}),e.jsx(po,{className:"flex-1",children:f})]}),e.jsxs(Nh,{open:a,onOpenChange:o,children:[!o&&e.jsx(Sh,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"icon",className:"md:hidden",children:e.jsx(So,{className:"h-5 w-5"})})}),e.jsxs(eo,{side:h==="rtl"?"right":"left",className:"w-64 p-0",dir:h,children:[e.jsx("div",{className:V("flex h-14 items-center border-b px-4",h==="rtl"&&"justify-end"),children:e.jsx(De,{to:"/",className:V("flex items-center gap-2",h==="rtl"&&"flex-row-reverse"),onClick:()=>o?.(!1),children:n?e.jsx("img",{src:n,alt:s,className:"h-8 max-w-[140px] object-contain"}):e.jsx("span",{className:"font-semibold",children:s})})}),f]})]})]})}function Tf(t,n=[]){let s=[];function r(o,l){const c=i.createContext(l);c.displayName=o+"Context";const d=s.length;s=[...s,l];const m=u=>{const{scope:f,children:x,...v}=u,p=f?.[t]?.[d]||c,g=i.useMemo(()=>v,Object.values(v));return e.jsx(p.Provider,{value:g,children:x})};m.displayName=o+"Provider";function h(u,f){const x=f?.[t]?.[d]||c,v=i.useContext(x);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${o}\``)}return[m,h]}const a=()=>{const o=s.map(l=>i.createContext(l));return function(c){const d=c?.[t]||o;return i.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return a.scopeName=t,[r,Df(a,...n)]}function Df(...t){const n=t[0];if(t.length===1)return n;const s=()=>{const r=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const l=r.reduce((c,{useScope:d,scopeName:m})=>{const u=d(o)[`__scope${m}`];return{...c,...u}},{});return i.useMemo(()=>({[`__scope${n.scopeName}`]:l}),[l])}};return s.scopeName=n.scopeName,s}var Mf=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$r=Mf.reduce((t,n)=>{const s=xd(`Primitive.${n}`),r=i.forwardRef((a,o)=>{const{asChild:l,...c}=a,d=l?s:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...c,ref:o})});return r.displayName=`Primitive.${n}`,{...t,[n]:r}},{}),qs={exports:{}},Ks={};var ka;function If(){if(ka)return Ks;ka=1;var t=gd();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var s=typeof Object.is=="function"?Object.is:n,r=t.useState,a=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(u,f){var x=f(),v=r({inst:{value:x,getSnapshot:f}}),p=v[0].inst,g=v[1];return o(function(){p.value=x,p.getSnapshot=f,d(p)&&g({inst:p})},[u,x,f]),a(function(){return d(p)&&g({inst:p}),u(function(){d(p)&&g({inst:p})})},[u]),l(x),x}function d(u){var f=u.getSnapshot;u=u.value;try{var x=f();return!s(u,x)}catch{return!0}}function m(u,f){return f()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return Ks.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Ks}var Ea;function Of(){return Ea||(Ea=1,qs.exports=If()),qs.exports}var Lf=Of();function zf(){return Lf.useSyncExternalStore(Ff,()=>!0,()=>!1)}function Ff(){return()=>{}}var Br="Avatar",[$f]=Tf(Br),[Bf,Ro]=$f(Br),Po=i.forwardRef((t,n)=>{const{__scopeAvatar:s,...r}=t,[a,o]=i.useState("idle");return e.jsx(Bf,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:e.jsx($r.span,{...r,ref:n})})});Po.displayName=Br;var Ao="AvatarImage",To=i.forwardRef((t,n)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:a=()=>{},...o}=t,l=Ro(Ao,s),c=Vf(r,o),d=Ae(m=>{a(m),l.onImageLoadingStatusChange(m)});return Ie(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?e.jsx($r.img,{...o,ref:n,src:r}):null});To.displayName=Ao;var Do="AvatarFallback",Mo=i.forwardRef((t,n)=>{const{__scopeAvatar:s,delayMs:r,...a}=t,o=Ro(Do,s),[l,c]=i.useState(r===void 0);return i.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&o.imageLoadingStatus!=="loaded"?e.jsx($r.span,{...a,ref:n}):null});Mo.displayName=Do;function Ra(t,n){return t?n?(t.src!==n&&(t.src=n),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Vf(t,{referrerPolicy:n,crossOrigin:s}){const r=zf(),a=i.useRef(null),o=r?(a.current||(a.current=new window.Image),a.current):null,[l,c]=i.useState(()=>Ra(o,t));return Ie(()=>{c(Ra(o,t))},[o,t]),Ie(()=>{const d=u=>()=>{c(u)};if(!o)return;const m=d("loaded"),h=d("error");return o.addEventListener("load",m),o.addEventListener("error",h),n&&(o.referrerPolicy=n),typeof s=="string"&&(o.crossOrigin=s),()=>{o.removeEventListener("load",m),o.removeEventListener("error",h)}},[o,s,n]),l}var Io=Po,Oo=To,Lo=Mo;const bn=i.forwardRef(({className:t,...n},s)=>e.jsx(Io,{ref:s,className:V("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...n}));bn.displayName=Io.displayName;const _n=i.forwardRef(({className:t,...n},s)=>e.jsx(Oo,{ref:s,className:V("aspect-square h-full w-full",t),...n}));_n.displayName=Oo.displayName;const Nn=i.forwardRef(({className:t,...n},s)=>e.jsx(Lo,{ref:s,className:V("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...n}));Nn.displayName=Lo.displayName;const Hf=["top","right","bottom","left"],Rt=Math.min,Ve=Math.max,Xn=Math.round,On=Math.floor,ut=t=>({x:t,y:t}),Wf={left:"right",right:"left",bottom:"top",top:"bottom"},Uf={start:"end",end:"start"};function ar(t,n,s){return Ve(t,Rt(n,s))}function wt(t,n){return typeof t=="function"?t(n):t}function bt(t){return t.split("-")[0]}function tn(t){return t.split("-")[1]}function Vr(t){return t==="x"?"y":"x"}function Hr(t){return t==="y"?"height":"width"}const qf=new Set(["top","bottom"]);function dt(t){return qf.has(bt(t))?"y":"x"}function Wr(t){return Vr(dt(t))}function Kf(t,n,s){s===void 0&&(s=!1);const r=tn(t),a=Wr(t),o=Hr(a);let l=a==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[o]>n.floating[o]&&(l=Zn(l)),[l,Zn(l)]}function Gf(t){const n=Zn(t);return[ir(t),n,ir(n)]}function ir(t){return t.replace(/start|end/g,n=>Uf[n])}const Pa=["left","right"],Aa=["right","left"],Yf=["top","bottom"],Xf=["bottom","top"];function Zf(t,n,s){switch(t){case"top":case"bottom":return s?n?Aa:Pa:n?Pa:Aa;case"left":case"right":return n?Yf:Xf;default:return[]}}function Jf(t,n,s,r){const a=tn(t);let o=Zf(bt(t),s==="start",r);return a&&(o=o.map(l=>l+"-"+a),n&&(o=o.concat(o.map(ir)))),o}function Zn(t){return t.replace(/left|right|bottom|top/g,n=>Wf[n])}function Qf(t){return{top:0,right:0,bottom:0,left:0,...t}}function zo(t){return typeof t!="number"?Qf(t):{top:t,right:t,bottom:t,left:t}}function Jn(t){const{x:n,y:s,width:r,height:a}=t;return{width:r,height:a,top:s,left:n,right:n+r,bottom:s+a,x:n,y:s}}function Ta(t,n,s){let{reference:r,floating:a}=t;const o=dt(n),l=Wr(n),c=Hr(l),d=bt(n),m=o==="y",h=r.x+r.width/2-a.width/2,u=r.y+r.height/2-a.height/2,f=r[c]/2-a[c]/2;let x;switch(d){case"top":x={x:h,y:r.y-a.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:u};break;case"left":x={x:r.x-a.width,y:u};break;default:x={x:r.x,y:r.y}}switch(tn(n)){case"start":x[l]-=f*(s&&m?-1:1);break;case"end":x[l]+=f*(s&&m?-1:1);break}return x}async function ep(t,n){var s;n===void 0&&(n={});const{x:r,y:a,platform:o,rects:l,elements:c,strategy:d}=t,{boundary:m="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:f=!1,padding:x=0}=wt(n,t),v=zo(x),g=c[f?u==="floating"?"reference":"floating":u],j=Jn(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(g)))==null||s?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:m,rootBoundary:h,strategy:d})),w=u==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),_=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Jn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:b,strategy:d}):w);return{top:(j.top-S.top+v.top)/_.y,bottom:(S.bottom-j.bottom+v.bottom)/_.y,left:(j.left-S.left+v.left)/_.x,right:(S.right-j.right+v.right)/_.x}}const tp=async(t,n,s)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:l}=s,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(n));let m=await l.getElementRects({reference:t,floating:n,strategy:a}),{x:h,y:u}=Ta(m,r,d),f=r,x={},v=0;for(let g=0;g<c.length;g++){var p;const{name:j,fn:w}=c[g],{x:b,y:_,data:S,reset:I}=await w({x:h,y:u,initialPlacement:r,placement:f,strategy:a,middlewareData:x,rects:m,platform:{...l,detectOverflow:(p=l.detectOverflow)!=null?p:ep},elements:{reference:t,floating:n}});h=b??h,u=_??u,x={...x,[j]:{...x[j],...S}},I&&v<=50&&(v++,typeof I=="object"&&(I.placement&&(f=I.placement),I.rects&&(m=I.rects===!0?await l.getElementRects({reference:t,floating:n,strategy:a}):I.rects),{x:h,y:u}=Ta(m,f,d)),g=-1)}return{x:h,y:u,placement:f,strategy:a,middlewareData:x}},np=t=>({name:"arrow",options:t,async fn(n){const{x:s,y:r,placement:a,rects:o,platform:l,elements:c,middlewareData:d}=n,{element:m,padding:h=0}=wt(t,n)||{};if(m==null)return{};const u=zo(h),f={x:s,y:r},x=Wr(a),v=Hr(x),p=await l.getDimensions(m),g=x==="y",j=g?"top":"left",w=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=o.reference[v]+o.reference[x]-f[x]-o.floating[v],S=f[x]-o.reference[x],I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let N=I?I[b]:0;(!N||!await(l.isElement==null?void 0:l.isElement(I)))&&(N=c.floating[b]||o.floating[v]);const C=_/2-S/2,L=N/2-p[v]/2-1,k=Rt(u[j],L),P=Rt(u[w],L),z=k,J=N-p[v]-P,Q=N/2-p[v]/2+C,D=ar(z,Q,J),M=!d.arrow&&tn(a)!=null&&Q!==D&&o.reference[v]/2-(Q<z?k:P)-p[v]/2<0,re=M?Q<z?Q-z:Q-J:0;return{[x]:f[x]+re,data:{[x]:D,centerOffset:Q-D-re,...M&&{alignmentOffset:re}},reset:M}}}),sp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var s,r;const{placement:a,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:m}=n,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...g}=wt(t,n);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const j=bt(a),w=dt(c),b=bt(c)===c,_=await(d.isRTL==null?void 0:d.isRTL(m.floating)),S=f||(b||!p?[Zn(c)]:Gf(c)),I=v!=="none";!f&&I&&S.push(...Jf(c,p,v,_));const N=[c,...S],C=await d.detectOverflow(n,g),L=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&L.push(C[j]),u){const Q=Kf(a,l,_);L.push(C[Q[0]],C[Q[1]])}if(k=[...k,{placement:a,overflows:L}],!L.every(Q=>Q<=0)){var P,z;const Q=(((P=o.flip)==null?void 0:P.index)||0)+1,D=N[Q];if(D&&(!(u==="alignment"?w!==dt(D):!1)||k.every(G=>dt(G.placement)===w?G.overflows[0]>0:!0)))return{data:{index:Q,overflows:k},reset:{placement:D}};let M=(z=k.filter(re=>re.overflows[0]<=0).sort((re,G)=>re.overflows[1]-G.overflows[1])[0])==null?void 0:z.placement;if(!M)switch(x){case"bestFit":{var J;const re=(J=k.filter(G=>{if(I){const H=dt(G.placement);return H===w||H==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(H=>H>0).reduce((H,le)=>H+le,0)]).sort((G,H)=>G[1]-H[1])[0])==null?void 0:J[0];re&&(M=re);break}case"initialPlacement":M=c;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function Da(t,n){return{top:t.top-n.height,right:t.right-n.width,bottom:t.bottom-n.height,left:t.left-n.width}}function Ma(t){return Hf.some(n=>t[n]>=0)}const rp=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(n){const{rects:s,platform:r}=n,{strategy:a="referenceHidden",...o}=wt(t,n);switch(a){case"referenceHidden":{const l=await r.detectOverflow(n,{...o,elementContext:"reference"}),c=Da(l,s.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Ma(c)}}}case"escaped":{const l=await r.detectOverflow(n,{...o,altBoundary:!0}),c=Da(l,s.floating);return{data:{escapedOffsets:c,escaped:Ma(c)}}}default:return{}}}}},Fo=new Set(["left","top"]);async function ap(t,n){const{placement:s,platform:r,elements:a}=t,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=bt(s),c=tn(s),d=dt(s)==="y",m=Fo.has(l)?-1:1,h=o&&d?-1:1,u=wt(n,t);let{mainAxis:f,crossAxis:x,alignmentAxis:v}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return c&&typeof v=="number"&&(x=c==="end"?v*-1:v),d?{x:x*h,y:f*m}:{x:f*m,y:x*h}}const ip=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){var s,r;const{x:a,y:o,placement:l,middlewareData:c}=n,d=await ap(n,t);return l===((s=c.offset)==null?void 0:s.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:a+d.x,y:o+d.y,data:{...d,placement:l}}}}},op=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:s,y:r,placement:a,platform:o}=n,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:j=>{let{x:w,y:b}=j;return{x:w,y:b}}},...m}=wt(t,n),h={x:s,y:r},u=await o.detectOverflow(n,m),f=dt(bt(a)),x=Vr(f);let v=h[x],p=h[f];if(l){const j=x==="y"?"top":"left",w=x==="y"?"bottom":"right",b=v+u[j],_=v-u[w];v=ar(b,v,_)}if(c){const j=f==="y"?"top":"left",w=f==="y"?"bottom":"right",b=p+u[j],_=p-u[w];p=ar(b,p,_)}const g=d.fn({...n,[x]:v,[f]:p});return{...g,data:{x:g.x-s,y:g.y-r,enabled:{[x]:l,[f]:c}}}}}},lp=function(t){return t===void 0&&(t={}),{options:t,fn(n){const{x:s,y:r,placement:a,rects:o,middlewareData:l}=n,{offset:c=0,mainAxis:d=!0,crossAxis:m=!0}=wt(t,n),h={x:s,y:r},u=dt(a),f=Vr(u);let x=h[f],v=h[u];const p=wt(c,n),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(d){const b=f==="y"?"height":"width",_=o.reference[f]-o.floating[b]+g.mainAxis,S=o.reference[f]+o.reference[b]-g.mainAxis;x<_?x=_:x>S&&(x=S)}if(m){var j,w;const b=f==="y"?"width":"height",_=Fo.has(bt(a)),S=o.reference[u]-o.floating[b]+(_&&((j=l.offset)==null?void 0:j[u])||0)+(_?0:g.crossAxis),I=o.reference[u]+o.reference[b]+(_?0:((w=l.offset)==null?void 0:w[u])||0)-(_?g.crossAxis:0);v<S?v=S:v>I&&(v=I)}return{[f]:x,[u]:v}}}},cp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(n){var s,r;const{placement:a,rects:o,platform:l,elements:c}=n,{apply:d=()=>{},...m}=wt(t,n),h=await l.detectOverflow(n,m),u=bt(a),f=tn(a),x=dt(a)==="y",{width:v,height:p}=o.floating;let g,j;u==="top"||u==="bottom"?(g=u,j=f===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(j=u,g=f==="end"?"top":"bottom");const w=p-h.top-h.bottom,b=v-h.left-h.right,_=Rt(p-h[g],w),S=Rt(v-h[j],b),I=!n.middlewareData.shift;let N=_,C=S;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(C=b),(r=n.middlewareData.shift)!=null&&r.enabled.y&&(N=w),I&&!f){const k=Ve(h.left,0),P=Ve(h.right,0),z=Ve(h.top,0),J=Ve(h.bottom,0);x?C=v-2*(k!==0||P!==0?k+P:Ve(h.left,h.right)):N=p-2*(z!==0||J!==0?z+J:Ve(h.top,h.bottom))}await d({...n,availableWidth:C,availableHeight:N});const L=await l.getDimensions(c.floating);return v!==L.width||p!==L.height?{reset:{rects:!0}}:{}}}};function gs(){return typeof window<"u"}function nn(t){return $o(t)?(t.nodeName||"").toLowerCase():"#document"}function He(t){var n;return(t==null||(n=t.ownerDocument)==null?void 0:n.defaultView)||window}function xt(t){var n;return(n=($o(t)?t.ownerDocument:t.document)||window.document)==null?void 0:n.documentElement}function $o(t){return gs()?t instanceof Node||t instanceof He(t).Node:!1}function rt(t){return gs()?t instanceof Element||t instanceof He(t).Element:!1}function ft(t){return gs()?t instanceof HTMLElement||t instanceof He(t).HTMLElement:!1}function Ia(t){return!gs()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof He(t).ShadowRoot}const dp=new Set(["inline","contents"]);function Sn(t){const{overflow:n,overflowX:s,overflowY:r,display:a}=at(t);return/auto|scroll|overlay|hidden|clip/.test(n+r+s)&&!dp.has(a)}const up=new Set(["table","td","th"]);function mp(t){return up.has(nn(t))}const hp=[":popover-open",":modal"];function vs(t){return hp.some(n=>{try{return t.matches(n)}catch{return!1}})}const fp=["transform","translate","scale","rotate","perspective"],pp=["transform","translate","scale","rotate","perspective","filter"],xp=["paint","layout","strict","content"];function Ur(t){const n=qr(),s=rt(t)?at(t):t;return fp.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!n&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!n&&(s.filter?s.filter!=="none":!1)||pp.some(r=>(s.willChange||"").includes(r))||xp.some(r=>(s.contain||"").includes(r))}function gp(t){let n=Pt(t);for(;ft(n)&&!Zt(n);){if(Ur(n))return n;if(vs(n))return null;n=Pt(n)}return null}function qr(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vp=new Set(["html","body","#document"]);function Zt(t){return vp.has(nn(t))}function at(t){return He(t).getComputedStyle(t)}function js(t){return rt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pt(t){if(nn(t)==="html")return t;const n=t.assignedSlot||t.parentNode||Ia(t)&&t.host||xt(t);return Ia(n)?n.host:n}function Bo(t){const n=Pt(t);return Zt(n)?t.ownerDocument?t.ownerDocument.body:t.body:ft(n)&&Sn(n)?n:Bo(n)}function mn(t,n,s){var r;n===void 0&&(n=[]),s===void 0&&(s=!0);const a=Bo(t),o=a===((r=t.ownerDocument)==null?void 0:r.body),l=He(a);if(o){const c=or(l);return n.concat(l,l.visualViewport||[],Sn(a)?a:[],c&&s?mn(c):[])}return n.concat(a,mn(a,[],s))}function or(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Vo(t){const n=at(t);let s=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const a=ft(t),o=a?t.offsetWidth:s,l=a?t.offsetHeight:r,c=Xn(s)!==o||Xn(r)!==l;return c&&(s=o,r=l),{width:s,height:r,$:c}}function Kr(t){return rt(t)?t:t.contextElement}function qt(t){const n=Kr(t);if(!ft(n))return ut(1);const s=n.getBoundingClientRect(),{width:r,height:a,$:o}=Vo(n);let l=(o?Xn(s.width):s.width)/r,c=(o?Xn(s.height):s.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const jp=ut(0);function Ho(t){const n=He(t);return!qr()||!n.visualViewport?jp:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function yp(t,n,s){return n===void 0&&(n=!1),!s||n&&s!==He(t)?!1:n}function Ot(t,n,s,r){n===void 0&&(n=!1),s===void 0&&(s=!1);const a=t.getBoundingClientRect(),o=Kr(t);let l=ut(1);n&&(r?rt(r)&&(l=qt(r)):l=qt(t));const c=yp(o,s,r)?Ho(o):ut(0);let d=(a.left+c.x)/l.x,m=(a.top+c.y)/l.y,h=a.width/l.x,u=a.height/l.y;if(o){const f=He(o),x=r&&rt(r)?He(r):r;let v=f,p=or(v);for(;p&&r&&x!==v;){const g=qt(p),j=p.getBoundingClientRect(),w=at(p),b=j.left+(p.clientLeft+parseFloat(w.paddingLeft))*g.x,_=j.top+(p.clientTop+parseFloat(w.paddingTop))*g.y;d*=g.x,m*=g.y,h*=g.x,u*=g.y,d+=b,m+=_,v=He(p),p=or(v)}}return Jn({width:h,height:u,x:d,y:m})}function ys(t,n){const s=js(t).scrollLeft;return n?n.left+s:Ot(xt(t)).left+s}function Wo(t,n){const s=t.getBoundingClientRect(),r=s.left+n.scrollLeft-ys(t,s),a=s.top+n.scrollTop;return{x:r,y:a}}function wp(t){let{elements:n,rect:s,offsetParent:r,strategy:a}=t;const o=a==="fixed",l=xt(r),c=n?vs(n.floating):!1;if(r===l||c&&o)return s;let d={scrollLeft:0,scrollTop:0},m=ut(1);const h=ut(0),u=ft(r);if((u||!u&&!o)&&((nn(r)!=="body"||Sn(l))&&(d=js(r)),ft(r))){const x=Ot(r);m=qt(r),h.x=x.x+r.clientLeft,h.y=x.y+r.clientTop}const f=l&&!u&&!o?Wo(l,d):ut(0);return{width:s.width*m.x,height:s.height*m.y,x:s.x*m.x-d.scrollLeft*m.x+h.x+f.x,y:s.y*m.y-d.scrollTop*m.y+h.y+f.y}}function bp(t){return Array.from(t.getClientRects())}function _p(t){const n=xt(t),s=js(t),r=t.ownerDocument.body,a=Ve(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),o=Ve(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let l=-s.scrollLeft+ys(t);const c=-s.scrollTop;return at(r).direction==="rtl"&&(l+=Ve(n.clientWidth,r.clientWidth)-a),{width:a,height:o,x:l,y:c}}const Oa=25;function Np(t,n){const s=He(t),r=xt(t),a=s.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,d=0;if(a){o=a.width,l=a.height;const h=qr();(!h||h&&n==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}const m=ys(r);if(m<=0){const h=r.ownerDocument,u=h.body,f=getComputedStyle(u),x=h.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,v=Math.abs(r.clientWidth-u.clientWidth-x);v<=Oa&&(o-=v)}else m<=Oa&&(o+=m);return{width:o,height:l,x:c,y:d}}const Sp=new Set(["absolute","fixed"]);function Cp(t,n){const s=Ot(t,!0,n==="fixed"),r=s.top+t.clientTop,a=s.left+t.clientLeft,o=ft(t)?qt(t):ut(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,d=a*o.x,m=r*o.y;return{width:l,height:c,x:d,y:m}}function La(t,n,s){let r;if(n==="viewport")r=Np(t,s);else if(n==="document")r=_p(xt(t));else if(rt(n))r=Cp(n,s);else{const a=Ho(t);r={x:n.x-a.x,y:n.y-a.y,width:n.width,height:n.height}}return Jn(r)}function Uo(t,n){const s=Pt(t);return s===n||!rt(s)||Zt(s)?!1:at(s).position==="fixed"||Uo(s,n)}function kp(t,n){const s=n.get(t);if(s)return s;let r=mn(t,[],!1).filter(c=>rt(c)&&nn(c)!=="body"),a=null;const o=at(t).position==="fixed";let l=o?Pt(t):t;for(;rt(l)&&!Zt(l);){const c=at(l),d=Ur(l);!d&&c.position==="fixed"&&(a=null),(o?!d&&!a:!d&&c.position==="static"&&!!a&&Sp.has(a.position)||Sn(l)&&!d&&Uo(t,l))?r=r.filter(h=>h!==l):a=c,l=Pt(l)}return n.set(t,r),r}function Ep(t){let{element:n,boundary:s,rootBoundary:r,strategy:a}=t;const l=[...s==="clippingAncestors"?vs(n)?[]:kp(n,this._c):[].concat(s),r],c=l[0],d=l.reduce((m,h)=>{const u=La(n,h,a);return m.top=Ve(u.top,m.top),m.right=Rt(u.right,m.right),m.bottom=Rt(u.bottom,m.bottom),m.left=Ve(u.left,m.left),m},La(n,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Rp(t){const{width:n,height:s}=Vo(t);return{width:n,height:s}}function Pp(t,n,s){const r=ft(n),a=xt(n),o=s==="fixed",l=Ot(t,!0,o,n);let c={scrollLeft:0,scrollTop:0};const d=ut(0);function m(){d.x=ys(a)}if(r||!r&&!o)if((nn(n)!=="body"||Sn(a))&&(c=js(n)),r){const x=Ot(n,!0,o,n);d.x=x.x+n.clientLeft,d.y=x.y+n.clientTop}else a&&m();o&&!r&&a&&m();const h=a&&!r&&!o?Wo(a,c):ut(0),u=l.left+c.scrollLeft-d.x-h.x,f=l.top+c.scrollTop-d.y-h.y;return{x:u,y:f,width:l.width,height:l.height}}function Gs(t){return at(t).position==="static"}function za(t,n){if(!ft(t)||at(t).position==="fixed")return null;if(n)return n(t);let s=t.offsetParent;return xt(t)===s&&(s=s.ownerDocument.body),s}function qo(t,n){const s=He(t);if(vs(t))return s;if(!ft(t)){let a=Pt(t);for(;a&&!Zt(a);){if(rt(a)&&!Gs(a))return a;a=Pt(a)}return s}let r=za(t,n);for(;r&&mp(r)&&Gs(r);)r=za(r,n);return r&&Zt(r)&&Gs(r)&&!Ur(r)?s:r||gp(t)||s}const Ap=async function(t){const n=this.getOffsetParent||qo,s=this.getDimensions,r=await s(t.floating);return{reference:Pp(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Tp(t){return at(t).direction==="rtl"}const Dp={convertOffsetParentRelativeRectToViewportRelativeRect:wp,getDocumentElement:xt,getClippingRect:Ep,getOffsetParent:qo,getElementRects:Ap,getClientRects:bp,getDimensions:Rp,getScale:qt,isElement:rt,isRTL:Tp};function Ko(t,n){return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height}function Mp(t,n){let s=null,r;const a=xt(t);function o(){var c;clearTimeout(r),(c=s)==null||c.disconnect(),s=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const m=t.getBoundingClientRect(),{left:h,top:u,width:f,height:x}=m;if(c||n(),!f||!x)return;const v=On(u),p=On(a.clientWidth-(h+f)),g=On(a.clientHeight-(u+x)),j=On(h),b={rootMargin:-v+"px "+-p+"px "+-g+"px "+-j+"px",threshold:Ve(0,Rt(1,d))||1};let _=!0;function S(I){const N=I[0].intersectionRatio;if(N!==d){if(!_)return l();N?l(!1,N):r=setTimeout(()=>{l(!1,1e-7)},1e3)}N===1&&!Ko(m,t.getBoundingClientRect())&&l(),_=!1}try{s=new IntersectionObserver(S,{...b,root:a.ownerDocument})}catch{s=new IntersectionObserver(S,b)}s.observe(t)}return l(!0),o}function Ip(t,n,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,m=Kr(t),h=a||o?[...m?mn(m):[],...mn(n)]:[];h.forEach(j=>{a&&j.addEventListener("scroll",s,{passive:!0}),o&&j.addEventListener("resize",s)});const u=m&&c?Mp(m,s):null;let f=-1,x=null;l&&(x=new ResizeObserver(j=>{let[w]=j;w&&w.target===m&&x&&(x.unobserve(n),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=x)==null||b.observe(n)})),s()}),m&&!d&&x.observe(m),x.observe(n));let v,p=d?Ot(t):null;d&&g();function g(){const j=Ot(t);p&&!Ko(p,j)&&s(),p=j,v=requestAnimationFrame(g)}return s(),()=>{var j;h.forEach(w=>{a&&w.removeEventListener("scroll",s),o&&w.removeEventListener("resize",s)}),u?.(),(j=x)==null||j.disconnect(),x=null,d&&cancelAnimationFrame(v)}}const Op=ip,Lp=op,zp=sp,Fp=cp,$p=rp,Fa=np,Bp=lp,Vp=(t,n,s)=>{const r=new Map,a={platform:Dp,...s},o={...a.platform,_c:r};return tp(t,n,{...a,platform:o})};var Hp=typeof document<"u",Wp=function(){},Bn=Hp?i.useLayoutEffect:Wp;function Qn(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if(typeof t=="function"&&t.toString()===n.toString())return!0;let s,r,a;if(t&&n&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==n.length)return!1;for(r=s;r--!==0;)if(!Qn(t[r],n[r]))return!1;return!0}if(a=Object.keys(t),s=a.length,s!==Object.keys(n).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(n,a[r]))return!1;for(r=s;r--!==0;){const o=a[r];if(!(o==="_owner"&&t.$$typeof)&&!Qn(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}function Go(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $a(t,n){const s=Go(t);return Math.round(n*s)/s}function Ys(t){const n=i.useRef(t);return Bn(()=>{n.current=t}),n}function Up(t){t===void 0&&(t={});const{placement:n="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:m}=t,[h,u]=i.useState({x:0,y:0,strategy:s,placement:n,middlewareData:{},isPositioned:!1}),[f,x]=i.useState(r);Qn(f,r)||x(r);const[v,p]=i.useState(null),[g,j]=i.useState(null),w=i.useCallback(G=>{G!==I.current&&(I.current=G,p(G))},[]),b=i.useCallback(G=>{G!==N.current&&(N.current=G,j(G))},[]),_=o||v,S=l||g,I=i.useRef(null),N=i.useRef(null),C=i.useRef(h),L=d!=null,k=Ys(d),P=Ys(a),z=Ys(m),J=i.useCallback(()=>{if(!I.current||!N.current)return;const G={placement:n,strategy:s,middleware:f};P.current&&(G.platform=P.current),Vp(I.current,N.current,G).then(H=>{const le={...H,isPositioned:z.current!==!1};Q.current&&!Qn(C.current,le)&&(C.current=le,gr.flushSync(()=>{u(le)}))})},[f,n,s,P,z]);Bn(()=>{m===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,u(G=>({...G,isPositioned:!1})))},[m]);const Q=i.useRef(!1);Bn(()=>(Q.current=!0,()=>{Q.current=!1}),[]),Bn(()=>{if(_&&(I.current=_),S&&(N.current=S),_&&S){if(k.current)return k.current(_,S,J);J()}},[_,S,J,k,L]);const D=i.useMemo(()=>({reference:I,floating:N,setReference:w,setFloating:b}),[w,b]),M=i.useMemo(()=>({reference:_,floating:S}),[_,S]),re=i.useMemo(()=>{const G={position:s,left:0,top:0};if(!M.floating)return G;const H=$a(M.floating,h.x),le=$a(M.floating,h.y);return c?{...G,transform:"translate("+H+"px, "+le+"px)",...Go(M.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:H,top:le}},[s,c,M.floating,h.x,h.y]);return i.useMemo(()=>({...h,update:J,refs:D,elements:M,floatingStyles:re}),[h,J,D,M,re])}const qp=t=>{function n(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:r,padding:a}=typeof t=="function"?t(s):t;return r&&n(r)?r.current!=null?Fa({element:r.current,padding:a}).fn(s):{}:r?Fa({element:r,padding:a}).fn(s):{}}}},Kp=(t,n)=>({...Op(t),options:[t,n]}),Gp=(t,n)=>({...Lp(t),options:[t,n]}),Yp=(t,n)=>({...Bp(t),options:[t,n]}),Xp=(t,n)=>({...zp(t),options:[t,n]}),Zp=(t,n)=>({...Fp(t),options:[t,n]}),Jp=(t,n)=>({...$p(t),options:[t,n]}),Qp=(t,n)=>({...qp(t),options:[t,n]});var ex="Arrow",Yo=i.forwardRef((t,n)=>{const{children:s,width:r=10,height:a=5,...o}=t;return e.jsx(fe.svg,{...o,ref:n,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Yo.displayName=ex;var tx=Yo;function nx(t){const[n,s]=i.useState(void 0);return Ie(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,m=Array.isArray(d)?d[0]:d;l=m.inlineSize,c=m.blockSize}else l=t.offsetWidth,c=t.offsetHeight;s({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else s(void 0)},[t]),n}var Gr="Popper",[Xo,ws]=Ft(Gr),[sx,Zo]=Xo(Gr),Jo=t=>{const{__scopePopper:n,children:s}=t,[r,a]=i.useState(null);return e.jsx(sx,{scope:n,anchor:r,onAnchorChange:a,children:s})};Jo.displayName=Gr;var Qo="PopperAnchor",el=i.forwardRef((t,n)=>{const{__scopePopper:s,virtualRef:r,...a}=t,o=Zo(Qo,s),l=i.useRef(null),c=je(n,l),d=i.useRef(null);return i.useEffect(()=>{const m=d.current;d.current=r?.current||l.current,m!==d.current&&o.onAnchorChange(d.current)}),r?null:e.jsx(fe.div,{...a,ref:c})});el.displayName=Qo;var Yr="PopperContent",[rx,ax]=Xo(Yr),tl=i.forwardRef((t,n)=>{const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:v,...p}=t,g=Zo(Yr,s),[j,w]=i.useState(null),b=je(n,y=>w(y)),[_,S]=i.useState(null),I=nx(_),N=I?.width??0,C=I?.height??0,L=r+(o!=="center"?"-"+o:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(m)?m:[m],z=P.length>0,J={padding:k,boundary:P.filter(ox),altBoundary:z},{refs:Q,floatingStyles:D,placement:M,isPositioned:re,middlewareData:G}=Up({strategy:"fixed",placement:L,whileElementsMounted:(...y)=>Ip(...y,{animationFrame:x==="always"}),elements:{reference:g.anchor},middleware:[Kp({mainAxis:a+C,alignmentAxis:l}),d&&Gp({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?Yp():void 0,...J}),d&&Xp({...J}),Zp({...J,apply:({elements:y,rects:R,availableWidth:Y,availableHeight:pe})=>{const{width:xe,height:be}=R.reference,ke=y.floating.style;ke.setProperty("--radix-popper-available-width",`${Y}px`),ke.setProperty("--radix-popper-available-height",`${pe}px`),ke.setProperty("--radix-popper-anchor-width",`${xe}px`),ke.setProperty("--radix-popper-anchor-height",`${be}px`)}}),_&&Qp({element:_,padding:c}),lx({arrowWidth:N,arrowHeight:C}),f&&Jp({strategy:"referenceHidden",...J})]}),[H,le]=rl(M),$=Ae(v);Ie(()=>{re&&$?.()},[re,$]);const U=G.arrow?.x,ce=G.arrow?.y,A=G.arrow?.centerOffset!==0,[te,T]=i.useState();return Ie(()=>{j&&T(window.getComputedStyle(j).zIndex)},[j]),e.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:re?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(rx,{scope:s,placedSide:H,onArrowChange:S,arrowX:U,arrowY:ce,shouldHideArrow:A,children:e.jsx(fe.div,{"data-side":H,"data-align":le,...p,ref:b,style:{...p.style,animation:re?void 0:"none"}})})})});tl.displayName=Yr;var nl="PopperArrow",ix={top:"bottom",right:"left",bottom:"top",left:"right"},sl=i.forwardRef(function(n,s){const{__scopePopper:r,...a}=n,o=ax(nl,r),l=ix[o.placedSide];return e.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:e.jsx(tx,{...a,ref:s,style:{...a.style,display:"block"}})})});sl.displayName=nl;function ox(t){return t!==null}var lx=t=>({name:"transformOrigin",options:t,fn(n){const{placement:s,rects:r,middlewareData:a}=n,l=a.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[m,h]=rl(s),u={start:"0%",center:"50%",end:"100%"}[h],f=(a.arrow?.x??0)+c/2,x=(a.arrow?.y??0)+d/2;let v="",p="";return m==="bottom"?(v=l?u:`${f}px`,p=`${-d}px`):m==="top"?(v=l?u:`${f}px`,p=`${r.floating.height+d}px`):m==="right"?(v=`${-d}px`,p=l?u:`${x}px`):m==="left"&&(v=`${r.floating.width+d}px`,p=l?u:`${x}px`),{data:{x:v,y:p}}}});function rl(t){const[n,s="center"]=t.split("-");return[n,s]}var al=Jo,il=el,ol=tl,ll=sl;function cx(t){const n=dx(t),s=i.forwardRef((r,a)=>{const{children:o,...l}=r,c=i.Children.toArray(o),d=c.find(mx);if(d){const m=d.props.children,h=c.map(u=>u===d?i.Children.count(m)>1?i.Children.only(null):i.isValidElement(m)?m.props.children:null:u);return e.jsx(n,{...l,ref:a,children:i.isValidElement(m)?i.cloneElement(m,void 0,h):null})}return e.jsx(n,{...l,ref:a,children:o})});return s.displayName=`${t}.Slot`,s}function dx(t){const n=i.forwardRef((s,r)=>{const{children:a,...o}=s;if(i.isValidElement(a)){const l=fx(a),c=hx(o,a.props);return a.type!==i.Fragment&&(c.ref=r?pn(r,l):l),i.cloneElement(a,c)}return i.Children.count(a)>1?i.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var ux=Symbol("radix.slottable");function mx(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ux}function hx(t,n){const s={...n};for(const r in n){const a=t[r],o=n[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...c)=>{const d=o(...c);return a(...c),d}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...t,...s}}function fx(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var lr=["Enter"," "],px=["ArrowDown","PageUp","Home"],cl=["ArrowUp","PageDown","End"],xx=[...px,...cl],gx={ltr:[...lr,"ArrowRight"],rtl:[...lr,"ArrowLeft"]},vx={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cn="Menu",[hn,jx,yx]=ei(Cn),[$t,dl]=Ft(Cn,[yx,ws,Qa]),bs=ws(),ul=Qa(),[wx,Bt]=$t(Cn),[bx,kn]=$t(Cn),ml=t=>{const{__scopeMenu:n,open:s=!1,children:r,dir:a,onOpenChange:o,modal:l=!0}=t,c=bs(n),[d,m]=i.useState(null),h=i.useRef(!1),u=Ae(o),f=xr(a);return i.useEffect(()=>{const x=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),e.jsx(al,{...c,children:e.jsx(wx,{scope:n,open:s,onOpenChange:u,content:d,onContentChange:m,children:e.jsx(bx,{scope:n,onClose:i.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:h,dir:f,modal:l,children:r})})})};ml.displayName=Cn;var _x="MenuAnchor",Xr=i.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t,a=bs(s);return e.jsx(il,{...a,...r,ref:n})});Xr.displayName=_x;var Zr="MenuPortal",[Nx,hl]=$t(Zr,{forceMount:void 0}),fl=t=>{const{__scopeMenu:n,forceMount:s,children:r,container:a}=t,o=Bt(Zr,n);return e.jsx(Nx,{scope:n,forceMount:s,children:e.jsx(it,{present:s||o.open,children:e.jsx(cs,{asChild:!0,container:a,children:r})})})};fl.displayName=Zr;var Xe="MenuContent",[Sx,Jr]=$t(Xe),pl=i.forwardRef((t,n)=>{const s=hl(Xe,t.__scopeMenu),{forceMount:r=s.forceMount,...a}=t,o=Bt(Xe,t.__scopeMenu),l=kn(Xe,t.__scopeMenu);return e.jsx(hn.Provider,{scope:t.__scopeMenu,children:e.jsx(it,{present:r||o.open,children:e.jsx(hn.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx(Cx,{...a,ref:n}):e.jsx(kx,{...a,ref:n})})})})}),Cx=i.forwardRef((t,n)=>{const s=Bt(Xe,t.__scopeMenu),r=i.useRef(null),a=je(n,r);return i.useEffect(()=>{const o=r.current;if(o)return Cr(o)},[]),e.jsx(Qr,{...t,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),kx=i.forwardRef((t,n)=>{const s=Bt(Xe,t.__scopeMenu);return e.jsx(Qr,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),Ex=cx("MenuContent.ScrollLock"),Qr=i.forwardRef((t,n)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:f,onDismiss:x,disableOutsideScroll:v,...p}=t,g=Bt(Xe,s),j=kn(Xe,s),w=bs(s),b=ul(s),_=jx(s),[S,I]=i.useState(null),N=i.useRef(null),C=je(n,N,g.onContentChange),L=i.useRef(0),k=i.useRef(""),P=i.useRef(0),z=i.useRef(null),J=i.useRef("right"),Q=i.useRef(0),D=v?us:i.Fragment,M=v?{as:Ex,allowPinchZoom:!0}:void 0,re=H=>{const le=k.current+H,$=_().filter(y=>!y.disabled),U=document.activeElement,ce=$.find(y=>y.ref.current===U)?.textValue,A=$.map(y=>y.textValue),te=$x(A,le,ce),T=$.find(y=>y.textValue===te)?.ref.current;(function y(R){k.current=R,window.clearTimeout(L.current),R!==""&&(L.current=window.setTimeout(()=>y(""),1e3))})(le),T&&setTimeout(()=>T.focus())};i.useEffect(()=>()=>window.clearTimeout(L.current),[]),Sr();const G=i.useCallback(H=>J.current===z.current?.side&&Vx(H,z.current?.area),[]);return e.jsx(Sx,{scope:s,searchRef:k,onItemEnter:i.useCallback(H=>{G(H)&&H.preventDefault()},[G]),onItemLeave:i.useCallback(H=>{G(H)||(N.current?.focus(),I(null))},[G]),onTriggerLeave:i.useCallback(H=>{G(H)&&H.preventDefault()},[G]),pointerGraceTimerRef:P,onPointerGraceIntentChange:i.useCallback(H=>{z.current=H},[]),children:e.jsx(D,{...M,children:e.jsx(ls,{asChild:!0,trapped:a,onMountAutoFocus:se(o,H=>{H.preventDefault(),N.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(os,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:m,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:f,onDismiss:x,children:e.jsx(jd,{asChild:!0,...b,dir:j.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:I,onEntryFocus:se(d,H=>{j.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(ol,{role:"menu","aria-orientation":"vertical","data-state":Al(g.open),"data-radix-menu-content":"",dir:j.dir,...w,...p,ref:C,style:{outline:"none",...p.style},onKeyDown:se(p.onKeyDown,H=>{const $=H.target.closest("[data-radix-menu-content]")===H.currentTarget,U=H.ctrlKey||H.altKey||H.metaKey,ce=H.key.length===1;$&&(H.key==="Tab"&&H.preventDefault(),!U&&ce&&re(H.key));const A=N.current;if(H.target!==A||!xx.includes(H.key))return;H.preventDefault();const T=_().filter(y=>!y.disabled).map(y=>y.ref.current);cl.includes(H.key)&&T.reverse(),zx(T)}),onBlur:se(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(L.current),k.current="")}),onPointerMove:se(t.onPointerMove,fn(H=>{const le=H.target,$=Q.current!==H.clientX;if(H.currentTarget.contains(le)&&$){const U=H.clientX>Q.current?"right":"left";J.current=U,Q.current=H.clientX}}))})})})})})})});pl.displayName=Xe;var Rx="MenuGroup",ea=i.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t;return e.jsx(fe.div,{role:"group",...r,ref:n})});ea.displayName=Rx;var Px="MenuLabel",xl=i.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t;return e.jsx(fe.div,{...r,ref:n})});xl.displayName=Px;var es="MenuItem",Ba="menu.itemSelect",_s=i.forwardRef((t,n)=>{const{disabled:s=!1,onSelect:r,...a}=t,o=i.useRef(null),l=kn(es,t.__scopeMenu),c=Jr(es,t.__scopeMenu),d=je(n,o),m=i.useRef(!1),h=()=>{const u=o.current;if(!s&&u){const f=new CustomEvent(Ba,{bubbles:!0,cancelable:!0});u.addEventListener(Ba,x=>r?.(x),{once:!0}),Za(u,f),f.defaultPrevented?m.current=!1:l.onClose()}};return e.jsx(gl,{...a,ref:d,disabled:s,onClick:se(t.onClick,h),onPointerDown:u=>{t.onPointerDown?.(u),m.current=!0},onPointerUp:se(t.onPointerUp,u=>{m.current||u.currentTarget?.click()}),onKeyDown:se(t.onKeyDown,u=>{const f=c.searchRef.current!=="";s||f&&u.key===" "||lr.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});_s.displayName=es;var gl=i.forwardRef((t,n)=>{const{__scopeMenu:s,disabled:r=!1,textValue:a,...o}=t,l=Jr(es,s),c=ul(s),d=i.useRef(null),m=je(n,d),[h,u]=i.useState(!1),[f,x]=i.useState("");return i.useEffect(()=>{const v=d.current;v&&x((v.textContent??"").trim())},[o.children]),e.jsx(hn.ItemSlot,{scope:s,disabled:r,textValue:a??f,children:e.jsx(vd,{asChild:!0,...c,focusable:!r,children:e.jsx(fe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:m,onPointerMove:se(t.onPointerMove,fn(v=>{r?l.onItemLeave(v):(l.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,fn(v=>l.onItemLeave(v))),onFocus:se(t.onFocus,()=>u(!0)),onBlur:se(t.onBlur,()=>u(!1))})})})}),Ax="MenuCheckboxItem",vl=i.forwardRef((t,n)=>{const{checked:s=!1,onCheckedChange:r,...a}=t;return e.jsx(_l,{scope:t.__scopeMenu,checked:s,children:e.jsx(_s,{role:"menuitemcheckbox","aria-checked":ts(s)?"mixed":s,...a,ref:n,"data-state":na(s),onSelect:se(a.onSelect,()=>r?.(ts(s)?!0:!s),{checkForDefaultPrevented:!1})})})});vl.displayName=Ax;var jl="MenuRadioGroup",[Tx,Dx]=$t(jl,{value:void 0,onValueChange:()=>{}}),yl=i.forwardRef((t,n)=>{const{value:s,onValueChange:r,...a}=t,o=Ae(r);return e.jsx(Tx,{scope:t.__scopeMenu,value:s,onValueChange:o,children:e.jsx(ea,{...a,ref:n})})});yl.displayName=jl;var wl="MenuRadioItem",bl=i.forwardRef((t,n)=>{const{value:s,...r}=t,a=Dx(wl,t.__scopeMenu),o=s===a.value;return e.jsx(_l,{scope:t.__scopeMenu,checked:o,children:e.jsx(_s,{role:"menuitemradio","aria-checked":o,...r,ref:n,"data-state":na(o),onSelect:se(r.onSelect,()=>a.onValueChange?.(s),{checkForDefaultPrevented:!1})})})});bl.displayName=wl;var ta="MenuItemIndicator",[_l,Mx]=$t(ta,{checked:!1}),Nl=i.forwardRef((t,n)=>{const{__scopeMenu:s,forceMount:r,...a}=t,o=Mx(ta,s);return e.jsx(it,{present:r||ts(o.checked)||o.checked===!0,children:e.jsx(fe.span,{...a,ref:n,"data-state":na(o.checked)})})});Nl.displayName=ta;var Ix="MenuSeparator",Sl=i.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t;return e.jsx(fe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:n})});Sl.displayName=Ix;var Ox="MenuArrow",Cl=i.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t,a=bs(s);return e.jsx(ll,{...a,...r,ref:n})});Cl.displayName=Ox;var Lx="MenuSub",[hy,kl]=$t(Lx),an="MenuSubTrigger",El=i.forwardRef((t,n)=>{const s=Bt(an,t.__scopeMenu),r=kn(an,t.__scopeMenu),a=kl(an,t.__scopeMenu),o=Jr(an,t.__scopeMenu),l=i.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=o,m={__scopeMenu:t.__scopeMenu},h=i.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return i.useEffect(()=>h,[h]),i.useEffect(()=>{const u=c.current;return()=>{window.clearTimeout(u),d(null)}},[c,d]),e.jsx(Xr,{asChild:!0,...m,children:e.jsx(gl,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":Al(s.open),...t,ref:pn(n,a.onTriggerChange),onClick:u=>{t.onClick?.(u),!(t.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,fn(u=>{o.onItemEnter(u),!u.defaultPrevented&&!t.disabled&&!s.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{s.onOpenChange(!0),h()},100))})),onPointerLeave:se(t.onPointerLeave,fn(u=>{h();const f=s.content?.getBoundingClientRect();if(f){const x=s.content?.dataset.side,v=x==="right",p=v?-5:5,g=f[v?"left":"right"],j=f[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:u.clientX+p,y:u.clientY},{x:g,y:f.top},{x:j,y:f.top},{x:j,y:f.bottom},{x:g,y:f.bottom}],side:x}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(u),u.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,u=>{const f=o.searchRef.current!=="";t.disabled||f&&u.key===" "||gx[r.dir].includes(u.key)&&(s.onOpenChange(!0),s.content?.focus(),u.preventDefault())})})})});El.displayName=an;var Rl="MenuSubContent",Pl=i.forwardRef((t,n)=>{const s=hl(Xe,t.__scopeMenu),{forceMount:r=s.forceMount,...a}=t,o=Bt(Xe,t.__scopeMenu),l=kn(Xe,t.__scopeMenu),c=kl(Rl,t.__scopeMenu),d=i.useRef(null),m=je(n,d);return e.jsx(hn.Provider,{scope:t.__scopeMenu,children:e.jsx(it,{present:r||o.open,children:e.jsx(hn.Slot,{scope:t.__scopeMenu,children:e.jsx(Qr,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:m,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{l.isUsingKeyboardRef.current&&d.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:se(t.onFocusOutside,h=>{h.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,h=>{l.onClose(),h.preventDefault()}),onKeyDown:se(t.onKeyDown,h=>{const u=h.currentTarget.contains(h.target),f=vx[l.dir].includes(h.key);u&&f&&(o.onOpenChange(!1),c.trigger?.focus(),h.preventDefault())})})})})})});Pl.displayName=Rl;function Al(t){return t?"open":"closed"}function ts(t){return t==="indeterminate"}function na(t){return ts(t)?"indeterminate":t?"checked":"unchecked"}function zx(t){const n=document.activeElement;for(const s of t)if(s===n||(s.focus(),document.activeElement!==n))return}function Fx(t,n){return t.map((s,r)=>t[(n+r)%t.length])}function $x(t,n,s){const a=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,o=s?t.indexOf(s):-1;let l=Fx(t,Math.max(o,0));a.length===1&&(l=l.filter(m=>m!==s));const d=l.find(m=>m.toLowerCase().startsWith(a.toLowerCase()));return d!==s?d:void 0}function Bx(t,n){const{x:s,y:r}=t;let a=!1;for(let o=0,l=n.length-1;o<n.length;l=o++){const c=n[o],d=n[l],m=c.x,h=c.y,u=d.x,f=d.y;h>r!=f>r&&s<(u-m)*(r-h)/(f-h)+m&&(a=!a)}return a}function Vx(t,n){if(!n)return!1;const s={x:t.clientX,y:t.clientY};return Bx(s,n)}function fn(t){return n=>n.pointerType==="mouse"?t(n):void 0}var Hx=ml,Wx=Xr,Ux=fl,qx=pl,Kx=ea,Gx=xl,Yx=_s,Xx=vl,Zx=yl,Jx=bl,Qx=Nl,eg=Sl,tg=Cl,ng=El,sg=Pl,Ns="DropdownMenu",[rg]=Ft(Ns,[dl]),Fe=dl(),[ag,Tl]=rg(Ns),Dl=t=>{const{__scopeDropdownMenu:n,children:s,dir:r,open:a,defaultOpen:o,onOpenChange:l,modal:c=!0}=t,d=Fe(n),m=i.useRef(null),[h,u]=Un({prop:a,defaultProp:o??!1,onChange:l,caller:Ns});return e.jsx(ag,{scope:n,triggerId:Ct(),triggerRef:m,contentId:Ct(),open:h,onOpenChange:u,onOpenToggle:i.useCallback(()=>u(f=>!f),[u]),modal:c,children:e.jsx(Hx,{...d,open:h,onOpenChange:u,dir:r,modal:c,children:s})})};Dl.displayName=Ns;var Ml="DropdownMenuTrigger",Il=i.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...a}=t,o=Tl(Ml,s),l=Fe(s);return e.jsx(Wx,{asChild:!0,...l,children:e.jsx(fe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:pn(n,o.triggerRef),onPointerDown:se(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:se(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Il.displayName=Ml;var ig="DropdownMenuPortal",Ol=t=>{const{__scopeDropdownMenu:n,...s}=t,r=Fe(n);return e.jsx(Ux,{...r,...s})};Ol.displayName=ig;var Ll="DropdownMenuContent",zl=i.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Tl(Ll,s),o=Fe(s),l=i.useRef(!1);return e.jsx(qx,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:n,onCloseAutoFocus:se(t.onCloseAutoFocus,c=>{l.current||a.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:se(t.onInteractOutside,c=>{const d=c.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,h=d.button===2||m;(!a.modal||h)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zl.displayName=Ll;var og="DropdownMenuGroup",lg=i.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Fe(s);return e.jsx(Kx,{...a,...r,ref:n})});lg.displayName=og;var cg="DropdownMenuLabel",Fl=i.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Fe(s);return e.jsx(Gx,{...a,...r,ref:n})});Fl.displayName=cg;var dg="DropdownMenuItem",$l=i.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Fe(s);return e.jsx(Yx,{...a,...r,ref:n})});$l.displayName=dg;var ug="DropdownMenuCheckboxItem",Bl=i.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Fe(s);return e.jsx(Xx,{...a,...r,ref:n})});Bl.displayName=ug;var mg="DropdownMenuRadioGroup",hg=i.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Fe(s);return e.jsx(Zx,{...a,...r,ref:n})});hg.displayName=mg;var fg="DropdownMenuRadioItem",Vl=i.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Fe(s);return e.jsx(Jx,{...a,...r,ref:n})});Vl.displayName=fg;var pg="DropdownMenuItemIndicator",xg=i.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Fe(s);return e.jsx(Qx,{...a,...r,ref:n})});xg.displayName=pg;var gg="DropdownMenuSeparator",Hl=i.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Fe(s);return e.jsx(eg,{...a,...r,ref:n})});Hl.displayName=gg;var vg="DropdownMenuArrow",jg=i.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Fe(s);return e.jsx(tg,{...a,...r,ref:n})});jg.displayName=vg;var yg="DropdownMenuSubTrigger",Wl=i.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Fe(s);return e.jsx(ng,{...a,...r,ref:n})});Wl.displayName=yg;var wg="DropdownMenuSubContent",Ul=i.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Fe(s);return e.jsx(sg,{...a,...r,ref:n,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ul.displayName=wg;var bg=Dl,_g=Il,Ng=Ol,ql=zl,Kl=Fl,Gl=$l,Yl=Bl,Xl=Vl,Zl=Hl,Jl=Wl,Ql=Ul;const Vn=bg,Hn=_g,Sg=i.forwardRef(({className:t,inset:n,children:s,...r},a)=>e.jsx(Jl,{ref:a,className:V("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"ps-8",t),...r,children:s}));Sg.displayName=Jl.displayName;const Cg=i.forwardRef(({className:t,...n},s)=>e.jsx(Ql,{ref:s,className:V("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Cg.displayName=Ql.displayName;const ln=i.forwardRef(({className:t,sideOffset:n=4,...s},r)=>e.jsx(Ng,{children:e.jsx(ql,{ref:r,sideOffset:n,className:V("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));ln.displayName=ql.displayName;const St=i.forwardRef(({className:t,inset:n,...s},r)=>e.jsx(Gl,{ref:r,className:V("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"ps-8",t),...s}));St.displayName=Gl.displayName;const kg=i.forwardRef(({className:t,children:n,checked:s,...r},a)=>e.jsx(Yl,{ref:a,className:V("relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...r,children:n}));kg.displayName=Yl.displayName;const Eg=i.forwardRef(({className:t,children:n,...s},r)=>e.jsx(Xl,{ref:r,className:V("relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:n}));Eg.displayName=Xl.displayName;const cr=i.forwardRef(({className:t,inset:n,...s},r)=>e.jsx(Kl,{ref:r,className:V("px-2 py-1.5 text-sm font-semibold",n&&"ps-8",t),...s}));cr.displayName=Kl.displayName;const Wn=i.forwardRef(({className:t,...n},s)=>e.jsx(Zl,{ref:s,className:V("-mx-1 my-1 h-px bg-muted",t),...n}));Wn.displayName=Zl.displayName;const ec="pzl_language",Rg=3600*24*30;function Va(t){if(!t)return"en";const n=String(t).toLowerCase().trim();return n.startsWith("en")||n==="english"?"en":n.startsWith("fa")||n==="persian"?"fa":"en"}function Pg(t){try{document.cookie=`${ec}=${t}; path=/; max-age=${Rg}; SameSite=Lax`}catch{}}function Ha(t){const n=Va(t),s=Va(typeof document<"u"?document.documentElement.getAttribute("lang"):null),r=(typeof document<"u"?document.documentElement.getAttribute("dir"):"ltr")??"ltr";typeof localStorage<"u"&&localStorage.setItem(ec,n),Pg(n);const a=typeof window<"u"?window.puzzlingcrm?.ajaxUrl:void 0,o=typeof window<"u"?window.puzzlingcrm?.nonce:void 0;if(a&&o){const c=new FormData;c.set("action","puzzling_save_user_preference"),c.set("nonce",o),c.set("preference","pzl_language"),c.set("value",n),fetch(a,{method:"POST",body:c}).catch(()=>{})}typeof document<"u"&&(document.documentElement.setAttribute("lang",n==="fa"?"fa":"en"),document.documentElement.setAttribute("dir",n==="fa"?"rtl":"ltr")),(n!==s||n==="fa"&&r!=="rtl"||n==="en"&&r!=="ltr")&&typeof window<"u"&&window.location.reload()}function Ag(){if(!document.fullscreenElement&&!document.webkitFullscreenElement&&!document.mozFullScreenElement){const t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()}else document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen()}function Tg(t){let n;if(t.url.startsWith("http"))try{n=new URL(t.url).pathname}catch{n=t.url}else n=t.url;return n.replace(/^\/dashboard\/?/,"")||"/"}function Dg({user:t,profileMenu:n,loginUrl:s,logoutUrl:r,onOpenMobileMenu:a,isRtl:o}){const{setTheme:l,resolved:c}=im();return e.jsxs("header",{dir:o?"rtl":"ltr",className:"sticky top-0 z-40 flex h-14 w-full items-center gap-4 overflow-visible border-b bg-background px-4",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-4 overflow-hidden shrink",children:[a&&e.jsx(E,{variant:"ghost",size:"icon",className:"md:hidden",onClick:a,"aria-label":"Ù…Ù†Ùˆ",children:e.jsx(So,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative w-full max-w-sm",children:[e.jsx(gf,{className:V("absolute top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground",o?"right-3":"left-3")}),e.jsx(W,{type:"search",placeholder:"Ø¬Ø³ØªØ¬Ùˆ...",className:V(o?"pr-9":"pl-9")})]})]}),e.jsxs("div",{className:"flex flex-none shrink-0 items-center gap-2 overflow-visible",role:"toolbar","aria-label":"Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ù‡Ø¯Ø±",children:[e.jsx("a",{href:typeof window<"u"?window.puzzlingcrm?.siteUrl??"/":"/",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground","aria-label":"View Site",children:e.jsx(Jh,{className:"h-4 w-4"})}),e.jsxs(Vn,{children:[e.jsx(Hn,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"icon","aria-label":"Ø²Ø¨Ø§Ù†",children:e.jsx(af,{className:"h-4 w-4"})})}),e.jsxs(ln,{align:"end",children:[e.jsxs(St,{onClick:()=>Ha("fa"),children:[e.jsx("span",{className:V("font-medium",o?"ml-2":"mr-2"),children:"FA"}),"ÙØ§Ø±Ø³ÛŒ"]}),e.jsxs(St,{onClick:()=>Ha("en"),children:[e.jsx("span",{className:V("font-medium",o?"ml-2":"mr-2"),children:"EN"}),"English"]})]})]}),e.jsxs(Vn,{children:[e.jsx(Hn,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"icon","aria-label":"Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§",children:e.jsx(vo,{className:"h-4 w-4"})})}),e.jsxs(ln,{align:"end",className:"w-72",children:[e.jsx(cr,{children:"Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§"}),e.jsx(Wn,{}),e.jsx("div",{className:"py-4 text-center text-sm text-muted-foreground",children:"Ù…ÙˆØ±Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."})]})]}),e.jsx(E,{variant:"ghost",size:"icon",onClick:Ag,"aria-label":"ØªÙ…Ø§Ù…â€ŒØµÙØ­Ù‡",children:e.jsx(uf,{className:"h-4 w-4"})}),e.jsx(E,{variant:"ghost",size:"icon",onClick:()=>l(c==="dark"?"light":"dark"),children:c==="dark"?e.jsx(yf,{className:"h-4 w-4"}):e.jsx(mf,{className:"h-4 w-4"})}),e.jsxs(Vn,{children:[e.jsx(Hn,{asChild:!0,children:e.jsx(E,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(bn,{className:"h-8 w-8",children:[e.jsx(_n,{src:t?.avatar,alt:t?.name}),e.jsx(Nn,{children:t?.name?.slice(0,2)?.toUpperCase()??"U"})]})})}),e.jsxs(ln,{align:"end",className:"w-56",children:[e.jsx(cr,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:t?.name??"User"}),e.jsx("span",{className:"text-xs font-normal text-muted-foreground",children:t?.role??""})]})}),e.jsx(Wn,{}),n.map((d,m)=>e.jsx(St,{asChild:!0,children:e.jsxs(De,{to:Tg(d),children:[e.jsx(Yt,{className:V("h-4 w-4",o?"ml-2":"mr-2")}),d.title]})},`${d.url}-${d.title}-${m}`)),e.jsx(Wn,{}),e.jsx(St,{asChild:!0,children:e.jsxs("a",{href:r??s,children:[e.jsx(df,{className:V("h-4 w-4",o?"ml-2":"mr-2")}),"Ø®Ø±ÙˆØ¬"]})})]})]})]})]})}const tc=i.forwardRef(({...t},n)=>e.jsx("nav",{ref:n,"aria-label":"breadcrumb",...t}));tc.displayName="Breadcrumb";const nc=i.forwardRef(({className:t,...n},s)=>e.jsx("ol",{ref:s,className:V("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...n}));nc.displayName="BreadcrumbList";const dr=i.forwardRef(({className:t,...n},s)=>e.jsx("li",{ref:s,className:V("inline-flex items-center gap-1.5",t),...n}));dr.displayName="BreadcrumbItem";const sc=i.forwardRef(({asChild:t,className:n,...s},r)=>{const a=t?yd:"a";return e.jsx(a,{ref:r,className:V("transition-colors hover:text-foreground",n),...s})});sc.displayName="BreadcrumbLink";const rc=i.forwardRef(({className:t,...n},s)=>e.jsx("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:V("font-normal text-foreground",t),...n}));rc.displayName="BreadcrumbPage";const ac=({children:t,className:n,...s})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:V("[&>svg]:w-3.5 [&>svg]:h-3.5",n),...s,children:t??e.jsx(wo,{})});ac.displayName="BreadcrumbSeparator";function ic(){const t=window.puzzlingcrm;if(!t?.ajaxUrl||!t?.nonce)throw new Error("PuzzlingCRM: ajaxUrl or nonce not found");return{ajaxUrl:t.ajaxUrl,nonce:t.nonce}}function Kt(){return window.puzzlingcrm?.i18n?.server_error??"Ø®Ø·Ø§ÛŒ Ø³Ø±ÙˆØ±"}async function En(t,n){try{const{ajaxUrl:s,nonce:r}=ic();n.set("action",t),n.set("security",r);const a=await fetch(s,{method:"POST",body:n,credentials:"same-origin"});let o;try{o=await a.json()}catch{return{success:!1,message:Kt()}}return a.ok?o:{success:!1,message:o.message??Kt()}}catch(s){return{success:!1,message:s instanceof Error?s.message:Kt()}}}async function ae(t,n={}){try{const{ajaxUrl:s,nonce:r}=ic(),a=Object.entries(n).filter(([,d])=>d!==void 0&&d!=="").map(([d,m])=>[d,String(m)]),o=new URLSearchParams({action:t,security:r,...Object.fromEntries(a)}),l=await fetch(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o.toString(),credentials:"same-origin"});let c;try{c=await l.json()}catch{return{success:!1,message:Kt()}}return l.ok?c:{success:!1,message:c.message??Kt()}}catch(s){return{success:!1,message:s instanceof Error?s.message:Kt()}}}function Se(){return window.puzzlingcrm??null}class Mg extends i.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught:",n,s)}handleRetry=()=>{this.setState({hasError:!1,error:null})};handleRefresh=()=>{window.location.reload()};render(){return this.state.hasError?e.jsxs("div",{className:"flex min-h-[280px] flex-col items-center justify-center gap-4 rounded-lg border border-destructive/30 bg-destructive/5 p-8 text-center",children:[e.jsx(Nf,{className:"h-12 w-12 text-destructive"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:this.state.error?.message??"ÛŒÚ© Ø®Ø·Ø§ÛŒ ØºÛŒØ±Ù…Ù†ØªØ¸Ø±Ù‡ Ø±Ø® Ø¯Ø§Ø¯."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:"outline",onClick:this.handleRetry,children:"ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯"}),e.jsx(E,{onClick:this.handleRefresh,children:"Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¬Ø¯Ø¯ ØµÙØ­Ù‡"})]})]}):this.props.children}}const Ig={dashboard:"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯",projects:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§",contracts:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§",invoices:"Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±Ù‡Ø§",tickets:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§",tasks:"ÙˆØ¸Ø§ÛŒÙ",appointments:"Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øªâ€ŒÙ‡Ø§",leads:"Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§",licenses:"Ù„Ø§ÛŒØ³Ù†Ø³â€ŒÙ‡Ø§",customers:"Ù…Ø´ØªØ±ÛŒØ§Ù†",staff:"Ú©Ø§Ø±Ú©Ù†Ø§Ù†",consultations:"Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§",reports:"Ú¯Ø²Ø§Ø±Ø´Ø§Øª",logs:"Ù„Ø§Ú¯â€ŒÙ‡Ø§",settings:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª",profile:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ù†"};function Og(){const n=Qe().pathname.replace(/^\/dashboard\/?/,"").replace(/^\//,"")||"dashboard";return Ig[n]??n}function Lg(){const t=Se(),n=Qe(),s=Og();if(!t)return e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})});const{user:r,menuItems:a,loginUrl:o,siteUrl:l,logoUrl:c,isRtl:d}=t,m=c??"";let h="PuzzlingCRM";if(l?.trim())try{h=new URL(l).hostname||h}catch{}const u=t.profileMenu??[{title:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ù†",url:"/dashboard/profile",icon:"user"}],f=d===!0,[x,v]=i.useState(!1);return e.jsxs("div",{className:"flex min-h-screen flex-col md:flex-row",dir:f?"rtl":"ltr",children:[e.jsx(Af,{menuItems:a,logoUrl:m,siteName:h,mobileOpen:x,onMobileOpenChange:v,isRtl:f}),e.jsxs("div",{className:V("flex min-w-0 flex-1 flex-col overflow-visible",f&&"text-right"),dir:f?"rtl":"ltr",children:[e.jsx(Dg,{user:r??null,profileMenu:u,loginUrl:o,logoutUrl:t.logoutUrl,onOpenMobileMenu:()=>v(!0),isRtl:f}),e.jsxs("main",{className:V("flex-1 overflow-auto p-4",f?"text-right":"text-left"),dir:f?"rtl":"ltr",children:[e.jsx(tc,{dir:f?"rtl":"ltr",className:"mb-4 [&_ol]:justify-start",children:e.jsxs(nc,{children:[e.jsx(dr,{children:e.jsx(sc,{asChild:!0,children:e.jsx(De,{to:"/",children:"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"})})}),e.jsx(ac,{children:f?e.jsx(Kh,{className:"h-3.5 w-3.5"}):e.jsx(wo,{className:"h-3.5 w-3.5"})}),e.jsx(dr,{children:e.jsx(rc,{children:s})})]})}),e.jsx(Mg,{children:e.jsx(wu,{},n.pathname)})]})]})]})}const Oe=i.forwardRef(({className:t,...n},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:V("w-full caption-bottom text-sm",t),...n})}));Oe.displayName="Table";const Le=i.forwardRef(({className:t,...n},s)=>e.jsx("thead",{ref:s,className:V("[&_tr]:border-b",t),...n}));Le.displayName="TableHeader";const ze=i.forwardRef(({className:t,...n},s)=>e.jsx("tbody",{ref:s,className:V("[&_tr:last-child]:border-0",t),...n}));ze.displayName="TableBody";const zg=i.forwardRef(({className:t,...n},s)=>e.jsx("tfoot",{ref:s,className:V("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n}));zg.displayName="TableFooter";const ge=i.forwardRef(({className:t,...n},s)=>e.jsx("tr",{ref:s,className:V("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...n}));ge.displayName="TableRow";const K=i.forwardRef(({className:t,...n},s)=>e.jsx("th",{ref:s,className:V("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n}));K.displayName="TableHead";const q=i.forwardRef(({className:t,...n},s)=>e.jsx("td",{ref:s,className:V("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n}));q.displayName="TableCell";const Fg=i.forwardRef(({className:t,...n},s)=>e.jsx("caption",{ref:s,className:V("mt-4 text-sm text-muted-foreground",t),...n}));Fg.displayName="TableCaption";const ns=i.forwardRef(({className:t,value:n=0,max:s=100,...r},a)=>{const o=Math.min(100,Math.max(0,n/s*100));return e.jsx("div",{ref:a,role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":s,className:V("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...r,children:e.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${o}%`}})})});ns.displayName="Progress";const $g=Ja("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500/15 text-green-700 dark:text-green-400",warning:"border-transparent bg-amber-500/15 text-amber-700 dark:text-amber-400"}},defaultVariants:{variant:"default"}});function Ne({className:t,variant:n,...s}){return e.jsx("div",{className:V($g({variant:n}),t),...s})}function Me({title:t,value:n,description:s,icon:r}){return e.jsxs(X,{children:[e.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Pe,{className:"text-sm font-medium",children:t}),e.jsx(r,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Z,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n}),s!=null&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s})]})]})}function ve(t,n){return n?t.toLocaleString("fa-IR"):t.toLocaleString()}function Bg({data:t,labels:n,max:s}){const r=s??Math.max(...t,1);return e.jsx("div",{className:"flex h-[200px] items-end gap-1",children:t.map((a,o)=>e.jsxs("div",{className:"flex flex-1 flex-col items-center gap-1",children:[e.jsx("div",{className:"w-full min-h-[4px] rounded-t bg-primary transition-all",style:{height:`${a/r*100}%`}}),e.jsx("span",{className:"text-[10px] text-muted-foreground truncate max-w-full",title:n[o],children:n[o]})]},o))})}function Vg({values:t,labels:n}){const s=t.reduce((o,l)=>o+l,0)||1,r=t.reduce((o,l,c)=>{const d=o.length?o[o.length-1].pct:0;return o.push({pct:d+l/s*100,color:["hsl(var(--primary))","#22c55e","#eab308"][c]||"#6b7280"}),o},[]),a=r.map((o,l)=>{const c=l===0?0:r[l-1].pct;return`${o.color} ${c}% ${o.pct}%`}).join(", ");return e.jsxs("div",{className:"flex h-[200px] flex-col items-center justify-center gap-2",children:[e.jsx("div",{className:"h-32 w-32 rounded-full",style:{background:`conic-gradient(from 0deg, ${a})`}}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 text-xs",children:n.map((o,l)=>e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"h-2 w-2 rounded-full",style:{background:["hsl(var(--primary))","#22c55e","#eab308"][l]||"#6b7280"}}),o,": ",ve(t[l])]},l))})]})}function Hg(){const[t,n]=i.useState(null),[s,r]=i.useState(!0),o=Se()?.isRtl===!0;i.useEffect(()=>{let x=!1;return ae("puzzlingcrm_get_dashboard_full",{}).then(v=>{x||v.success&&v.data&&n(v.data)}).finally(()=>{x||r(!1)}),()=>{x=!0}},[]);const l=t?.stats??{new_projects_this_month:0,new_projects_growth:0,completed_projects:0,in_progress_projects:0,pending_projects:0,total_tasks:0,completed_tasks:0,total_revenue:0,completion_rate:0},c=t?.team??[],d=t?.running_projects??[],m=t?.daily_tasks??[],h=t?.projects_table??[],u=t?.revenue_data??{values:[],labels:[]},f=t?.monthly_goals??{new_projects:0,completed:0,pending:0};return s?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(x=>e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})})},x))})}):e.jsxs("div",{className:"space-y-4",dir:o?"rtl":"ltr",children:[e.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx(X,{className:"overflow-hidden bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:e.jsx(Z,{className:"flex flex-row items-center justify-between p-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsx("p",{className:"text-sm opacity-90",children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø§ ÛŒÚ© Ú©Ù„ÛŒÚ© Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯."}),e.jsx(E,{asChild:!0,size:"sm",className:"mt-2",variant:"secondary",children:e.jsxs(De,{to:"/projects",children:["Ù‡Ù…ÛŒÙ† Ø§Ù„Ø§Ù† Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯ ",e.jsx(Hh,{className:"h-4 w-4"})]})})]})})}),e.jsxs(X,{children:[e.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[e.jsx(Pe,{children:"ØªÛŒÙ…"}),e.jsx(E,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(De,{to:"/staff",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡"})})]}),e.jsx(Z,{className:"p-0",children:e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"Ù†Ø§Ù…"}),e.jsx(K,{children:"ÙˆØ¸Ø§ÛŒÙ"}),e.jsx(K,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(K,{children:"Ù¾ÛŒØ´Ø±ÙØª"}),e.jsx(K,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(ze,{children:c.length===0?e.jsx(ge,{children:e.jsx(q,{colSpan:5,className:"text-center text-muted-foreground",children:"Ù…ÙˆØ±Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯"})}):c.map(x=>e.jsxs(ge,{children:[e.jsx(q,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(bn,{className:"h-8 w-8",children:[e.jsx(_n,{src:x.avatar}),e.jsx(Nn,{children:x.name.slice(0,2)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:x.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:x.role})]})]})}),e.jsx(q,{children:ve(x.total_tasks,o)}),e.jsx(q,{children:e.jsx(Ne,{variant:x.is_online?"default":"secondary",children:x.is_online?"Ø¢Ù†Ù„Ø§ÛŒÙ†":"Ø¢ÙÙ„Ø§ÛŒÙ†"})}),e.jsxs(q,{children:[ve(x.completed_tasks,o)," / ",ve(x.total_tasks,o)]}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(E,{variant:"ghost",size:"icon",children:e.jsx(ps,{className:"h-4 w-4"})}),e.jsx(E,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx("a",{href:`mailto:${x.id}`,children:e.jsx(wd,{className:"h-4 w-4"})})}),e.jsx(E,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(De,{to:`/staff?user=${x.id}`,children:e.jsx(ia,{className:"h-4 w-4"})})})]})})]},x.id))})]})})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-1",children:[e.jsx(Me,{title:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯",value:ve(l.new_projects_this_month??0,o),description:`${(l.new_projects_growth??0)>=0?"+":""}${ve(Math.round(l.new_projects_growth??0),o)}Ùª`,icon:st}),e.jsx(Me,{title:"ØªÚ©Ù…ÛŒÙ„â€ŒØ´Ø¯Ù‡",value:ve(l.completed_projects??0,o),icon:un}),e.jsx(Me,{title:"Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…",value:ve(l.in_progress_projects??0,o),icon:st}),e.jsx(Me,{title:"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±",value:ve(l.pending_projects??0,o),icon:kt})]})})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[e.jsxs(X,{className:"lg:col-span-2",children:[e.jsx(Re,{children:e.jsx(Pe,{children:"Ø¢Ù…Ø§Ø± Ù¾Ø±ÙˆÚ˜Ù‡"})}),e.jsxs(Z,{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ Ø¯Ø±Ø¢Ù…Ø¯"}),e.jsx("p",{className:"text-xl font-bold",children:ve(l.total_revenue??0,o)})]})}),e.jsx(Bg,{data:u.values,labels:u.labels})]})]}),e.jsxs(X,{children:[e.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[e.jsx(Pe,{children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§"}),e.jsx(E,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(De,{to:"/projects",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡"})})]}),e.jsx(Z,{children:d.length===0?e.jsx("p",{className:"text-center text-sm text-muted-foreground py-4",children:"Ù¾Ø±ÙˆÚ˜Ù‡ ÙØ¹Ø§Ù„ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯"}):e.jsx("div",{className:"space-y-4",children:d.map(x=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx(De,{to:`/projects/${x.id}`,className:"font-medium hover:underline",children:x.title}),e.jsxs("span",{className:"text-muted-foreground",children:[x.progress,"Ùª"]})]}),e.jsx(ns,{value:x.progress})]},x.id))})})]})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[e.jsxs(X,{children:[e.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[e.jsx(Pe,{children:"Ø§Ù‡Ø¯Ø§Ù Ù…Ø§Ù‡Ø§Ù†Ù‡"}),e.jsx(E,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(De,{to:"/reports",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡"})})]}),e.jsx(Z,{children:e.jsx(Vg,{values:[f.new_projects,f.completed,f.pending],labels:["Ø¬Ø¯ÛŒØ¯","ØªÚ©Ù…ÛŒÙ„â€ŒØ´Ø¯Ù‡","Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"]})})]}),e.jsxs(X,{className:"lg:col-span-2",children:[e.jsx(Re,{children:e.jsx(Pe,{children:"ÙˆØ¸Ø§ÛŒÙ Ø±ÙˆØ²Ø§Ù†Ù‡"})}),e.jsx(Z,{children:m.length===0?e.jsx("p",{className:"text-center text-sm text-muted-foreground py-4",children:"ÙˆØ¸ÛŒÙÙ‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ù…Ø±ÙˆØ² ØªØ¹ÛŒÛŒÙ† Ù†Ø´Ø¯Ù‡"}):e.jsx("div",{className:"space-y-2",children:m.map(x=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:x.title}),x.project&&e.jsx(Ne,{variant:"outline",className:"mt-1",children:x.project})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:x.due_time||x.due_date})]},x.id))})})]})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[e.jsxs(X,{className:"lg:col-span-2",children:[e.jsx(Re,{children:e.jsx(Pe,{children:"Ø®Ù„Ø§ØµÙ‡ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"})}),e.jsx(Z,{className:"p-0",children:e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"#"}),e.jsx(K,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(K,{children:"ÙˆØ¸Ø§ÛŒÙ"}),e.jsx(K,{children:"Ù¾ÛŒØ´Ø±ÙØª"}),e.jsx(K,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(K,{children:"ØªØ§Ø±ÛŒØ®"}),e.jsx(K,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(ze,{children:h.length===0?e.jsx(ge,{children:e.jsx(q,{colSpan:7,className:"text-center text-muted-foreground",children:"Ù…ÙˆØ±Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯"})}):h.map((x,v)=>e.jsxs(ge,{children:[e.jsx(q,{children:ve(v+1,o)}),e.jsx(q,{className:"font-medium",children:x.title}),e.jsxs(q,{children:[ve(x.done_tasks,o)," / ",ve(x.total_tasks,o)]}),e.jsx(q,{children:e.jsx(ns,{value:x.progress,className:"w-20"})}),e.jsx(q,{children:e.jsx(Ne,{variant:"outline",children:x.status})}),e.jsx(q,{children:x.due_date||"-"}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(E,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(De,{to:`/projects/${x.id}`,children:e.jsx(ia,{className:"h-4 w-4"})})}),e.jsx(E,{variant:"ghost",size:"icon",children:e.jsx(tt,{className:"h-4 w-4"})}),e.jsx(E,{variant:"ghost",size:"icon",children:e.jsx(We,{className:"h-4 w-4"})})]})})]},x.id))})]})})]}),e.jsxs(X,{children:[e.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[e.jsx(Pe,{children:"Ø®Ù„Ø§ØµÙ‡ ÙˆØ¸Ø§ÛŒÙ"}),e.jsx(E,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(De,{to:"/tasks",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡"})})]}),e.jsx(Z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù†Ø±Ø® ØªÚ©Ù…ÛŒÙ„"}),e.jsxs("p",{className:"text-2xl font-bold",children:[ve(Math.round(l.completion_rate??0),o),"Ùª"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡"}),e.jsx("span",{children:ve(l.completed_tasks??0,o)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…"}),e.jsx("span",{children:ve((l.total_tasks??0)-(l.completed_tasks??0),o)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Ù…Ø¹ÙˆÙ‚"}),e.jsx("span",{children:ve(l.overdue_tasks??0,o)})]})]})]})})]})]})]})}function Wg(){const[t,n]=i.useState(null),[s,r]=i.useState(!0),o=Se()?.isRtl===!0;i.useEffect(()=>{let c=!1;return ae("puzzlingcrm_get_team_member_stats",{}).then(d=>{c||d.success&&d.data&&n(d.data)}).finally(()=>{c||r(!1)}),()=>{c=!0}},[]);const l=t??{total_tasks:0,completed_tasks:0,in_progress_tasks:0,overdue_tasks:0,total_projects:0,completion_rate:0,open_tickets:0};return s?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(c=>e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})})},c))}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",dir:o?"rtl":"ltr",children:[e.jsx(Me,{title:"ÙˆØ¸Ø§ÛŒÙ Ù…Ù†",value:ve(l.total_tasks,o),description:l.completion_rate!=null?`${ve(Math.round(l.completion_rate),o)}Ùª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡`:void 0,icon:kt}),e.jsx(Me,{title:"ÙˆØ¸Ø§ÛŒÙ Ø§Ù†Ø¬Ø§Ù…â€ŒØ´Ø¯Ù‡",value:ve(l.completed_tasks,o),icon:un}),e.jsx(Me,{title:"ÙˆØ¸Ø§ÛŒÙ Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…",value:ve(l.in_progress_tasks,o),icon:st}),e.jsx(Me,{title:"ÙˆØ¸Ø§ÛŒÙ Ù…Ø¹ÙˆÙ‚",value:ve(l.overdue_tasks,o),icon:kt}),e.jsx(Me,{title:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù†",value:ve(l.total_projects,o),icon:st}),e.jsx(Me,{title:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²",value:ve(l.open_tickets,o),icon:zr})]})}function Ug(){const[t,n]=i.useState(null),[s,r]=i.useState(!0),o=Se()?.isRtl===!0;i.useEffect(()=>{let c=!1;return ae("puzzlingcrm_get_client_stats",{}).then(d=>{c||d.success&&d.data&&n(d.data)}).finally(()=>{c||r(!1)}),()=>{c=!0}},[]);const l=t??{total_projects:0,active_projects:0,open_tickets:0,total_contracts:0,total_value:0,paid_amount:0,pending_amount:0};return s?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(c=>e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})})},c))}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",dir:o?"rtl":"ltr",children:[e.jsx(Me,{title:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù†",value:ve(l.total_projects,o),description:l.active_projects!=null?`${ve(l.active_projects,o)} ÙØ¹Ø§Ù„`:void 0,icon:st}),e.jsx(Me,{title:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§",value:ve(l.total_contracts,o),icon:un}),e.jsx(Me,{title:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²",value:ve(l.open_tickets,o),icon:zr}),e.jsx(Me,{title:"Ù…Ø¨Ù„Øº Ú©Ù„ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§",value:ve(l.total_value,o),icon:_f}),e.jsx(Me,{title:"Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒØ´Ø¯Ù‡",value:ve(l.paid_amount,o),icon:un}),e.jsx(Me,{title:"Ù…Ø§Ù†Ø¯Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª",value:ve(l.pending_amount,o),icon:kt})]})}function qg(){const t=Se(),n=t?.user?.roleSlug??"client",s=t?.isRtl===!0;return e.jsxs("div",{className:"space-y-4",dir:s?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"}),n==="system_manager"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(ef,{className:"h-4 w-4"})," ÙÛŒÙ„ØªØ±"]}),e.jsxs(E,{size:"sm",children:[e.jsx(vf,{className:"h-4 w-4"})," Ø§Ø´ØªØ±Ø§Ú©"]})]})]}),n==="system_manager"&&e.jsx(Hg,{}),n==="team_member"&&e.jsx(Wg,{}),(n==="client"||n==="finance_manager"||!n)&&e.jsx(Ug,{})]})}const Je=Pr,Kg=Ar,oc=i.forwardRef(({className:t,...n},s)=>e.jsx(vn,{ref:s,className:V("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n}));oc.displayName=vn.displayName;const Ue=i.forwardRef(({className:t,children:n,showClose:s=!0,...r},a)=>e.jsxs(Kg,{children:[e.jsx(oc,{}),e.jsxs(jn,{ref:a,className:V("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[n,s&&e.jsxs(Tr,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(kf,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ue.displayName=jn.displayName;const qe=({className:t,...n})=>e.jsx("div",{className:V("flex flex-col space-y-1.5 text-center sm:text-left",t),...n});qe.displayName="DialogHeader";const Ke=({className:t,...n})=>e.jsx("div",{className:V("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});Ke.displayName="DialogFooter";const Ge=i.forwardRef(({className:t,...n},s)=>e.jsx(yn,{ref:s,className:V("text-lg font-semibold leading-none tracking-tight",t),...n}));Ge.displayName=yn.displayName;const Gg=i.forwardRef(({className:t,...n},s)=>e.jsx(wn,{ref:s,className:V("text-sm text-muted-foreground",t),...n}));Gg.displayName=wn.displayName;function Yg(t){const n=Xg(t),s=i.forwardRef((r,a)=>{const{children:o,...l}=r,c=i.Children.toArray(o),d=c.find(Jg);if(d){const m=d.props.children,h=c.map(u=>u===d?i.Children.count(m)>1?i.Children.only(null):i.isValidElement(m)?m.props.children:null:u);return e.jsx(n,{...l,ref:a,children:i.isValidElement(m)?i.cloneElement(m,void 0,h):null})}return e.jsx(n,{...l,ref:a,children:o})});return s.displayName=`${t}.Slot`,s}function Xg(t){const n=i.forwardRef((s,r)=>{const{children:a,...o}=s;if(i.isValidElement(a)){const l=ev(a),c=Qg(o,a.props);return a.type!==i.Fragment&&(c.ref=r?pn(r,l):l),i.cloneElement(a,c)}return i.Children.count(a)>1?i.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var Zg=Symbol("radix.slottable");function Jg(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Zg}function Qg(t,n){const s={...n};for(const r in n){const a=t[r],o=n[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...c)=>{const d=o(...c);return a(...c),d}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...t,...s}}function ev(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function tv(t){const n=i.useRef({value:t,previous:t});return i.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var lc=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nv="VisuallyHidden",sv=i.forwardRef((t,n)=>e.jsx(fe.span,{...t,ref:n,style:{...lc,...t.style}}));sv.displayName=nv;var rv=[" ","Enter","ArrowUp","ArrowDown"],av=[" ","Enter"],Lt="Select",[Ss,Cs,iv]=ei(Lt),[sn]=Ft(Lt,[iv,ws]),ks=ws(),[ov,Tt]=sn(Lt),[lv,cv]=sn(Lt),cc=t=>{const{__scopeSelect:n,children:s,open:r,defaultOpen:a,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:m,name:h,autoComplete:u,disabled:f,required:x,form:v}=t,p=ks(n),[g,j]=i.useState(null),[w,b]=i.useState(null),[_,S]=i.useState(!1),I=xr(m),[N,C]=Un({prop:r,defaultProp:a??!1,onChange:o,caller:Lt}),[L,k]=Un({prop:l,defaultProp:c,onChange:d,caller:Lt}),P=i.useRef(null),z=g?v||!!g.closest("form"):!0,[J,Q]=i.useState(new Set),D=Array.from(J).map(M=>M.props.value).join(";");return e.jsx(al,{...p,children:e.jsxs(ov,{required:x,scope:n,trigger:g,onTriggerChange:j,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Ct(),value:L,onValueChange:k,open:N,onOpenChange:C,dir:I,triggerPointerDownPosRef:P,disabled:f,children:[e.jsx(Ss.Provider,{scope:n,children:e.jsx(lv,{scope:t.__scopeSelect,onNativeOptionAdd:i.useCallback(M=>{Q(re=>new Set(re).add(M))},[]),onNativeOptionRemove:i.useCallback(M=>{Q(re=>{const G=new Set(re);return G.delete(M),G})},[]),children:s})}),z?e.jsxs(Dc,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:u,value:L,onChange:M=>k(M.target.value),disabled:f,form:v,children:[L===void 0?e.jsx("option",{value:""}):null,Array.from(J)]},D):null]})})};cc.displayName=Lt;var dc="SelectTrigger",uc=i.forwardRef((t,n)=>{const{__scopeSelect:s,disabled:r=!1,...a}=t,o=ks(s),l=Tt(dc,s),c=l.disabled||r,d=je(n,l.onTriggerChange),m=Cs(s),h=i.useRef("touch"),[u,f,x]=Ic(p=>{const g=m().filter(b=>!b.disabled),j=g.find(b=>b.value===l.value),w=Oc(g,p,j);w!==void 0&&l.onValueChange(w.value)}),v=p=>{c||(l.onOpenChange(!0),x()),p&&(l.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(il,{asChild:!0,...o,children:e.jsx(fe.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Mc(l.value)?"":void 0,...a,ref:d,onClick:se(a.onClick,p=>{p.currentTarget.focus(),h.current!=="mouse"&&v(p)}),onPointerDown:se(a.onPointerDown,p=>{h.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:se(a.onKeyDown,p=>{const g=u.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(g&&p.key===" ")&&rv.includes(p.key)&&(v(),p.preventDefault())})})})});uc.displayName=dc;var mc="SelectValue",hc=i.forwardRef((t,n)=>{const{__scopeSelect:s,className:r,style:a,children:o,placeholder:l="",...c}=t,d=Tt(mc,s),{onValueNodeHasChildrenChange:m}=d,h=o!==void 0,u=je(n,d.onValueNodeChange);return Ie(()=>{m(h)},[m,h]),e.jsx(fe.span,{...c,ref:u,style:{pointerEvents:"none"},children:Mc(d.value)?e.jsx(e.Fragment,{children:l}):o})});hc.displayName=mc;var dv="SelectIcon",fc=i.forwardRef((t,n)=>{const{__scopeSelect:s,children:r,...a}=t;return e.jsx(fe.span,{"aria-hidden":!0,...a,ref:n,children:r||"â–¼"})});fc.displayName=dv;var uv="SelectPortal",pc=t=>e.jsx(cs,{asChild:!0,...t});pc.displayName=uv;var zt="SelectContent",xc=i.forwardRef((t,n)=>{const s=Tt(zt,t.__scopeSelect),[r,a]=i.useState();if(Ie(()=>{a(new DocumentFragment)},[]),!s.open){const o=r;return o?gr.createPortal(e.jsx(gc,{scope:t.__scopeSelect,children:e.jsx(Ss.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),o):null}return e.jsx(vc,{...t,ref:n})});xc.displayName=zt;var nt=10,[gc,Dt]=sn(zt),mv="SelectContentImpl",hv=Yg("SelectContent.RemoveScroll"),vc=i.forwardRef((t,n)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:m,alignOffset:h,arrowPadding:u,collisionBoundary:f,collisionPadding:x,sticky:v,hideWhenDetached:p,avoidCollisions:g,...j}=t,w=Tt(zt,s),[b,_]=i.useState(null),[S,I]=i.useState(null),N=je(n,y=>_(y)),[C,L]=i.useState(null),[k,P]=i.useState(null),z=Cs(s),[J,Q]=i.useState(!1),D=i.useRef(!1);i.useEffect(()=>{if(b)return Cr(b)},[b]),Sr();const M=i.useCallback(y=>{const[R,...Y]=z().map(be=>be.ref.current),[pe]=Y.slice(-1),xe=document.activeElement;for(const be of y)if(be===xe||(be?.scrollIntoView({block:"nearest"}),be===R&&S&&(S.scrollTop=0),be===pe&&S&&(S.scrollTop=S.scrollHeight),be?.focus(),document.activeElement!==xe))return},[z,S]),re=i.useCallback(()=>M([C,b]),[M,C,b]);i.useEffect(()=>{J&&re()},[J,re]);const{onOpenChange:G,triggerPointerDownPosRef:H}=w;i.useEffect(()=>{if(b){let y={x:0,y:0};const R=pe=>{y={x:Math.abs(Math.round(pe.pageX)-(H.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(H.current?.y??0))}},Y=pe=>{y.x<=10&&y.y<=10?pe.preventDefault():b.contains(pe.target)||G(!1),document.removeEventListener("pointermove",R),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",R),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",Y,{capture:!0})}}},[b,G,H]),i.useEffect(()=>{const y=()=>G(!1);return window.addEventListener("blur",y),window.addEventListener("resize",y),()=>{window.removeEventListener("blur",y),window.removeEventListener("resize",y)}},[G]);const[le,$]=Ic(y=>{const R=z().filter(xe=>!xe.disabled),Y=R.find(xe=>xe.ref.current===document.activeElement),pe=Oc(R,y,Y);pe&&setTimeout(()=>pe.ref.current.focus())}),U=i.useCallback((y,R,Y)=>{const pe=!D.current&&!Y;(w.value!==void 0&&w.value===R||pe)&&(L(y),pe&&(D.current=!0))},[w.value]),ce=i.useCallback(()=>b?.focus(),[b]),A=i.useCallback((y,R,Y)=>{const pe=!D.current&&!Y;(w.value!==void 0&&w.value===R||pe)&&P(y)},[w.value]),te=r==="popper"?ur:jc,T=te===ur?{side:c,sideOffset:d,align:m,alignOffset:h,arrowPadding:u,collisionBoundary:f,collisionPadding:x,sticky:v,hideWhenDetached:p,avoidCollisions:g}:{};return e.jsx(gc,{scope:s,content:b,viewport:S,onViewportChange:I,itemRefCallback:U,selectedItem:C,onItemLeave:ce,itemTextRefCallback:A,focusSelectedItem:re,selectedItemText:k,position:r,isPositioned:J,searchRef:le,children:e.jsx(us,{as:hv,allowPinchZoom:!0,children:e.jsx(ls,{asChild:!0,trapped:w.open,onMountAutoFocus:y=>{y.preventDefault()},onUnmountAutoFocus:se(a,y=>{w.trigger?.focus({preventScroll:!0}),y.preventDefault()}),children:e.jsx(os,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:y=>y.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:e.jsx(te,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:y=>y.preventDefault(),...j,...T,onPlaced:()=>Q(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:se(j.onKeyDown,y=>{const R=y.ctrlKey||y.altKey||y.metaKey;if(y.key==="Tab"&&y.preventDefault(),!R&&y.key.length===1&&$(y.key),["ArrowUp","ArrowDown","Home","End"].includes(y.key)){let pe=z().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(y.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(y.key)){const xe=y.target,be=pe.indexOf(xe);pe=pe.slice(be+1)}setTimeout(()=>M(pe)),y.preventDefault()}})})})})})})});vc.displayName=mv;var fv="SelectItemAlignedPosition",jc=i.forwardRef((t,n)=>{const{__scopeSelect:s,onPlaced:r,...a}=t,o=Tt(zt,s),l=Dt(zt,s),[c,d]=i.useState(null),[m,h]=i.useState(null),u=je(n,N=>h(N)),f=Cs(s),x=i.useRef(!1),v=i.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:j,focusSelectedItem:w}=l,b=i.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&m&&p&&g&&j){const N=o.trigger.getBoundingClientRect(),C=m.getBoundingClientRect(),L=o.valueNode.getBoundingClientRect(),k=j.getBoundingClientRect();if(o.dir!=="rtl"){const xe=k.left-C.left,be=L.left-xe,ke=N.left-be,$e=N.width+ke,gt=Math.max($e,C.width),Mt=window.innerWidth-nt,O=rr(be,[nt,Math.max(nt,Mt-gt)]);c.style.minWidth=$e+"px",c.style.left=O+"px"}else{const xe=C.right-k.right,be=window.innerWidth-L.right-xe,ke=window.innerWidth-N.right-be,$e=N.width+ke,gt=Math.max($e,C.width),Mt=window.innerWidth-nt,O=rr(be,[nt,Math.max(nt,Mt-gt)]);c.style.minWidth=$e+"px",c.style.right=O+"px"}const P=f(),z=window.innerHeight-nt*2,J=p.scrollHeight,Q=window.getComputedStyle(m),D=parseInt(Q.borderTopWidth,10),M=parseInt(Q.paddingTop,10),re=parseInt(Q.borderBottomWidth,10),G=parseInt(Q.paddingBottom,10),H=D+M+J+G+re,le=Math.min(g.offsetHeight*5,H),$=window.getComputedStyle(p),U=parseInt($.paddingTop,10),ce=parseInt($.paddingBottom,10),A=N.top+N.height/2-nt,te=z-A,T=g.offsetHeight/2,y=g.offsetTop+T,R=D+M+y,Y=H-R;if(R<=A){const xe=P.length>0&&g===P[P.length-1].ref.current;c.style.bottom="0px";const be=m.clientHeight-p.offsetTop-p.offsetHeight,ke=Math.max(te,T+(xe?ce:0)+be+re),$e=R+ke;c.style.height=$e+"px"}else{const xe=P.length>0&&g===P[0].ref.current;c.style.top="0px";const ke=Math.max(A,D+p.offsetTop+(xe?U:0)+T)+Y;c.style.height=ke+"px",p.scrollTop=R-A+p.offsetTop}c.style.margin=`${nt}px 0`,c.style.minHeight=le+"px",c.style.maxHeight=z+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[f,o.trigger,o.valueNode,c,m,p,g,j,o.dir,r]);Ie(()=>b(),[b]);const[_,S]=i.useState();Ie(()=>{m&&S(window.getComputedStyle(m).zIndex)},[m]);const I=i.useCallback(N=>{N&&v.current===!0&&(b(),w?.(),v.current=!1)},[b,w]);return e.jsx(xv,{scope:s,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:I,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:e.jsx(fe.div,{...a,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});jc.displayName=fv;var pv="SelectPopperPosition",ur=i.forwardRef((t,n)=>{const{__scopeSelect:s,align:r="start",collisionPadding:a=nt,...o}=t,l=ks(s);return e.jsx(ol,{...l,...o,ref:n,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ur.displayName=pv;var[xv,sa]=sn(zt,{}),mr="SelectViewport",yc=i.forwardRef((t,n)=>{const{__scopeSelect:s,nonce:r,...a}=t,o=Dt(mr,s),l=sa(mr,s),c=je(n,o.onViewportChange),d=i.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(Ss.Slot,{scope:s,children:e.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:se(a.onScroll,m=>{const h=m.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=l;if(f?.current&&u){const x=Math.abs(d.current-h.scrollTop);if(x>0){const v=window.innerHeight-nt*2,p=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),j=Math.max(p,g);if(j<v){const w=j+x,b=Math.min(v,w),_=w-b;u.style.height=b+"px",u.style.bottom==="0px"&&(h.scrollTop=_>0?_:0,u.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});yc.displayName=mr;var wc="SelectGroup",[gv,vv]=sn(wc),jv=i.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t,a=Ct();return e.jsx(gv,{scope:s,id:a,children:e.jsx(fe.div,{role:"group","aria-labelledby":a,...r,ref:n})})});jv.displayName=wc;var bc="SelectLabel",_c=i.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t,a=vv(bc,s);return e.jsx(fe.div,{id:a.id,...r,ref:n})});_c.displayName=bc;var ss="SelectItem",[yv,Nc]=sn(ss),Sc=i.forwardRef((t,n)=>{const{__scopeSelect:s,value:r,disabled:a=!1,textValue:o,...l}=t,c=Tt(ss,s),d=Dt(ss,s),m=c.value===r,[h,u]=i.useState(o??""),[f,x]=i.useState(!1),v=je(n,w=>d.itemRefCallback?.(w,r,a)),p=Ct(),g=i.useRef("touch"),j=()=>{a||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(yv,{scope:s,value:r,disabled:a,textId:p,isSelected:m,onItemTextChange:i.useCallback(w=>{u(b=>b||(w?.textContent??"").trim())},[]),children:e.jsx(Ss.ItemSlot,{scope:s,value:r,disabled:a,textValue:h,children:e.jsx(fe.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":m&&f,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:v,onFocus:se(l.onFocus,()=>x(!0)),onBlur:se(l.onBlur,()=>x(!1)),onClick:se(l.onClick,()=>{g.current!=="mouse"&&j()}),onPointerUp:se(l.onPointerUp,()=>{g.current==="mouse"&&j()}),onPointerDown:se(l.onPointerDown,w=>{g.current=w.pointerType}),onPointerMove:se(l.onPointerMove,w=>{g.current=w.pointerType,a?d.onItemLeave?.():g.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(l.onPointerLeave,w=>{w.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:se(l.onKeyDown,w=>{d.searchRef?.current!==""&&w.key===" "||(av.includes(w.key)&&j(),w.key===" "&&w.preventDefault())})})})})});Sc.displayName=ss;var on="SelectItemText",Cc=i.forwardRef((t,n)=>{const{__scopeSelect:s,className:r,style:a,...o}=t,l=Tt(on,s),c=Dt(on,s),d=Nc(on,s),m=cv(on,s),[h,u]=i.useState(null),f=je(n,j=>u(j),d.onItemTextChange,j=>c.itemTextRefCallback?.(j,d.value,d.disabled)),x=h?.textContent,v=i.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=m;return Ie(()=>(p(v),()=>g(v)),[p,g,v]),e.jsxs(e.Fragment,{children:[e.jsx(fe.span,{id:d.textId,...o,ref:f}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?gr.createPortal(o.children,l.valueNode):null]})});Cc.displayName=on;var kc="SelectItemIndicator",Ec=i.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t;return Nc(kc,s).isSelected?e.jsx(fe.span,{"aria-hidden":!0,...r,ref:n}):null});Ec.displayName=kc;var hr="SelectScrollUpButton",Rc=i.forwardRef((t,n)=>{const s=Dt(hr,t.__scopeSelect),r=sa(hr,t.__scopeSelect),[a,o]=i.useState(!1),l=je(n,r.onScrollButtonChange);return Ie(()=>{if(s.viewport&&s.isPositioned){let c=function(){const m=d.scrollTop>0;o(m)};const d=s.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),a?e.jsx(Ac,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=s;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});Rc.displayName=hr;var fr="SelectScrollDownButton",Pc=i.forwardRef((t,n)=>{const s=Dt(fr,t.__scopeSelect),r=sa(fr,t.__scopeSelect),[a,o]=i.useState(!1),l=je(n,r.onScrollButtonChange);return Ie(()=>{if(s.viewport&&s.isPositioned){let c=function(){const m=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<m;o(h)};const d=s.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),a?e.jsx(Ac,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=s;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Pc.displayName=fr;var Ac=i.forwardRef((t,n)=>{const{__scopeSelect:s,onAutoScroll:r,...a}=t,o=Dt("SelectScrollButton",s),l=i.useRef(null),c=Cs(s),d=i.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return i.useEffect(()=>()=>d(),[d]),Ie(()=>{c().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(fe.div,{"aria-hidden":!0,...a,ref:n,style:{flexShrink:0,...a.style},onPointerDown:se(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:se(a.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:se(a.onPointerLeave,()=>{d()})})}),wv="SelectSeparator",Tc=i.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t;return e.jsx(fe.div,{"aria-hidden":!0,...r,ref:n})});Tc.displayName=wv;var pr="SelectArrow",bv=i.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t,a=ks(s),o=Tt(pr,s),l=Dt(pr,s);return o.open&&l.position==="popper"?e.jsx(ll,{...a,...r,ref:n}):null});bv.displayName=pr;var _v="SelectBubbleInput",Dc=i.forwardRef(({__scopeSelect:t,value:n,...s},r)=>{const a=i.useRef(null),o=je(r,a),l=tv(n);return i.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==n&&h){const u=new Event("change",{bubbles:!0});h.call(c,n),c.dispatchEvent(u)}},[l,n]),e.jsx(fe.select,{...s,style:{...lc,...s.style},ref:o,defaultValue:n})});Dc.displayName=_v;function Mc(t){return t===""||t===void 0}function Ic(t){const n=Ae(t),s=i.useRef(""),r=i.useRef(0),a=i.useCallback(l=>{const c=s.current+l;n(c),(function d(m){s.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[n]),o=i.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return i.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,o]}function Oc(t,n,s){const a=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,o=s?t.indexOf(s):-1;let l=Nv(t,Math.max(o,0));a.length===1&&(l=l.filter(m=>m!==s));const d=l.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==s?d:void 0}function Nv(t,n){return t.map((s,r)=>t[(n+r)%t.length])}var Sv=cc,Lc=uc,Cv=hc,kv=fc,Ev=pc,zc=xc,Rv=yc,Fc=_c,$c=Sc,Pv=Cc,Av=Ec,Bc=Rc,Vc=Pc,Hc=Tc;const me=Sv,he=Cv,de=i.forwardRef(({className:t,children:n,...s},r)=>e.jsxs(Lc,{ref:r,className:V("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[n,e.jsx(kv,{asChild:!0,children:e.jsx(yo,{className:"h-4 w-4 opacity-50"})})]}));de.displayName=Lc.displayName;const Wc=i.forwardRef(({className:t,...n},s)=>e.jsx(Bc,{ref:s,className:V("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(Gh,{className:"h-4 w-4"})}));Wc.displayName=Bc.displayName;const Uc=i.forwardRef(({className:t,...n},s)=>e.jsx(Vc,{ref:s,className:V("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(yo,{className:"h-4 w-4"})}));Uc.displayName=Vc.displayName;const ue=i.forwardRef(({className:t,children:n,position:s="popper",...r},a)=>e.jsx(Ev,{children:e.jsxs(zc,{ref:a,className:V("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...r,children:[e.jsx(Wc,{}),e.jsx(Rv,{className:V("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(Uc,{})]})}));ue.displayName=zc.displayName;const Tv=i.forwardRef(({className:t,...n},s)=>e.jsx(Fc,{ref:s,className:V("px-2 py-1.5 text-sm font-semibold",t),...n}));Tv.displayName=Fc.displayName;const ne=i.forwardRef(({className:t,children:n,...s},r)=>e.jsxs($c,{ref:r,className:V("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Av,{children:e.jsx(qh,{className:"h-4 w-4"})})}),e.jsx(Pv,{children:n})]}));ne.displayName=$c.displayName;const Dv=i.forwardRef(({className:t,...n},s)=>e.jsx(Hc,{ref:s,className:V("-mx-1 my-1 h-px bg-muted",t),...n}));Dv.displayName=Hc.displayName;async function Mv(t){return await ae("puzzling_get_leads",t)}async function Iv(t){const n={first_name:t.first_name,last_name:t.last_name,mobile:t.mobile};return t.email?.trim()&&(n.email=t.email.trim()),t.business_name?.trim()&&(n.business_name=t.business_name.trim()),t.gender?.trim()&&(n.gender=t.gender.trim()),t.notes?.trim()&&(n.notes=t.notes.trim()),ae("puzzling_add_lead",n)}function Ov(){const n=Se()?.isRtl===!0,[s,r]=i.useState([]),[a,o]=i.useState(0),[l,c]=i.useState([]),[d,m]=i.useState(!0),[h,u]=i.useState(null),[f,x]=i.useState(!1),[v,p]=i.useState(!1),[g,j]=i.useState({first_name:"",last_name:"",mobile:"",email:"",business_name:"",gender:"",notes:""}),w=async()=>{m(!0),u(null);try{const _=await Mv({paged:1,per_page:20});if(_.success&&_.data){const S=_.data;r(S.leads),o(S.total),c(S.statuses??[])}else u(_.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§")}finally{m(!1)}};i.useEffect(()=>{w()},[]);const b=async _=>{if(_.preventDefault(),!g.first_name.trim()||!g.last_name.trim()||!g.mobile.trim()){u("Ù†Ø§Ù…ØŒ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ùˆ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¶Ø±ÙˆØ±ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}p(!0),u(null);const S=await Iv({first_name:g.first_name.trim(),last_name:g.last_name.trim(),mobile:g.mobile.trim(),email:g.email.trim()||void 0,business_name:g.business_name.trim()||void 0,gender:g.gender||void 0,notes:g.notes.trim()||void 0});p(!1),S.success?(x(!1),j({first_name:"",last_name:"",mobile:"",email:"",business_name:"",gender:"",notes:""}),w()):u(S.message??"Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ø³Ø±Ù†Ø®")};return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§"}),e.jsxs(E,{onClick:()=>x(!0),children:[e.jsx(Be,{className:"h-4 w-4 ml-2"}),"Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø±Ù†Ø®"]})]}),h&&e.jsx(mt,{variant:"destructive",children:e.jsx(ht,{children:h})}),e.jsxs(X,{children:[e.jsx(Re,{children:e.jsxs(Pe,{children:["Ù„ÛŒØ³Øª Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§ ",a>0?`(${a})`:"",l.length>0?` Â· ${l.length} ÙˆØ¶Ø¹ÛŒØª`:""]})}),e.jsx(Z,{children:d?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"Ù†Ø§Ù…"}),e.jsx(K,{children:"Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(K,{children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(K,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(K,{children:"ØªØ§Ø±ÛŒØ®"})]})}),e.jsx(ze,{children:s.length===0?e.jsx(ge,{children:e.jsx(q,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"Ø³Ø±Ù†Ø®ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."})}):s.map(_=>e.jsxs(ge,{children:[e.jsxs(q,{className:"font-medium",children:[_.first_name," ",_.last_name]}),e.jsx(q,{dir:"ltr",children:_.mobile}),e.jsx(q,{dir:"ltr",children:_.email||"â€”"}),e.jsx(q,{children:e.jsx(Ne,{variant:"secondary",children:_.status_name})}),e.jsx(q,{children:_.date})]},_.id))})]})})]}),e.jsx(Je,{open:f,onOpenChange:x,children:e.jsxs(Ue,{children:[e.jsx(qe,{children:e.jsx(Ge,{children:"Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø±Ù†Ø®"})}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"first_name",children:"Ù†Ø§Ù… *"}),e.jsx(W,{id:"first_name",value:g.first_name,onChange:_=>j(S=>({...S,first_name:_.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"last_name",children:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *"}),e.jsx(W,{id:"last_name",value:g.last_name,onChange:_=>j(S=>({...S,last_name:_.target.value})),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"mobile",children:"Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ *"}),e.jsx(W,{id:"mobile",type:"tel",dir:"ltr",value:g.mobile,onChange:_=>j(S=>({...S,mobile:_.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"email",children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(W,{id:"email",type:"email",dir:"ltr",value:g.email,onChange:_=>j(S=>({...S,email:_.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"business_name",children:"Ù†Ø§Ù… Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±"}),e.jsx(W,{id:"business_name",value:g.business_name,onChange:_=>j(S=>({...S,business_name:_.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø¬Ù†Ø³ÛŒØª"}),e.jsxs(me,{value:g.gender||void 0,onValueChange:_=>j(S=>({...S,gender:_})),children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"male",children:"Ø¢Ù‚Ø§"}),e.jsx(ne,{value:"female",children:"Ø®Ø§Ù†Ù…"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"notes",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øª"}),e.jsx(W,{id:"notes",value:g.notes,onChange:_=>j(S=>({...S,notes:_.target.value}))})]}),e.jsxs(Ke,{children:[e.jsx(E,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(E,{type:"submit",disabled:v,children:["Ø°Ø®ÛŒØ±Ù‡",v?e.jsx(oe,{className:"h-4 w-4 animate-spin ml-2"}):null]})]})]})]})})]})}async function Lv(t){const n=new FormData;return n.set("first_name",t.first_name),n.set("last_name",t.last_name),t.pzl_mobile_phone!=null&&n.set("pzl_mobile_phone",t.pzl_mobile_phone),t.password?.trim()&&n.set("password",t.password),t.password_confirm?.trim()&&n.set("password_confirm",t.password_confirm),t.pzl_profile_picture&&n.set("pzl_profile_picture",t.pzl_profile_picture),En("puzzling_update_my_profile",n)}function zv(){const t=Se(),n=t?.isRtl===!0,s=t?.user,[r,a]=i.useState({first_name:s?.first_name??s?.name?.split(" ")?.[0]??"",last_name:s?.last_name??s?.name?.split(" ")?.slice(1).join(" ")??"",pzl_mobile_phone:s?.pzl_mobile_phone??"",password:"",password_confirm:""}),[o,l]=i.useState(null),[c,d]=i.useState(null),[m,h]=i.useState(!1),[u,f]=i.useState(null),[x,v]=i.useState(!1),p=w=>{const b=w.target.files?.[0];b?(l(b),d(URL.createObjectURL(b))):(l(null),d(null))},g=async w=>{if(w.preventDefault(),f(null),v(!1),!r.last_name.trim()){f("Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ø¶Ø±ÙˆØ±ÛŒ Ø§Ø³Øª.");return}if(r.password&&r.password!==r.password_confirm){f("Ø±Ù…Ø²Ù‡Ø§ÛŒ Ø¹Ø¨ÙˆØ± ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡ ÛŒÚ©Ø³Ø§Ù† Ù†ÛŒØ³ØªÙ†Ø¯.");return}h(!0);try{const b=await Lv({first_name:r.first_name.trim(),last_name:r.last_name.trim(),pzl_mobile_phone:r.pzl_mobile_phone.trim()||void 0,password:r.password||void 0,password_confirm:r.password_confirm||void 0,pzl_profile_picture:o??void 0});b.success?(v(!0),a(_=>({..._,password:"",password_confirm:""})),l(null),d(null),b.data?.reload&&window.location.reload()):f(b.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ø±ÙˆÙØ§ÛŒÙ„")}catch{f("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ø±ÙˆÙØ§ÛŒÙ„")}finally{h(!1)}},j=c??s?.avatarLarge??s?.avatar;return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ù†"})}),u&&e.jsx(mt,{variant:"destructive",children:e.jsx(ht,{children:u})}),x&&e.jsx(mt,{children:e.jsx(ht,{children:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯."})}),e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[e.jsxs("div",{className:"flex flex-col items-start gap-2",children:[e.jsx(F,{children:"Ø¹Ú©Ø³ Ù¾Ø±ÙˆÙØ§ÛŒÙ„"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(bn,{className:"h-24 w-24",children:[e.jsx(_n,{src:j,alt:s?.name}),e.jsx(Nn,{children:e.jsx(Yt,{className:"h-12 w-12"})})]}),e.jsx(W,{type:"file",accept:"image/*",onChange:p,className:"max-w-[200px]"})]})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ØµÙ„ÛŒ Ùˆ ÙˆØ±ÙˆØ¯"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"first_name",children:"Ù†Ø§Ù…"}),e.jsx(W,{id:"first_name",value:r.first_name,onChange:w=>a(b=>({...b,first_name:w.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"last_name",children:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *"}),e.jsx(W,{id:"last_name",value:r.last_name,onChange:w=>a(b=>({...b,last_name:w.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(F,{htmlFor:"email",children:"Ø§ÛŒÙ…ÛŒÙ„ (ØºÛŒØ±Ù‚Ø§Ø¨Ù„ ØªØºÛŒÛŒØ±)"}),e.jsx(W,{id:"email",type:"email",value:s?.email??"",disabled:!0,className:"bg-muted"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"pzl_mobile_phone",children:"Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(W,{id:"pzl_mobile_phone",dir:"ltr",className:"text-left",value:r.pzl_mobile_phone,onChange:w=>a(b=>({...b,pzl_mobile_phone:w.target.value}))})]})]}),e.jsx("hr",{}),e.jsx("h4",{className:"font-medium",children:"ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±ØŒ Ù‡Ø± Ø¯Ùˆ ÙÛŒÙ„Ø¯ Ø²ÛŒØ± Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯. Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±ØªØŒ Ø¢Ù† Ø±Ø§ Ø®Ø§Ù„ÛŒ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯."}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"password",children:"Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯"}),e.jsx(W,{id:"password",type:"password",value:r.password,onChange:w=>a(b=>({...b,password:w.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"password_confirm",children:"ØªÚ©Ø±Ø§Ø± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯"}),e.jsx(W,{id:"password_confirm",type:"password",value:r.password_confirm,onChange:w=>a(b=>({...b,password_confirm:w.target.value}))})]})]})]})]}),e.jsx("div",{children:e.jsxs(E,{type:"submit",disabled:m,children:[m&&e.jsx(oe,{className:V("h-4 w-4 animate-spin",n?"ms-2":"me-2")}),"Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª"]})})]})})})]})}function Rn(t){const n=typeof window<"u"?window.puzzlingcrm:null;return{...t,nonce:n?.nonce??""}}async function Fv(){return ae("puzzlingcrm_get_licenses",Rn({}))}async function $v(t){return ae("puzzlingcrm_add_license",Rn({project_name:t.project_name,domain:t.domain,start_date:t.start_date??new Date().toISOString().slice(0,10),expiry_date:t.expiry_date??"",logo_url:t.logo_url??"",status:t.status??"active"}))}async function Bv(t,n){return ae("puzzlingcrm_renew_license",Rn({id:String(t),expiry_date:n}))}async function Vv(t){return ae("puzzlingcrm_cancel_license",Rn({id:String(t)}))}async function Hv(t){return ae("puzzlingcrm_delete_license",Rn({id:String(t)}))}const Wv={active:"ÙØ¹Ø§Ù„",inactive:"ØºÛŒØ±ÙØ¹Ø§Ù„",expired:"Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡",cancelled:"Ù„ØºÙˆ Ø´Ø¯Ù‡"};function Uv(){const n=Se()?.isRtl===!0,[s,r]=i.useState([]),[a,o]=i.useState(!0),[l,c]=i.useState(null),[d,m]=i.useState(!1),[h,u]=i.useState(!1),[f,x]=i.useState(null),[v,p]=i.useState(""),[g,j]=i.useState(!1),[w,b]=i.useState({project_name:"",domain:"",start_date:new Date().toISOString().slice(0,10),expiry_date:"",logo_url:"",status:"active"}),_=async()=>{o(!0),c(null);try{const P=await Fv();if(P.success&&P.data){const z=P.data;r(z.licenses??[])}else c(P.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§ÛŒØ³Ù†Ø³â€ŒÙ‡Ø§")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§ÛŒØ³Ù†Ø³â€ŒÙ‡Ø§")}finally{o(!1)}};i.useEffect(()=>{_()},[]);const S=async P=>{if(P.preventDefault(),!w.project_name.trim()||!w.domain.trim()){c("Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ùˆ Ø¯Ø§Ù…Ù†Ù‡ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}j(!0),c(null);try{const z=await $v({project_name:w.project_name.trim(),domain:w.domain.trim(),start_date:w.start_date||void 0,expiry_date:w.expiry_date||void 0,logo_url:w.logo_url.trim()||void 0,status:w.status});z.success?(m(!1),b({project_name:"",domain:"",start_date:new Date().toISOString().slice(0,10),expiry_date:"",logo_url:"",status:"active"}),_()):c(z.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒØ³Ù†Ø³")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒØ³Ù†Ø³")}finally{j(!1)}},I=async P=>{if(P.preventDefault(),!(!f||!v)){j(!0),c(null);try{const z=await Bv(f,v);z.success?(u(!1),x(null),p(""),_()):c(z.message??"Ø®Ø·Ø§ Ø¯Ø± ØªÙ…Ø¯ÛŒØ¯ Ù„Ø§ÛŒØ³Ù†Ø³")}catch{c("Ø®Ø·Ø§ Ø¯Ø± ØªÙ…Ø¯ÛŒØ¯ Ù„Ø§ÛŒØ³Ù†Ø³")}finally{j(!1)}}},N=async P=>{if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ù„ØºÙˆ Ø§ÛŒÙ† Ù„Ø§ÛŒØ³Ù†Ø³ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ")){j(!0),c(null);try{const z=await Vv(P);z.success?_():c(z.message??"Ø®Ø·Ø§ Ø¯Ø± Ù„ØºÙˆ Ù„Ø§ÛŒØ³Ù†Ø³")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ù„ØºÙˆ Ù„Ø§ÛŒØ³Ù†Ø³")}finally{j(!1)}}},C=async P=>{if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù„Ø§ÛŒØ³Ù†Ø³ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ Ø§ÛŒÙ† Ø¹Ù…Ù„ Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ø²Ú¯Ø´Øª Ù†ÛŒØ³Øª.")){j(!0),c(null);try{const z=await Hv(P);z.success?_():c(z.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù„Ø§ÛŒØ³Ù†Ø³")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù„Ø§ÛŒØ³Ù†Ø³")}finally{j(!1)}}},L=P=>{x(P),p(new Date().toISOString().slice(0,10)),u(!0)},k=P=>P?new Date(P).toLocaleDateString("fa-IR"):"Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯";return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù„Ø§ÛŒØ³Ù†Ø³â€ŒÙ‡Ø§"}),e.jsxs(E,{onClick:()=>m(!0),children:[e.jsx(Be,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒØ³Ù†Ø³ Ø¬Ø¯ÛŒØ¯"]})]}),l&&e.jsx(mt,{variant:"destructive",children:e.jsx(ht,{children:l})}),a?e.jsx(X,{children:e.jsx(Z,{className:"flex items-center justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):s.length===0?e.jsx(X,{children:e.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(No,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Ù‡Ù†ÙˆØ² Ù„Ø§ÛŒØ³Ù†Ø³â€ŒØ§ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."})]})}):e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:s.map(P=>e.jsx(X,{className:"overflow-hidden",children:e.jsxs(Z,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[P.logo_url?e.jsx("img",{src:P.logo_url,alt:P.project_name,className:"h-16 w-16 object-contain mb-2"}):e.jsx("div",{className:"h-16 w-16 rounded-lg bg-muted flex items-center justify-center mb-2",children:e.jsx(Uh,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h5",{className:"font-medium",children:P.project_name}),e.jsx("p",{className:"text-sm text-muted-foreground",dir:"ltr",children:P.domain})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡:"}),e.jsxs("span",{className:"font-medium",children:[P.remaining_percentage.toFixed(1),"Ùª"]})]}),e.jsx(ns,{value:P.remaining_percentage,className:"h-1.5"})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§:"}),e.jsx("span",{className:"font-medium",children:k(P.expiry_date)})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡:"}),P.expiry_date?e.jsxs(Ne,{variant:"outline",children:[P.remaining_days," Ø±ÙˆØ²"]}):e.jsx(Ne,{variant:"secondary",children:"VIP"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Ne,{variant:P.status==="active"?"default":P.status==="expired"?"destructive":"secondary",children:Wv[P.status]??P.status}),e.jsxs(Vn,{children:[e.jsx(Hn,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Zh,{className:"h-4 w-4"})})}),e.jsxs(ln,{align:"end",children:[e.jsxs(St,{onClick:()=>L(P.id),children:[e.jsx(pf,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"ØªÙ…Ø¯ÛŒØ¯"]}),e.jsxs(St,{onClick:()=>N(P.id),children:[e.jsx(bo,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ØºÙˆ Ù„Ø§ÛŒØ³Ù†Ø³"]}),e.jsxs(St,{className:"text-destructive",onClick:()=>C(P.id),children:[e.jsx(We,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø­Ø°Ù"]})]})]})]})]})},P.id))}),e.jsx(Je,{open:d,onOpenChange:m,children:e.jsxs(Ue,{children:[e.jsx(qe,{children:e.jsx(Ge,{children:"Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒØ³Ù†Ø³ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"project_name",children:"Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ *"}),e.jsx(W,{id:"project_name",value:w.project_name,onChange:P=>b(z=>({...z,project_name:P.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"domain",children:"Ø¯Ø§Ù…Ù†Ù‡ *"}),e.jsx(W,{id:"domain",dir:"ltr",placeholder:"example.com",value:w.domain,onChange:P=>b(z=>({...z,domain:P.target.value})),required:!0})]}),e.jsx(mt,{children:e.jsx(ht,{children:"Ú©Ù„ÛŒØ¯ Ù„Ø§ÛŒØ³Ù†Ø³ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯."})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"start_date",children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹"}),e.jsx(W,{id:"start_date",type:"date",value:w.start_date,onChange:P=>b(z=>({...z,start_date:P.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"expiry_date",children:"ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§"}),e.jsx(W,{id:"expiry_date",type:"date",value:w.expiry_date,onChange:P=>b(z=>({...z,expiry_date:P.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"logo_url",children:"Ø¢Ø¯Ø±Ø³ Ù„ÙˆÚ¯Ùˆ"}),e.jsx(W,{id:"logo_url",type:"url",dir:"ltr",placeholder:"https://example.com/logo.png",value:w.logo_url,onChange:P=>b(z=>({...z,logo_url:P.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"status",children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsxs("select",{id:"status",className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm",value:w.status,onChange:P=>b(z=>({...z,status:P.target.value})),children:[e.jsx("option",{value:"active",children:"ÙØ¹Ø§Ù„"}),e.jsx("option",{value:"inactive",children:"ØºÛŒØ±ÙØ¹Ø§Ù„"})]})]}),e.jsxs(Ke,{children:[e.jsx(E,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(E,{type:"submit",disabled:g,children:[g&&e.jsx(oe,{className:V("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§ÙØ²ÙˆØ¯Ù†"]})]})]})]})}),e.jsx(Je,{open:h,onOpenChange:u,children:e.jsxs(Ue,{children:[e.jsx(qe,{children:e.jsx(Ge,{children:"ØªÙ…Ø¯ÛŒØ¯ Ù„Ø§ÛŒØ³Ù†Ø³"})}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"renew_expiry_date",children:"ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ *"}),e.jsx(W,{id:"renew_expiry_date",type:"date",value:v,onChange:P=>p(P.target.value),required:!0})]}),e.jsxs(Ke,{children:[e.jsx(E,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(E,{type:"submit",disabled:g,children:[g&&e.jsx(oe,{className:V("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"ØªÙ…Ø¯ÛŒØ¯"]})]})]})]})})]})}async function qv(){return ae("puzzlingcrm_get_consultations",{})}async function Kv(t){return ae("puzzling_manage_consultation",{consultation_id:t.consultation_id??0,name:t.name,phone:t.phone,email:t.email??"",type:t.type,date:t.date??"",time:t.time??"",status:t.status,notes:t.notes??""})}async function Gv(t){return ae("puzzling_convert_consultation_to_project",{consultation_id:String(t)})}function Yv(){const n=Se()?.isRtl===!0,[s,r]=i.useState([]),[a,o]=i.useState([]),[l,c]=i.useState(!0),[d,m]=i.useState(null),[h,u]=i.useState(!1),[f,x]=i.useState(null),[v,p]=i.useState(!1),[g,j]=i.useState({name:"",phone:"",email:"",type:"phone",date:"",time:"",status:"in-progress",notes:""}),w=async()=>{c(!0),m(null);try{const N=await qv();if(N.success&&N.data){const C=N.data;r(C.consultations??[]),o(C.statuses??[])}else m(N.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§")}finally{c(!1)}};i.useEffect(()=>{w()},[]);const b=()=>{x(null),j({name:"",phone:"",email:"",type:"phone",date:"",time:"",status:"in-progress",notes:""}),u(!0)},_=N=>{x(N.id);const C=N.datetime?new Date(N.datetime):null;j({name:N.name,phone:N.phone,email:N.email??"",type:N.type,date:C?C.toISOString().slice(0,10):"",time:C?C.toTimeString().slice(0,5):"",status:N.status_slug,notes:N.notes??""}),u(!0)},S=async N=>{if(N.preventDefault(),!g.name.trim()||!g.phone.trim()){m("Ù†Ø§Ù… Ùˆ Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}p(!0),m(null);try{const C=await Kv({consultation_id:f??void 0,name:g.name.trim(),phone:g.phone.trim(),email:g.email.trim()||void 0,type:g.type,date:g.date||void 0,time:g.time||void 0,status:g.status,notes:g.notes.trim()||void 0});C.success?(u(!1),w(),C.data?.reload&&window.location.reload()):m(C.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{p(!1)}},I=async N=>{if(confirm("Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø±ØŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ùˆ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¬Ø¯ÛŒØ¯ Ø§ÛŒØ¬Ø§Ø¯ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.")){p(!0),m(null);try{const C=await Gv(N);if(C.success){const L=C.data?.redirect_url;L?window.location.href=L:w()}else m(C.message??"Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„")}catch{m("Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„")}finally{p(!1)}}};return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§"}),e.jsxs(E,{onClick:b,children:[e.jsx(Be,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø´Ø§ÙˆØ±Ù‡ Ø¬Ø¯ÛŒØ¯"]})]}),d&&e.jsx(mt,{variant:"destructive",children:e.jsx(ht,{children:d})}),e.jsx(X,{children:e.jsx(Z,{className:"p-0",children:l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒØ§ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}):e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"Ù†Ø§Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ú©Ù†Ù†Ø¯Ù‡"}),e.jsx(K,{children:"Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³"}),e.jsx(K,{children:"Ù†ÙˆØ¹ Ù…Ø´Ø§ÙˆØ±Ù‡"}),e.jsx(K,{children:"ØªØ§Ø±ÛŒØ® Ùˆ Ø³Ø§Ø¹Øª"}),e.jsx(K,{children:"Ù†ØªÛŒØ¬Ù‡"}),e.jsx(K,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(ze,{children:s.map(N=>e.jsxs(ge,{children:[e.jsx(q,{className:"font-medium",children:N.name}),e.jsx(q,{dir:"ltr",children:N.phone}),e.jsx(q,{children:N.type_label}),e.jsx(q,{children:N.datetime_display||"---"}),e.jsx(q,{children:e.jsx(Ne,{variant:N.status_slug==="converted"?"default":"secondary",children:N.status_name})}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",onClick:()=>_(N),children:e.jsx(tt,{className:"h-4 w-4"})}),N.status_slug!=="converted"&&e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>I(N.id),disabled:v,children:[e.jsx(tf,{className:"h-4 w-4"}),"ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡"]})]})})]},N.id))})]})})}),e.jsx(Je,{open:h,onOpenChange:u,children:e.jsxs(Ue,{children:[e.jsx(qe,{children:e.jsx(Ge,{children:f?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø´Ø§ÙˆØ±Ù‡":"Ø«Ø¨Øª Ù…Ø´Ø§ÙˆØ±Ù‡ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"name",children:"Ù†Ø§Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ú©Ù†Ù†Ø¯Ù‡ *"}),e.jsx(W,{id:"name",value:g.name,onChange:N=>j(C=>({...C,name:N.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"phone",children:"Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ *"}),e.jsx(W,{id:"phone",dir:"ltr",value:g.phone,onChange:N=>j(C=>({...C,phone:N.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"email",children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(W,{id:"email",type:"email",dir:"ltr",value:g.email,onChange:N=>j(C=>({...C,email:N.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"type",children:"Ù†ÙˆØ¹ Ù…Ø´Ø§ÙˆØ±Ù‡"}),e.jsxs(me,{value:g.type,onValueChange:N=>j(C=>({...C,type:N})),children:[e.jsx(de,{children:e.jsx(he,{})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"phone",children:"ØªÙ„ÙÙ†ÛŒ"}),e.jsx(ne,{value:"in-person",children:"Ø­Ø¶ÙˆØ±ÛŒ"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"date",children:"ØªØ§Ø±ÛŒØ® Ù‚Ø±Ø§Ø±"}),e.jsx(W,{id:"date",type:"date",value:g.date,onChange:N=>j(C=>({...C,date:N.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"time",children:"Ø³Ø§Ø¹Øª Ù‚Ø±Ø§Ø±"}),e.jsx(W,{id:"time",type:"time",value:g.time,onChange:N=>j(C=>({...C,time:N.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"status",children:"Ù†ØªÛŒØ¬Ù‡ Ù…Ø´Ø§ÙˆØ±Ù‡"}),e.jsxs(me,{value:g.status,onValueChange:N=>j(C=>({...C,status:N})),children:[e.jsx(de,{children:e.jsx(he,{})}),e.jsx(ue,{children:a.map(N=>e.jsx(ne,{value:N.slug,children:N.name},N.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"notes",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øªâ€ŒÙ‡Ø§"}),e.jsx("textarea",{id:"notes",className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:g.notes,onChange:N=>j(C=>({...C,notes:N.target.value})),rows:4})]}),e.jsxs(Ke,{children:[e.jsx(E,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(E,{type:"submit",disabled:v,children:[v&&e.jsx(oe,{className:"h-4 w-4 animate-spin me-2"}),f?"Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª":"Ø«Ø¨Øª Ù…Ø´Ø§ÙˆØ±Ù‡"]})]})]})]})})]})}async function Wa(t){return ae("puzzlingcrm_get_logs",{log_tab:t.log_tab??"events",paged:t.paged??1})}function Xv(){const n=Se()?.isRtl===!0,[s,r]=i.useState("events"),[a,o]=i.useState([]),[l,c]=i.useState([]),[d,m]=i.useState(!0),[h,u]=i.useState(null),[f,x]=i.useState(1),[v,p]=i.useState(1),[g,j]=i.useState(1),[w,b]=i.useState(1),_=async(C=1)=>{m(!0),u(null);try{const L=await Wa({log_tab:"events",paged:C});if(L.success&&L.data){const k=L.data;o(k.logs??[]),j(k.total_pages??1),x(C)}else u(L.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§")}finally{m(!1)}},S=async(C=1)=>{m(!0),u(null);try{const L=await Wa({log_tab:"system",paged:C});if(L.success&&L.data){const k=L.data;c(k.logs??[]),b(k.total_pages??1),p(C)}else u(L.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§")}finally{m(!1)}};i.useEffect(()=>{s==="events"?_(1):S(1)},[s]);const I=()=>e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-4",children:[e.jsx(rf,{className:"h-5 w-5"}),"Ù„Ø§Ú¯ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…"]}),d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.length===0?e.jsx("p",{className:"text-muted-foreground py-8",children:"Ù‡ÛŒÚ† Ù„Ø§Ú¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯."}):e.jsxs(e.Fragment,{children:[e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"Ø±ÙˆÛŒØ¯Ø§Ø¯"}),e.jsx(K,{children:"Ø¬Ø²Ø¦ÛŒØ§Øª"}),e.jsx(K,{children:"Ú©Ø§Ø±Ø¨Ø±"}),e.jsx(K,{children:"ØªØ§Ø±ÛŒØ®"})]})}),e.jsx(ze,{children:a.map(C=>e.jsxs(ge,{children:[e.jsx(q,{className:"font-medium",children:C.title}),e.jsx(q,{className:"max-w-md truncate",title:C.content,children:C.content}),e.jsx(q,{children:C.author}),e.jsx(q,{children:C.date})]},C.id))})]}),g>1&&e.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[e.jsx(E,{variant:"outline",size:"sm",disabled:f<=1,onClick:()=>_(f-1),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2",children:[f," / ",g]}),e.jsx(E,{variant:"outline",size:"sm",disabled:f>=g,onClick:()=>_(f+1),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]}),N=()=>e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ko,{className:"h-5 w-5"}),"Ù„Ø§Ú¯ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…"]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…ÛŒØŒ Ù…Ø´Ú©Ù„Ø§Øª Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ API Ùˆ Ø³Ø§ÛŒØ± Ø¨Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø«Ø¨Øª Ø´Ø¯Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯."}),d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(un,{className:"h-16 w-16 text-green-500 mb-4"}),e.jsx("h4",{className:"font-medium mb-2",children:"Ø³ÛŒØ³ØªÙ… Ø¯Ø± ÙˆØ¶Ø¹ÛŒØª Ù¾Ø§ÛŒØ¯Ø§Ø± Ø§Ø³Øª"}),e.jsx("p",{className:"text-muted-foreground",children:"Ù‡ÛŒÚ† Ø®Ø·Ø§ÛŒ Ø³ÛŒØ³ØªÙ…ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯."})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"Ø¹Ù†ÙˆØ§Ù† Ø®Ø·Ø§"}),e.jsx(K,{children:"Ø¬Ø²Ø¦ÛŒØ§Øª"}),e.jsx(K,{children:"ØªØ§Ø±ÛŒØ®"})]})}),e.jsx(ze,{children:l.map(C=>e.jsxs(ge,{children:[e.jsx(q,{className:"font-medium",children:C.title}),e.jsx(q,{className:"max-w-md",title:C.content,children:e.jsx("span",{className:"line-clamp-2",children:C.content})}),e.jsx(q,{children:C.date})]},C.id))})]}),w>1&&e.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[e.jsx(E,{variant:"outline",size:"sm",disabled:v<=1,onClick:()=>S(v-1),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2",children:[v," / ",w]}),e.jsx(E,{variant:"outline",size:"sm",disabled:v>=w,onClick:()=>S(v+1),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]});return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…"})}),h&&e.jsx(mt,{variant:"destructive",children:e.jsx(ht,{children:h})}),e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs(ti,{value:s,onValueChange:r,children:[e.jsxs(ni,{children:[e.jsx(Zs,{value:"events",children:"Ù„Ø§Ú¯ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§"}),e.jsx(Zs,{value:"system",children:"Ù„Ø§Ú¯ Ø³ÛŒØ³ØªÙ…"})]}),e.jsx(Js,{value:"events",className:"mt-4",children:I()}),e.jsx(Js,{value:"system",className:"mt-4",children:N()})]})})})]})}async function ra(t){return ae("puzzlingcrm_get_users",{search:t?.search,role:t?.role})}async function qc(t){const n={user_id:t.user_id??0,first_name:t.first_name,last_name:t.last_name,email:t.email,pzl_mobile_phone:t.pzl_mobile_phone??"",role:t.role,password:t.password??""};return t.department!==void 0&&(n.department=t.department),t.job_title!==void 0&&(n.job_title=t.job_title),ae("puzzling_manage_user",n)}async function Kc(t,n){return ae("puzzling_delete_user",{user_id:String(t),nonce:n})}async function Zv(t,n){return ae("puzzling_send_custom_sms",{user_id:String(t),message:n})}function Jv(){const n=Se()?.isRtl===!0,[s,r]=i.useState([]),[a,o]=i.useState({total:0,customers:0,staff:0}),[l,c]=i.useState([]),[d,m]=i.useState(!0),[h,u]=i.useState(null),[f,x]=i.useState(""),[v,p]=i.useState(""),[g,j]=i.useState(!1),[w,b]=i.useState(!1),[_,S]=i.useState(null),[I,N]=i.useState(null),[C,L]=i.useState(""),[k,P]=i.useState(!1),[z,J]=i.useState({first_name:"",last_name:"",email:"",pzl_mobile_phone:"",role:"customer",password:""}),Q=i.useCallback(async()=>{m(!0),u(null);try{const $=await ra({search:f||void 0,role:v||void 0});if($.success&&$.data){const U=$.data;r(U.users??[]),o(U.stats??{total:0,customers:0,staff:0}),c(U.roles??[])}else u($.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†")}finally{m(!1)}},[f,v]);i.useEffect(()=>{const $=setTimeout(Q,f||v?300:0);return()=>clearTimeout($)},[Q,f,v]);const D=()=>{S(null),J({first_name:"",last_name:"",email:"",pzl_mobile_phone:"",role:"customer",password:""}),j(!0)},M=$=>{S($),J({first_name:$.first_name??"",last_name:$.last_name??"",email:$.email??"",pzl_mobile_phone:$.phone??"",role:$.role_slug||"customer",password:""}),j(!0)},re=async $=>{if($.preventDefault(),!z.last_name.trim()||!z.email.trim()||!z.role){u("Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒØŒ Ø§ÛŒÙ…ÛŒÙ„ Ùˆ Ù†Ù‚Ø´ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}if(!_&&!z.password.trim()){u("Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯ØŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}P(!0),u(null);try{const U=await qc({user_id:_?.id,first_name:z.first_name.trim(),last_name:z.last_name.trim(),email:z.email.trim(),pzl_mobile_phone:z.pzl_mobile_phone.trim()||void 0,role:z.role,password:z.password.trim()||void 0});U.success?(j(!1),Q(),U.data?.reload&&window.location.reload()):u(U.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{P(!1)}},G=async $=>{if(!(!$.can_delete||!$.delete_nonce)&&confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ")){P(!0),u(null);try{const U=await Kc($.id,$.delete_nonce);U.success?Q():u(U.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{P(!1)}}},H=$=>{N($),L(""),b(!0)},le=async $=>{if($.preventDefault(),!(!I||!C.trim())){P(!0),u(null);try{const U=await Zv(I.id,C.trim());U.success?(b(!1),N(null),L("")):u(U.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©")}finally{P(!1)}}};return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø´ØªØ±ÛŒØ§Ù† Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†"}),e.jsxs(E,{onClick:D,children:[e.jsx(Be,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯"]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:e.jsx(xs,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†"}),e.jsx("p",{className:"text-2xl font-semibold",children:a.total})]})]})})}),e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-success/10 p-3",children:e.jsx(Yh,{className:"h-6 w-6 text-success"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù…Ø´ØªØ±ÛŒØ§Ù†"}),e.jsx("p",{className:"text-2xl font-semibold",children:a.customers})]})]})})}),e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-amber-500/10 p-3",children:e.jsx(Sf,{className:"h-6 w-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ø§Ø±Ù…Ù†Ø¯Ø§Ù†"}),e.jsx("p",{className:"text-2xl font-semibold",children:a.staff})]})]})})})]}),e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx(F,{children:"Ø¬Ø³ØªØ¬ÙˆÛŒ Ø³Ø±ÛŒØ¹"}),e.jsx("div",{className:"mt-1 flex rounded-md border",children:e.jsx(W,{dir:"ltr",placeholder:"Ù†Ø§Ù…ØŒ Ø§ÛŒÙ…ÛŒÙ„ØŒ Ù…ÙˆØ¨Ø§ÛŒÙ„...",value:f,onChange:$=>x($.target.value),className:"border-0 focus-visible:ring-0"})})]}),e.jsxs("div",{className:"w-[180px]",children:[e.jsx(F,{children:"Ù†Ù‚Ø´"}),e.jsxs(me,{value:v,onValueChange:p,children:[e.jsx(de,{className:"mt-1",children:e.jsx(he,{placeholder:"Ù‡Ù…Ù‡ Ù†Ù‚Ø´â€ŒÙ‡Ø§"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"Ù‡Ù…Ù‡ Ù†Ù‚Ø´â€ŒÙ‡Ø§"}),l.map($=>e.jsx(ne,{value:$.slug,children:$.name},$.slug))]})]})]})]})})}),h&&e.jsx(mt,{variant:"destructive",children:e.jsx(ht,{children:h})}),e.jsx(X,{children:e.jsx(Z,{className:"p-0",children:d?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"Ú©Ø§Ø±Ø¨Ø±"}),e.jsx(K,{children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(K,{children:"Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(K,{children:"Ù†Ù‚Ø´"}),e.jsx(K,{children:"ØªØ§Ø±ÛŒØ® Ø¹Ø¶ÙˆÛŒØª"}),e.jsx(K,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(ze,{children:s.map($=>e.jsxs(ge,{children:[e.jsx(q,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(bn,{className:"h-10 w-10",children:[e.jsx(_n,{src:$.avatar_url,alt:""}),e.jsx(Nn,{children:$.display_name?.slice(0,2)??"?"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:$.display_name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",$.id]})]})]})}),e.jsx(q,{dir:"ltr",className:"font-mono text-sm",children:$.email}),e.jsx(q,{dir:"ltr",children:$.phone||"â€”"}),e.jsx(q,{children:e.jsx(Ne,{variant:"secondary",children:$.role_name})}),e.jsx(q,{children:$.registered_jalali}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",onClick:()=>M($),children:e.jsx(tt,{className:"h-4 w-4"})}),e.jsx(E,{variant:"outline",size:"sm",onClick:()=>H($),title:"Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©",children:e.jsx(Fr,{className:"h-4 w-4"})}),$.can_delete&&e.jsx(E,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>G($),disabled:k,title:"Ø­Ø°Ù",children:e.jsx(We,{className:"h-4 w-4"})})]})})]},$.id))})]})})}),e.jsx(Je,{open:g,onOpenChange:j,children:e.jsxs(Ue,{children:[e.jsx(qe,{children:e.jsx(Ge,{children:_?"ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±":"Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("form",{onSubmit:re,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"first_name",children:"Ù†Ø§Ù…"}),e.jsx(W,{id:"first_name",value:z.first_name,onChange:$=>J(U=>({...U,first_name:$.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"last_name",children:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *"}),e.jsx(W,{id:"last_name",value:z.last_name,onChange:$=>J(U=>({...U,last_name:$.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"email",children:"Ø§ÛŒÙ…ÛŒÙ„ *"}),e.jsx(W,{id:"email",type:"email",dir:"ltr",value:z.email,onChange:$=>J(U=>({...U,email:$.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"phone",children:"Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(W,{id:"phone",dir:"ltr",value:z.pzl_mobile_phone,onChange:$=>J(U=>({...U,pzl_mobile_phone:$.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"role",children:"Ù†Ù‚Ø´ Ú©Ø§Ø±Ø¨Ø±ÛŒ *"}),e.jsxs(me,{value:z.role,onValueChange:$=>J(U=>({...U,role:$})),children:[e.jsx(de,{children:e.jsx(he,{})}),e.jsx(ue,{children:l.map($=>e.jsx(ne,{value:$.slug,children:$.name},$.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(F,{htmlFor:"password",children:["Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± ",_?"(Ø¨Ø±Ø§ÛŒ Ø¹Ø¯Ù… ØªØºÛŒÛŒØ± Ø®Ø§Ù„ÛŒ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯)":"*"]}),e.jsx(W,{id:"password",type:"password",dir:"ltr",value:z.password,onChange:$=>J(U=>({...U,password:$.target.value})),required:!_})]})]}),e.jsxs(Ke,{children:[e.jsx(E,{type:"button",variant:"outline",onClick:()=>j(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(E,{type:"submit",disabled:k,children:[k&&e.jsx(oe,{className:"h-4 w-4 animate-spin me-2"}),_?"Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª":"Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±"]})]})]})]})}),e.jsx(Je,{open:w,onOpenChange:b,children:e.jsxs(Ue,{children:[e.jsx(qe,{children:e.jsxs(Ge,{children:["Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú© Ø¨Ù‡ ",I?.display_name]})}),e.jsxs("form",{onSubmit:le,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"sms_message",children:"Ù…ØªÙ† Ù¾ÛŒØ§Ù…"}),e.jsx("textarea",{id:"sms_message",className:"flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:C,onChange:$=>L($.target.value),required:!0,rows:5})]}),e.jsxs(Ke,{children:[e.jsx(E,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(E,{type:"submit",disabled:k||!C.trim(),children:[k&&e.jsx(oe,{className:"h-4 w-4 animate-spin me-2"}),"Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©"]})]})]})]})})]})}async function Ua(t){return ae("puzzlingcrm_get_contracts",{s:t?.s,customer_filter:t?.customer_filter,payment_status:t?.payment_status,paged:t?.paged??1})}async function Qv(t){return ae("puzzlingcrm_get_contract",{contract_id:String(t)})}async function ej(t){const n=new FormData;return n.set("contract_id",String(t.contract_id??0)),n.set("customer_id",String(t.customer_id)),n.set("_project_start_date",t._project_start_date),n.set("contract_title",t.contract_title??""),n.set("total_amount",t.total_amount),n.set("total_installments",String(t.total_installments)),n.set("_project_contract_duration",t._project_contract_duration),n.set("_project_subscription_model",t._project_subscription_model),t.payment_amount.forEach((s,r)=>{n.append("payment_amount[]",s),n.append("payment_due_date[]",t.payment_due_date[r]??""),n.append("payment_status[]",t.payment_status[r]??"pending")}),En("puzzling_manage_contract",n)}async function tj(t,n){return ae("puzzling_delete_contract",{contract_id:String(t),nonce:n})}async function nj(t,n){return ae("puzzling_cancel_contract",{contract_id:String(t),reason:"Ø¯Ù„ÛŒÙ„ÛŒ Ø°Ú©Ø± Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."})}async function sj(t,n){return ae("puzzling_add_project_to_contract",{contract_id:String(t),project_title:n})}function qa(t){return new Intl.NumberFormat("fa-IR").format(t)}function rj(){const n=Se()?.isRtl===!0,s=At(),[r]=is(),a=r.get("action")==="new"?"new":"list",o=r.get("contract_id")?parseInt(r.get("contract_id"),10):null,[l,c]=i.useState(a),[d,m]=i.useState([]),[h,u]=i.useState([]),[f,x]=i.useState(1),[v,p]=i.useState(1),[g,j]=i.useState(!0),[w,b]=i.useState(null),[_,S]=i.useState(""),[I,N]=i.useState(""),[C,L]=i.useState(""),[k,P]=i.useState(null),[z,J]=i.useState([]),[Q,D]=i.useState([]),[M,re]=i.useState([]),[G,H]=i.useState(!1),[le,$]=i.useState(""),[U,ce]=i.useState({customer_id:0,start_date:"",contract_title:"",total_amount:"",total_installments:1,duration:"1-month",subscription_model:"onetime",installments:[]}),A=i.useCallback(async()=>{j(!0),b(null);try{const O=await Ua({s:_||void 0,customer_filter:I?parseInt(I,10):void 0,payment_status:C||void 0,paged:v});O.success&&O.data?(m(O.data.contracts??[]),u(O.data.customers??[]),x(O.data.total_pages??1),p(O.data.current_page??1)):b(O.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§")}catch{b("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§")}finally{j(!1)}},[_,I,C,v]),te=i.useCallback(async O=>{j(!0),b(null);try{const ie=await Qv(O);if(ie.success&&ie.data){const ye=ie.data.contract;J(ie.data.related_projects??[]),D(ie.data.durations??[]),re(ie.data.models??[]),ye?(P(ye),ce({customer_id:ye.customer_id,start_date:ye.start_date?ye.start_date.slice(0,10):"",contract_title:ye.title??"",total_amount:ye.total_amount??"",total_installments:ye.total_installments??1,duration:ye.duration??"1-month",subscription_model:ye.subscription_model??"onetime",installments:(ye.installments??[]).map(Ee=>({amount:Ee.amount,due_date:Ee.due_date_gregorian?Ee.due_date_gregorian.slice(0,10):Ee.due_date,status:Ee.status}))})):(P(null),b(ie.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"))}else b(ie.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯")}catch{b("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯")}finally{j(!1)}},[]);i.useEffect(()=>{l==="list"&&A()},[l,A]),i.useEffect(()=>{o&&l==="new"?te(o):l==="new"&&!o&&(P(null),ce({customer_id:0,start_date:new Date().toISOString().slice(0,10),contract_title:"",total_amount:"",total_installments:1,duration:"1-month",subscription_model:"onetime",installments:[]}),J([]),Ua({}).then(O=>{O.success&&O.data&&u(O.data.customers??[])}),D([{value:"1-month",label:"ÛŒÚ© Ù…Ø§Ù‡Ù‡"},{value:"3-months",label:"Ø³Ù‡ Ù…Ø§Ù‡Ù‡"},{value:"6-months",label:"Ø´Ø´ Ù…Ø§Ù‡Ù‡"},{value:"12-months",label:"ÛŒÚ© Ø³Ø§Ù„Ù‡"}]),re([{value:"onetime",label:"ÛŒÚ©Ø¨Ø§Ø± Ù¾Ø±Ø¯Ø§Ø®Øª"},{value:"subscription",label:"Ø§Ø´ØªØ±Ø§Ú©ÛŒ"}]))},[l,o]);const T=()=>{s("/contracts?action=new"),c("new"),P(null)},y=O=>{s(`/contracts?action=new&contract_id=${O.id}`),c("new"),te(O.id)},R=()=>{s("/contracts"),c("list"),A()},Y=()=>{ce(O=>({...O,installments:[...O.installments,{amount:"",due_date:"",status:"pending"}]}))},pe=O=>{ce(ie=>({...ie,installments:ie.installments.filter((ye,Ee)=>Ee!==O)}))},xe=(O,ie,ye)=>{ce(Ee=>{const Te=[...Ee.installments];return Te[O]={...Te[O],[ie]:ye},{...Ee,installments:Te}})},be=()=>{const O=parseInt(U.total_amount.replace(/\D/g,""),10)||0,ie=U.total_installments||1;if(O<=0||ie<=0)return;const ye=Math.floor(O/ie),Ee=U.start_date?new Date(U.start_date):new Date,Te=[];for(let B=0;B<ie;B++){const we=new Date(Ee);we.setMonth(we.getMonth()+B),Te.push({amount:String(ye),due_date:we.toISOString().slice(0,10),status:"pending"})}ce(B=>({...B,installments:Te}))},ke=async O=>{if(O.preventDefault(),!U.customer_id||!U.start_date){b("Ù…Ø´ØªØ±ÛŒ Ùˆ ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}if(U.installments.length===0){b("Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ù‚Ø³Ø· Ø¨Ø§ÛŒØ¯ Ø«Ø¨Øª Ø´ÙˆØ¯.");return}if(U.installments.some(ye=>!ye.amount||!ye.due_date)){b("ØªÙ…Ø§Ù… Ø§Ù‚Ø³Ø§Ø· Ø¨Ø§ÛŒØ¯ Ù…Ø¨Ù„Øº Ùˆ ØªØ§Ø±ÛŒØ® Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯.");return}H(!0),b(null);try{const ye=U.total_amount.replace(/\D/g,"")||String(U.installments.reduce((Te,B)=>Te+(parseInt(B.amount.replace(/\D/g,""),10)||0),0)),Ee=await ej({contract_id:k?.id,customer_id:U.customer_id,_project_start_date:U.start_date,contract_title:U.contract_title||void 0,total_amount:String(ye),total_installments:U.installments.length,_project_contract_duration:U.duration,_project_subscription_model:U.subscription_model,payment_amount:U.installments.map(Te=>Te.amount.replace(/\D/g,"")||"0"),payment_due_date:U.installments.map(Te=>Te.due_date),payment_status:U.installments.map(Te=>Te.status)});Ee.success?(R(),Ee.data?.reload&&window.location.reload()):b(Ee.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{b("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{H(!1)}},$e=async O=>{if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø¯Ø§Ø¦Ù…ÛŒ Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ")){H(!0),b(null);try{const ie=await tj(O.id,O.delete_nonce);ie.success?A():b(ie.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{b("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{H(!1)}}},gt=async()=>{if(!(!k||!confirm("Ø¢ÛŒØ§ Ø§Ø² Ù„ØºÙˆ Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"))){H(!0),b(null);try{const O=await nj(k.id);O.success?te(k.id):b(O.message??"Ø®Ø·Ø§ Ø¯Ø± Ù„ØºÙˆ")}catch{b("Ø®Ø·Ø§ Ø¯Ø± Ù„ØºÙˆ")}finally{H(!1)}}},Mt=async O=>{if(O.preventDefault(),!(!k||!le.trim())){H(!0),b(null);try{const ie=await sj(k.id,le.trim());ie.success?($(""),te(k.id)):b(ie.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡")}catch{b("Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡")}finally{H(!1)}}};return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{variant:l==="list"?"default":"outline",onClick:()=>c("list"),children:[e.jsx(Et,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ÛŒØ³Øª Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§"]}),e.jsxs(E,{variant:l==="new"?"default":"outline",onClick:T,children:[e.jsx(Be,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¬Ø¯ÛŒØ¯"]})]})]}),w&&e.jsx(mt,{variant:"destructive",children:e.jsx(ht,{children:w})}),l==="list"?e.jsxs(e.Fragment,{children:[e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[150px]",children:[e.jsx(F,{children:"Ø¬Ø³ØªØ¬Ùˆ"}),e.jsx(W,{className:"mt-1",placeholder:"Ø´Ù…Ø§Ø±Ù‡ ÛŒØ§ Ø¹Ù†ÙˆØ§Ù†...",value:_,onChange:O=>S(O.target.value)})]}),e.jsxs("div",{className:"w-[180px]",children:[e.jsx(F,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsxs(me,{value:I,onValueChange:N,children:[e.jsx(de,{className:"mt-1",children:e.jsx(he,{placeholder:"Ù‡Ù…Ù‡"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"Ù‡Ù…Ù‡ Ù…Ø´ØªØ±ÛŒØ§Ù†"}),h.map(O=>e.jsx(ne,{value:String(O.id),children:O.display_name},O.id))]})]})]}),e.jsxs("div",{className:"w-[140px]",children:[e.jsx(F,{children:"ÙˆØ¶Ø¹ÛŒØª Ù¾Ø±Ø¯Ø§Ø®Øª"}),e.jsxs(me,{value:C,onValueChange:L,children:[e.jsx(de,{className:"mt-1",children:e.jsx(he,{placeholder:"Ù‡Ù…Ù‡"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"Ù‡Ù…Ù‡"}),e.jsx(ne,{value:"paid",children:"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡"}),e.jsx(ne,{value:"pending",children:"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(E,{onClick:A,children:"ÙÛŒÙ„ØªØ±"})})]})})}),e.jsx(X,{children:e.jsx(Z,{className:"p-0",children:g?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"Ø´Ù…Ø§Ø±Ù‡"}),e.jsx(K,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsx(K,{children:"Ù…Ø¨Ù„Øº Ú©Ù„"}),e.jsx(K,{children:"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡"}),e.jsx(K,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(K,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(ze,{children:d.map(O=>e.jsxs(ge,{children:[e.jsxs(q,{children:[e.jsxs("span",{className:"font-mono",children:["#",O.contract_number]}),O.is_cancelled&&e.jsx(Ne,{variant:"destructive",className:"ms-2",children:"Ù„ØºÙˆ Ø´Ø¯Ù‡"})]}),e.jsxs(q,{children:[e.jsx("div",{children:O.customer_name}),O.customer_email&&e.jsx("div",{className:"text-xs text-muted-foreground",dir:"ltr",children:O.customer_email})]}),e.jsxs(q,{dir:"ltr",children:[qa(O.total_amount)," ØªÙˆÙ…Ø§Ù†"]}),e.jsxs(q,{children:[e.jsxs("div",{className:"text-success",dir:"ltr",children:[qa(O.paid_amount)," ØªÙˆÙ…Ø§Ù†"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[O.payment_percentage,"%"]})]}),e.jsxs(q,{children:[e.jsx(Ne,{variant:O.status_class==="paid"?"default":"secondary",children:O.status_text}),O.installment_count>0&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[O.paid_count," Ù¾Ø±Ø¯Ø§Ø®Øª / ",O.pending_count," Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"]})]}),e.jsxs(q,{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",onClick:()=>y(O),children:e.jsx(tt,{className:"h-4 w-4"})}),!O.is_cancelled&&e.jsx(E,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>$e(O),disabled:G,children:e.jsx(We,{className:"h-4 w-4"})})]}),O.start_date_jalali!=="-"&&e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:O.start_date_jalali})]})]},O.id))})]})})}),f>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",disabled:v<=1,onClick:()=>p(O=>Math.max(1,O-1)),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2 text-sm",children:["ØµÙØ­Ù‡ ",v," Ø§Ø² ",f]}),e.jsx(E,{variant:"outline",size:"sm",disabled:v>=f,onClick:()=>p(O=>Math.min(f,O+1)),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]}):e.jsx(X,{children:e.jsxs(Z,{className:"pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:k?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯":"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¬Ø¯ÛŒØ¯"}),e.jsxs("div",{className:"flex gap-2",children:[k&&!k.is_cancelled&&e.jsxs(E,{variant:"outline",size:"sm",onClick:gt,disabled:G,children:[e.jsx(bo,{className:"h-4 w-4"}),"Ù„ØºÙˆ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"]}),e.jsx(E,{variant:"outline",size:"sm",onClick:R,children:"Ø¨Ø§Ø²Ú¯Ø´Øª"})]})]}),k?.is_cancelled&&e.jsx(mt,{variant:"destructive",className:"mb-4",children:e.jsx(ht,{children:"Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù„ØºÙˆ Ø´Ø¯Ù‡ Ø§Ø³Øª."})}),e.jsxs("form",{onSubmit:ke,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(me,{value:U.customer_id?String(U.customer_id):"",onValueChange:O=>ce(ie=>({...ie,customer_id:parseInt(O,10)||0})),disabled:!!k,children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø´ØªØ±ÛŒ"})}),e.jsx(ue,{children:h.map(O=>e.jsx(ne,{value:String(O.id),children:O.display_name},O.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹ *"}),e.jsx(W,{type:"date",value:U.start_date,onChange:O=>ce(ie=>({...ie,start_date:O.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(F,{children:"Ø¹Ù†ÙˆØ§Ù† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"}),e.jsx(W,{value:U.contract_title,onChange:O=>ce(ie=>({...ie,contract_title:O.target.value})),placeholder:"Ù…Ø«Ø§Ù„: Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø³Ø§Ù„Ø§Ù†Ù‡"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù…Ø¯Øª Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"}),e.jsxs(me,{value:U.duration,onValueChange:O=>ce(ie=>({...ie,duration:O})),children:[e.jsx(de,{children:e.jsx(he,{})}),e.jsx(ue,{children:(Q.length?Q:[{value:"1-month",label:"ÛŒÚ© Ù…Ø§Ù‡Ù‡"},{value:"3-months",label:"Ø³Ù‡ Ù…Ø§Ù‡Ù‡"},{value:"6-months",label:"Ø´Ø´ Ù…Ø§Ù‡Ù‡"},{value:"12-months",label:"ÛŒÚ© Ø³Ø§Ù„Ù‡"}]).map(O=>e.jsx(ne,{value:O.value,children:O.label},O.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù…Ø¯Ù„ Ø§Ø´ØªØ±Ø§Ú©"}),e.jsxs(me,{value:U.subscription_model,onValueChange:O=>ce(ie=>({...ie,subscription_model:O})),children:[e.jsx(de,{children:e.jsx(he,{})}),e.jsx(ue,{children:(M.length?M:[{value:"onetime",label:"ÛŒÚ©Ø¨Ø§Ø± Ù¾Ø±Ø¯Ø§Ø®Øª"},{value:"subscription",label:"Ø§Ø´ØªØ±Ø§Ú©ÛŒ"}]).map(O=>e.jsx(ne,{value:O.value,children:O.label},O.value))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Ø§Ù‚Ø³Ø§Ø·"}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-end p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù…Ø¨Ù„Øº Ú©Ù„ (ØªÙˆÙ…Ø§Ù†)"}),e.jsx(W,{placeholder:"30,000,000",value:U.total_amount,onChange:O=>ce(ie=>({...ie,total_amount:O.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"ØªØ¹Ø¯Ø§Ø¯ Ø§Ù‚Ø³Ø§Ø·"}),e.jsx(W,{type:"number",min:1,value:U.total_installments,onChange:O=>ce(ie=>({...ie,total_installments:parseInt(O.target.value,10)||1}))})]}),e.jsx(E,{type:"button",variant:"secondary",onClick:be,children:"Ù…Ø­Ø§Ø³Ø¨Ù‡"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(F,{children:"Ù„ÛŒØ³Øª Ø§Ù‚Ø³Ø§Ø·"}),e.jsx(E,{type:"button",variant:"outline",size:"sm",onClick:Y,children:"Ø§ÙØ²ÙˆØ¯Ù† Ù‚Ø³Ø· Ø¯Ø³ØªÛŒ"})]}),e.jsx("div",{className:"space-y-2",children:U.installments.map((O,ie)=>e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("span",{className:"w-8 text-muted-foreground",children:["#",ie+1]}),e.jsx(W,{placeholder:"Ù…Ø¨Ù„Øº",value:O.amount,onChange:ye=>xe(ie,"amount",ye.target.value),className:"flex-1"}),e.jsx(W,{type:"date",value:O.due_date,onChange:ye=>xe(ie,"due_date",ye.target.value),className:"flex-1"}),e.jsxs(me,{value:O.status,onValueChange:ye=>xe(ie,"status",ye),children:[e.jsx(de,{className:"w-[130px]",children:e.jsx(he,{})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"pending",children:"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"}),e.jsx(ne,{value:"paid",children:"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡"}),e.jsx(ne,{value:"cancelled",children:"Ù„ØºÙˆ Ø´Ø¯Ù‡"})]})]}),e.jsx(E,{type:"button",variant:"ghost",size:"icon",onClick:()=>pe(ie),children:e.jsx(We,{className:"h-4 w-4 text-destructive"})})]},ie))})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(E,{type:"submit",disabled:G||(k?.is_cancelled??!1),children:[G&&e.jsx(oe,{className:"h-4 w-4 animate-spin me-2"}),k?"Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª":"Ø§ÛŒØ¬Ø§Ø¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"]}),e.jsx(E,{type:"button",variant:"outline",onClick:R,children:"Ø§Ù†ØµØ±Ø§Ù"})]})]}),k&&e.jsxs("div",{className:"mt-8 pt-8 border-t",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø·"}),z.length>0?e.jsx("ul",{className:"list-disc list-inside space-y-1 mb-4",children:z.map(O=>e.jsx("li",{children:e.jsx(De,{to:`/projects?action=edit&project_id=${O.id}`,className:"text-primary hover:underline",children:O.title})},O.id))}):e.jsx("p",{className:"text-muted-foreground mb-4",children:"Ù‡ÛŒÚ† Ù¾Ø±ÙˆÚ˜Ù‡â€ŒØ§ÛŒ Ø¨Ù‡ Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù…ØªØµÙ„ Ù†ÛŒØ³Øª."}),e.jsxs("form",{onSubmit:Mt,className:"flex gap-2",children:[e.jsx(W,{placeholder:"Ø¹Ù†ÙˆØ§Ù† Ù¾Ø±ÙˆÚ˜Ù‡ Ø¬Ø¯ÛŒØ¯",value:le,onChange:O=>$(O.target.value),className:"flex-1"}),e.jsx(E,{type:"submit",disabled:G||!le.trim(),children:"Ø§ÙØ²ÙˆØ¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡"})]})]})]})})]})}async function Ka(t=1){return ae("puzzlingcrm_get_invoices",{paged:t})}async function aj(t){return ae("puzzlingcrm_get_invoice",{invoice_id:String(t)})}async function ij(t){return ae("puzzling_get_projects_for_customer",{customer_id:String(t)})}async function oj(t){const n=new FormData;return n.set("invoice_id",String(t.invoice_id??0)),n.set("customer_id",String(t.customer_id)),n.set("project_id",String(t.project_id)),n.set("issue_date",t.issue_date),n.set("payment_method",t.payment_method),n.set("notes",t.notes),t.item_title.forEach((s,r)=>{n.append("item_title[]",s),n.append("item_desc[]",t.item_desc[r]??""),n.append("item_price[]",t.item_price[r]??"0"),n.append("item_discount[]",t.item_discount[r]??"0")}),En("puzzling_manage_pro_invoice",n)}function Xs(t){return new Intl.NumberFormat("fa-IR").format(t)}function lj(){const n=Se()?.isRtl===!0,s=At(),[r]=is(),a=r.get("action")==="new"?"new":"list",o=r.get("invoice_id")?parseInt(r.get("invoice_id"),10):null,[l,c]=i.useState(a),[d,m]=i.useState([]),[h,u]=i.useState([]),[f,x]=i.useState([]),[v,p]=i.useState(1),[g,j]=i.useState(1),[w,b]=i.useState(!0),[_,S]=i.useState(null),[I,N]=i.useState(null),[C,L]=i.useState(!1),[k,P]=i.useState({customer_id:0,project_id:0,issue_date:new Date().toISOString().slice(0,10),items:[],payment_method:"",notes:""}),z=i.useCallback(async()=>{b(!0),S(null);try{const T=await Ka(g);T.success&&T.data?(m(T.data.invoices??[]),u(T.data.customers??[]),p(T.data.total_pages??1)):S(T.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±Ù‡Ø§")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±Ù‡Ø§")}finally{b(!1)}},[g]),J=i.useCallback(async T=>{b(!0),S(null);try{const y=await aj(T);if(y.success&&y.data){const R=y.data.invoice;R?(N(R),P({customer_id:R.customer_id,project_id:R.project_id,issue_date:R.issue_date?R.issue_date.slice(0,10):"",items:(R.items??[]).map(Y=>({title:Y.title??"",desc:Y.desc??"",price:String(Y.price??0),discount:String(Y.discount??0)})),payment_method:R.payment_method??"",notes:R.notes??""}),Q(R.customer_id)):(N(null),S(y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±"))}else S(y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±")}finally{b(!1)}},[]),Q=async T=>{if(!T){x([]);return}const y=await ij(T);y.success&&y.data?x(Array.isArray(y.data)?y.data:[]):x([])};i.useEffect(()=>{l==="list"&&z()},[l,z]),i.useEffect(()=>{o&&l==="new"?J(o):l==="new"&&!o&&(N(null),P({customer_id:0,project_id:0,issue_date:new Date().toISOString().slice(0,10),items:[{title:"",desc:"",price:"",discount:"0"}],payment_method:"",notes:""}),x([]),Ka(1).then(T=>{T.success&&T.data&&u(T.data.customers??[])}))},[l,o]);const D=()=>{s("/invoices?action=new"),c("new"),N(null)},M=T=>{s(`/invoices?action=new&invoice_id=${T.id}`),c("new"),J(T.id)},re=()=>{s("/invoices"),c("list"),z()},G=T=>{P(y=>({...y,customer_id:T,project_id:0})),Q(T)},H=()=>{P(T=>({...T,items:[...T.items,{title:"",desc:"",price:"",discount:"0"}]}))},le=T=>{P(y=>({...y,items:y.items.filter((R,Y)=>Y!==T)}))},$=(T,y,R)=>{P(Y=>{const pe=[...Y.items];return pe[T]={...pe[T],[y]:R},{...Y,items:pe}})},U=k.items.reduce((T,y)=>T+(parseFloat(y.price.replace(/\D/g,""))||0),0),ce=k.items.reduce((T,y)=>T+(parseFloat(y.discount.replace(/\D/g,""))||0),0),A=U-ce,te=async T=>{if(T.preventDefault(),!k.customer_id||!k.project_id||!k.issue_date){S("Ù…Ø´ØªØ±ÛŒØŒ Ù¾Ø±ÙˆÚ˜Ù‡ Ùˆ ØªØ§Ø±ÛŒØ® ØµØ¯ÙˆØ± Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}const y=k.items.filter(R=>R.title.trim());if(y.length===0){S("Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø¢ÛŒØªÙ… Ø¨Ø§ÛŒØ¯ Ø«Ø¨Øª Ø´ÙˆØ¯.");return}L(!0),S(null);try{const R=await oj({invoice_id:I?.id,customer_id:k.customer_id,project_id:k.project_id,issue_date:k.issue_date,item_title:y.map(Y=>Y.title),item_desc:y.map(Y=>Y.desc),item_price:y.map(Y=>Y.price.replace(/\D/g,"")||"0"),item_discount:y.map(Y=>Y.discount.replace(/\D/g,"")||"0"),payment_method:k.payment_method,notes:k.notes});R.success?(re(),R.data?.reload&&window.location.reload()):S(R.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{L(!1)}};return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±Ù‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{variant:l==="list"?"default":"outline",onClick:()=>c("list"),children:[e.jsx(Et,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ÛŒØ³Øª"]}),e.jsxs(E,{variant:l==="new"?"default":"outline",onClick:D,children:[e.jsx(Be,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø¯ÛŒØ¯"]})]})]}),_&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive",children:_}),l==="list"?e.jsxs(e.Fragment,{children:[e.jsx(X,{children:e.jsx(Z,{className:"p-0",children:w?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"Ø´Ù…Ø§Ø±Ù‡"}),e.jsx(K,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsx(K,{children:"Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsx(K,{children:"Ù…Ø¨Ù„Øº Ù†Ù‡Ø§ÛŒÛŒ"}),e.jsx(K,{children:"ØªØ§Ø±ÛŒØ®"}),e.jsx(K,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(ze,{children:d.map(T=>e.jsxs(ge,{children:[e.jsx(q,{className:"font-mono",children:T.invoice_number}),e.jsx(q,{children:T.customer_name}),e.jsx(q,{children:T.project_title}),e.jsxs(q,{dir:"ltr",children:[Xs(T.final_total)," ØªÙˆÙ…Ø§Ù†"]}),e.jsx(q,{children:T.date_display}),e.jsx(q,{children:e.jsx(E,{variant:"outline",size:"sm",onClick:()=>M(T),children:e.jsx(tt,{className:"h-4 w-4"})})})]},T.id))})]})})}),v>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",disabled:g<=1,onClick:()=>j(T=>Math.max(1,T-1)),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2 text-sm",children:["ØµÙØ­Ù‡ ",g," Ø§Ø² ",v]}),e.jsx(E,{variant:"outline",size:"sm",disabled:g>=v,onClick:()=>j(T=>Math.min(v,T+1)),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]}):e.jsx(X,{children:e.jsxs(Z,{className:"pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:I?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±":"Ø§ÛŒØ¬Ø§Ø¯ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ± Ø¬Ø¯ÛŒØ¯"}),e.jsx(E,{variant:"outline",size:"sm",onClick:re,children:"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª"})]}),e.jsxs("form",{onSubmit:te,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(me,{value:k.customer_id?String(k.customer_id):"",onValueChange:T=>G(parseInt(T,10)||0),children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø´ØªØ±ÛŒ"})}),e.jsx(ue,{children:h.map(T=>e.jsx(ne,{value:String(T.id),children:T.display_name},T.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù¾Ø±ÙˆÚ˜Ù‡ *"}),e.jsxs(me,{value:k.project_id?String(k.project_id):"",onValueChange:T=>P(y=>({...y,project_id:parseInt(T,10)||0})),children:[e.jsx(de,{children:e.jsx(he,{placeholder:k.customer_id?"Ø§Ù†ØªØ®Ø§Ø¨ Ù¾Ø±ÙˆÚ˜Ù‡":"Ø§Ø¨ØªØ¯Ø§ Ù…Ø´ØªØ±ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsx(ue,{children:f.map(T=>e.jsx(ne,{value:String(T.id),children:T.title},T.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"ØªØ§Ø±ÛŒØ® ØµØ¯ÙˆØ± *"}),e.jsx(W,{type:"date",value:k.issue_date,onChange:T=>P(y=>({...y,issue_date:T.target.value})),required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(F,{children:"Ø±Ø¯ÛŒÙâ€ŒÙ‡Ø§ÛŒ Ø®Ø¯Ù…Ø§Øª"}),e.jsx(E,{type:"button",variant:"outline",size:"sm",onClick:H,children:"Ø§ÙØ²ÙˆØ¯Ù† Ø±Ø¯ÛŒÙ"})]}),e.jsx("div",{className:"space-y-2",children:k.items.map((T,y)=>e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[e.jsxs("div",{className:"col-span-3",children:[e.jsx(F,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(W,{value:T.title,onChange:R=>$(y,"title",R.target.value),placeholder:"Ø¹Ù†ÙˆØ§Ù† Ø®Ø¯Ù…Øª"})]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(F,{children:"ØªÙˆØ¶ÛŒØ­Ø§Øª"}),e.jsx(W,{value:T.desc,onChange:R=>$(y,"desc",R.target.value),placeholder:"ØªÙˆØ¶ÛŒØ­Ø§Øª"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(F,{children:"Ù‚ÛŒÙ…Øª (ØªÙˆÙ…Ø§Ù†)"}),e.jsx(W,{value:T.price,onChange:R=>$(y,"price",R.target.value),placeholder:"0"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(F,{children:"ØªØ®ÙÛŒÙ"}),e.jsx(W,{value:T.discount,onChange:R=>$(y,"discount",R.target.value),placeholder:"0"})]}),e.jsx("div",{className:"col-span-1",children:e.jsx(E,{type:"button",variant:"ghost",size:"icon",onClick:()=>le(y),disabled:k.items.length<=1,children:"Ã—"})})]},y))}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsxs("span",{children:["Ø¬Ù…Ø¹ Ú©Ù„: ",e.jsx("strong",{dir:"ltr",children:Xs(U)})," ØªÙˆÙ…Ø§Ù†"]}),e.jsxs("span",{children:["Ù…Ø¨Ù„Øº Ù†Ù‡Ø§ÛŒÛŒ: ",e.jsx("strong",{dir:"ltr",children:Xs(A)})," ØªÙˆÙ…Ø§Ù†"]})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù†Ø­ÙˆÙ‡ Ù¾Ø±Ø¯Ø§Ø®Øª"}),e.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:k.payment_method,onChange:T=>P(y=>({...y,payment_method:T.target.value})),rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øªâ€ŒÙ‡Ø§"}),e.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:k.notes,onChange:T=>P(y=>({...y,notes:T.target.value})),rows:4})]})]}),e.jsxs(E,{type:"submit",disabled:C,children:[C&&e.jsx(oe,{className:"h-4 w-4 animate-spin me-2"}),I?"Ø°Ø®ÛŒØ±Ù‡":"Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ø§Ø±Ø³Ø§Ù„"]})]})]})})]})}async function Ga(t){return ae("puzzlingcrm_get_tickets",{s:t?.s,status_filter:t?.status_filter,priority_filter:t?.priority_filter,department_filter:t?.department_filter,paged:t?.paged??1})}async function cj(t){return ae("puzzlingcrm_get_ticket",{ticket_id:String(t)})}async function dj(t){return ae("puzzling_new_ticket",{ticket_title:t.ticket_title,ticket_content:t.ticket_content,department:String(t.department),ticket_priority:String(t.ticket_priority)})}async function uj(t,n,s){const r={ticket_id:String(t),comment:n};return s&&(s.ticket_status&&(r.ticket_status=s.ticket_status),s.department&&(r.department=String(s.department)),s.assigned_to&&(r.assigned_to=String(s.assigned_to)),s.ticket_priority&&(r.ticket_priority=String(s.ticket_priority))),ae("puzzling_ticket_reply",r)}async function mj(t){return ae("puzzling_convert_ticket_to_task",{ticket_id:String(t)})}function hj(){const n=Se()?.isRtl===!0,s=At(),[r]=is(),a=r.get("ticket_id")?parseInt(r.get("ticket_id"),10):null,o=r.get("action")==="new"?"new":a?"single":"list",[l,c]=i.useState(o),[d,m]=i.useState([]),[h,u]=i.useState([]),[f,x]=i.useState([]),[v,p]=i.useState([]),[g,j]=i.useState(1),[w,b]=i.useState(1),[_,S]=i.useState(!0),[I,N]=i.useState(null),[C,L]=i.useState(""),[k,P]=i.useState(""),[z,J]=i.useState(""),[Q,D]=i.useState(""),[M,re]=i.useState(null),[G,H]=i.useState([]),[le,$]=i.useState([]),[U,ce]=i.useState(!1),[A,te]=i.useState(!1),[T,y]=i.useState({ticket_title:"",ticket_content:"",department:0,ticket_priority:0}),[R,Y]=i.useState(""),[pe,xe]=i.useState(""),[be,ke]=i.useState(0),$e=i.useCallback(async()=>{S(!0),N(null);try{const B=await Ga({s:C||void 0,status_filter:k||void 0,priority_filter:z||void 0,department_filter:Q?parseInt(Q,10):void 0,paged:w});B.success&&B.data?(m(B.data.tickets??[]),u(B.data.statuses??[]),x(B.data.priorities??[]),p(B.data.departments??[]),j(B.data.total_pages??1)):N(B.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§")}finally{S(!1)}},[C,k,z,Q,w]),gt=i.useCallback(async B=>{S(!0),N(null);try{const we=await cj(B);if(we.success&&we.data){const Pn=we.data.ticket;re(Pn),H(we.data.statuses??[]),$(we.data.departments??[]),ce(we.data.can_manage??!1),Pn?(xe(Pn.status_slug??""),ke(Pn.department_id??0)):(xe(""),ke(0))}else N(we.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÛŒÚ©Øª")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÛŒÚ©Øª")}finally{S(!1)}},[]);i.useEffect(()=>{l==="list"&&$e()},[l,$e]),i.useEffect(()=>{a&&l==="single"&&gt(a)},[l,a]),i.useEffect(()=>{r.get("action")==="new"&&(c("new"),Ga({}).then(B=>{B.success&&B.data&&(u(B.data.statuses??[]),x(B.data.priorities??[]),p(B.data.departments??[]))}))},[]);const Mt=()=>{s("/tickets?action=new"),c("new"),y({ticket_title:"",ticket_content:"",department:0,ticket_priority:0})},O=B=>{s(`/tickets?ticket_id=${B.id}`),c("single"),gt(B.id)},ie=()=>{s("/tickets"),c("list"),re(null),$e()},ye=async B=>{if(B.preventDefault(),!T.ticket_title.trim()||!T.ticket_content.trim()||!T.department||!T.ticket_priority){N("Ø¹Ù†ÙˆØ§Ù†ØŒ Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†ØŒ Ø§ÙˆÙ„ÙˆÛŒØª Ùˆ Ù…ØªÙ† ØªÛŒÚ©Øª Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}te(!0),N(null);try{const we=await dj({ticket_title:T.ticket_title.trim(),ticket_content:T.ticket_content.trim(),department:T.department,ticket_priority:T.ticket_priority});we.success?(ie(),we.data?.reload&&window.location.reload()):N(we.message??"Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª ØªÛŒÚ©Øª")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª ØªÛŒÚ©Øª")}finally{te(!1)}},Ee=async B=>{if(B.preventDefault(),!(!M||!R.trim())){te(!0),N(null);try{const we=await uj(M.id,R.trim(),U?{ticket_status:pe||void 0,department:be||void 0}:void 0);we.success?(Y(""),gt(M.id),we.data?.reload&&window.location.reload()):N(we.message??"Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ù¾Ø§Ø³Ø®")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ù¾Ø§Ø³Ø®")}finally{te(!1)}}},Te=async()=>{if(!(!M||!U||!confirm("ØªØ¨Ø¯ÛŒÙ„ Ø§ÛŒÙ† ØªÛŒÚ©Øª Ø¨Ù‡ ÙˆØ¸ÛŒÙÙ‡ØŸ"))){te(!0),N(null);try{const B=await mj(M.id);B.success?(ie(),B.data?.reload&&window.location.reload()):N(B.message??"Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„")}catch{N("Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„")}finally{te(!1)}}};return l==="single"&&M?e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs(E,{variant:"ghost",onClick:ie,className:"mb-4",children:[e.jsx(go,{className:V("h-4 w-4",n?"me-2":"ms-2 rotate-180")}),"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"]}),I&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive",children:I}),e.jsx(X,{children:e.jsxs(Z,{className:"pt-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:M.title}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ ØªÙˆØ³Ø·: ",M.author_name]}),e.jsxs("span",{children:["Ø¯Ø± ØªØ§Ø±ÛŒØ®: ",M.date]}),e.jsx(Ne,{variant:"secondary",children:M.status_name}),e.jsx(Ne,{variant:"outline",children:M.priority_name}),e.jsxs("span",{children:["Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†: ",M.department_name]}),e.jsxs("span",{children:["Ù…Ø³Ø¦ÙˆÙ„: ",M.assigned_to_name]})]}),e.jsx("div",{className:"prose prose-sm max-w-none mb-6",dangerouslySetInnerHTML:{__html:M.content}}),U&&e.jsxs(E,{variant:"outline",size:"sm",onClick:Te,disabled:A,className:"mb-6",children:[e.jsx(Eo,{className:"h-4 w-4 me-2"}),"ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ ÙˆØ¸ÛŒÙÙ‡"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium",children:"Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§"}),M.replies.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Ù‡Ù†ÙˆØ² Ù¾Ø§Ø³Ø®ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}):e.jsx("div",{className:"space-y-4",children:M.replies.map(B=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:[B.author," â€” ",B.date]}),e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:B.content}})]},B.id))}),!M.is_closed&&e.jsxs("form",{onSubmit:Ee,className:"space-y-4 pt-4 border-t",children:[e.jsx("h4",{className:"font-medium",children:"Ø§Ø±Ø³Ø§Ù„ Ù¾Ø§Ø³Ø® Ø¬Ø¯ÛŒØ¯"}),U&&e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsxs(me,{value:pe,onValueChange:xe,children:[e.jsx(de,{className:"w-[140px]",children:e.jsx(he,{})}),e.jsx(ue,{children:(G.length?G:[{slug:"open",name:"Ø¨Ø§Ø²"},{slug:"in-progress",name:"Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…"},{slug:"closed",name:"Ø¨Ø³ØªÙ‡ Ø´Ø¯Ù‡"}]).map(B=>e.jsx(ne,{value:B.slug,children:B.name},B.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"}),e.jsxs(me,{value:be?String(be):"",onValueChange:B=>ke(parseInt(B,10)||0),children:[e.jsx(de,{className:"w-[140px]",children:e.jsx(he,{})}),e.jsx(ue,{children:(le.length?le:v).map(B=>e.jsx(ne,{value:String(B.id),children:B.name},B.id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù…ØªÙ† Ù¾Ø§Ø³Ø® *"}),e.jsx("textarea",{className:"flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:R,onChange:B=>Y(B.target.value),required:!0,rows:6})]}),e.jsxs(E,{type:"submit",disabled:A||!R.trim(),children:[A&&e.jsx(oe,{className:"h-4 w-4 animate-spin me-2"}),"Ø§Ø±Ø³Ø§Ù„ Ù¾Ø§Ø³Ø®"]})]})]})]})})]}):e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{variant:l==="list"?"default":"outline",onClick:()=>{c("list"),s("/tickets")},children:[e.jsx(Et,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ÛŒØ³Øª ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"]}),e.jsxs(E,{variant:l==="new"?"default":"outline",onClick:Mt,children:[e.jsx(Be,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª Ø¬Ø¯ÛŒØ¯"]})]})]}),I&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive",children:I}),l==="new"?e.jsx(X,{children:e.jsxs(Z,{className:"pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª Ø¬Ø¯ÛŒØ¯"}),e.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù…ÙˆØ¶ÙˆØ¹ *"}),e.jsx(W,{value:T.ticket_title,onChange:B=>y(we=>({...we,ticket_title:B.target.value})),placeholder:"Ù…ÙˆØ¶ÙˆØ¹ ØªÛŒÚ©Øª Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯...",required:!0})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù† *"}),e.jsxs(me,{value:T.department?String(T.department):"",onValueChange:B=>y(we=>({...we,department:parseInt(B,10)||0})),children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"})}),e.jsx(ue,{children:v.map(B=>e.jsx(ne,{value:String(B.id),children:B.name},B.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø§ÙˆÙ„ÙˆÛŒØª *"}),e.jsxs(me,{value:T.ticket_priority?String(T.ticket_priority):"",onValueChange:B=>y(we=>({...we,ticket_priority:parseInt(B,10)||0})),children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ø§ÙˆÙ„ÙˆÛŒØª"})}),e.jsx(ue,{children:f.map(B=>e.jsx(ne,{value:String(B.term_id),children:B.name},B.term_id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù¾ÛŒØ§Ù… Ø´Ù…Ø§ *"}),e.jsx("textarea",{className:"flex min-h-[200px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:T.ticket_content,onChange:B=>y(we=>({...we,ticket_content:B.target.value})),required:!0,rows:10})]}),e.jsxs(E,{type:"submit",disabled:A,children:[A&&e.jsx(oe,{className:"h-4 w-4 animate-spin me-2"}),"Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª"]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx(X,{children:e.jsxs(Z,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsx(W,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ...",value:C,onChange:B=>L(B.target.value),className:"max-w-[200px]"}),e.jsxs(me,{value:k,onValueChange:P,children:[e.jsx(de,{className:"w-[130px]",children:e.jsx(he,{placeholder:"ÙˆØ¶Ø¹ÛŒØª"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"Ù‡Ù…Ù‡"}),h.map(B=>e.jsx(ne,{value:B.slug,children:B.name},B.slug))]})]}),e.jsxs(me,{value:z,onValueChange:J,children:[e.jsx(de,{className:"w-[120px]",children:e.jsx(he,{placeholder:"Ø§ÙˆÙ„ÙˆÛŒØª"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"Ù‡Ù…Ù‡"}),f.map(B=>e.jsx(ne,{value:B.slug,children:B.name},B.term_id))]})]}),e.jsxs(me,{value:Q,onValueChange:D,children:[e.jsx(de,{className:"w-[140px]",children:e.jsx(he,{placeholder:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"Ù‡Ù…Ù‡"}),v.map(B=>e.jsx(ne,{value:String(B.id),children:B.name},B.id))]})]}),e.jsx(E,{onClick:$e,children:"ÙÛŒÙ„ØªØ±"})]}),_?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† ØªÛŒÚ©ØªÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"Ù…ÙˆØ¶ÙˆØ¹"}),e.jsx(K,{children:"Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ"}),e.jsx(K,{children:"Ø§ÙˆÙ„ÙˆÛŒØª"}),e.jsx(K,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(K,{})]})}),e.jsx(ze,{children:d.map(B=>e.jsxs(ge,{children:[e.jsx(q,{children:e.jsx("button",{type:"button",className:"text-primary hover:underline text-start font-medium",onClick:()=>O(B),children:B.title})}),e.jsx(q,{children:B.modified}),e.jsx(q,{children:e.jsx(Ne,{variant:"outline",children:B.priority_name})}),e.jsx(q,{children:e.jsx(Ne,{variant:"secondary",children:B.status_name})}),e.jsx(q,{children:e.jsx(E,{variant:"outline",size:"sm",onClick:()=>O(B),children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡"})})]},B.id))})]})]})}),g>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",disabled:w<=1,onClick:()=>b(B=>Math.max(1,B-1)),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2 text-sm",children:["ØµÙØ­Ù‡ ",w," Ø§Ø² ",g]}),e.jsx(E,{variant:"outline",size:"sm",disabled:w>=g,onClick:()=>b(B=>Math.min(g,B+1)),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]})}async function Ya(t){return ae("puzzlingcrm_get_projects",{s:t?.s,contract_id:t?.contract_id,status_filter:t?.status_filter,paged:t?.paged??1})}async function Gc(t){return ae("puzzlingcrm_get_project",{project_id:String(t)})}async function fj(t){const n=new FormData;return n.set("project_id",String(t.project_id??0)),n.set("project_title",t.project_title),n.set("contract_id",String(t.contract_id)),n.set("project_content",t.project_content??""),n.set("project_status",String(t.project_status)),n.set("project_manager",String(t.project_manager??0)),n.set("project_start_date",t.project_start_date??""),n.set("project_end_date",t.project_end_date??""),n.set("project_priority",t.project_priority??"medium"),En("puzzling_manage_project",n)}async function pj(t,n){return ae("puzzling_delete_project",{project_id:String(t),nonce:n})}function xj({projectId:t,isRtl:n,onBack:s,onEdit:r}){const[a,o]=i.useState(null),[l,c]=i.useState(!0),[d,m]=i.useState(null);if(i.useEffect(()=>{let f=!1;return c(!0),m(null),Gc(t).then(x=>{f||(x.success&&x.data?.project?o(x.data.project):m(x.message??"Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯."))}).catch(()=>{f||m("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡.")}).finally(()=>{f||c(!1)}),()=>{f=!0}},[t]),l)return e.jsx("div",{className:"flex items-center justify-center py-12",dir:n?"rtl":"ltr",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(d||!a)return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsx(E,{variant:"ghost",onClick:s,children:"â† Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-destructive",children:d??"Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯."})]});const h={high:"Ø²ÛŒØ§Ø¯",medium:"Ù…ØªÙˆØ³Ø·",low:"Ú©Ù…"}[a.priority]??a.priority,u=a.tasks??[];return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs(E,{variant:"ghost",onClick:s,className:V("gap-2",n&&"flex-row-reverse"),children:[e.jsx(go,{className:V("h-4 w-4",n&&"rotate-180")}),"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"]}),e.jsxs(E,{variant:"outline",size:"sm",onClick:r,className:"gap-2",children:[e.jsx(tt,{className:"h-4 w-4"}),"ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø±ÙˆÚ˜Ù‡"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),e.jsx(Ne,{variant:"secondary",children:a.status_name??""}),e.jsx(Ne,{variant:"outline",children:h})]}),e.jsx(X,{children:e.jsxs(Z,{className:"pt-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ø¬Ø²Ø¦ÛŒØ§Øª Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.customer_name&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Ù…Ø´ØªØ±ÛŒ:"}),e.jsx("span",{className:"font-medium",children:a.customer_name})]}),a.manager_name&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Ù…Ø¯ÛŒØ± Ù¾Ø±ÙˆÚ˜Ù‡:"}),e.jsx("span",{className:"font-medium",children:a.manager_name})]}),a.start_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹:"}),e.jsx("span",{children:a.start_date})]}),a.end_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"ØªØ§Ø±ÛŒØ® Ù¾Ø§ÛŒØ§Ù†:"}),e.jsx("span",{children:a.end_date})]}),a.assigned_members&&a.assigned_members.length>0&&e.jsxs("div",{className:"flex items-start gap-2 sm:col-span-2",children:[e.jsx(xs,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"block mb-1",children:"Ø§Ø¹Ø¶Ø§ÛŒ ØªÛŒÙ…:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.assigned_members.map(f=>e.jsx(Ne,{variant:"outline",children:f.display_name},f.id))})]})]})]}),a.content&&e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:a.content})})]})}),a.total_tasks!==void 0&&a.total_tasks>0&&e.jsx(X,{children:e.jsxs(Z,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Ù¾ÛŒØ´Ø±ÙØª ÙˆØ¸Ø§ÛŒÙ"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.completed_tasks??0," Ø§Ø² ",a.total_tasks," ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡",a.completion_percentage!=null&&` (${a.completion_percentage}%)`]})]}),a.completion_percentage!=null&&e.jsx("div",{className:"h-2 w-full rounded-full bg-muted overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${Math.min(100,a.completion_percentage)}%`}})}),u.length>0&&e.jsxs("ul",{className:"mt-4 space-y-2",children:[u.slice(0,10).map(f=>e.jsxs("li",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[e.jsx("span",{children:f.title}),e.jsx(Ne,{variant:"secondary",children:f.status_name})]},f.id)),u.length>10&&e.jsxs("li",{className:"text-sm text-muted-foreground pt-2",children:["Ùˆ ",u.length-10," ÙˆØ¸ÛŒÙÙ‡Ù” Ø¯ÛŒÚ¯Ø±..."]})]})]})})]})}function gj(){const n=Se()?.isRtl===!0,s=At(),[r]=is(),a=r.get("project_id")?parseInt(r.get("project_id"),10):null,o=r.get("action")==="new"?"new":a?"form":"list",[l,c]=i.useState(o),[d,m]=i.useState([]),[h,u]=i.useState([]),[f,x]=i.useState([]),[v,p]=i.useState([]),[g,j]=i.useState(1),[w,b]=i.useState(1),[_,S]=i.useState(!0),[I,N]=i.useState(null),[C,L]=i.useState(""),[k,P]=i.useState(""),[z,J]=i.useState(""),[Q,D]=i.useState(!1),[M,re]=i.useState({project_title:"",contract_id:0,project_manager:0,project_status:0,project_content:"",start_date:"",end_date:"",priority:"medium"}),G=i.useCallback(async()=>{S(!0),N(null);try{const y=await Ya({s:C||void 0,contract_id:k?parseInt(k,10):void 0,status_filter:z?parseInt(z,10):void 0,paged:w});y.success&&y.data?(m(y.data.projects??[]),u(y.data.contracts??[]),x(y.data.statuses??[]),p(y.data.managers??[]),j(y.data.total_pages??1)):N(y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§")}finally{S(!1)}},[C,k,z,w]),H=i.useCallback(async y=>{S(!0),N(null);try{const R=await Gc(y);if(R.success&&R.data){const Y=R.data.project;p(R.data.managers??[]),u(R.data.contracts??[]),x(R.data.statuses??[]),Y?re({project_title:Y.title??"",contract_id:Y.contract_id??0,project_manager:Y.project_manager??0,project_status:Y.project_status??0,project_content:Y.content??"",start_date:Y.start_date?Y.start_date.slice(0,10):"",end_date:Y.end_date?Y.end_date.slice(0,10):"",priority:Y.priority??"medium"}):N(R.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡")}else N(R.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡")}finally{S(!1)}},[]);i.useEffect(()=>{l==="list"&&G()},[l,G]),i.useEffect(()=>{a&&l==="form"&&H(a)},[l,a]),i.useEffect(()=>{l==="new"&&Ya({}).then(y=>{y.success&&y.data&&(u(y.data.contracts??[]),x(y.data.statuses??[]),p(y.data.managers??[]))})},[l]);const le=()=>{s("/projects?action=new"),c("new"),re({project_title:"",contract_id:0,project_manager:0,project_status:0,project_content:"",start_date:"",end_date:"",priority:"medium"})},$=y=>{s(`/projects?action=edit&project_id=${y.id}`),c("form"),H(y.id)},U=()=>{s("/projects"),c("list"),G()},ce=async y=>{if(y.preventDefault(),!M.project_title.trim()||!M.contract_id||!M.project_status){N("Ù†Ø§Ù… Ù¾Ø±ÙˆÚ˜Ù‡ØŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ùˆ ÙˆØ¶Ø¹ÛŒØª Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}D(!0),N(null);try{const R=await fj({project_id:a??void 0,project_title:M.project_title.trim(),contract_id:M.contract_id,project_content:M.project_content||void 0,project_status:M.project_status,project_manager:M.project_manager||void 0,project_start_date:M.start_date||void 0,project_end_date:M.end_date||void 0,project_priority:M.priority});R.success?(U(),R.data?.reload&&window.location.reload()):N(R.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{D(!1)}},A=async y=>{const R=y.delete_nonce;if(!(!R||!confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"))){D(!0),N(null);try{const Y=await pj(y.id,R);Y.success?G():N(Y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{N("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{D(!1)}}},te=l==="new"||l==="form",T=r.get("action")==="view"&&r.get("project_id")?parseInt(r.get("project_id"),10):null;return T?e.jsx(xj,{projectId:T,isRtl:n,onBack:()=>{s("/projects"),c("list")},onEdit:()=>{s(`/projects?action=edit&project_id=${T}`),c("form"),H(T)}}):e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{variant:l==="list"?"default":"outline",onClick:()=>{c("list"),s("/projects")},children:[e.jsx(Et,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ÛŒØ³Øª"]}),e.jsxs(E,{variant:te?"default":"outline",onClick:le,children:[e.jsx(Be,{className:V("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡"]})]})]}),I&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive",children:I}),te?e.jsx(X,{children:e.jsxs(Z,{className:"pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:a?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø±ÙˆÚ˜Ù‡":"Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¬Ø¯ÛŒØ¯"}),e.jsx(E,{variant:"outline",size:"sm",onClick:U,children:"Ø¨Ø§Ø²Ú¯Ø´Øª"})]}),e.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù†Ø§Ù… Ù¾Ø±ÙˆÚ˜Ù‡ *"}),e.jsx(W,{value:M.project_title,onChange:y=>re(R=>({...R,project_title:y.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ / Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(me,{value:M.contract_id?String(M.contract_id):"",onValueChange:y=>re(R=>({...R,contract_id:parseInt(y,10)||0})),children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"})}),e.jsx(ue,{children:h.map(y=>e.jsxs(ne,{value:String(y.id),children:[y.title," (",y.customer_name,")"]},y.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù…Ø¯ÛŒØ± Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsxs(me,{value:M.project_manager?String(M.project_manager):"",onValueChange:y=>re(R=>({...R,project_manager:parseInt(y,10)||0})),children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø¯ÛŒØ±"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"0",children:"â€”"}),v.map(y=>e.jsx(ne,{value:String(y.id),children:y.display_name},y.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"ÙˆØ¶Ø¹ÛŒØª *"}),e.jsxs(me,{value:M.project_status?String(M.project_status):"",onValueChange:y=>re(R=>({...R,project_status:parseInt(y,10)||0})),children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ ÙˆØ¶Ø¹ÛŒØª"})}),e.jsx(ue,{children:f.map(y=>e.jsx(ne,{value:String(y.id),children:y.name},y.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹"}),e.jsx(W,{type:"date",value:M.start_date,onChange:y=>re(R=>({...R,start_date:y.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"ØªØ§Ø±ÛŒØ® Ù¾Ø§ÛŒØ§Ù†"}),e.jsx(W,{type:"date",value:M.end_date,onChange:y=>re(R=>({...R,end_date:y.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"ØªÙˆØ¶ÛŒØ­Ø§Øª"}),e.jsx("textarea",{className:"flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:M.project_content,onChange:y=>re(R=>({...R,project_content:y.target.value})),rows:6})]}),e.jsxs(E,{type:"submit",disabled:Q,children:[Q&&e.jsx(oe,{className:"h-4 w-4 animate-spin me-2"}),a?"Ø°Ø®ÛŒØ±Ù‡":"Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡"]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx(X,{children:e.jsxs(Z,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsx(W,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ...",value:C,onChange:y=>L(y.target.value),className:"max-w-[200px]"}),e.jsxs(me,{value:k,onValueChange:P,children:[e.jsx(de,{className:"w-[180px]",children:e.jsx(he,{placeholder:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"Ù‡Ù…Ù‡"}),h.map(y=>e.jsx(ne,{value:String(y.id),children:y.title},y.id))]})]}),e.jsxs(me,{value:z,onValueChange:J,children:[e.jsx(de,{className:"w-[120px]",children:e.jsx(he,{placeholder:"ÙˆØ¶Ø¹ÛŒØª"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"Ù‡Ù…Ù‡"}),f.map(y=>e.jsx(ne,{value:String(y.id),children:y.name},y.id))]})]}),e.jsx(E,{onClick:G,children:"ÙÛŒÙ„ØªØ±"})]}),_?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ù¾Ø±ÙˆÚ˜Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"Ù†Ø§Ù… Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsx(K,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsx(K,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(K,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(ze,{children:d.map(y=>e.jsxs(ge,{children:[e.jsx(q,{children:e.jsxs(De,{to:`/projects?action=view&project_id=${y.id}`,className:"text-primary hover:underline font-medium flex items-center gap-2",children:[e.jsx(st,{className:"h-4 w-4"}),y.title]})}),e.jsx(q,{children:y.customer_name}),e.jsx(q,{children:e.jsx(Ne,{variant:"secondary",children:y.status_name})}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",onClick:()=>$(y),children:e.jsx(tt,{className:"h-4 w-4"})}),y.delete_nonce?e.jsx(E,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>A(y),disabled:Q,children:e.jsx(We,{className:"h-4 w-4"})}):null]})})]},y.id))})]})]})}),g>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",disabled:w<=1,onClick:()=>b(y=>Math.max(1,y-1)),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2 text-sm",children:["ØµÙØ­Ù‡ ",w," Ø§Ø² ",g]}),e.jsx(E,{variant:"outline",size:"sm",disabled:w>=g,onClick:()=>b(y=>Math.min(g,y+1)),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]})}var vj=Symbol("radix.slottable");function jj(t){const n=({children:s})=>e.jsx(e.Fragment,{children:s});return n.displayName=`${t}.Slottable`,n.__radixId=vj,n}var Yc="AlertDialog",[yj]=Ft(Yc,[Oi]),_t=Oi(),Xc=t=>{const{__scopeAlertDialog:n,...s}=t,r=_t(n);return e.jsx(Pr,{...r,...s,modal:!0})};Xc.displayName=Yc;var wj="AlertDialogTrigger",bj=i.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=_t(s);return e.jsx(Ji,{...a,...r,ref:n})});bj.displayName=wj;var _j="AlertDialogPortal",Zc=t=>{const{__scopeAlertDialog:n,...s}=t,r=_t(n);return e.jsx(Ar,{...r,...s})};Zc.displayName=_j;var Nj="AlertDialogOverlay",Jc=i.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=_t(s);return e.jsx(vn,{...a,...r,ref:n})});Jc.displayName=Nj;var Gt="AlertDialogContent",[Sj,Cj]=yj(Gt),kj=jj("AlertDialogContent"),Qc=i.forwardRef((t,n)=>{const{__scopeAlertDialog:s,children:r,...a}=t,o=_t(s),l=i.useRef(null),c=je(n,l),d=i.useRef(null);return e.jsx(yh,{contentName:Gt,titleName:ed,docsSlug:"alert-dialog",children:e.jsx(Sj,{scope:s,cancelRef:d,children:e.jsxs(jn,{role:"alertdialog",...o,...a,ref:c,onOpenAutoFocus:se(a.onOpenAutoFocus,m=>{m.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[e.jsx(kj,{children:r}),e.jsx(Rj,{contentRef:l})]})})})});Qc.displayName=Gt;var ed="AlertDialogTitle",td=i.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=_t(s);return e.jsx(yn,{...a,...r,ref:n})});td.displayName=ed;var nd="AlertDialogDescription",sd=i.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=_t(s);return e.jsx(wn,{...a,...r,ref:n})});sd.displayName=nd;var Ej="AlertDialogAction",rd=i.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=_t(s);return e.jsx(Tr,{...a,...r,ref:n})});rd.displayName=Ej;var ad="AlertDialogCancel",id=i.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,{cancelRef:a}=Cj(ad,s),o=_t(s),l=je(n,a);return e.jsx(Tr,{...o,...r,ref:l})});id.displayName=ad;var Rj=({contentRef:t})=>{const n=`\`${Gt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gt}\` by passing a \`${nd}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(n)},[n,t]),null},Pj=Xc,Aj=Zc,od=Jc,ld=Qc,cd=rd,dd=id,ud=td,md=sd;const aa=Pj,Tj=Aj,hd=i.forwardRef(({className:t,...n},s)=>e.jsx(od,{ref:s,className:V("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n}));hd.displayName=od.displayName;const Es=i.forwardRef(({className:t,...n},s)=>e.jsxs(Tj,{children:[e.jsx(hd,{}),e.jsx(ld,{ref:s,className:V("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n})]}));Es.displayName=ld.displayName;const Rs=({className:t,...n})=>e.jsx("div",{className:V("flex flex-col space-y-2 text-center sm:text-left",t),...n});Rs.displayName="AlertDialogHeader";const Ps=({className:t,...n})=>e.jsx("div",{className:V("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-2",t),...n});Ps.displayName="AlertDialogFooter";const As=i.forwardRef(({className:t,...n},s)=>e.jsx(ud,{ref:s,className:V("text-lg font-semibold",t),...n}));As.displayName=ud.displayName;const Ts=i.forwardRef(({className:t,...n},s)=>e.jsx(md,{ref:s,className:V("text-sm text-muted-foreground",t),...n}));Ts.displayName=md.displayName;const Ds=i.forwardRef(({className:t,...n},s)=>e.jsx(cd,{ref:s,className:V(si(),t),...n}));Ds.displayName=cd.displayName;const Ms=i.forwardRef(({className:t,...n},s)=>e.jsx(dd,{ref:s,className:V(si({variant:"outline"}),"mt-2 sm:mt-0",t),...n}));Ms.displayName=dd.displayName;async function Dj(t){return ae("puzzlingcrm_get_tasks",{s:t?.s,project_filter:t?.project_filter,staff_filter:t?.staff_filter,priority_filter:t?.priority_filter,label_filter:t?.label_filter,status:t?.status,paged:t?.paged??1,per_page:t?.per_page})}async function Mj(t,n){return ae("puzzling_update_task_status",{task_id:String(t),status:n})}async function Ij(t){return ae("puzzling_delete_task",{task_id:String(t)})}async function Oj(t){return ae("puzzling_quick_add_task",{title:t.title,project_id:String(t.project_id),assigned_to:String(t.assigned_to),status_slug:t.status_slug})}function Lj(){const n=Se()?.isRtl===!0,[s,r]=i.useState("board"),[a,o]=i.useState(null),[l,c]=i.useState(!0),[d,m]=i.useState(null),[h,u]=i.useState(""),[f,x]=i.useState(""),[v,p]=i.useState(""),[g,j]=i.useState(""),[w,b]=i.useState(""),[_,S]=i.useState(!1),[I,N]=i.useState(null),[C,L]=i.useState(!1),[k,P]=i.useState({title:"",project_id:0,assigned_to:0,status_slug:""}),[z,J]=i.useState(null),[Q,D]=i.useState(null),M=i.useCallback(async()=>{c(!0),m(null);try{const y=await Dj({s:h||void 0,project_filter:f?parseInt(f,10):void 0,staff_filter:v?parseInt(v,10):void 0,priority_filter:g||void 0,label_filter:w||void 0,per_page:200});y.success&&y.data?o(y.data):m(y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙˆØ¸Ø§ÛŒÙ")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙˆØ¸Ø§ÛŒÙ")}finally{c(!1)}},[h,f,v,g,w]);i.useEffect(()=>{M()},[M]);const re=i.useCallback(async(y,R)=>{L(!0),m(null);try{const Y=await Mj(y,R);Y.success?M():m(Y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ")}finally{L(!1),J(null),D(null)}},[M]),G=i.useCallback(async y=>{L(!0),m(null);try{const R=await Ij(y);R.success?(N(null),M()):m(R.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{L(!1)}},[M]),H=i.useCallback(async()=>{if(!k.title.trim()||!k.project_id||!k.assigned_to||!k.status_slug){m("Ø¹Ù†ÙˆØ§Ù†ØŒ Ù¾Ø±ÙˆÚ˜Ù‡ØŒ Ù…Ø³Ø¦ÙˆÙ„ Ùˆ ÙˆØ¶Ø¹ÛŒØª Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}L(!0),m(null);try{const y=await Oj({title:k.title.trim(),project_id:k.project_id,assigned_to:k.assigned_to,status_slug:k.status_slug});y.success?(S(!1),P({title:"",project_id:0,assigned_to:0,status_slug:""}),M()):m(y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ ÙˆØ¸ÛŒÙÙ‡")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ ÙˆØ¸ÛŒÙÙ‡")}finally{L(!1)}},[k,M]),le=a?.statuses??[],$=a?.tasks??[],U=a?.stats??{total_tasks:0,active_tasks:0,completed_tasks:0,total_projects:0},ce=a?.projects??[],A=a?.staff??[],te=(U.total_projects??0)>0||A.length>0,T=y=>$.filter(R=>R.status_slug===y);return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"ÙˆØ¸Ø§ÛŒÙ"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{variant:s==="board"?"default":"outline",size:"sm",onClick:()=>r("board"),className:"gap-2",children:[e.jsx(lf,{className:"h-4 w-4"}),"Ø¨ÙØ±Ø¯"]}),e.jsxs(E,{variant:s==="list"?"default":"outline",size:"sm",onClick:()=>r("list"),className:"gap-2",children:[e.jsx(Et,{className:"h-4 w-4"}),"Ù„ÛŒØ³Øª"]}),e.jsxs(E,{size:"sm",onClick:()=>S(!0),className:"gap-2",children:[e.jsx(Be,{className:"h-4 w-4"}),"ÙˆØ¸ÛŒÙÙ‡ Ø¬Ø¯ÛŒØ¯"]})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[te&&e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:e.jsx(st,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:U.total_projects})]})]})})}),e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-muted",children:e.jsx(Et,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ ÙˆØ¸Ø§ÛŒÙ"}),e.jsx("p",{className:"text-xl font-semibold",children:U.total_tasks})]})]})})}),e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/10",children:e.jsx(oe,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ÙØ¹Ø§Ù„"}),e.jsx("p",{className:"text-xl font-semibold",children:U.active_tasks})]})]})})}),e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-500/10",children:e.jsx(Et,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ØªÚ©Ù…ÛŒÙ„â€ŒØ´Ø¯Ù‡"}),e.jsx("p",{className:"text-xl font-semibold",children:U.completed_tasks})]})]})})})]}),e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(W,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ...",value:h,onChange:y=>u(y.target.value),className:"max-w-[200px]"}),ce.length>0&&e.jsxs(me,{value:f,onValueChange:x,children:[e.jsx(de,{className:"w-[180px]",children:e.jsx(he,{placeholder:"Ù¾Ø±ÙˆÚ˜Ù‡"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"Ù‡Ù…Ù‡"}),ce.map(y=>e.jsx(ne,{value:String(y.id),children:y.title},y.id))]})]}),A.length>0&&e.jsxs(me,{value:v,onValueChange:p,children:[e.jsx(de,{className:"w-[160px]",children:e.jsx(he,{placeholder:"Ú©Ø§Ø±Ù…Ù†Ø¯"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"Ù‡Ù…Ù‡"}),A.map(y=>e.jsx(ne,{value:String(y.id),children:y.display_name},y.id))]})]}),(a?.priorities?.length??0)>0&&e.jsxs(me,{value:g,onValueChange:j,children:[e.jsx(de,{className:"w-[120px]",children:e.jsx(he,{placeholder:"Ø§ÙˆÙ„ÙˆÛŒØª"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"Ù‡Ù…Ù‡"}),(a?.priorities??[]).map(y=>e.jsx(ne,{value:y.slug,children:y.name},y.id))]})]}),(a?.labels?.length??0)>0&&e.jsxs(me,{value:w,onValueChange:b,children:[e.jsx(de,{className:"w-[120px]",children:e.jsx(he,{placeholder:"Ø¨Ø±Ú†Ø³Ø¨"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"Ù‡Ù…Ù‡"}),(a?.labels??[]).map(y=>e.jsx(ne,{value:y.slug,children:y.name},y.id))]})]}),e.jsx(E,{onClick:M,children:"Ø§Ø¹Ù…Ø§Ù„ ÙÛŒÙ„ØªØ±"})]})})}),d&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm",children:d}),l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s==="board"?e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:le.map(y=>e.jsxs("div",{className:V("min-w-[280px] rounded-lg border-2 bg-muted/30 p-3 transition-colors",Q===y.slug&&"border-primary bg-primary/5"),onDragOver:R=>{R.preventDefault(),D(y.slug)},onDragLeave:()=>D(null),onDrop:R=>{R.preventDefault(),D(null);const Y=z;Y&&Y.status_slug!==y.slug&&re(Y.id,y.slug)},children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:y.name}),e.jsx(Ne,{variant:"secondary",children:T(y.slug).length})]}),e.jsx("div",{className:"space-y-2",children:T(y.slug).map(R=>e.jsxs("div",{draggable:!0,onDragStart:()=>J(R),onDragEnd:()=>J(null),className:"flex items-start gap-2 rounded-md border bg-background p-3 shadow-sm cursor-grab active:cursor-grabbing",children:[e.jsx(sf,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:R.title}),R.project_title&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[e.jsx(st,{className:"h-3 w-3"}),R.project_title]}),R.due_date&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[e.jsx(dn,{className:"h-3 w-3"}),R.due_date]}),R.assigned_name&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[e.jsx(Yt,{className:"h-3 w-3"}),R.assigned_name]})]}),e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 text-destructive hover:text-destructive",onClick:()=>N(R.id),children:e.jsx(We,{className:"h-4 w-4"})})]},R.id))})]},y.slug))}):e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:$.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† ÙˆØ¸ÛŒÙÙ‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(K,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(K,{children:"Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsx(K,{children:"Ù…Ø³Ø¦ÙˆÙ„"}),e.jsx(K,{children:"Ø³Ø±Ø±Ø³ÛŒØ¯"}),e.jsx(K,{className:"w-[80px]",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(ze,{children:$.map(y=>e.jsxs(ge,{children:[e.jsx(q,{className:"font-medium",children:y.title}),e.jsx(q,{children:e.jsx(Ne,{variant:"secondary",children:y.status_name})}),e.jsx(q,{children:y.project_title||"â€”"}),e.jsx(q,{children:y.assigned_name||"â€”"}),e.jsx(q,{children:y.due_date?y.due_date.slice(0,10):"â€”"}),e.jsx(q,{children:e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>N(y.id),children:e.jsx(We,{className:"h-4 w-4"})})})]},y.id))})]})})}),e.jsx(Je,{open:_,onOpenChange:S,children:e.jsxs(Ue,{className:"sm:max-w-md",dir:n?"rtl":"ltr",children:[e.jsx(qe,{children:e.jsx(Ge,{children:"ÙˆØ¸ÛŒÙÙ‡ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø¹Ù†ÙˆØ§Ù† *"}),e.jsx(W,{value:k.title,onChange:y=>P(R=>({...R,title:y.target.value})),placeholder:"Ø¹Ù†ÙˆØ§Ù† ÙˆØ¸ÛŒÙÙ‡"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù¾Ø±ÙˆÚ˜Ù‡ *"}),e.jsxs(me,{value:k.project_id?String(k.project_id):"",onValueChange:y=>P(R=>({...R,project_id:parseInt(y,10)||0})),children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù¾Ø±ÙˆÚ˜Ù‡"})}),e.jsx(ue,{children:ce.map(y=>e.jsx(ne,{value:String(y.id),children:y.title},y.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù…Ø³Ø¦ÙˆÙ„ *"}),e.jsxs(me,{value:k.assigned_to?String(k.assigned_to):"",onValueChange:y=>P(R=>({...R,assigned_to:parseInt(y,10)||0})),children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø³Ø¦ÙˆÙ„"})}),e.jsx(ue,{children:A.map(y=>e.jsx(ne,{value:String(y.id),children:y.display_name},y.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"ÙˆØ¶Ø¹ÛŒØª *"}),e.jsxs(me,{value:k.status_slug,onValueChange:y=>P(R=>({...R,status_slug:y})),children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ ÙˆØ¶Ø¹ÛŒØª"})}),e.jsx(ue,{children:le.map(y=>e.jsx(ne,{value:y.slug,children:y.name},y.slug))})]})]})]}),e.jsxs(Ke,{children:[e.jsx(E,{variant:"outline",onClick:()=>S(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(E,{onClick:H,disabled:C,children:[C&&e.jsx(oe,{className:"h-4 w-4 animate-spin me-2"}),"Ø§ÛŒØ¬Ø§Ø¯"]})]})]})}),e.jsx(aa,{open:I!==null,onOpenChange:y=>!y&&N(null),children:e.jsxs(Es,{dir:n?"rtl":"ltr",children:[e.jsxs(Rs,{children:[e.jsx(As,{children:"Ø­Ø°Ù ÙˆØ¸ÛŒÙÙ‡"}),e.jsx(Ts,{children:"Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† ÙˆØ¸ÛŒÙÙ‡ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"})]}),e.jsxs(Ps,{children:[e.jsx(Ms,{children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsx(Ds,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>I!==null&&G(I),disabled:C,children:C?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):"Ø­Ø°Ù"})]})]})})]})}async function zj(t){return ae("puzzlingcrm_get_appointments",{s:t?.s,date_from:t?.date_from,date_to:t?.date_to,paged:t?.paged??1,per_page:t?.per_page})}async function Fj(t){return ae("puzzlingcrm_get_appointment",{appointment_id:String(t)})}async function $j(t,n){return ae("puzzling_get_appointments_calendar",{start:t??"",end:n??""})}async function Bj(t){return ae("puzzling_manage_appointment",{appointment_id:String(t.appointment_id??0),customer_id:String(t.customer_id),title:t.title,date:t.date,time:t.time??"10:00",status:t.status,notes:t.notes??""})}async function Vj(t){return ae("puzzling_delete_appointment",{appointment_id:String(t)})}const Hj={pending:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-200",confirmed:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200",completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200"};function Wj(){const n=Se()?.isRtl===!0,[s,r]=i.useState("list"),[a,o]=i.useState([]),[l,c]=i.useState([]),[d,m]=i.useState([]),[h,u]=i.useState([]),[f,x]=i.useState(!0),[v,p]=i.useState(null),[g,j]=i.useState(!1),[w,b]=i.useState(null),[_,S]=i.useState(null),[I,N]=i.useState(!1),[C,L]=i.useState({customer_id:0,title:"",date:"",time:"10:00",status_slug:"pending",notes:""}),[k,P]=i.useState(()=>{const A=new Date;return{year:A.getFullYear(),month:A.getMonth()}}),z=i.useCallback(async()=>{x(!0),p(null);try{const A=await zj({per_page:100});A.success&&A.data?(o(A.data.appointments??[]),m(A.data.statuses??[])):p(A.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øªâ€ŒÙ‡Ø§")}catch{p("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øªâ€ŒÙ‡Ø§")}finally{x(!1)}},[]),J=i.useCallback(async()=>{const A=new Date(k.year,k.month,1),te=new Date(k.year,k.month+1,0),T=A.toISOString().slice(0,10),y=te.toISOString().slice(0,10);try{const R=await $j(T,y);R.success&&R.data?.events&&c(R.data.events)}catch{c([])}},[k]),Q=i.useCallback(async()=>{const A=await ra({role:"customer"});A.success&&A.data?.users&&u(A.data.users.map(te=>({id:te.id,display_name:te.display_name||te.email})))},[]);i.useEffect(()=>{z()},[z]),i.useEffect(()=>{s==="calendar"&&J()},[s,J]),i.useEffect(()=>{g&&Q()},[g,Q]),i.useEffect(()=>{w&&g?Fj(w).then(A=>{if(A.success&&A.data?.appointment){const te=A.data.appointment;L({customer_id:te.customer_id,title:te.title,date:te.date||"",time:te.time||"10:00",status_slug:te.status_slug||"pending",notes:te.notes||""})}}):g||(L({customer_id:0,title:"",date:"",time:"10:00",status_slug:"pending",notes:""}),b(null))},[w,g]);const D=()=>{b(null),L({customer_id:0,title:"",date:"",time:"10:00",status_slug:"pending",notes:""}),j(!0)},M=A=>{b(A.id),L({customer_id:A.customer_id,title:A.title,date:A.datetime?A.datetime.slice(0,10):"",time:A.datetime?A.datetime.slice(11,16):"10:00",status_slug:A.status_slug,notes:A.notes||""}),j(!0)},re=i.useCallback(async()=>{if(!C.customer_id||!C.title.trim()||!C.date){p("Ù…Ø´ØªØ±ÛŒØŒ Ù…ÙˆØ¶ÙˆØ¹ Ùˆ ØªØ§Ø±ÛŒØ® Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}N(!0),p(null);try{const A=await Bj({appointment_id:w??void 0,customer_id:C.customer_id,title:C.title.trim(),date:C.date,time:C.time,status:C.status_slug,notes:C.notes});A.success?(j(!1),z(),s==="calendar"&&J()):p(A.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{p("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{N(!1)}},[C,w,z,J,s]),G=i.useCallback(async()=>{if(_!=null){N(!0),p(null);try{const A=await Vj(_);A.success?(S(null),z(),s==="calendar"&&J()):p(A.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{p("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{N(!1)}}},[_,z,J,s]),H=new Date(k.year,k.month+1,0).getDate(),$=(new Date(k.year,k.month,1).getDay()+1)%7,U=new Date(k.year,k.month,1).toLocaleDateString("fa-IR",{month:"long",year:"numeric"}),ce={};return l.forEach(A=>{const te=A.start.slice(0,10);ce[te]||(ce[te]=[]),ce[te].push(A)}),e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øªâ€ŒÙ‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(E,{variant:s==="list"?"default":"outline",size:"sm",onClick:()=>r("list"),className:"gap-2",children:[e.jsx(Et,{className:"h-4 w-4"}),"Ù„ÛŒØ³Øª"]}),e.jsxs(E,{variant:s==="calendar"?"default":"outline",size:"sm",onClick:()=>r("calendar"),className:"gap-2",children:[e.jsx(dn,{className:"h-4 w-4"}),"ØªÙ‚ÙˆÛŒÙ…"]}),e.jsxs(E,{size:"sm",onClick:D,className:"gap-2",children:[e.jsx(Be,{className:"h-4 w-4"}),"Ù‚Ø±Ø§Ø± Ø¬Ø¯ÛŒØ¯"]})]})]}),v&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm",children:v}),f&&s==="list"?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s==="list"?e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:a.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§ØªÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}):e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"Ù…ÙˆØ¶ÙˆØ¹"}),e.jsx(K,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsx(K,{children:"ØªØ§Ø±ÛŒØ® Ùˆ Ø³Ø§Ø¹Øª"}),e.jsx(K,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(K,{className:"w-[120px]",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(ze,{children:a.map(A=>e.jsxs(ge,{children:[e.jsx(q,{className:"font-medium",children:A.title}),e.jsx(q,{children:A.customer_name}),e.jsx(q,{children:A.datetime?new Date(A.datetime).toLocaleString("fa-IR",{dateStyle:"short",timeStyle:"short"}):"â€”"}),e.jsx(q,{children:e.jsx(Ne,{className:V(Hj[A.status_slug]??"bg-muted"),children:A.status_name})}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>M(A),children:e.jsx(tt,{className:"h-4 w-4"})}),e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>S(A.id),children:e.jsx(We,{className:"h-4 w-4"})})]})})]},A.id))})]})})}):e.jsx(X,{children:e.jsxs(Z,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium",children:U}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",onClick:()=>P(A=>A.month===0?{year:A.year-1,month:11}:{year:A.year,month:A.month-1}),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsx(E,{variant:"outline",size:"sm",onClick:()=>P(A=>A.month===11?{year:A.year+1,month:0}:{year:A.year,month:A.month+1}),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:[["Ø´","ÛŒ","Ø¯","Ø³","Ú†","Ù¾","Ø¬"].map(A=>e.jsx("div",{className:"font-medium text-muted-foreground py-1",children:A},A)),Array.from({length:$},(A,te)=>e.jsx("div",{},`empty-${te}`)),Array.from({length:H},(A,te)=>{const T=te+1,y=`${k.year}-${String(k.month+1).padStart(2,"0")}-${String(T).padStart(2,"0")}`,R=ce[y]??[];return e.jsxs("div",{className:"min-h-[80px] rounded border bg-muted/30 p-1 text-left",children:[e.jsx("span",{className:"text-muted-foreground",children:T}),e.jsxs("div",{className:"mt-1 space-y-0.5",children:[R.slice(0,3).map(Y=>e.jsx("div",{className:"truncate rounded px-1 py-0.5 text-xs cursor-pointer",style:{backgroundColor:Y.backgroundColor??"#e5e7eb",color:Y.borderColor??"#374151"},title:Y.title,children:Y.title},Y.id)),R.length>3&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",R.length-3]})]})]},T)})]})]})}),e.jsx(Je,{open:g,onOpenChange:j,children:e.jsxs(Ue,{className:"sm:max-w-md",dir:n?"rtl":"ltr",children:[e.jsx(qe,{children:e.jsx(Ge,{children:w?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª":"Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(me,{value:C.customer_id?String(C.customer_id):"",onValueChange:A=>L(te=>({...te,customer_id:parseInt(A,10)||0})),children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø´ØªØ±ÛŒ"})}),e.jsx(ue,{children:h.map(A=>e.jsx(ne,{value:String(A.id),children:A.display_name},A.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù…ÙˆØ¶ÙˆØ¹ *"}),e.jsx(W,{value:C.title,onChange:A=>L(te=>({...te,title:A.target.value})),placeholder:"Ù…ÙˆØ¶ÙˆØ¹ Ù‚Ø±Ø§Ø±"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"ØªØ§Ø±ÛŒØ® *"}),e.jsx(W,{type:"date",value:C.date,onChange:A=>L(te=>({...te,date:A.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø³Ø§Ø¹Øª *"}),e.jsx(W,{type:"time",value:C.time,onChange:A=>L(te=>({...te,time:A.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsxs(me,{value:C.status_slug,onValueChange:A=>L(te=>({...te,status_slug:A})),children:[e.jsx(de,{children:e.jsx(he,{})}),e.jsx(ue,{children:d.map(A=>e.jsx(ne,{value:A.slug,children:A.name},A.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øª"}),e.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:C.notes,onChange:A=>L(te=>({...te,notes:A.target.value})),rows:3})]})]}),e.jsxs(Ke,{children:[e.jsx(E,{variant:"outline",onClick:()=>j(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(E,{onClick:re,disabled:I,children:[I&&e.jsx(oe,{className:"h-4 w-4 animate-spin me-2"}),w?"Ø°Ø®ÛŒØ±Ù‡":"Ø§ÛŒØ¬Ø§Ø¯"]})]})]})}),e.jsx(aa,{open:_!==null,onOpenChange:A=>!A&&S(null),children:e.jsxs(Es,{dir:n?"rtl":"ltr",children:[e.jsxs(Rs,{children:[e.jsx(As,{children:"Ø­Ø°Ù Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª"}),e.jsx(Ts,{children:"Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"})]}),e.jsxs(Ps,{children:[e.jsx(Ms,{children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsx(Ds,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:G,disabled:I,children:I?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):"Ø­Ø°Ù"})]})]})})]})}const Uj=[{slug:"system_manager",name:"Ù…Ø¯ÛŒØ± Ø³ÛŒØ³ØªÙ…"},{slug:"finance_manager",name:"Ù…Ø¯ÛŒØ± Ù…Ø§Ù„ÛŒ"},{slug:"team_member",name:"Ø¹Ø¶Ùˆ ØªÛŒÙ…"},{slug:"customer",name:"Ù…Ø´ØªØ±ÛŒ"}];function qj(){const n=Se()?.isRtl===!0,[s,r]=i.useState(null),[a,o]=i.useState(!0),[l,c]=i.useState(null),[d,m]=i.useState(""),[h,u]=i.useState(!1),[f,x]=i.useState(null),[v,p]=i.useState(null),[g,j]=i.useState(""),[w,b]=i.useState(!1),[_,S]=i.useState({first_name:"",last_name:"",email:"",pzl_mobile_phone:"",role:"team_member",password:"",department:0,job_title:0}),I=i.useCallback(async()=>{o(!0),c(null);try{const D=await ra({role:"staff",search:d||void 0});D.success&&D.data?r(D.data):c(D.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ú©Ù†Ø§Ù†")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ú©Ù†Ø§Ù†")}finally{o(!1)}},[d]);i.useEffect(()=>{I()},[I]);const N=()=>{x(null),S({first_name:"",last_name:"",email:"",pzl_mobile_phone:"",role:"team_member",password:"",department:0,job_title:0}),u(!0)},C=D=>{x(D),S({first_name:D.first_name??"",last_name:D.last_name??"",email:D.email??"",pzl_mobile_phone:D.phone??"",role:D.role_slug??"team_member",password:"",department:0,job_title:0}),u(!0)},L=i.useCallback(async()=>{if(!_.last_name.trim()||!_.email.trim()||!_.role){c("Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒØŒ Ø§ÛŒÙ…ÛŒÙ„ Ùˆ Ù†Ù‚Ø´ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}if(!f&&!_.password){c("Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯ØŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}b(!0),c(null);try{const D=await qc({user_id:f?.id,first_name:_.first_name.trim(),last_name:_.last_name.trim(),email:_.email.trim(),pzl_mobile_phone:_.pzl_mobile_phone.trim()||void 0,role:_.role,password:_.password||void 0,department:_.department||void 0,job_title:_.job_title||void 0});D.success?(u(!1),I()):c(D.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{b(!1)}},[_,f,I]),k=i.useCallback(async()=>{if(!(v==null||!g)){b(!0),c(null);try{const D=await Kc(v,g);D.success?(p(null),j(""),I()):c(D.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{c("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{b(!1)}}},[v,g,I]),P=s?.users??[],z=s?.departments??[],J=s?.job_titles??[],Q=_.department?J.filter(D=>D.parent===_.department):[];return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Ú©Ø§Ø±Ú©Ù†Ø§Ù†"}),e.jsxs(E,{onClick:N,className:"gap-2",children:[e.jsx(Be,{className:"h-4 w-4"}),"Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ù…Ù†Ø¯"]})]}),l&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm",children:l}),e.jsx(X,{children:e.jsxs(Z,{className:"pt-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx(W,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ (Ù†Ø§Ù…ØŒ Ø§ÛŒÙ…ÛŒÙ„ØŒ ØªÙ„ÙÙ†)...",value:d,onChange:D=>m(D.target.value),className:"max-w-sm"})}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):P.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ú©Ø§Ø±Ù…Ù†Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(Oe,{children:[e.jsx(Le,{children:e.jsxs(ge,{children:[e.jsx(K,{children:"Ù†Ø§Ù…"}),e.jsx(K,{children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(K,{children:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"}),e.jsx(K,{children:"Ø¹Ù†ÙˆØ§Ù† Ø´ØºÙ„ÛŒ"}),e.jsx(K,{children:"Ù†Ù‚Ø´"}),e.jsx(K,{className:"w-[120px]",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(ze,{children:P.map(D=>e.jsxs(ge,{children:[e.jsx(q,{className:"font-medium",children:(D.first_name||D.last_name)?.trim()?`${D.first_name??""} ${D.last_name??""}`.trim():D.display_name}),e.jsx(q,{children:D.email}),e.jsx(q,{children:D.department_name??"â€”"}),e.jsx(q,{children:D.job_title_name??"â€”"}),e.jsx(q,{children:D.role_name}),e.jsx(q,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>C(D),children:e.jsx(tt,{className:"h-4 w-4"})}),D.can_delete&&e.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>{p(D.id),j(D.delete_nonce)},children:e.jsx(We,{className:"h-4 w-4"})})]})})]},D.id))})]})]})}),e.jsx(Je,{open:h,onOpenChange:u,children:e.jsxs(Ue,{className:"sm:max-w-md",dir:n?"rtl":"ltr",children:[e.jsx(qe,{children:e.jsx(Ge,{children:f?"ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ø§Ø±Ù…Ù†Ø¯":"Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ù…Ù†Ø¯"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù†Ø§Ù…"}),e.jsx(W,{value:_.first_name,onChange:D=>S(M=>({...M,first_name:D.target.value})),placeholder:"Ù†Ø§Ù…"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *"}),e.jsx(W,{value:_.last_name,onChange:D=>S(M=>({...M,last_name:D.target.value})),placeholder:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø§ÛŒÙ…ÛŒÙ„ *"}),e.jsx(W,{type:"email",value:_.email,onChange:D=>S(M=>({...M,email:D.target.value})),placeholder:"email@example.com",disabled:!!f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(W,{value:_.pzl_mobile_phone,onChange:D=>S(M=>({...M,pzl_mobile_phone:D.target.value})),placeholder:"09..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù†Ù‚Ø´ *"}),e.jsxs(me,{value:_.role,onValueChange:D=>S(M=>({...M,role:D})),children:[e.jsx(de,{children:e.jsx(he,{})}),e.jsx(ue,{children:Uj.map(D=>e.jsx(ne,{value:D.slug,children:D.name},D.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± ",f?"(Ø®Ø§Ù„ÛŒ = Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±)":"*"]}),e.jsx(W,{type:"password",value:_.password,onChange:D=>S(M=>({...M,password:D.target.value})),placeholder:f?"Ø®Ø§Ù„ÛŒ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯":"Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"})]}),z.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"}),e.jsxs(me,{value:_.department?String(_.department):"",onValueChange:D=>S(M=>({...M,department:parseInt(D,10)||0,job_title:0})),children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"â€”"}),z.map(D=>e.jsx(ne,{value:String(D.id),children:D.name},D.id))]})]})]}),Q.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø¹Ù†ÙˆØ§Ù† Ø´ØºÙ„ÛŒ"}),e.jsxs(me,{value:_.job_title?String(_.job_title):"",onValueChange:D=>S(M=>({...M,job_title:parseInt(D,10)||0})),children:[e.jsx(de,{children:e.jsx(he,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ù†ÙˆØ§Ù† Ø´ØºÙ„ÛŒ"})}),e.jsxs(ue,{children:[e.jsx(ne,{value:"",children:"â€”"}),Q.map(D=>e.jsx(ne,{value:String(D.id),children:D.name},D.id))]})]})]})]}),e.jsxs(Ke,{children:[e.jsx(E,{variant:"outline",onClick:()=>u(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(E,{onClick:L,disabled:w,children:[w&&e.jsx(oe,{className:"h-4 w-4 animate-spin me-2"}),f?"Ø°Ø®ÛŒØ±Ù‡":"Ø§ÛŒØ¬Ø§Ø¯"]})]})]})}),e.jsx(aa,{open:v!==null,onOpenChange:D=>!D&&p(null),children:e.jsxs(Es,{dir:n?"rtl":"ltr",children:[e.jsxs(Rs,{children:[e.jsx(As,{children:"Ø­Ø°Ù Ú©Ø§Ø±Ù…Ù†Ø¯"}),e.jsx(Ts,{children:"Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"})]}),e.jsxs(Ps,{children:[e.jsx(Ms,{children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsx(Ds,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:k,disabled:w,children:w?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):"Ø­Ø°Ù"})]})]})})]})}async function Kj(t){return ae("puzzlingcrm_get_reports",{tab:t.tab,date_from:t.date_from,date_to:t.date_to})}const Gj=[{id:"overview",label:"Ù†Ù…Ø§ÛŒ Ú©Ù„ÛŒ",icon:jo},{id:"finance",label:"Ú¯Ø²Ø§Ø±Ø´ Ù…Ø§Ù„ÛŒ",icon:_o},{id:"tasks",label:"Ú¯Ø²Ø§Ø±Ø´ ÙˆØ¸Ø§ÛŒÙ",icon:kt},{id:"tickets",label:"Ú¯Ø²Ø§Ø±Ø´ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§",icon:Fr},{id:"agile",label:"Ú¯Ø²Ø§Ø±Ø´ Ø§ÙŽØ¬Ø§ÛŒÙ„",icon:xf}];function Yj(){const n=Se()?.isRtl===!0,[s,r]=i.useState("overview"),[a,o]=i.useState(()=>{const j=new Date;return j.setDate(1),j.toISOString().slice(0,10)}),[l,c]=i.useState(()=>new Date().toISOString().slice(0,10)),[d,m]=i.useState(null),[h,u]=i.useState(!0),[f,x]=i.useState(null),v=i.useCallback(async()=>{u(!0),x(null);try{const j=await Kj({tab:s,date_from:a,date_to:l});j.success&&j.data?.stats?m(j.data.stats):(x(j.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú¯Ø²Ø§Ø±Ø´"),m(null))}catch{x("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú¯Ø²Ø§Ø±Ø´"),m(null)}finally{u(!1)}},[s,a,l]);i.useEffect(()=>{v()},[v]);const p=()=>{const j=new Date;o(new Date(j.getFullYear(),j.getMonth(),1).toISOString().slice(0,10)),c(new Date(j.getFullYear(),j.getMonth()+1,0).toISOString().slice(0,10))},g=()=>{const j=new Date;o(new Date(j.getFullYear(),j.getMonth()-1,1).toISOString().slice(0,10)),c(new Date(j.getFullYear(),j.getMonth(),0).toISOString().slice(0,10))};return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:e.jsx("h2",{className:"text-xl font-semibold",children:"Ú¯Ø²Ø§Ø±Ø´Ø§Øª"})}),e.jsx(X,{children:e.jsxs(Z,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-wrap items-end gap-3 mb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Ø§Ø² ØªØ§Ø±ÛŒØ®"}),e.jsx(W,{type:"date",value:a,onChange:j=>o(j.target.value),className:"w-[160px]"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"ØªØ§ ØªØ§Ø±ÛŒØ®"}),e.jsx(W,{type:"date",value:l,onChange:j=>c(j.target.value),className:"w-[160px]"})]}),e.jsx(E,{onClick:v,children:"Ø§Ø¹Ù…Ø§Ù„ ÙÛŒÙ„ØªØ±"}),e.jsx(E,{variant:"outline",onClick:p,children:"Ø§ÛŒÙ† Ù…Ø§Ù‡"}),e.jsx(E,{variant:"outline",onClick:g,children:"Ù…Ø§Ù‡ Ù‚Ø¨Ù„"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 border-b mb-4",children:Gj.map(j=>{const w=j.icon;return e.jsxs(E,{variant:s===j.id?"default":"ghost",size:"sm",className:"gap-2",onClick:()=>r(j.id),children:[e.jsx(w,{className:"h-4 w-4"}),j.label]},j.id)})}),f&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm mb-4",children:f}),h?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d?e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:["total_projects"in d&&e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:e.jsx(st,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_projects??0)})]})]})})}),"total_tasks"in d&&e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/10",children:e.jsx(kt,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ÙˆØ¸Ø§ÛŒÙ"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_tasks??0)})]})]})})}),"completed_tasks"in d&&e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-500/10",children:e.jsx(kt,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ÙˆØ¸Ø§ÛŒÙ ØªÚ©Ù…ÛŒÙ„â€ŒØ´Ø¯Ù‡"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.completed_tasks??0)})]})]})})}),"total_tickets"in d&&e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/10",children:e.jsx(bf,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_tickets??0)})]})]})})}),"total_leads"in d&&e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-violet-500/10",children:e.jsx(ps,{className:"h-5 w-5 text-violet-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_leads??0)})]})]})})}),"total_customers"in d&&e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-cyan-500/10",children:e.jsx(xs,{className:"h-5 w-5 text-cyan-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù…Ø´ØªØ±ÛŒØ§Ù†"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_customers??0)})]})]})})}),"total_contracts"in d&&e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-orange-500/10",children:e.jsx(Lr,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_contracts??0)})]})]})})}),"total_revenue"in d&&e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/10",children:e.jsx(_o,{className:"h-5 w-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ Ø¯Ø±Ø¢Ù…Ø¯"}),e.jsxs("p",{className:"text-xl font-semibold",children:[Number(d.total_revenue??0).toLocaleString("fa-IR")," ",d.currency?String(d.currency):""]})]})]})})}),Array.isArray(d.project_by_status)&&d.project_by_status.map((j,w)=>e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-muted",children:e.jsx(st,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ù¾Ø±ÙˆÚ˜Ù‡ (",j.name,")"]}),e.jsx("p",{className:"text-xl font-semibold",children:j.count})]})]})})},w)),Array.isArray(d.task_by_status)&&d.task_by_status.map((j,w)=>e.jsx(X,{children:e.jsx(Z,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-muted",children:e.jsx(kt,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ÙˆØ¸ÛŒÙÙ‡ (",j.name,")"]}),e.jsx("p",{className:"text-xl font-semibold",children:j.count})]})]})})},w))]}):!h&&!f&&e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø§Ø²Ù‡ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª."})]})})]})}async function Xj(t){return ae("puzzlingcrm_get_settings",{settings_tab:t})}async function Zj(t,n){return ae("puzzling_save_settings",{settings_tab:t,...n})}async function Jj(t){return ae("save_auth_settings",t)}async function Qj(t){const n={response_title:t.response_title,response_content:t.response_content};return t.response_id&&(n.response_id=String(t.response_id)),ae("puzzling_manage_canned_response",n)}async function ey(t){return ae("puzzling_delete_canned_response",{response_id:String(t)})}async function ty(t){const n=new FormData;return n.set("position_title",t.position_title),t.position_id&&n.set("position_id",String(t.position_id)),(t.position_permissions??[]).forEach(s=>n.append("position_permissions[]",s)),En("puzzling_manage_position",n)}async function ny(t){return ae("puzzling_delete_position",{position_id:String(t)})}async function sy(t){const n={category_name:t.category_name,category_color:t.category_color??"#845adf"};return t.category_id&&(n.category_id=String(t.category_id)),ae("puzzling_manage_task_category",n)}async function ry(t){return ae("puzzling_delete_task_category",{category_id:String(t)})}const Xa=[{id:"authentication",title:"Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª",icon:jf},{id:"style",title:"Ø¸Ø§Ù‡Ø± Ùˆ Ø§Ø³ØªØ§ÛŒÙ„",icon:ff},{id:"payment",title:"Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª",icon:Xh},{id:"sms",title:"Ø³Ø§Ù…Ø§Ù†Ù‡ Ù¾ÛŒØ§Ù…Ú©",icon:Fr},{id:"notifications",title:"Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒâ€ŒÙ‡Ø§",icon:vo},{id:"workflow",title:"Ú¯Ø±Ø¯Ø´ Ú©Ø§Ø±",icon:nf},{id:"positions",title:"Ø¬Ø§ÛŒÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø´ØºÙ„ÛŒ",icon:hf},{id:"task_categories",title:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ÙˆØ¸Ø§ÛŒÙ",icon:wf},{id:"automations",title:"Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ†",icon:Wh},{id:"canned_responses",title:"Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø¯Ù‡",icon:Co},{id:"forms",title:"ÙØ±Ù…â€ŒÙ‡Ø§",icon:Lr},{id:"leads",title:"ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù„ÛŒØ¯",icon:ps}];function ay(){const n=Se()?.isRtl===!0,[s,r]=i.useState("authentication"),[a,o]=i.useState(!1),[l,c]=i.useState(!1),[d,m]=i.useState(null),[h,u]=i.useState(null);return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø±Ø§ Ø§Ø² ØªØ¨â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø§Ù†ØªØ®Ø§Ø¨ Ùˆ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯."})]}),d&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm",children:d}),h&&e.jsx("div",{className:"rounded-lg border border-green-500/50 bg-green-500/10 px-4 py-3 text-green-700 dark:text-green-400 text-sm",children:h}),e.jsxs(ti,{value:s,onValueChange:r,className:"w-full",children:[e.jsx(ni,{className:"flex flex-wrap h-auto gap-1 p-1 bg-muted/50",children:Xa.map(f=>{const x=f.icon;return e.jsxs(Zs,{value:f.id,className:"gap-2",children:[e.jsx(x,{className:"h-4 w-4"}),f.title]},f.id)})}),Xa.map(f=>e.jsx(Js,{value:f.id,className:"mt-4",children:s===f.id?e.jsx(iy,{tab:f.id,isRtl:n,onError:m,onMessage:u,loading:a,saving:l,setLoading:o,setSaving:c}):null},f.id))]})]})}function iy({tab:t,isRtl:n,onError:s,onMessage:r,loading:a,saving:o,setLoading:l,setSaving:c}){const[d,m]=i.useState(null),[h,u]=i.useState({}),f=i.useCallback(async()=>{l(!0),s(null);try{const v=await Xj(t);if(v.success&&v.data){m(v.data);const p=v.data.items;u(p?{}:v.data)}else s(v.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ")}catch{s("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª")}finally{l(!1)}},[t,s,l]);i.useEffect(()=>{f()},[f]);const x=i.useCallback(async()=>{c(!0),s(null),r(null);try{if(t==="authentication"){const v=await Jj(h);v.success?(r(v.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),f()):s(v.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡");return}if(["style","payment","sms","notifications"].includes(t)){const v=await Zj(t,h);v.success?(r(v.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),f()):s(v.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡");return}r("Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† ØªØ¨ Ø°Ø®ÛŒØ±Ù‡ Ø§Ø² Ø·Ø±ÛŒÙ‚ ÙØ±Ù… Ø²ÛŒØ± Ù‡Ø± Ø¢ÛŒØªÙ… Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯.")}finally{c(!1)}},[t,h,s,r,f,c]);if(a)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(t==="authentication"){const v=h;return e.jsxs(X,{children:[e.jsxs(Re,{children:[e.jsx(Pe,{children:"Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª"}),e.jsx(vt,{children:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙˆØ±ÙˆØ¯ØŒ OTP Ùˆ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ"})]}),e.jsxs(Z,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù¾ØªØ±Ù† Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ (Regex)"}),e.jsx(W,{value:v.login_phone_pattern??"",onChange:p=>u(g=>({...g,login_phone_pattern:p.target.value})),placeholder:"^09[0-9]{9}$"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø·ÙˆÙ„ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(W,{type:"number",value:v.login_phone_length??11,onChange:p=>u(g=>({...g,login_phone_length:parseInt(p.target.value,10)||11}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù‚Ø§Ù„Ø¨ Ù¾ÛŒØ§Ù…Ú© ÙˆØ±ÙˆØ¯ (%CODE% Ø¨Ø±Ø§ÛŒ Ú©Ø¯)"}),e.jsx(W,{value:v.login_sms_template??"",onChange:p=>u(g=>({...g,login_sms_template:p.target.value})),placeholder:"Ú©Ø¯ ÙˆØ±ÙˆØ¯ Ø´Ù…Ø§: %CODE%"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø§Ù†Ù‚Ø¶Ø§ÛŒ OTP (Ø¯Ù‚ÛŒÙ‚Ù‡)"}),e.jsx(W,{type:"number",value:v.otp_expiry_minutes??5,onChange:p=>u(g=>({...g,otp_expiry_minutes:parseInt(p.target.value,10)||5}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø­Ø¯Ø§Ú©Ø«Ø± ØªÙ„Ø§Ø´ OTP"}),e.jsx(W,{type:"number",value:v.otp_max_attempts??3,onChange:p=>u(g=>({...g,otp_max_attempts:parseInt(p.target.value,10)||3}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø·ÙˆÙ„ Ú©Ø¯ OTP"}),e.jsx(W,{type:"number",value:v.otp_length??6,onChange:p=>u(g=>({...g,otp_length:parseInt(p.target.value,10)||6}))})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø¢Ø¯Ø±Ø³ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ Ù¾Ø³ Ø§Ø² ÙˆØ±ÙˆØ¯"}),e.jsx(W,{value:v.login_redirect_url??"",onChange:p=>u(g=>({...g,login_redirect_url:p.target.value})),placeholder:"https://..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø¢Ø¯Ø±Ø³ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ Ù¾Ø³ Ø§Ø² Ø®Ø±ÙˆØ¬"}),e.jsx(W,{value:v.logout_redirect_url??"",onChange:p=>u(g=>({...g,logout_redirect_url:p.target.value})),placeholder:"https://..."})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!v.enable_password_login,onChange:p=>u(g=>({...g,enable_password_login:p.target.checked})),className:"rounded border-input"}),e.jsx("span",{className:"text-sm",children:"ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!v.enable_sms_login,onChange:p=>u(g=>({...g,enable_sms_login:p.target.checked})),className:"rounded border-input"}),e.jsx("span",{className:"text-sm",children:"ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ù¾ÛŒØ§Ù…Ú© (OTP)"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!v.force_logout_inactive,onChange:p=>u(g=>({...g,force_logout_inactive:p.target.checked})),className:"rounded border-input"}),e.jsx("span",{className:"text-sm",children:"Ø®Ø±ÙˆØ¬ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… ÙØ¹Ø§Ù„ÛŒØª"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù…Ø¯Øª Ø¹Ø¯Ù… ÙØ¹Ø§Ù„ÛŒØª Ù‚Ø¨Ù„ Ø§Ø² Ø®Ø±ÙˆØ¬ (Ø¯Ù‚ÛŒÙ‚Ù‡)"}),e.jsx(W,{type:"number",value:v.inactive_timeout_minutes??30,onChange:p=>u(g=>({...g,inactive_timeout_minutes:parseInt(p.target.value,10)||30}))})]}),e.jsxs(E,{onClick:x,disabled:o,children:[o?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª"]})]})]})}if(t==="style"){const v=h;return e.jsxs(X,{children:[e.jsxs(Re,{children:[e.jsx(Pe,{children:"Ø¸Ø§Ù‡Ø± Ùˆ Ø§Ø³ØªØ§ÛŒÙ„"}),e.jsx(vt,{children:"Ø±Ù†Ú¯ Ø§ØµÙ„ÛŒ Ùˆ ÙÙˆÙ†Øª Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"})]}),e.jsxs(Z,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø±Ù†Ú¯ Ø§ØµÙ„ÛŒ"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:v.primary_color??"#845adf",onChange:p=>u(g=>({...g,primary_color:p.target.value})),className:"h-10 w-14 cursor-pointer rounded border"}),e.jsx(W,{value:v.primary_color??"#845adf",onChange:p=>u(g=>({...g,primary_color:p.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡ ÙÙˆÙ†Øª"}),e.jsx(W,{value:v.font_family??"IRANSans",onChange:p=>u(g=>({...g,font_family:p.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø§Ù†Ø¯Ø§Ø²Ù‡ ÙÙˆÙ†Øª Ù¾Ø§ÛŒÙ‡"}),e.jsx(W,{type:"number",value:v.font_size??14,onChange:p=>u(g=>({...g,font_size:parseInt(p.target.value,10)||14}))})]})]}),e.jsxs(E,{onClick:x,disabled:o,children:[o?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}if(t==="payment"){const v=h;return e.jsxs(X,{children:[e.jsxs(Re,{children:[e.jsx(Pe,{children:"Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª"}),e.jsx(vt,{children:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø²Ø±ÛŒÙ†â€ŒÙ¾Ø§Ù„ Ùˆ Ø³Ø§ÛŒØ± Ø¯Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§"})]}),e.jsxs(Z,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù…Ø±Ú†Ù†Øª Ø²Ø±ÛŒÙ†â€ŒÙ¾Ø§Ù„"}),e.jsx(W,{value:v.zarinpal_merchant??"",onChange:p=>u(g=>({...g,zarinpal_merchant:p.target.value})),placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!v.zarinpal_sandbox,onChange:p=>u(g=>({...g,zarinpal_sandbox:p.target.checked})),className:"rounded border-input"}),e.jsx("span",{className:"text-sm",children:"Ø­Ø§Ù„Øª Ø³Ù†Ø¯Ø¨Ø§Ú©Ø³"})]}),e.jsxs(E,{onClick:x,disabled:o,children:[o?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}if(t==="sms"){const v=h;return e.jsxs(X,{children:[e.jsxs(Re,{children:[e.jsx(Pe,{children:"Ø³Ø§Ù…Ø§Ù†Ù‡ Ù¾ÛŒØ§Ù…Ú©"}),e.jsx(vt,{children:"Ø³Ø±ÙˆÛŒØ³ Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ØªØµØ§Ù„ Ù¾ÛŒØ§Ù…Ú©"})]}),e.jsxs(Z,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø³Ø±ÙˆÛŒØ³ Ù¾ÛŒØ§Ù…Ú©"}),e.jsx(W,{value:v.sms_service??"",onChange:p=>u(g=>({...g,sms_service:p.target.value})),placeholder:"melipayamak, parsgreen, ..."})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ"}),e.jsx(W,{value:v.sms_username??"",onChange:p=>u(g=>({...g,sms_username:p.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"}),e.jsx(W,{type:"password",value:v.sms_password??"",onChange:p=>u(g=>({...g,sms_password:p.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø´Ù…Ø§Ø±Ù‡ ÙØ±Ø³ØªÙ†Ø¯Ù‡"}),e.jsx(W,{value:v.sms_sender??"",onChange:p=>u(g=>({...g,sms_sender:p.target.value}))})]}),e.jsxs(E,{onClick:x,disabled:o,children:[o?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}if(t==="notifications"){const v=h;return e.jsxs(X,{children:[e.jsxs(Re,{children:[e.jsx(Pe,{children:"Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒâ€ŒÙ‡Ø§"}),e.jsx(vt,{children:"ØªÙ„Ú¯Ø±Ø§Ù… Ùˆ Ø³Ø§ÛŒØ± Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø§Ø¹Ù„Ø§Ù†"})]}),e.jsxs(Z,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù…"}),e.jsx(W,{value:v.telegram_bot_token??"",onChange:p=>u(g=>({...g,telegram_bot_token:p.target.value})),placeholder:"..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø´Ù†Ø§Ø³Ù‡ Ú†Øª ØªÙ„Ú¯Ø±Ø§Ù…"}),e.jsx(W,{value:v.telegram_chat_id??"",onChange:p=>u(g=>({...g,telegram_chat_id:p.target.value})),placeholder:"..."})]}),e.jsxs(E,{onClick:x,disabled:o,children:[o?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}if(t==="canned_responses"){const v=d?.items??[];return e.jsx(oy,{items:v,onError:s,onMessage:r,onReload:f,isRtl:n})}if(t==="positions"){const v=d?.items??[];return e.jsx(ly,{items:v,onError:s,onMessage:r,onReload:f,isRtl:n})}if(t==="task_categories"){const v=d?.items??[];return e.jsx(cy,{items:v,onError:s,onMessage:r,onReload:f,isRtl:n})}return e.jsxs(X,{children:[e.jsxs(Re,{children:[e.jsxs(Pe,{children:[t==="workflow"&&"Ú¯Ø±Ø¯Ø´ Ú©Ø§Ø±",t==="automations"&&"Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ†",t==="forms"&&"ÙØ±Ù…â€ŒÙ‡Ø§",t==="leads"&&"ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù„ÛŒØ¯"]}),e.jsx(vt,{children:"Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø§Ø² ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¯Ø± Ù†Ø³Ø®Ù‡Ù” ÙØ¹Ù„ÛŒ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ù¾Ù†Ù„ ÙˆØ±Ø¯Ù¾Ø±Ø³ ÛŒØ§ ØµÙØ­Ù‡Ù” embed Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª. Ø¨Ù‡â€ŒØ²ÙˆØ¯ÛŒ Ø¯Ø± Ù‡Ù…ÛŒÙ† Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ú©Ø§Ù…Ù„ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯."})]}),e.jsx(Z,{children:e.jsx("p",{className:"text-muted-foreground text-sm",children:"Ø¨Ø±Ø§ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡Ù” Ú¯Ø±Ø¯Ø´ Ú©Ø§Ø±ØŒ Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ†ØŒ ÙØ±Ù…â€ŒÙ‡Ø§ Ùˆ ÙˆØ¶Ø¹ÛŒØª Ù„ÛŒØ¯Ù‡Ø§ Ø§Ø² Ù…Ù†ÙˆÛŒ ÙˆØ±Ø¯Ù¾Ø±Ø³ PuzzlingCRM Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯."})})]})}function oy({items:t,onError:n,onMessage:s,onReload:r,isRtl:a}){const[o,l]=i.useState(!1),[c,d]=i.useState(null),[m,h]=i.useState(""),[u,f]=i.useState(""),[x,v]=i.useState(!1),p=()=>{d(null),h(""),f(""),l(!0)},g=b=>{d(b),h(b.title),f(b.content),l(!0)},j=async()=>{if(!m.trim()||!u.trim()){n("Ø¹Ù†ÙˆØ§Ù† Ùˆ Ù…Ø­ØªÙˆØ§ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}v(!0),n(null);try{const b=await Qj({response_id:c?.id,response_title:m.trim(),response_content:u.trim()});b.success?(s(b.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),l(!1),r()):n(b.message??"Ø®Ø·Ø§")}catch{n("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{v(!1)}},w=async b=>{if(confirm("Ø­Ø°Ù Ø§ÛŒÙ† Ù¾Ø§Ø³Ø® Ø¢Ù…Ø§Ø¯Ù‡ØŸ")){v(!0),n(null);try{const _=await ey(b);_.success?(s("Ø­Ø°Ù Ø´Ø¯."),r()):n(_.message??"Ø®Ø·Ø§")}finally{v(!1)}}};return e.jsxs(X,{children:[e.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Pe,{children:"Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø¯Ù‡"}),e.jsx(vt,{children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø§Ø² Ù¾ÛŒØ´ ØªØ¹Ø±ÛŒÙâ€ŒØ´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"})]}),e.jsxs(E,{onClick:p,className:"gap-2",children:[e.jsx(Be,{className:"h-4 w-4"}),"Ø§ÙØ²ÙˆØ¯Ù†"]})]}),e.jsx(Z,{children:e.jsxs("ul",{className:"space-y-2",children:[t.length===0&&e.jsx("li",{className:"text-muted-foreground text-sm py-4",children:"Ù¾Ø§Ø³Ø®ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}),t.map(b=>e.jsxs("li",{className:"flex items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:b.title}),e.jsx("p",{className:"text-muted-foreground text-sm line-clamp-1",children:b.content})]}),e.jsxs("div",{className:V("flex gap-2",a&&"flex-row-reverse"),children:[e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>g(b),children:e.jsx(tt,{className:"h-4 w-4"})}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>w(b.id),children:e.jsx(We,{className:"h-4 w-4 text-destructive"})})]})]},b.id))]})}),e.jsx(Je,{open:o,onOpenChange:l,children:e.jsxs(Ue,{children:[e.jsx(qe,{children:e.jsx(Ge,{children:c?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø§Ø³Ø® Ø¢Ù…Ø§Ø¯Ù‡":"Ù¾Ø§Ø³Ø® Ø¢Ù…Ø§Ø¯Ù‡ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(W,{value:m,onChange:b=>h(b.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù…Ø­ØªÙˆØ§"}),e.jsx("textarea",{className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:u,onChange:b=>f(b.target.value)})]})]}),e.jsxs(Ke,{children:[e.jsx(E,{variant:"outline",onClick:()=>l(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(E,{onClick:j,disabled:x,children:[x?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})})]})}function ly({items:t,onError:n,onMessage:s,onReload:r,isRtl:a}){const[o,l]=i.useState(!1),[c,d]=i.useState(null),[m,h]=i.useState(""),[u,f]=i.useState(!1),x=()=>{d(null),h(""),l(!0)},v=j=>{d(j),h(j.title),l(!0)},p=async()=>{if(!m.trim()){n("Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}f(!0),n(null);try{const j=await ty({position_id:c?.id,position_title:m.trim(),position_permissions:c?.permissions??[]});j.success?(s(j.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),l(!1),r()):n(j.message??"Ø®Ø·Ø§")}catch{n("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{f(!1)}},g=async j=>{if(confirm("Ø­Ø°Ù Ø§ÛŒÙ† Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø´ØºÙ„ÛŒØŸ")){f(!0),n(null);try{const w=await ny(j);w.success?(s("Ø­Ø°Ù Ø´Ø¯."),r()):n(w.message??"Ø®Ø·Ø§")}finally{f(!1)}}};return e.jsxs(X,{children:[e.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Pe,{children:"Ø¬Ø§ÛŒÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø´ØºÙ„ÛŒ"}),e.jsx(vt,{children:"Ø³Ù…Øªâ€ŒÙ‡Ø§ Ùˆ Ù†Ù‚Ø´â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±ÛŒ"})]}),e.jsxs(E,{onClick:x,className:"gap-2",children:[e.jsx(Be,{className:"h-4 w-4"}),"Ø§ÙØ²ÙˆØ¯Ù†"]})]}),e.jsx(Z,{children:e.jsxs("ul",{className:"space-y-2",children:[t.length===0&&e.jsx("li",{className:"text-muted-foreground text-sm py-4",children:"Ø¬Ø§ÛŒÚ¯Ø§Ù‡ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}),t.map(j=>e.jsxs("li",{className:"flex items-center justify-between rounded-lg border p-3",children:[e.jsx("p",{className:"font-medium",children:j.title}),e.jsxs("div",{className:V("flex gap-2",a&&"flex-row-reverse"),children:[e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>v(j),children:e.jsx(tt,{className:"h-4 w-4"})}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>g(j.id),children:e.jsx(We,{className:"h-4 w-4 text-destructive"})})]})]},j.id))]})}),e.jsx(Je,{open:o,onOpenChange:l,children:e.jsxs(Ue,{children:[e.jsx(qe,{children:e.jsx(Ge,{children:c?"ÙˆÛŒØ±Ø§ÛŒØ´ Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø´ØºÙ„ÛŒ":"Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø´ØºÙ„ÛŒ Ø¬Ø¯ÛŒØ¯"})}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(W,{value:m,onChange:j=>h(j.target.value)})]})}),e.jsxs(Ke,{children:[e.jsx(E,{variant:"outline",onClick:()=>l(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(E,{onClick:p,disabled:u,children:[u?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})})]})}function cy({items:t,onError:n,onMessage:s,onReload:r,isRtl:a}){const[o,l]=i.useState(!1),[c,d]=i.useState(null),[m,h]=i.useState(""),[u,f]=i.useState("#845adf"),[x,v]=i.useState(!1),p=()=>{d(null),h(""),f("#845adf"),l(!0)},g=b=>{d(b),h(b.name),f(b.color||"#845adf"),l(!0)},j=async()=>{if(!m.trim()){n("Ù†Ø§Ù… Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}v(!0),n(null);try{const b=await sy({category_id:c?.id,category_name:m.trim(),category_color:u});b.success?(s(b.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),l(!1),r()):n(b.message??"Ø®Ø·Ø§")}catch{n("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{v(!1)}},w=async b=>{if(confirm("Ø­Ø°Ù Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒØŸ")){v(!0),n(null);try{const _=await ry(b);_.success?(s("Ø­Ø°Ù Ø´Ø¯."),r()):n(_.message??"Ø®Ø·Ø§")}finally{v(!1)}}};return e.jsxs(X,{children:[e.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Pe,{children:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ÙˆØ¸Ø§ÛŒÙ"}),e.jsx(vt,{children:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ùˆ Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§ÛŒ ÙˆØ¸Ø§ÛŒÙ"})]}),e.jsxs(E,{onClick:p,className:"gap-2",children:[e.jsx(Be,{className:"h-4 w-4"}),"Ø§ÙØ²ÙˆØ¯Ù†"]})]}),e.jsx(Z,{children:e.jsxs("ul",{className:"space-y-2",children:[t.length===0&&e.jsx("li",{className:"text-muted-foreground text-sm py-4",children:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}),t.map(b=>e.jsxs("li",{className:"flex items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-4 w-4 rounded-full border",style:{backgroundColor:b.color||"#845adf"}}),e.jsx("p",{className:"font-medium",children:b.name})]}),e.jsxs("div",{className:V("flex gap-2",a&&"flex-row-reverse"),children:[e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>g(b),children:e.jsx(tt,{className:"h-4 w-4"})}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>w(b.id),children:e.jsx(We,{className:"h-4 w-4 text-destructive"})})]})]},b.id))]})}),e.jsx(Je,{open:o,onOpenChange:l,children:e.jsxs(Ue,{children:[e.jsx(qe,{children:e.jsx(Ge,{children:c?"ÙˆÛŒØ±Ø§ÛŒØ´ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ":"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ù†Ø§Ù…"}),e.jsx(W,{value:m,onChange:b=>h(b.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{children:"Ø±Ù†Ú¯"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:u,onChange:b=>f(b.target.value),className:"h-10 w-14 cursor-pointer rounded border"}),e.jsx(W,{value:u,onChange:b=>f(b.target.value)})]})]})]}),e.jsxs(Ke,{children:[e.jsx(E,{variant:"outline",onClick:()=>l(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(E,{onClick:j,disabled:x,children:[x?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})})]})}function dy(){return e.jsx(_u,{children:e.jsxs(Ce,{path:"/",element:e.jsx(Lg,{}),children:[e.jsx(Ce,{index:!0,element:e.jsx(qg,{})}),e.jsx(Ce,{path:"leads",element:e.jsx(Ov,{})}),e.jsx(Ce,{path:"profile",element:e.jsx(zv,{})}),e.jsx(Ce,{path:"licenses",element:e.jsx(Uv,{})}),e.jsx(Ce,{path:"consultations",element:e.jsx(Yv,{})}),e.jsx(Ce,{path:"logs",element:e.jsx(Xv,{})}),e.jsx(Ce,{path:"customers",element:e.jsx(Jv,{})}),e.jsx(Ce,{path:"contracts/*",element:e.jsx(rj,{})}),e.jsx(Ce,{path:"invoices/*",element:e.jsx(lj,{})}),e.jsx(Ce,{path:"tickets/*",element:e.jsx(hj,{})}),e.jsx(Ce,{path:"projects/*",element:e.jsx(gj,{})}),e.jsx(Ce,{path:"tasks/*",element:e.jsx(Lj,{})}),e.jsx(Ce,{path:"appointments/*",element:e.jsx(Wj,{})}),e.jsx(Ce,{path:"staff/*",element:e.jsx(qj,{})}),e.jsx(Ce,{path:"reports/*",element:e.jsx(Yj,{})}),e.jsx(Ce,{path:"settings/*",element:e.jsx(ay,{})}),e.jsx(Ce,{path:"*",element:e.jsx(yu,{to:"/",replace:!0})})]})})}function uy(){i.useEffect(()=>{const n=Se();if(n){const s=n.isRtl?"rtl":"ltr",r=n.locale??(n.isRtl?"fa":"en");document.documentElement.setAttribute("dir",s),document.documentElement.setAttribute("lang",r)}},[]);const t=typeof window<"u"&&window.puzzlingcrm?.dashboardBasePath?window.puzzlingcrm.dashboardBasePath:"/dashboard";return e.jsx(am,{children:e.jsx(Gu,{basename:t,children:e.jsx(dy,{})})})}bd.createRoot(document.getElementById("root")).render(e.jsx(i.StrictMode,{children:e.jsx(uy,{})}));
