import{r as o,j as e,u as en,a as gt,P as lt,c as Ee,d as fc,b as un,R as zh,e as aa,f as is,g as nr,h as Fh,i as Ia,k as zs,l as Y,m as pc,n as vo,o as je,U as br,B as I,p as $h,q as yo,s as jo,t as xc,I as Vh,v as gc,w as Wh,x as oe,S as Yh,C as xe,y as ge,z as Xt,A as Jt,M as Bh,E as La,D as Sn,F as Cn,L as Fe,G as H,H as Hh,J as Uh,K as ia,T as bo,N as wo,O as Jr,Q as Zr,V as vc,W as Ss,X as qh}from"./dashboard-tabs.js";var ml="popstate";function Kh(t={}){function n(r,a){let{pathname:i,search:c,hash:l}=r.location;return Zi("",{pathname:i,search:c,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(r,a){return typeof a=="string"?a:Qr(a)}return Xh(n,s,null,t)}function kt(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Un(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Gh(){return Math.random().toString(36).substring(2,10)}function hl(t,n){return{usr:t.state,key:t.key,idx:n}}function Zi(t,n,s=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof n=="string"?Sr(n):n,state:s,key:n&&n.key||r||Gh()}}function Qr({pathname:t="/",search:n="",hash:s=""}){return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Sr(t){let n={};if(t){let s=t.indexOf("#");s>=0&&(n.hash=t.substring(s),t=t.substring(0,s));let r=t.indexOf("?");r>=0&&(n.search=t.substring(r),t=t.substring(0,r)),t&&(n.pathname=t)}return n}function Xh(t,n,s,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,c=a.history,l="POP",d=null,u=h();u==null&&(u=0,c.replaceState({...c.state,idx:u},""));function h(){return(c.state||{idx:null}).idx}function m(){l="POP";let f=h(),b=f==null?null:f-u;u=f,d&&d({action:l,location:g.location,delta:b})}function p(f,b){l="PUSH";let v=Zi(g.location,f,b);u=h()+1;let _=hl(v,u),S=g.createHref(v);try{c.pushState(_,"",S)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(S)}i&&d&&d({action:l,location:g.location,delta:1})}function x(f,b){l="REPLACE";let v=Zi(g.location,f,b);u=h();let _=hl(v,u),S=g.createHref(v);c.replaceState(_,"",S),i&&d&&d({action:l,location:g.location,delta:0})}function j(f){return Jh(f)}let g={get action(){return l},get location(){return t(a,c)},listen(f){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(ml,m),d=f,()=>{a.removeEventListener(ml,m),d=null}},createHref(f){return n(a,f)},createURL:j,encodeLocation(f){let b=j(f);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:x,go(f){return c.go(f)}};return g}function Jh(t,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),kt(s,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Qr(t);return r=r.replace(/ $/,"%20"),!n&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function yc(t,n,s="/"){return Zh(t,n,s,!1)}function Zh(t,n,s,r){let a=typeof n=="string"?Sr(n):n,i=ks(a.pathname||"/",s);if(i==null)return null;let c=jc(t);Qh(c);let l=null;for(let d=0;l==null&&d<c.length;++d){let u=uf(i);l=cf(c[d],u,r)}return l}function jc(t,n=[],s=[],r="",a=!1){let i=(c,l,d=a,u)=>{let h={relativePath:u===void 0?c.path||"":u,caseSensitive:c.caseSensitive===!0,childrenIndex:l,route:c};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&d)return;kt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=Cs([r,h.relativePath]),p=s.concat(h);c.children&&c.children.length>0&&(kt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),jc(c.children,n,p,m,d)),!(c.path==null&&!c.index)&&n.push({path:m,score:of(m,c.index),routesMeta:p})};return t.forEach((c,l)=>{if(c.path===""||!c.path?.includes("?"))i(c,l);else for(let d of bc(c.path))i(c,l,!0,d)}),n}function bc(t){let n=t.split("/");if(n.length===0)return[];let[s,...r]=n,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let c=bc(r.join("/")),l=[];return l.push(...c.map(d=>d===""?i:[i,d].join("/"))),a&&l.push(...c),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function Qh(t){t.sort((n,s)=>n.score!==s.score?s.score-n.score:lf(n.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var ef=/^:[\w-]+$/,tf=3,nf=2,sf=1,rf=10,af=-2,fl=t=>t==="*";function of(t,n){let s=t.split("/"),r=s.length;return s.some(fl)&&(r+=af),n&&(r+=nf),s.filter(a=>!fl(a)).reduce((a,i)=>a+(ef.test(i)?tf:i===""?sf:rf),r)}function lf(t,n){return t.length===n.length&&t.slice(0,-1).every((r,a)=>r===n[a])?t[t.length-1]-n[n.length-1]:0}function cf(t,n,s=!1){let{routesMeta:r}=t,a={},i="/",c=[];for(let l=0;l<r.length;++l){let d=r[l],u=l===r.length-1,h=i==="/"?n:n.slice(i.length)||"/",m=za({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),p=d.route;if(!m&&u&&s&&!r[r.length-1].route.index&&(m=za({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),c.push({params:a,pathname:Cs([i,m.pathname]),pathnameBase:pf(Cs([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Cs([i,m.pathnameBase]))}return c}function za(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=df(t.path,t.caseSensitive,t.end),a=n.match(s);if(!a)return null;let i=a[0],c=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:m},p)=>{if(h==="*"){let j=l[p]||"";c=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const x=l[p];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:c,pattern:t}}function df(t,n=!1,s=!0){Un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,d)=>(r.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,n?void 0:"i"),r]}function uf(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),t}}function ks(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}var mf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function hf(t,n="/"){let{pathname:s,search:r="",hash:a=""}=typeof t=="string"?Sr(t):t,i;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?i=pl(s.substring(1),"/"):i=pl(s,n)):i=n,{pathname:i,search:xf(r),hash:gf(a)}}function pl(t,n){let s=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function Ei(t,n,s,r){return`Cannot include a '${t}' character in a manually specified \`to.${n}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ff(t){return t.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function _o(t){let n=ff(t);return n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase)}function No(t,n,s,r=!1){let a;typeof t=="string"?a=Sr(t):(a={...t},kt(!a.pathname||!a.pathname.includes("?"),Ei("?","pathname","search",a)),kt(!a.pathname||!a.pathname.includes("#"),Ei("#","pathname","hash",a)),kt(!a.search||!a.search.includes("#"),Ei("#","search","hash",a)));let i=t===""||a.pathname==="",c=i?"/":a.pathname,l;if(c==null)l=s;else{let m=n.length-1;if(!r&&c.startsWith("..")){let p=c.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}l=m>=0?n[m]:"/"}let d=hf(a,l),u=c&&c!=="/"&&c.endsWith("/"),h=(i||c===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}var Cs=t=>t.join("/").replace(/\/\/+/g,"/"),pf=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xf=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gf=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,vf=class{constructor(t,n,s,r=!1){this.status=t,this.statusText=n||"",this.internal=r,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function yf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function jf(t){return t.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var wc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _c(t,n){let s=t;if(typeof s!="string"||!mf.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let r=s,a=!1;if(wc)try{let i=new URL(window.location.href),c=s.startsWith("//")?new URL(i.protocol+s):new URL(s),l=ks(c.pathname,n);c.origin===i.origin&&l!=null?s=l+c.search+c.hash:a=!0}catch{Un(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Nc=["POST","PUT","PATCH","DELETE"];new Set(Nc);var bf=["GET",...Nc];new Set(bf);var Cr=o.createContext(null);Cr.displayName="DataRouter";var Xa=o.createContext(null);Xa.displayName="DataRouterState";var wf=o.createContext(!1),Sc=o.createContext({isTransitioning:!1});Sc.displayName="ViewTransition";var _f=o.createContext(new Map);_f.displayName="Fetchers";var Nf=o.createContext(null);Nf.displayName="Await";var An=o.createContext(null);An.displayName="Navigation";var oa=o.createContext(null);oa.displayName="Location";var os=o.createContext({outlet:null,matches:[],isDataRoute:!1});os.displayName="Route";var So=o.createContext(null);So.displayName="RouteError";var Cc="REACT_ROUTER_ERROR",Sf="REDIRECT",Cf="ROUTE_ERROR_RESPONSE";function kf(t){if(t.startsWith(`${Cc}:${Sf}:{`))try{let n=JSON.parse(t.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function Ef(t){if(t.startsWith(`${Cc}:${Cf}:{`))try{let n=JSON.parse(t.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new vf(n.status,n.statusText,n.data)}catch{}}function Rf(t,{relative:n}={}){kt(kr(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=o.useContext(An),{hash:a,pathname:i,search:c}=la(t,{relative:n}),l=i;return s!=="/"&&(l=i==="/"?s:Cs([s,i])),r.createHref({pathname:l,search:c,hash:a})}function kr(){return o.useContext(oa)!=null}function Kn(){return kt(kr(),"useLocation() may be used only in the context of a <Router> component."),o.useContext(oa).location}var kc="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ec(t){o.useContext(An).static||o.useLayoutEffect(t)}function Ps(){let{isDataRoute:t}=o.useContext(os);return t?Bf():Pf()}function Pf(){kt(kr(),"useNavigate() may be used only in the context of a <Router> component.");let t=o.useContext(Cr),{basename:n,navigator:s}=o.useContext(An),{matches:r}=o.useContext(os),{pathname:a}=Kn(),i=JSON.stringify(_o(r)),c=o.useRef(!1);return Ec(()=>{c.current=!0}),o.useCallback((d,u={})=>{if(Un(c.current,kc),!c.current)return;if(typeof d=="number"){s.go(d);return}let h=No(d,JSON.parse(i),a,u.relative==="path");t==null&&n!=="/"&&(h.pathname=h.pathname==="/"?n:Cs([n,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[n,s,i,a,t])}var Df=o.createContext(null);function Mf(t){let n=o.useContext(os).outlet;return o.useMemo(()=>n&&o.createElement(Df.Provider,{value:t},n),[n,t])}function la(t,{relative:n}={}){let{matches:s}=o.useContext(os),{pathname:r}=Kn(),a=JSON.stringify(_o(s));return o.useMemo(()=>No(t,JSON.parse(a),r,n==="path"),[t,a,r,n])}function Of(t,n){return Rc(t,n)}function Rc(t,n,s,r,a){kt(kr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=o.useContext(An),{matches:c}=o.useContext(os),l=c[c.length-1],d=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let v=m&&m.path||"";Dc(u,!m||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let p=Kn(),x;if(n){let v=typeof n=="string"?Sr(n):n;kt(h==="/"||v.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${v.pathname}" was given in the \`location\` prop.`),x=v}else x=p;let j=x.pathname||"/",g=j;if(h!=="/"){let v=h.replace(/^\//,"").split("/");g="/"+j.replace(/^\//,"").split("/").slice(v.length).join("/")}let f=yc(t,{pathname:g});Un(m||f!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Un(f==null||f[f.length-1].route.element!==void 0||f[f.length-1].route.Component!==void 0||f[f.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=zf(f&&f.map(v=>Object.assign({},v,{params:Object.assign({},d,v.params),pathname:Cs([h,i.encodeLocation?i.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?h:Cs([h,i.encodeLocation?i.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),c,s,r,a);return n&&b?o.createElement(oa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},b):b}function Tf(){let t=Yf(),n=yf(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=o.createElement(o.Fragment,null,o.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),o.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",o.createElement("code",{style:i},"ErrorBoundary")," or"," ",o.createElement("code",{style:i},"errorElement")," prop on your route.")),o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},n),s?o.createElement("pre",{style:a},s):null,c)}var Af=o.createElement(Tf,null),Pc=class extends o.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.onError?this.props.onError(t,n):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const s=Ef(t.digest);s&&(t=s)}let n=t!==void 0?o.createElement(os.Provider,{value:this.props.routeContext},o.createElement(So.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?o.createElement(If,{error:t},n):n}};Pc.contextType=wf;var Ri=new WeakMap;function If({children:t,error:n}){let{basename:s}=o.useContext(An);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let r=kf(n.digest);if(r){let a=Ri.get(n);if(a)throw a;let i=_c(r.location,s);if(wc&&!Ri.get(n))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw Ri.set(n,c),c}return o.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function Lf({routeContext:t,match:n,children:s}){let r=o.useContext(Cr);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(os.Provider,{value:t},s)}function zf(t,n=[],s=null,r=null,a=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let i=t,c=s?.errors;if(c!=null){let h=i.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);kt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,d=-1;if(s)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:p,errors:x}=s,j=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||j){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let u=s&&r?(h,m)=>{r(h,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:jf(s.matches),errorInfo:m})}:void 0;return i.reduceRight((h,m,p)=>{let x,j=!1,g=null,f=null;s&&(x=c&&m.route.id?c[m.route.id]:void 0,g=m.route.errorElement||Af,l&&(d<0&&p===0?(Dc("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,f=null):d===p&&(j=!0,f=m.route.hydrateFallbackElement||null)));let b=n.concat(i.slice(0,p+1)),v=()=>{let _;return x?_=g:j?_=f:m.route.Component?_=o.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=h,o.createElement(Lf,{match:m,routeContext:{outlet:h,matches:b,isDataRoute:s!=null},children:_})};return s&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?o.createElement(Pc,{location:s.location,revalidation:s.revalidation,component:g,error:x,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:u}):v()},null)}function Co(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ff(t){let n=o.useContext(Cr);return kt(n,Co(t)),n}function $f(t){let n=o.useContext(Xa);return kt(n,Co(t)),n}function Vf(t){let n=o.useContext(os);return kt(n,Co(t)),n}function ko(t){let n=Vf(t),s=n.matches[n.matches.length-1];return kt(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function Wf(){return ko("useRouteId")}function Yf(){let t=o.useContext(So),n=$f("useRouteError"),s=ko("useRouteError");return t!==void 0?t:n.errors?.[s]}function Bf(){let{router:t}=Ff("useNavigate"),n=ko("useNavigate"),s=o.useRef(!1);return Ec(()=>{s.current=!0}),o.useCallback(async(a,i={})=>{Un(s.current,kc),s.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:n,...i}))},[t,n])}var xl={};function Dc(t,n,s){!n&&!xl[t]&&(xl[t]=!0,Un(!1,s))}o.memo(Hf);function Hf({routes:t,future:n,state:s,onError:r}){return Rc(t,void 0,s,r,n)}function Uf({to:t,replace:n,state:s,relative:r}){kt(kr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=o.useContext(An);Un(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=o.useContext(os),{pathname:c}=Kn(),l=Ps(),d=No(t,_o(i),c,r==="path"),u=JSON.stringify(d);return o.useEffect(()=>{l(JSON.parse(u),{replace:n,state:s,relative:r})},[l,u,r,n,s]),null}function qf(t){return Mf(t.context)}function Lt(t){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kf({basename:t="/",children:n=null,location:s,navigationType:r="POP",navigator:a,static:i=!1,unstable_useTransitions:c}){kt(!kr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=o.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:c,future:{}}),[l,a,i,c]);typeof s=="string"&&(s=Sr(s));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:x="default"}=s,j=o.useMemo(()=>{let g=ks(u,l);return g==null?null:{location:{pathname:g,search:h,hash:m,state:p,key:x},navigationType:r}},[l,u,h,m,p,x,r]);return Un(j!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:o.createElement(An.Provider,{value:d},o.createElement(oa.Provider,{children:n,value:j}))}function Gf({children:t,location:n}){return Of(Qi(t),n)}function Qi(t,n=[]){let s=[];return o.Children.forEach(t,(r,a)=>{if(!o.isValidElement(r))return;let i=[...n,a];if(r.type===o.Fragment){s.push.apply(s,Qi(r.props.children,i));return}kt(r.type===Lt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Qi(r.props.children,i)),s.push(c)}),s}var Ea="get",Ra="application/x-www-form-urlencoded";function Ja(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Xf(t){return Ja(t)&&t.tagName.toLowerCase()==="button"}function Jf(t){return Ja(t)&&t.tagName.toLowerCase()==="form"}function Zf(t){return Ja(t)&&t.tagName.toLowerCase()==="input"}function Qf(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ep(t,n){return t.button===0&&(!n||n==="_self")&&!Qf(t)}function eo(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,s)=>{let r=t[s];return n.concat(Array.isArray(r)?r.map(a=>[s,a]):[[s,r]])},[]))}function tp(t,n){let s=eo(t);return n&&n.forEach((r,a)=>{s.has(a)||n.getAll(a).forEach(i=>{s.append(a,i)})}),s}var ba=null;function np(){if(ba===null)try{new FormData(document.createElement("form"),0),ba=!1}catch{ba=!0}return ba}var sp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pi(t){return t!=null&&!sp.has(t)?(Un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ra}"`),null):t}function rp(t,n){let s,r,a,i,c;if(Jf(t)){let l=t.getAttribute("action");r=l?ks(l,n):null,s=t.getAttribute("method")||Ea,a=Pi(t.getAttribute("enctype"))||Ra,i=new FormData(t)}else if(Xf(t)||Zf(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||l.getAttribute("action");if(r=d?ks(d,n):null,s=t.getAttribute("formmethod")||l.getAttribute("method")||Ea,a=Pi(t.getAttribute("formenctype"))||Pi(l.getAttribute("enctype"))||Ra,i=new FormData(l,t),!np()){let{name:u,type:h,value:m}=t;if(h==="image"){let p=u?`${u}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else u&&i.append(u,m)}}else{if(Ja(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Ea,r=null,a=Ra,c=t}return i&&a==="text/plain"&&(c=i,i=void 0),{action:r,method:s.toLowerCase(),encType:a,formData:i,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Eo(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function ap(t,n,s,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:n&&ks(a.pathname,n)==="/"?a.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function ip(t,n){if(t.id in n)return n[t.id];try{let s=await import(t.module);return n[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function op(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lp(t,n,s){let r=await Promise.all(t.map(async a=>{let i=n.routes[a.route.id];if(i){let c=await ip(i,s);return c.links?c.links():[]}return[]}));return mp(r.flat(1).filter(op).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function gl(t,n,s,r,a,i){let c=(d,u)=>s[u]?d.route.id!==s[u].route.id:!0,l=(d,u)=>s[u].pathname!==d.pathname||s[u].route.path?.endsWith("*")&&s[u].params["*"]!==d.params["*"];return i==="assets"?n.filter((d,u)=>c(d,u)||l(d,u)):i==="data"?n.filter((d,u)=>{let h=r.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(c(d,u)||l(d,u))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function cp(t,n,{includeHydrateFallback:s}={}){return dp(t.map(r=>{let a=n.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function dp(t){return[...new Set(t)]}function up(t){let n={},s=Object.keys(t).sort();for(let r of s)n[r]=t[r];return n}function mp(t,n){let s=new Set;return new Set(n),t.reduce((r,a)=>{let i=JSON.stringify(up(a));return s.has(i)||(s.add(i),r.push({key:i,link:a})),r},[])}function Mc(){let t=o.useContext(Cr);return Eo(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hp(){let t=o.useContext(Xa);return Eo(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ro=o.createContext(void 0);Ro.displayName="FrameworkContext";function Oc(){let t=o.useContext(Ro);return Eo(t,"You must render this element inside a <HydratedRouter> element"),t}function fp(t,n){let s=o.useContext(Ro),[r,a]=o.useState(!1),[i,c]=o.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:u,onMouseLeave:h,onTouchStart:m}=n,p=o.useRef(null);o.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let g=b=>{b.forEach(v=>{c(v.isIntersecting)})},f=new IntersectionObserver(g,{threshold:.5});return p.current&&f.observe(p.current),()=>{f.disconnect()}}},[t]),o.useEffect(()=>{if(r){let g=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(g)}}},[r]);let x=()=>{a(!0)},j=()=>{a(!1),c(!1)};return s?t!=="intent"?[i,p,{}]:[i,p,{onFocus:Br(l,x),onBlur:Br(d,j),onMouseEnter:Br(u,x),onMouseLeave:Br(h,j),onTouchStart:Br(m,x)}]:[!1,p,{}]}function Br(t,n){return s=>{t&&t(s),s.defaultPrevented||n(s)}}function pp({page:t,...n}){let{router:s}=Mc(),r=o.useMemo(()=>yc(s.routes,t,s.basename),[s.routes,t,s.basename]);return r?o.createElement(gp,{page:t,matches:r,...n}):null}function xp(t){let{manifest:n,routeModules:s}=Oc(),[r,a]=o.useState([]);return o.useEffect(()=>{let i=!1;return lp(t,n,s).then(c=>{i||a(c)}),()=>{i=!0}},[t,n,s]),r}function gp({page:t,matches:n,...s}){let r=Kn(),{future:a,manifest:i,routeModules:c}=Oc(),{basename:l}=Mc(),{loaderData:d,matches:u}=hp(),h=o.useMemo(()=>gl(t,n,u,i,r,"data"),[t,n,u,i,r]),m=o.useMemo(()=>gl(t,n,u,i,r,"assets"),[t,n,u,i,r]),p=o.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,f=!1;if(n.forEach(v=>{let _=i.routes[v.route.id];!_||!_.hasLoader||(!h.some(S=>S.route.id===v.route.id)&&v.route.id in d&&c[v.route.id]?.shouldRevalidate||_.hasClientLoader?f=!0:g.add(v.route.id))}),g.size===0)return[];let b=ap(t,l,a.unstable_trailingSlashAwareDataRequests,"data");return f&&g.size>0&&b.searchParams.set("_routes",n.filter(v=>g.has(v.route.id)).map(v=>v.route.id).join(",")),[b.pathname+b.search]},[l,a.unstable_trailingSlashAwareDataRequests,d,r,i,h,n,t,c]),x=o.useMemo(()=>cp(m,i),[m,i]),j=xp(m);return o.createElement(o.Fragment,null,p.map(g=>o.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...s})),x.map(g=>o.createElement("link",{key:g,rel:"modulepreload",href:g,...s})),j.map(({key:g,link:f})=>o.createElement("link",{key:g,nonce:s.nonce,...f,crossOrigin:f.crossOrigin??s.crossOrigin})))}function vp(...t){return n=>{t.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var yp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yp&&(window.__reactRouterVersion="7.13.0")}catch{}function jp({basename:t,children:n,unstable_useTransitions:s,window:r}){let a=o.useRef();a.current==null&&(a.current=Kh({window:r,v5Compat:!0}));let i=a.current,[c,l]=o.useState({action:i.action,location:i.location}),d=o.useCallback(u=>{s===!1?l(u):o.startTransition(()=>l(u))},[s]);return o.useLayoutEffect(()=>i.listen(d),[i,d]),o.createElement(Kf,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:i,unstable_useTransitions:s})}var Tc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=o.forwardRef(function({onClick:n,discover:s="render",prefetch:r="none",relative:a,reloadDocument:i,replace:c,state:l,target:d,to:u,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:p,...x},j){let{basename:g,unstable_useTransitions:f}=o.useContext(An),b=typeof u=="string"&&Tc.test(u),v=_c(u,g);u=v.to;let _=Rf(u,{relative:a}),[S,P,F]=fp(r,x),C=Np(u,{replace:c,state:l,target:d,preventScrollReset:h,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:f});function T(L){n&&n(L),L.defaultPrevented||C(L)}let z=o.createElement("a",{...x,...F,href:v.absoluteURL||_,onClick:v.isExternal||i?n:T,ref:vp(j,P),target:d,"data-discover":!b&&s==="render"?"true":void 0});return S&&!b?o.createElement(o.Fragment,null,z,o.createElement(pp,{page:_})):z});Ht.displayName="Link";var bp=o.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:r="",end:a=!1,style:i,to:c,viewTransition:l,children:d,...u},h){let m=la(c,{relative:u.relative}),p=Kn(),x=o.useContext(Xa),{navigator:j,basename:g}=o.useContext(An),f=x!=null&&Rp(m)&&l===!0,b=j.encodeLocation?j.encodeLocation(m).pathname:m.pathname,v=p.pathname,_=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(v=v.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&g&&(_=ks(_,g)||_);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let P=v===b||!a&&v.startsWith(b)&&v.charAt(S)==="/",F=_!=null&&(_===b||!a&&_.startsWith(b)&&_.charAt(b.length)==="/"),C={isActive:P,isPending:F,isTransitioning:f},T=P?n:void 0,z;typeof r=="function"?z=r(C):z=[r,P?"active":null,F?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(C):i;return o.createElement(Ht,{...u,"aria-current":T,className:z,ref:h,style:L,to:c,viewTransition:l},typeof d=="function"?d(C):d)});bp.displayName="NavLink";var wp=o.forwardRef(({discover:t="render",fetcherKey:n,navigate:s,reloadDocument:r,replace:a,state:i,method:c=Ea,action:l,onSubmit:d,relative:u,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:p,...x},j)=>{let{unstable_useTransitions:g}=o.useContext(An),f=kp(),b=Ep(l,{relative:u}),v=c.toLowerCase()==="get"?"get":"post",_=typeof l=="string"&&Tc.test(l),S=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let F=P.nativeEvent.submitter,C=F?.getAttribute("formmethod")||c,T=()=>f(F||P.currentTarget,{fetcherKey:n,method:C,navigate:s,replace:a,state:i,relative:u,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:p});g&&s!==!1?o.startTransition(()=>T()):T()};return o.createElement("form",{ref:j,method:v,action:b,onSubmit:r?d:S,...x,"data-discover":!_&&t==="render"?"true":void 0})});wp.displayName="Form";function _p(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ac(t){let n=o.useContext(Cr);return kt(n,_p(t)),n}function Np(t,{target:n,replace:s,state:r,preventScrollReset:a,relative:i,viewTransition:c,unstable_defaultShouldRevalidate:l,unstable_useTransitions:d}={}){let u=Ps(),h=Kn(),m=la(t,{relative:i});return o.useCallback(p=>{if(ep(p,n)){p.preventDefault();let x=s!==void 0?s:Qr(h)===Qr(m),j=()=>u(t,{replace:x,state:r,preventScrollReset:a,relative:i,viewTransition:c,unstable_defaultShouldRevalidate:l});d?o.startTransition(()=>j()):j()}},[h,u,m,s,r,n,t,a,i,c,l,d])}function Za(t){Un(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=o.useRef(eo(t)),s=o.useRef(!1),r=Kn(),a=o.useMemo(()=>tp(r.search,s.current?null:n.current),[r.search]),i=Ps(),c=o.useCallback((l,d)=>{const u=eo(typeof l=="function"?l(new URLSearchParams(a)):l);s.current=!0,i("?"+u,d)},[i,a]);return[a,c]}var Sp=0,Cp=()=>`__${String(++Sp)}__`;function kp(){let{router:t}=Ac("useSubmit"),{basename:n}=o.useContext(An),s=Wf(),r=t.fetch,a=t.navigate;return o.useCallback(async(i,c={})=>{let{action:l,method:d,encType:u,formData:h,body:m}=rp(i,n);if(c.navigate===!1){let p=c.fetcherKey||Cp();await r(p,s,c.action||l,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:m,formMethod:c.method||d,formEncType:c.encType||u,flushSync:c.flushSync})}else await a(c.action||l,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:m,formMethod:c.method||d,formEncType:c.encType||u,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,n,s])}function Ep(t,{relative:n}={}){let{basename:s}=o.useContext(An),r=o.useContext(os);kt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...la(t||".",{relative:n})},c=Kn();if(t==null){i.search=c.search;let l=new URLSearchParams(i.search),d=l.getAll("index");if(d.some(h=>h==="")){l.delete("index"),d.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(i.pathname=i.pathname==="/"?s:Cs([s,i.pathname])),Qr(i)}function Rp(t,{relative:n}={}){let s=o.useContext(Sc);kt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ac("useViewTransitionState"),a=la(t,{relative:n});if(!s.isTransitioning)return!1;let i=ks(s.currentLocation.pathname,r)||s.currentLocation.pathname,c=ks(s.nextLocation.pathname,r)||s.nextLocation.pathname;return za(a.pathname,c)!=null||za(a.pathname,i)!=null}const Ic=o.createContext(null),Lc="pzl-theme",vl=["light","dark","system"];function zc(){if(typeof window>"u")return"system";try{const n=localStorage.getItem(Lc);if(n&&vl.includes(n))return n}catch{}const t=document.documentElement.getAttribute("data-theme");return t&&vl.includes(t)?t:"system"}function Pp(){return typeof document>"u"?"system":document.documentElement.getAttribute("data-theme")||zc()}function Di(){const t=Pp();return t==="dark"?"dark":t==="light"?"light":typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Dp({children:t}){const[n,s]=o.useState(zc),[r,a]=o.useState(Di);o.useEffect(()=>{const l=document.documentElement;l.setAttribute("data-theme",n);const d=Di();a(d),d==="dark"?l.classList.add("dark"):l.classList.remove("dark");try{localStorage.setItem(Lc,n)}catch{}},[n]),o.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>{n==="system"&&a(Di())};return l.addEventListener("change",d),()=>l.removeEventListener("change",d)},[n]);const i=o.useCallback(l=>{s(l)},[]),c=o.useMemo(()=>({theme:n,setTheme:i,resolved:r}),[n,i,r]);return e.jsx(Ic.Provider,{value:c,children:t})}function Mp(){const t=o.useContext(Ic);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}function Op(t,n=globalThis?.document){const s=en(t);o.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return n.addEventListener("keydown",r,{capture:!0}),()=>n.removeEventListener("keydown",r,{capture:!0})},[s,n])}var Tp="DismissableLayer",to="dismissableLayer.update",Ap="dismissableLayer.pointerDownOutside",Ip="dismissableLayer.focusOutside",yl,Fc=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qa=o.forwardRef((t,n)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:c,onDismiss:l,...d}=t,u=o.useContext(Fc),[h,m]=o.useState(null),p=h?.ownerDocument??globalThis?.document,[,x]=o.useState({}),j=gt(n,C=>m(C)),g=Array.from(u.layers),[f]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(f),v=h?g.indexOf(h):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=b,P=Fp(C=>{const T=C.target,z=[...u.branches].some(L=>L.contains(T));!S||z||(a?.(C),c?.(C),C.defaultPrevented||l?.())},p),F=$p(C=>{const T=C.target;[...u.branches].some(L=>L.contains(T))||(i?.(C),c?.(C),C.defaultPrevented||l?.())},p);return Op(C=>{v===u.layers.size-1&&(r?.(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),o.useEffect(()=>{if(h)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(yl=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),jl(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=yl)}},[h,p,s,u]),o.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),jl())},[h,u]),o.useEffect(()=>{const C=()=>x({});return document.addEventListener(to,C),()=>document.removeEventListener(to,C)},[]),e.jsx(lt.div,{...d,ref:j,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,P.onPointerDownCapture)})});Qa.displayName=Tp;var Lp="DismissableLayerBranch",zp=o.forwardRef((t,n)=>{const s=o.useContext(Fc),r=o.useRef(null),a=gt(n,r);return o.useEffect(()=>{const i=r.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),e.jsx(lt.div,{...t,ref:a})});zp.displayName=Lp;function Fp(t,n=globalThis?.document){const s=en(t),r=o.useRef(!1),a=o.useRef(()=>{});return o.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let d=function(){$c(Ap,s,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(n.removeEventListener("click",a.current),a.current=d,n.addEventListener("click",a.current,{once:!0})):d()}else n.removeEventListener("click",a.current);r.current=!1},c=window.setTimeout(()=>{n.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),n.removeEventListener("pointerdown",i),n.removeEventListener("click",a.current)}},[n,s]),{onPointerDownCapture:()=>r.current=!0}}function $p(t,n=globalThis?.document){const s=en(t),r=o.useRef(!1);return o.useEffect(()=>{const a=i=>{i.target&&!r.current&&$c(Ip,s,{originalEvent:i},{discrete:!1})};return n.addEventListener("focusin",a),()=>n.removeEventListener("focusin",a)},[n,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function jl(){const t=new CustomEvent(to);document.dispatchEvent(t)}function $c(t,n,s,{discrete:r}){const a=s.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});n&&a.addEventListener(t,n,{once:!0}),r?fc(a,i):a.dispatchEvent(i)}var Mi="focusScope.autoFocusOnMount",Oi="focusScope.autoFocusOnUnmount",bl={bubbles:!1,cancelable:!0},Vp="FocusScope",ei=o.forwardRef((t,n)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...c}=t,[l,d]=o.useState(null),u=en(a),h=en(i),m=o.useRef(null),p=gt(n,g=>d(g)),x=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(r){let g=function(_){if(x.paused||!l)return;const S=_.target;l.contains(S)?m.current=S:Is(m.current,{select:!0})},f=function(_){if(x.paused||!l)return;const S=_.relatedTarget;S!==null&&(l.contains(S)||Is(m.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const P of _)P.removedNodes.length>0&&Is(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",f);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",f),v.disconnect()}}},[r,l,x.paused]),o.useEffect(()=>{if(l){_l.add(x);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(Mi,bl);l.addEventListener(Mi,u),l.dispatchEvent(b),b.defaultPrevented||(Wp(qp(Vc(l)),{select:!0}),document.activeElement===g&&Is(l))}return()=>{l.removeEventListener(Mi,u),setTimeout(()=>{const b=new CustomEvent(Oi,bl);l.addEventListener(Oi,h),l.dispatchEvent(b),b.defaultPrevented||Is(g??document.body,{select:!0}),l.removeEventListener(Oi,h),_l.remove(x)},0)}}},[l,u,h,x]);const j=o.useCallback(g=>{if(!s&&!r||x.paused)return;const f=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(f&&b){const v=g.currentTarget,[_,S]=Yp(v);_&&S?!g.shiftKey&&b===S?(g.preventDefault(),s&&Is(_,{select:!0})):g.shiftKey&&b===_&&(g.preventDefault(),s&&Is(S,{select:!0})):b===v&&g.preventDefault()}},[s,r,x.paused]);return e.jsx(lt.div,{tabIndex:-1,...c,ref:p,onKeyDown:j})});ei.displayName=Vp;function Wp(t,{select:n=!1}={}){const s=document.activeElement;for(const r of t)if(Is(r,{select:n}),document.activeElement!==s)return}function Yp(t){const n=Vc(t),s=wl(n,t),r=wl(n.reverse(),t);return[s,r]}function Vc(t){const n=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)n.push(s.currentNode);return n}function wl(t,n){for(const s of t)if(!Bp(s,{upTo:n}))return s}function Bp(t,{upTo:n}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n!==void 0&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Hp(t){return t instanceof HTMLInputElement&&"select"in t}function Is(t,{select:n=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&Hp(t)&&n&&t.select()}}var _l=Up();function Up(){let t=[];return{add(n){const s=t[0];n!==s&&s?.pause(),t=Nl(t,n),t.unshift(n)},remove(n){t=Nl(t,n),t[0]?.resume()}}}function Nl(t,n){const s=[...t],r=s.indexOf(n);return r!==-1&&s.splice(r,1),s}function qp(t){return t.filter(n=>n.tagName!=="A")}var Kp="Portal",ti=o.forwardRef((t,n)=>{const{container:s,...r}=t,[a,i]=o.useState(!1);un(()=>i(!0),[]);const c=s||a&&globalThis?.document?.body;return c?zh.createPortal(e.jsx(lt.div,{...r,ref:n}),c):null});ti.displayName=Kp;var Ti=0;function Po(){o.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Sl()),document.body.insertAdjacentElement("beforeend",t[1]??Sl()),Ti++,()=>{Ti===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Ti--}},[])}function Sl(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hs=function(){return hs=Object.assign||function(n){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},hs.apply(this,arguments)};function Wc(t,n){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(s[r[a]]=t[r[a]]);return s}function Gp(t,n,s){if(s||arguments.length===2)for(var r=0,a=n.length,i;r<a;r++)(i||!(r in n))&&(i||(i=Array.prototype.slice.call(n,0,r)),i[r]=n[r]);return t.concat(i||Array.prototype.slice.call(n))}var Pa="right-scroll-bar-position",Da="width-before-scroll-bar",Xp="with-scroll-bars-hidden",Jp="--removed-body-scroll-bar-size";function Ai(t,n){return typeof t=="function"?t(n):t&&(t.current=n),t}function Zp(t,n){var s=o.useState(function(){return{value:t,callback:n,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=n,s.facade}var Qp=typeof window<"u"?o.useLayoutEffect:o.useEffect,Cl=new WeakMap;function ex(t,n){var s=Zp(null,function(r){return t.forEach(function(a){return Ai(a,r)})});return Qp(function(){var r=Cl.get(s);if(r){var a=new Set(r),i=new Set(t),c=s.current;a.forEach(function(l){i.has(l)||Ai(l,null)}),i.forEach(function(l){a.has(l)||Ai(l,c)})}Cl.set(s,t)},[t]),s}function tx(t){return t}function nx(t,n){n===void 0&&(n=tx);var s=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(i){var c=n(i,r);return s.push(c),function(){s=s.filter(function(l){return l!==c})}},assignSyncMedium:function(i){for(r=!0;s.length;){var c=s;s=[],c.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){r=!0;var c=[];if(s.length){var l=s;s=[],l.forEach(i),c=s}var d=function(){var h=c;c=[],h.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),s={push:function(h){c.push(h),u()},filter:function(h){return c=c.filter(h),s}}}};return a}function sx(t){t===void 0&&(t={});var n=nx(null);return n.options=hs({async:!0,ssr:!1},t),n}var Yc=function(t){var n=t.sideCar,s=Wc(t,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return o.createElement(r,hs({},s))};Yc.isSideCarExport=!0;function rx(t,n){return t.useMedium(n),Yc}var Bc=sx(),Ii=function(){},ni=o.forwardRef(function(t,n){var s=o.useRef(null),r=o.useState({onScrollCapture:Ii,onWheelCapture:Ii,onTouchMoveCapture:Ii}),a=r[0],i=r[1],c=t.forwardProps,l=t.children,d=t.className,u=t.removeScrollBar,h=t.enabled,m=t.shards,p=t.sideCar,x=t.noRelative,j=t.noIsolation,g=t.inert,f=t.allowPinchZoom,b=t.as,v=b===void 0?"div":b,_=t.gapMode,S=Wc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,F=ex([s,n]),C=hs(hs({},S),a);return o.createElement(o.Fragment,null,h&&o.createElement(P,{sideCar:Bc,removeScrollBar:u,shards:m,noRelative:x,noIsolation:j,inert:g,setCallbacks:i,allowPinchZoom:!!f,lockRef:s,gapMode:_}),c?o.cloneElement(o.Children.only(l),hs(hs({},C),{ref:F})):o.createElement(v,hs({},C,{className:d,ref:F}),l))});ni.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ni.classNames={fullWidth:Da,zeroRight:Pa};var ax=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ix(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var n=ax();return n&&t.setAttribute("nonce",n),t}function ox(t,n){t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}function lx(t){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(t)}var cx=function(){var t=0,n=null;return{add:function(s){t==0&&(n=ix())&&(ox(n,s),lx(n)),t++},remove:function(){t--,!t&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},dx=function(){var t=cx();return function(n,s){o.useEffect(function(){return t.add(n),function(){t.remove()}},[n&&s])}},Hc=function(){var t=dx(),n=function(s){var r=s.styles,a=s.dynamic;return t(r,a),null};return n},ux={left:0,top:0,right:0,gap:0},Li=function(t){return parseInt(t||"",10)||0},mx=function(t){var n=window.getComputedStyle(document.body),s=n[t==="padding"?"paddingLeft":"marginLeft"],r=n[t==="padding"?"paddingTop":"marginTop"],a=n[t==="padding"?"paddingRight":"marginRight"];return[Li(s),Li(r),Li(a)]},hx=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ux;var n=mx(t),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-s+n[2]-n[0])}},fx=Hc(),pr="data-scroll-locked",px=function(t,n,s,r){var a=t.left,i=t.top,c=t.right,l=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(Xp,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(pr,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pa,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Da,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Pa," .").concat(Pa,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Da," .").concat(Da,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(pr,`] {
    `).concat(Jp,": ").concat(l,`px;
  }
`)},kl=function(){var t=parseInt(document.body.getAttribute(pr)||"0",10);return isFinite(t)?t:0},xx=function(){o.useEffect(function(){return document.body.setAttribute(pr,(kl()+1).toString()),function(){var t=kl()-1;t<=0?document.body.removeAttribute(pr):document.body.setAttribute(pr,t.toString())}},[])},gx=function(t){var n=t.noRelative,s=t.noImportant,r=t.gapMode,a=r===void 0?"margin":r;xx();var i=o.useMemo(function(){return hx(a)},[a]);return o.createElement(fx,{styles:px(i,!n,a,s?"":"!important")})},no=!1;if(typeof window<"u")try{var wa=Object.defineProperty({},"passive",{get:function(){return no=!0,!0}});window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{no=!1}var or=no?{passive:!1}:!1,vx=function(t){return t.tagName==="TEXTAREA"},Uc=function(t,n){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[n]!=="hidden"&&!(s.overflowY===s.overflowX&&!vx(t)&&s[n]==="visible")},yx=function(t){return Uc(t,"overflowY")},jx=function(t){return Uc(t,"overflowX")},El=function(t,n){var s=n.ownerDocument,r=n;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=qc(t,r);if(a){var i=Kc(t,r),c=i[1],l=i[2];if(c>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},bx=function(t){var n=t.scrollTop,s=t.scrollHeight,r=t.clientHeight;return[n,s,r]},wx=function(t){var n=t.scrollLeft,s=t.scrollWidth,r=t.clientWidth;return[n,s,r]},qc=function(t,n){return t==="v"?yx(n):jx(n)},Kc=function(t,n){return t==="v"?bx(n):wx(n)},_x=function(t,n){return t==="h"&&n==="rtl"?-1:1},Nx=function(t,n,s,r,a){var i=_x(t,window.getComputedStyle(n).direction),c=i*r,l=s.target,d=n.contains(l),u=!1,h=c>0,m=0,p=0;do{if(!l)break;var x=Kc(t,l),j=x[0],g=x[1],f=x[2],b=g-f-i*j;(j||b)&&qc(t,l)&&(m+=b,p+=j);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!d&&l!==document.body||d&&(n.contains(l)||n===l));return(h&&Math.abs(m)<1||!h&&Math.abs(p)<1)&&(u=!0),u},_a=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Rl=function(t){return[t.deltaX,t.deltaY]},Pl=function(t){return t&&"current"in t?t.current:t},Sx=function(t,n){return t[0]===n[0]&&t[1]===n[1]},Cx=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},kx=0,lr=[];function Ex(t){var n=o.useRef([]),s=o.useRef([0,0]),r=o.useRef(),a=o.useState(kx++)[0],i=o.useState(Hc)[0],c=o.useRef(t);o.useEffect(function(){c.current=t},[t]),o.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Gp([t.lockRef.current],(t.shards||[]).map(Pl),!0).filter(Boolean);return g.forEach(function(f){return f.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=o.useCallback(function(g,f){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!c.current.allowPinchZoom;var b=_a(g),v=s.current,_="deltaX"in g?g.deltaX:v[0]-b[0],S="deltaY"in g?g.deltaY:v[1]-b[1],P,F=g.target,C=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in g&&C==="h"&&F.type==="range")return!1;var T=window.getSelection(),z=T&&T.anchorNode,L=z?z===F||z.contains(F):!1;if(L)return!1;var M=El(C,F);if(!M)return!0;if(M?P=C:(P=C==="v"?"h":"v",M=El(C,F)),!M)return!1;if(!r.current&&"changedTouches"in g&&(_||S)&&(r.current=P),!P)return!0;var B=r.current||P;return Nx(B,f,g,B==="h"?_:S)},[]),d=o.useCallback(function(g){var f=g;if(!(!lr.length||lr[lr.length-1]!==i)){var b="deltaY"in f?Rl(f):_a(f),v=n.current.filter(function(P){return P.name===f.type&&(P.target===f.target||f.target===P.shadowParent)&&Sx(P.delta,b)})[0];if(v&&v.should){f.cancelable&&f.preventDefault();return}if(!v){var _=(c.current.shards||[]).map(Pl).filter(Boolean).filter(function(P){return P.contains(f.target)}),S=_.length>0?l(f,_[0]):!c.current.noIsolation;S&&f.cancelable&&f.preventDefault()}}},[]),u=o.useCallback(function(g,f,b,v){var _={name:g,delta:f,target:b,should:v,shadowParent:Rx(b)};n.current.push(_),setTimeout(function(){n.current=n.current.filter(function(S){return S!==_})},1)},[]),h=o.useCallback(function(g){s.current=_a(g),r.current=void 0},[]),m=o.useCallback(function(g){u(g.type,Rl(g),g.target,l(g,t.lockRef.current))},[]),p=o.useCallback(function(g){u(g.type,_a(g),g.target,l(g,t.lockRef.current))},[]);o.useEffect(function(){return lr.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",d,or),document.addEventListener("touchmove",d,or),document.addEventListener("touchstart",h,or),function(){lr=lr.filter(function(g){return g!==i}),document.removeEventListener("wheel",d,or),document.removeEventListener("touchmove",d,or),document.removeEventListener("touchstart",h,or)}},[]);var x=t.removeScrollBar,j=t.inert;return o.createElement(o.Fragment,null,j?o.createElement(i,{styles:Cx(a)}):null,x?o.createElement(gx,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Rx(t){for(var n=null;t!==null;)t instanceof ShadowRoot&&(n=t.host,t=t.host),t=t.parentNode;return n}const Px=rx(Bc,Ex);var si=o.forwardRef(function(t,n){return o.createElement(ni,hs({},t,{ref:n,sideCar:Px}))});si.classNames=ni.classNames;var Dx=function(t){if(typeof document>"u")return null;var n=Array.isArray(t)?t[0]:t;return n.ownerDocument.body},cr=new WeakMap,Na=new WeakMap,Sa={},zi=0,Gc=function(t){return t&&(t.host||Gc(t.parentNode))},Mx=function(t,n){return n.map(function(s){if(t.contains(s))return s;var r=Gc(s);return r&&t.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},Ox=function(t,n,s,r){var a=Mx(n,Array.isArray(t)?t:[t]);Sa[s]||(Sa[s]=new WeakMap);var i=Sa[s],c=[],l=new Set,d=new Set(a),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};a.forEach(u);var h=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))h(p);else try{var x=p.getAttribute(r),j=x!==null&&x!=="false",g=(cr.get(p)||0)+1,f=(i.get(p)||0)+1;cr.set(p,g),i.set(p,f),c.push(p),g===1&&j&&Na.set(p,!0),f===1&&p.setAttribute(s,"true"),j||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(n),l.clear(),zi++,function(){c.forEach(function(m){var p=cr.get(m)-1,x=i.get(m)-1;cr.set(m,p),i.set(m,x),p||(Na.has(m)||m.removeAttribute(r),Na.delete(m)),x||m.removeAttribute(s)}),zi--,zi||(cr=new WeakMap,cr=new WeakMap,Na=new WeakMap,Sa={})}},Do=function(t,n,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),a=Dx(t);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),Ox(r,a,s,"aria-hidden")):function(){return null}};function Tx(t){const n=Ax(t),s=o.forwardRef((r,a)=>{const{children:i,...c}=r,l=o.Children.toArray(i),d=l.find(Lx);if(d){const u=d.props.children,h=l.map(m=>m===d?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:m);return e.jsx(n,{...c,ref:a,children:o.isValidElement(u)?o.cloneElement(u,void 0,h):null})}return e.jsx(n,{...c,ref:a,children:i})});return s.displayName=`${t}.Slot`,s}function Ax(t){const n=o.forwardRef((s,r)=>{const{children:a,...i}=s;if(o.isValidElement(a)){const c=Fx(a),l=zx(i,a.props);return a.type!==o.Fragment&&(l.ref=r?aa(r,c):c),o.cloneElement(a,l)}return o.Children.count(a)>1?o.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var Ix=Symbol("radix.slottable");function Lx(t){return o.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ix}function zx(t,n){const s={...n};for(const r in n){const a=t[r],i=n[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...l)=>{const d=i(...l);return a(...l),d}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...t,...s}}function Fx(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var ri="Dialog",[Xc,Jc]=nr(ri),[$x,ls]=Xc(ri),Zc=t=>{const{__scopeDialog:n,children:s,open:r,defaultOpen:a,onOpenChange:i,modal:c=!0}=t,l=o.useRef(null),d=o.useRef(null),[u,h]=Ia({prop:r,defaultProp:a??!1,onChange:i,caller:ri});return e.jsx($x,{scope:n,triggerRef:l,contentRef:d,contentId:zs(),titleId:zs(),descriptionId:zs(),open:u,onOpenChange:h,onOpenToggle:o.useCallback(()=>h(m=>!m),[h]),modal:c,children:s})};Zc.displayName=ri;var Qc="DialogTrigger",ed=o.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=ls(Qc,s),i=gt(n,a.triggerRef);return e.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":To(a.open),...r,ref:i,onClick:Ee(t.onClick,a.onOpenToggle)})});ed.displayName=Qc;var Mo="DialogPortal",[Vx,td]=Xc(Mo,{forceMount:void 0}),nd=t=>{const{__scopeDialog:n,forceMount:s,children:r,container:a}=t,i=ls(Mo,n);return e.jsx(Vx,{scope:n,forceMount:s,children:o.Children.map(r,c=>e.jsx(is,{present:s||i.open,children:e.jsx(ti,{asChild:!0,container:a,children:c})}))})};nd.displayName=Mo;var Fa="DialogOverlay",sd=o.forwardRef((t,n)=>{const s=td(Fa,t.__scopeDialog),{forceMount:r=s.forceMount,...a}=t,i=ls(Fa,t.__scopeDialog);return i.modal?e.jsx(is,{present:r||i.open,children:e.jsx(Yx,{...a,ref:n})}):null});sd.displayName=Fa;var Wx=Tx("DialogOverlay.RemoveScroll"),Yx=o.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=ls(Fa,s);return e.jsx(si,{as:Wx,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(lt.div,{"data-state":To(a.open),...r,ref:n,style:{pointerEvents:"auto",...r.style}})})}),Zs="DialogContent",rd=o.forwardRef((t,n)=>{const s=td(Zs,t.__scopeDialog),{forceMount:r=s.forceMount,...a}=t,i=ls(Zs,t.__scopeDialog);return e.jsx(is,{present:r||i.open,children:i.modal?e.jsx(Bx,{...a,ref:n}):e.jsx(Hx,{...a,ref:n})})});rd.displayName=Zs;var Bx=o.forwardRef((t,n)=>{const s=ls(Zs,t.__scopeDialog),r=o.useRef(null),a=gt(n,s.contentRef,r);return o.useEffect(()=>{const i=r.current;if(i)return Do(i)},[]),e.jsx(ad,{...t,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,i=>{i.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,i=>{const c=i.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0;(c.button===2||l)&&i.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,i=>i.preventDefault())})}),Hx=o.forwardRef((t,n)=>{const s=ls(Zs,t.__scopeDialog),r=o.useRef(!1),a=o.useRef(!1);return e.jsx(ad,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||s.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;s.triggerRef.current?.contains(c)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),ad=o.forwardRef((t,n)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...c}=t,l=ls(Zs,s),d=o.useRef(null),u=gt(n,d);return Po(),e.jsxs(e.Fragment,{children:[e.jsx(ei,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Qa,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":To(l.open),...c,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(qx,{titleId:l.titleId}),e.jsx(Gx,{contentRef:d,descriptionId:l.descriptionId})]})]})}),Oo="DialogTitle",id=o.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=ls(Oo,s);return e.jsx(lt.h2,{id:a.titleId,...r,ref:n})});id.displayName=Oo;var od="DialogDescription",ld=o.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=ls(od,s);return e.jsx(lt.p,{id:a.descriptionId,...r,ref:n})});ld.displayName=od;var cd="DialogClose",dd=o.forwardRef((t,n)=>{const{__scopeDialog:s,...r}=t,a=ls(cd,s);return e.jsx(lt.button,{type:"button",...r,ref:n,onClick:Ee(t.onClick,()=>a.onOpenChange(!1))})});dd.displayName=cd;function To(t){return t?"open":"closed"}var ud="DialogTitleWarning",[Ux,md]=Fh(ud,{contentName:Zs,titleName:Oo,docsSlug:"dialog"}),qx=({titleId:t})=>{const n=md(ud),s=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return o.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},Kx="DialogDescriptionWarning",Gx=({contentRef:t,descriptionId:n})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${md(Kx).contentName}}.`;return o.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");n&&a&&(document.getElementById(n)||console.warn(r))},[r,t,n]),null},Ao=Zc,hd=ed,Io=nd,ca=sd,da=rd,ua=id,ma=ld,Lo=dd;const Xx=Ao,Jx=hd,Zx=Io,fd=o.forwardRef(({className:t,...n},s)=>e.jsx(ca,{className:Y("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n,ref:s}));fd.displayName=ca.displayName;const Qx=pc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),pd=o.forwardRef(({side:t="right",className:n,children:s,...r},a)=>e.jsxs(Zx,{children:[e.jsx(fd,{}),e.jsx(da,{ref:a,className:Y(Qx({side:t}),n),...r,children:s})]}));pd.displayName=da.displayName;const eg=o.forwardRef(({className:t,...n},s)=>e.jsx(ua,{ref:s,className:Y("text-lg font-semibold text-foreground",t),...n}));eg.displayName=ua.displayName;const tg=o.forwardRef(({className:t,...n},s)=>e.jsx(ma,{ref:s,className:Y("text-sm text-muted-foreground",t),...n}));tg.displayName=ma.displayName;function so(t,[n,s]){return Math.min(s,Math.max(n,t))}function ng(t,n){return o.useReducer((s,r)=>n[s][r]??s,t)}var zo="ScrollArea",[xd]=nr(zo),[sg,Gn]=xd(zo),gd=o.forwardRef((t,n)=>{const{__scopeScrollArea:s,type:r="hover",dir:a,scrollHideDelay:i=600,...c}=t,[l,d]=o.useState(null),[u,h]=o.useState(null),[m,p]=o.useState(null),[x,j]=o.useState(null),[g,f]=o.useState(null),[b,v]=o.useState(0),[_,S]=o.useState(0),[P,F]=o.useState(!1),[C,T]=o.useState(!1),z=gt(n,M=>d(M)),L=vo(a);return e.jsx(sg,{scope:s,type:r,dir:L,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:h,content:m,onContentChange:p,scrollbarX:x,onScrollbarXChange:j,scrollbarXEnabled:P,onScrollbarXEnabledChange:F,scrollbarY:g,onScrollbarYChange:f,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:v,onCornerHeightChange:S,children:e.jsx(lt.div,{dir:L,...c,ref:z,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});gd.displayName=zo;var vd="ScrollAreaViewport",yd=o.forwardRef((t,n)=>{const{__scopeScrollArea:s,children:r,nonce:a,...i}=t,c=Gn(vd,s),l=o.useRef(null),d=gt(n,l,c.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(lt.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});yd.displayName=vd;var gs="ScrollAreaScrollbar",Fo=o.forwardRef((t,n)=>{const{forceMount:s,...r}=t,a=Gn(gs,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:c}=a,l=t.orientation==="horizontal";return o.useEffect(()=>(l?i(!0):c(!0),()=>{l?i(!1):c(!1)}),[l,i,c]),a.type==="hover"?e.jsx(rg,{...r,ref:n,forceMount:s}):a.type==="scroll"?e.jsx(ag,{...r,ref:n,forceMount:s}):a.type==="auto"?e.jsx(jd,{...r,ref:n,forceMount:s}):a.type==="always"?e.jsx($o,{...r,ref:n}):null});Fo.displayName=gs;var rg=o.forwardRef((t,n)=>{const{forceMount:s,...r}=t,a=Gn(gs,t.__scopeScrollArea),[i,c]=o.useState(!1);return o.useEffect(()=>{const l=a.scrollArea;let d=0;if(l){const u=()=>{window.clearTimeout(d),c(!0)},h=()=>{d=window.setTimeout(()=>c(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(is,{present:s||i,children:e.jsx(jd,{"data-state":i?"visible":"hidden",...r,ref:n})})}),ag=o.forwardRef((t,n)=>{const{forceMount:s,...r}=t,a=Gn(gs,t.__scopeScrollArea),i=t.orientation==="horizontal",c=ii(()=>d("SCROLL_END"),100),[l,d]=ng("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return o.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,d]),o.useEffect(()=>{const u=a.viewport,h=i?"scrollLeft":"scrollTop";if(u){let m=u[h];const p=()=>{const x=u[h];m!==x&&(d("SCROLL"),c()),m=x};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[a.viewport,i,d,c]),e.jsx(is,{present:s||l!=="hidden",children:e.jsx($o,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:n,onPointerEnter:Ee(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ee(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),jd=o.forwardRef((t,n)=>{const s=Gn(gs,t.__scopeScrollArea),{forceMount:r,...a}=t,[i,c]=o.useState(!1),l=t.orientation==="horizontal",d=ii(()=>{if(s.viewport){const u=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;c(l?u:h)}},10);return wr(s.viewport,d),wr(s.content,d),e.jsx(is,{present:r||i,children:e.jsx($o,{"data-state":i?"visible":"hidden",...a,ref:n})})}),$o=o.forwardRef((t,n)=>{const{orientation:s="vertical",...r}=t,a=Gn(gs,t.__scopeScrollArea),i=o.useRef(null),c=o.useRef(0),[l,d]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Sd(l.viewport,l.content),h={...r,sizes:l,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:p=>c.current=p};function m(p,x){return ug(p,c.current,l,x)}return s==="horizontal"?e.jsx(ig,{...h,ref:n,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,x=Dl(p,l,a.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=m(p,a.dir))}}):s==="vertical"?e.jsx(og,{...h,ref:n,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,x=Dl(p,l);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=m(p))}}):null}),ig=o.forwardRef((t,n)=>{const{sizes:s,onSizesChange:r,...a}=t,i=Gn(gs,t.__scopeScrollArea),[c,l]=o.useState(),d=o.useRef(null),u=gt(n,d,i.onScrollbarXChange);return o.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),e.jsx(wd,{"data-orientation":"horizontal",...a,ref:u,sizes:s,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ai(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(i.viewport){const p=i.viewport.scrollLeft+h.deltaX;t.onWheelScroll(p),kd(p,m)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&c&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Va(c.paddingLeft),paddingEnd:Va(c.paddingRight)}})}})}),og=o.forwardRef((t,n)=>{const{sizes:s,onSizesChange:r,...a}=t,i=Gn(gs,t.__scopeScrollArea),[c,l]=o.useState(),d=o.useRef(null),u=gt(n,d,i.onScrollbarYChange);return o.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),e.jsx(wd,{"data-orientation":"vertical",...a,ref:u,sizes:s,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ai(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(i.viewport){const p=i.viewport.scrollTop+h.deltaY;t.onWheelScroll(p),kd(p,m)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&c&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Va(c.paddingTop),paddingEnd:Va(c.paddingBottom)}})}})}),[lg,bd]=xd(gs),wd=o.forwardRef((t,n)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:c,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:h,onResize:m,...p}=t,x=Gn(gs,s),[j,g]=o.useState(null),f=gt(n,z=>g(z)),b=o.useRef(null),v=o.useRef(""),_=x.viewport,S=r.content-r.viewport,P=en(h),F=en(d),C=ii(m,10);function T(z){if(b.current){const L=z.clientX-b.current.left,M=z.clientY-b.current.top;u({x:L,y:M})}}return o.useEffect(()=>{const z=L=>{const M=L.target;j?.contains(M)&&P(L,S)};return document.addEventListener("wheel",z,{passive:!1}),()=>document.removeEventListener("wheel",z,{passive:!1})},[_,j,S,P]),o.useEffect(F,[r,F]),wr(j,C),wr(x.content,C),e.jsx(lg,{scope:s,scrollbar:j,hasThumb:a,onThumbChange:en(i),onThumbPointerUp:en(c),onThumbPositionChange:F,onThumbPointerDown:en(l),children:e.jsx(lt.div,{...p,ref:f,style:{position:"absolute",...p.style},onPointerDown:Ee(t.onPointerDown,z=>{z.button===0&&(z.target.setPointerCapture(z.pointerId),b.current=j.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),T(z))}),onPointerMove:Ee(t.onPointerMove,T),onPointerUp:Ee(t.onPointerUp,z=>{const L=z.target;L.hasPointerCapture(z.pointerId)&&L.releasePointerCapture(z.pointerId),document.body.style.webkitUserSelect=v.current,x.viewport&&(x.viewport.style.scrollBehavior=""),b.current=null})})})}),$a="ScrollAreaThumb",_d=o.forwardRef((t,n)=>{const{forceMount:s,...r}=t,a=bd($a,t.__scopeScrollArea);return e.jsx(is,{present:s||a.hasThumb,children:e.jsx(cg,{ref:n,...r})})}),cg=o.forwardRef((t,n)=>{const{__scopeScrollArea:s,style:r,...a}=t,i=Gn($a,s),c=bd($a,s),{onThumbPositionChange:l}=c,d=gt(n,m=>c.onThumbChange(m)),u=o.useRef(void 0),h=ii(()=>{u.current&&(u.current(),u.current=void 0)},100);return o.useEffect(()=>{const m=i.viewport;if(m){const p=()=>{if(h(),!u.current){const x=mg(m,l);u.current=x,l()}};return l(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[i.viewport,h,l]),e.jsx(lt.div,{"data-state":c.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ee(t.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),j=m.clientX-x.left,g=m.clientY-x.top;c.onThumbPointerDown({x:j,y:g})}),onPointerUp:Ee(t.onPointerUp,c.onThumbPointerUp)})});_d.displayName=$a;var Vo="ScrollAreaCorner",Nd=o.forwardRef((t,n)=>{const s=Gn(Vo,t.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?e.jsx(dg,{...t,ref:n}):null});Nd.displayName=Vo;var dg=o.forwardRef((t,n)=>{const{__scopeScrollArea:s,...r}=t,a=Gn(Vo,s),[i,c]=o.useState(0),[l,d]=o.useState(0),u=!!(i&&l);return wr(a.scrollbarX,()=>{const h=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(h),d(h)}),wr(a.scrollbarY,()=>{const h=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(h),c(h)}),u?e.jsx(lt.div,{...r,ref:n,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Va(t){return t?parseInt(t,10):0}function Sd(t,n){const s=t/n;return isNaN(s)?0:s}function ai(t){const n=Sd(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-s)*n;return Math.max(r,18)}function ug(t,n,s,r="ltr"){const a=ai(s),i=a/2,c=n||i,l=a-c,d=s.scrollbar.paddingStart+c,u=s.scrollbar.size-s.scrollbar.paddingEnd-l,h=s.content-s.viewport,m=r==="ltr"?[0,h]:[h*-1,0];return Cd([d,u],m)(t)}function Dl(t,n,s="ltr"){const r=ai(n),a=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,i=n.scrollbar.size-a,c=n.content-n.viewport,l=i-r,d=s==="ltr"?[0,c]:[c*-1,0],u=so(t,d);return Cd([0,c],[0,l])(u)}function Cd(t,n){return s=>{if(t[0]===t[1]||n[0]===n[1])return n[0];const r=(n[1]-n[0])/(t[1]-t[0]);return n[0]+r*(s-t[0])}}function kd(t,n){return t>0&&t<n}var mg=(t,n=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},r=0;return(function a(){const i={left:t.scrollLeft,top:t.scrollTop},c=s.left!==i.left,l=s.top!==i.top;(c||l)&&n(),s=i,r=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(r)};function ii(t,n){const s=en(t),r=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(r.current),[]),o.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,n)},[s,n])}function wr(t,n){const s=en(n);un(()=>{let r=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return a.observe(t),()=>{window.cancelAnimationFrame(r),a.unobserve(t)}}},[t,s])}var Ed=gd,hg=yd,fg=Nd;const Rd=o.forwardRef(({className:t,children:n,...s},r)=>e.jsxs(Ed,{ref:r,className:Y("relative overflow-hidden",t),...s,children:[e.jsx(hg,{className:"h-full w-full rounded-[inherit]",children:n}),e.jsx(Pd,{}),e.jsx(fg,{})]}));Rd.displayName=Ed.displayName;const Pd=o.forwardRef(({className:t,orientation:n="vertical",...s},r)=>e.jsx(Fo,{ref:r,orientation:n,className:Y("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:e.jsx(_d,{className:"relative flex-1 rounded-full bg-border"})}));Pd.displayName=Fo.displayName;const pg=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Dd=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Md=je("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);const xg=je("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const gg=je("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const ea=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Od=je("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const vg=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Td=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Wo=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const _r=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const yg=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const ta=je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const jg=je("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const Ad=je("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const bg=je("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const Id=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Ld=je("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const wg=je("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const _g=je("FileStack",[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]]);const Vs=je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Ng=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Sg=je("FolderInput",[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]]);const qn=je("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const Cg=je("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);const kg=je("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const Yo=je("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);const Eg=je("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const zd=je("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const Rg=je("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const Pg=je("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Dg=je("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const Mg=je("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);const Fs=je("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const $s=je("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const Og=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Tg=je("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);const Fd=je("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);const $d=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Vd=je("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const Bo=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const Ag=je("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const Ig=je("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const Wd=je("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const Lg=je("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const In=je("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const En=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Yd=je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const zg=je("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);const Fg=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Bd=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const $g=je("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const Vg=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Wg=je("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const Hd=je("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Yg=je("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Bg=je("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const Hg=je("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const kn=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ug=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const qg=je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Kg=je("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const Gg=je("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);const Er=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const oi=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Xg=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Jg(){return typeof document>"u"?"rtl":document.documentElement.getAttribute("dir")==="ltr"?"ltr":"rtl"}const Zg={dashboard:Pg,projects:qn,contracts:Vs,invoices:Mg,tickets:Yo,tasks:Hd,appointments:ea,leads:Er,licenses:zd,customers:oi,staff:Gg,consultations:Vd,reports:Od,logs:_g,settings:Bd,profile:br,services:Wd,campaigns:Fd};function Qg(t){const n=t.url??"";try{const r=(n.startsWith("http")?new URL(n).pathname:n).replace(/^\/dashboard\/?/,"").replace(/^\//,"").trim()||"";return r!==""&&r!=="dashboard"?`/${r}`:t.id?t.id==="dashboard"?"/":`/${t.id}`:"/"}catch{return t.id?t.id==="dashboard"?"/":`/${t.id}`:"/"}}function ev({menuItems:t,logoUrl:n,siteName:s,className:r,mobileOpen:a,onMobileOpenChange:i,isRtl:c}){const l=Kn(),d=Ps(),u=l.pathname.replace(/^\/dashboard\/?/,"").replace(/^\//,"")||"dashboard",h=typeof c=="boolean"?c?"rtl":"ltr":Jg(),m=h==="rtl"?"text-right":"text-left",p=e.jsx("nav",{dir:h,className:Y("flex flex-col gap-1 px-2 py-4",m),style:{textAlign:h==="rtl"?"right":"left"},children:t.map((x,j)=>{if(x.type==="category")return e.jsx("div",{dir:h,className:Y("px-2 py-2 text-xs font-semibold text-muted-foreground",m),style:{textAlign:h==="rtl"?"right":"left"},children:x.title},`cat-${j}`);const g=Qg(x),f=x.id?u===x.id||u===""&&x.id==="dashboard":!1,b=()=>{i?.(!1),d(g)};return e.jsxs("button",{type:"button",onClick:b,dir:h,className:Y("w-full cursor-pointer border-0 bg-transparent flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground","justify-start",m,f?"bg-accent text-accent-foreground":"text-muted-foreground"),style:{textAlign:h==="rtl"?"right":"left"},children:[(()=>{const v=x.id?Zg[x.id]:null;return v?e.jsx(v,{className:"h-5 w-5 shrink-0"}):null})(),e.jsx("span",{children:x.title})]},x.id??j)})});return e.jsxs(e.Fragment,{children:[e.jsxs("aside",{dir:h,className:Y("hidden w-64 flex-col bg-card md:flex",h==="rtl"?"border-l text-right":"border-r text-left",r),style:h==="rtl"?{textAlign:"right"}:{textAlign:"left"},children:[e.jsx("div",{className:"flex h-14 items-center justify-start border-b px-4",children:e.jsx(Ht,{to:"/",className:Y("flex items-center gap-2",h==="rtl"&&"flex-row-reverse"),children:n?e.jsx("img",{src:n,alt:s,className:"h-8 max-w-[140px] object-contain"}):e.jsx("span",{className:"font-semibold",children:s})})}),e.jsx(Rd,{className:"flex-1",children:p})]}),e.jsxs(Xx,{open:a,onOpenChange:i,children:[!i&&e.jsx(Jx,{asChild:!0,children:e.jsx(I,{variant:"ghost",size:"icon",className:"md:hidden",children:e.jsx($d,{className:"h-5 w-5"})})}),e.jsxs(pd,{side:h==="rtl"?"right":"left",className:"w-64 p-0",dir:h,children:[e.jsx("div",{className:Y("flex h-14 items-center border-b px-4",h==="rtl"&&"justify-end"),children:e.jsx(Ht,{to:"/",className:Y("flex items-center gap-2",h==="rtl"&&"flex-row-reverse"),onClick:()=>i?.(!1),children:n?e.jsx("img",{src:n,alt:s,className:"h-8 max-w-[140px] object-contain"}):e.jsx("span",{className:"font-semibold",children:s})})}),p]})]})]})}function tv(t,n=[]){let s=[];function r(i,c){const l=o.createContext(c);l.displayName=i+"Context";const d=s.length;s=[...s,c];const u=m=>{const{scope:p,children:x,...j}=m,g=p?.[t]?.[d]||l,f=o.useMemo(()=>j,Object.values(j));return e.jsx(g.Provider,{value:f,children:x})};u.displayName=i+"Provider";function h(m,p){const x=p?.[t]?.[d]||l,j=o.useContext(x);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,h]}const a=()=>{const i=s.map(c=>o.createContext(c));return function(l){const d=l?.[t]||i;return o.useMemo(()=>({[`__scope${t}`]:{...l,[t]:d}}),[l,d])}};return a.scopeName=t,[r,nv(a,...n)]}function nv(...t){const n=t[0];if(t.length===1)return n;const s=()=>{const r=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const c=r.reduce((l,{useScope:d,scopeName:u})=>{const m=d(i)[`__scope${u}`];return{...l,...m}},{});return o.useMemo(()=>({[`__scope${n.scopeName}`]:c}),[c])}};return s.scopeName=n.scopeName,s}var sv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ho=sv.reduce((t,n)=>{const s=$h(`Primitive.${n}`),r=o.forwardRef((a,i)=>{const{asChild:c,...l}=a,d=c?s:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...l,ref:i})});return r.displayName=`Primitive.${n}`,{...t,[n]:r}},{}),Fi={exports:{}},$i={};var Ml;function rv(){if(Ml)return $i;Ml=1;var t=yo();function n(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var s=typeof Object.is=="function"?Object.is:n,r=t.useState,a=t.useEffect,i=t.useLayoutEffect,c=t.useDebugValue;function l(m,p){var x=p(),j=r({inst:{value:x,getSnapshot:p}}),g=j[0].inst,f=j[1];return i(function(){g.value=x,g.getSnapshot=p,d(g)&&f({inst:g})},[m,x,p]),a(function(){return d(g)&&f({inst:g}),m(function(){d(g)&&f({inst:g})})},[m]),c(x),x}function d(m){var p=m.getSnapshot;m=m.value;try{var x=p();return!s(m,x)}catch{return!0}}function u(m,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return $i.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,$i}var Ol;function av(){return Ol||(Ol=1,Fi.exports=rv()),Fi.exports}var iv=av();function ov(){return iv.useSyncExternalStore(lv,()=>!0,()=>!1)}function lv(){return()=>{}}var Uo="Avatar",[cv]=tv(Uo),[dv,Ud]=cv(Uo),qd=o.forwardRef((t,n)=>{const{__scopeAvatar:s,...r}=t,[a,i]=o.useState("idle");return e.jsx(dv,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(Ho.span,{...r,ref:n})})});qd.displayName=Uo;var Kd="AvatarImage",Gd=o.forwardRef((t,n)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:a=()=>{},...i}=t,c=Ud(Kd,s),l=uv(r,i),d=en(u=>{a(u),c.onImageLoadingStatusChange(u)});return un(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?e.jsx(Ho.img,{...i,ref:n,src:r}):null});Gd.displayName=Kd;var Xd="AvatarFallback",Jd=o.forwardRef((t,n)=>{const{__scopeAvatar:s,delayMs:r,...a}=t,i=Ud(Xd,s),[c,l]=o.useState(r===void 0);return o.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(d)}},[r]),c&&i.imageLoadingStatus!=="loaded"?e.jsx(Ho.span,{...a,ref:n}):null});Jd.displayName=Xd;function Tl(t,n){return t?n?(t.src!==n&&(t.src=n),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function uv(t,{referrerPolicy:n,crossOrigin:s}){const r=ov(),a=o.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[c,l]=o.useState(()=>Tl(i,t));return un(()=>{l(Tl(i,t))},[i,t]),un(()=>{const d=m=>()=>{l(m)};if(!i)return;const u=d("loaded"),h=d("error");return i.addEventListener("load",u),i.addEventListener("error",h),n&&(i.referrerPolicy=n),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,s,n]),c}var Zd=qd,Qd=Gd,eu=Jd;const ha=o.forwardRef(({className:t,...n},s)=>e.jsx(Zd,{ref:s,className:Y("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...n}));ha.displayName=Zd.displayName;const fa=o.forwardRef(({className:t,...n},s)=>e.jsx(Qd,{ref:s,className:Y("aspect-square h-full w-full",t),...n}));fa.displayName=Qd.displayName;const pa=o.forwardRef(({className:t,...n},s)=>e.jsx(eu,{ref:s,className:Y("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...n}));pa.displayName=eu.displayName;const mv=["top","right","bottom","left"],Ws=Math.min,On=Math.max,Wa=Math.round,Ca=Math.floor,ps=t=>({x:t,y:t}),hv={left:"right",right:"left",bottom:"top",top:"bottom"},fv={start:"end",end:"start"};function ro(t,n,s){return On(t,Ws(n,s))}function Es(t,n){return typeof t=="function"?t(n):t}function Rs(t){return t.split("-")[0]}function Rr(t){return t.split("-")[1]}function qo(t){return t==="x"?"y":"x"}function Ko(t){return t==="y"?"height":"width"}const pv=new Set(["top","bottom"]);function fs(t){return pv.has(Rs(t))?"y":"x"}function Go(t){return qo(fs(t))}function xv(t,n,s){s===void 0&&(s=!1);const r=Rr(t),a=Go(t),i=Ko(a);let c=a==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[i]>n.floating[i]&&(c=Ya(c)),[c,Ya(c)]}function gv(t){const n=Ya(t);return[ao(t),n,ao(n)]}function ao(t){return t.replace(/start|end/g,n=>fv[n])}const Al=["left","right"],Il=["right","left"],vv=["top","bottom"],yv=["bottom","top"];function jv(t,n,s){switch(t){case"top":case"bottom":return s?n?Il:Al:n?Al:Il;case"left":case"right":return n?vv:yv;default:return[]}}function bv(t,n,s,r){const a=Rr(t);let i=jv(Rs(t),s==="start",r);return a&&(i=i.map(c=>c+"-"+a),n&&(i=i.concat(i.map(ao)))),i}function Ya(t){return t.replace(/left|right|bottom|top/g,n=>hv[n])}function wv(t){return{top:0,right:0,bottom:0,left:0,...t}}function tu(t){return typeof t!="number"?wv(t):{top:t,right:t,bottom:t,left:t}}function Ba(t){const{x:n,y:s,width:r,height:a}=t;return{width:r,height:a,top:s,left:n,right:n+r,bottom:s+a,x:n,y:s}}function Ll(t,n,s){let{reference:r,floating:a}=t;const i=fs(n),c=Go(n),l=Ko(c),d=Rs(n),u=i==="y",h=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,p=r[l]/2-a[l]/2;let x;switch(d){case"top":x={x:h,y:r.y-a.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:m};break;case"left":x={x:r.x-a.width,y:m};break;default:x={x:r.x,y:r.y}}switch(Rr(n)){case"start":x[c]-=p*(s&&u?-1:1);break;case"end":x[c]+=p*(s&&u?-1:1);break}return x}async function _v(t,n){var s;n===void 0&&(n={});const{x:r,y:a,platform:i,rects:c,elements:l,strategy:d}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:p=!1,padding:x=0}=Es(n,t),j=tu(x),f=l[p?m==="floating"?"reference":"floating":m],b=Ba(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(f)))==null||s?f:f.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:d})),v=m==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},P=Ba(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:_,strategy:d}):v);return{top:(b.top-P.top+j.top)/S.y,bottom:(P.bottom-b.bottom+j.bottom)/S.y,left:(b.left-P.left+j.left)/S.x,right:(P.right-b.right+j.right)/S.x}}const Nv=async(t,n,s)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:c}=s,l=i.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(n));let u=await c.getElementRects({reference:t,floating:n,strategy:a}),{x:h,y:m}=Ll(u,r,d),p=r,x={},j=0;for(let f=0;f<l.length;f++){var g;const{name:b,fn:v}=l[f],{x:_,y:S,data:P,reset:F}=await v({x:h,y:m,initialPlacement:r,placement:p,strategy:a,middlewareData:x,rects:u,platform:{...c,detectOverflow:(g=c.detectOverflow)!=null?g:_v},elements:{reference:t,floating:n}});h=_??h,m=S??m,x={...x,[b]:{...x[b],...P}},F&&j<=50&&(j++,typeof F=="object"&&(F.placement&&(p=F.placement),F.rects&&(u=F.rects===!0?await c.getElementRects({reference:t,floating:n,strategy:a}):F.rects),{x:h,y:m}=Ll(u,p,d)),f=-1)}return{x:h,y:m,placement:p,strategy:a,middlewareData:x}},Sv=t=>({name:"arrow",options:t,async fn(n){const{x:s,y:r,placement:a,rects:i,platform:c,elements:l,middlewareData:d}=n,{element:u,padding:h=0}=Es(t,n)||{};if(u==null)return{};const m=tu(h),p={x:s,y:r},x=Go(a),j=Ko(x),g=await c.getDimensions(u),f=x==="y",b=f?"top":"left",v=f?"bottom":"right",_=f?"clientHeight":"clientWidth",S=i.reference[j]+i.reference[x]-p[x]-i.floating[j],P=p[x]-i.reference[x],F=await(c.getOffsetParent==null?void 0:c.getOffsetParent(u));let C=F?F[_]:0;(!C||!await(c.isElement==null?void 0:c.isElement(F)))&&(C=l.floating[_]||i.floating[j]);const T=S/2-P/2,z=C/2-g[j]/2-1,L=Ws(m[b],z),M=Ws(m[v],z),B=L,ie=C-g[j]-M,re=C/2-g[j]/2+T,E=ro(B,re,ie),U=!d.arrow&&Rr(a)!=null&&re!==E&&i.reference[j]/2-(re<B?L:M)-g[j]/2<0,be=U?re<B?re-B:re-ie:0;return{[x]:p[x]+be,data:{[x]:E,centerOffset:re-E-be,...U&&{alignmentOffset:be}},reset:U}}}),Cv=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var s,r;const{placement:a,middlewareData:i,rects:c,initialPlacement:l,platform:d,elements:u}=n,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:g=!0,...f}=Es(t,n);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const b=Rs(a),v=fs(l),_=Rs(l)===l,S=await(d.isRTL==null?void 0:d.isRTL(u.floating)),P=p||(_||!g?[Ya(l)]:gv(l)),F=j!=="none";!p&&F&&P.push(...bv(l,g,j,S));const C=[l,...P],T=await d.detectOverflow(n,f),z=[];let L=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&z.push(T[b]),m){const re=xv(a,c,S);z.push(T[re[0]],T[re[1]])}if(L=[...L,{placement:a,overflows:z}],!z.every(re=>re<=0)){var M,B;const re=(((M=i.flip)==null?void 0:M.index)||0)+1,E=C[re];if(E&&(!(m==="alignment"?v!==fs(E):!1)||L.every(K=>fs(K.placement)===v?K.overflows[0]>0:!0)))return{data:{index:re,overflows:L},reset:{placement:E}};let U=(B=L.filter(be=>be.overflows[0]<=0).sort((be,K)=>be.overflows[1]-K.overflows[1])[0])==null?void 0:B.placement;if(!U)switch(x){case"bestFit":{var ie;const be=(ie=L.filter(K=>{if(F){const G=fs(K.placement);return G===v||G==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(G=>G>0).reduce((G,we)=>G+we,0)]).sort((K,G)=>K[1]-G[1])[0])==null?void 0:ie[0];be&&(U=be);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function zl(t,n){return{top:t.top-n.height,right:t.right-n.width,bottom:t.bottom-n.height,left:t.left-n.width}}function Fl(t){return mv.some(n=>t[n]>=0)}const kv=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(n){const{rects:s,platform:r}=n,{strategy:a="referenceHidden",...i}=Es(t,n);switch(a){case"referenceHidden":{const c=await r.detectOverflow(n,{...i,elementContext:"reference"}),l=zl(c,s.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Fl(l)}}}case"escaped":{const c=await r.detectOverflow(n,{...i,altBoundary:!0}),l=zl(c,s.floating);return{data:{escapedOffsets:l,escaped:Fl(l)}}}default:return{}}}}},nu=new Set(["left","top"]);async function Ev(t,n){const{placement:s,platform:r,elements:a}=t,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=Rs(s),l=Rr(s),d=fs(s)==="y",u=nu.has(c)?-1:1,h=i&&d?-1:1,m=Es(n,t);let{mainAxis:p,crossAxis:x,alignmentAxis:j}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof j=="number"&&(x=l==="end"?j*-1:j),d?{x:x*h,y:p*u}:{x:p*u,y:x*h}}const Rv=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){var s,r;const{x:a,y:i,placement:c,middlewareData:l}=n,d=await Ev(n,t);return c===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:c}}}}},Pv=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:s,y:r,placement:a,platform:i}=n,{mainAxis:c=!0,crossAxis:l=!1,limiter:d={fn:b=>{let{x:v,y:_}=b;return{x:v,y:_}}},...u}=Es(t,n),h={x:s,y:r},m=await i.detectOverflow(n,u),p=fs(Rs(a)),x=qo(p);let j=h[x],g=h[p];if(c){const b=x==="y"?"top":"left",v=x==="y"?"bottom":"right",_=j+m[b],S=j-m[v];j=ro(_,j,S)}if(l){const b=p==="y"?"top":"left",v=p==="y"?"bottom":"right",_=g+m[b],S=g-m[v];g=ro(_,g,S)}const f=d.fn({...n,[x]:j,[p]:g});return{...f,data:{x:f.x-s,y:f.y-r,enabled:{[x]:c,[p]:l}}}}}},Dv=function(t){return t===void 0&&(t={}),{options:t,fn(n){const{x:s,y:r,placement:a,rects:i,middlewareData:c}=n,{offset:l=0,mainAxis:d=!0,crossAxis:u=!0}=Es(t,n),h={x:s,y:r},m=fs(a),p=qo(m);let x=h[p],j=h[m];const g=Es(l,n),f=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(d){const _=p==="y"?"height":"width",S=i.reference[p]-i.floating[_]+f.mainAxis,P=i.reference[p]+i.reference[_]-f.mainAxis;x<S?x=S:x>P&&(x=P)}if(u){var b,v;const _=p==="y"?"width":"height",S=nu.has(Rs(a)),P=i.reference[m]-i.floating[_]+(S&&((b=c.offset)==null?void 0:b[m])||0)+(S?0:f.crossAxis),F=i.reference[m]+i.reference[_]+(S?0:((v=c.offset)==null?void 0:v[m])||0)-(S?f.crossAxis:0);j<P?j=P:j>F&&(j=F)}return{[p]:x,[m]:j}}}},Mv=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(n){var s,r;const{placement:a,rects:i,platform:c,elements:l}=n,{apply:d=()=>{},...u}=Es(t,n),h=await c.detectOverflow(n,u),m=Rs(a),p=Rr(a),x=fs(a)==="y",{width:j,height:g}=i.floating;let f,b;m==="top"||m==="bottom"?(f=m,b=p===(await(c.isRTL==null?void 0:c.isRTL(l.floating))?"start":"end")?"left":"right"):(b=m,f=p==="end"?"top":"bottom");const v=g-h.top-h.bottom,_=j-h.left-h.right,S=Ws(g-h[f],v),P=Ws(j-h[b],_),F=!n.middlewareData.shift;let C=S,T=P;if((s=n.middlewareData.shift)!=null&&s.enabled.x&&(T=_),(r=n.middlewareData.shift)!=null&&r.enabled.y&&(C=v),F&&!p){const L=On(h.left,0),M=On(h.right,0),B=On(h.top,0),ie=On(h.bottom,0);x?T=j-2*(L!==0||M!==0?L+M:On(h.left,h.right)):C=g-2*(B!==0||ie!==0?B+ie:On(h.top,h.bottom))}await d({...n,availableWidth:T,availableHeight:C});const z=await c.getDimensions(l.floating);return j!==z.width||g!==z.height?{reset:{rects:!0}}:{}}}};function li(){return typeof window<"u"}function Pr(t){return su(t)?(t.nodeName||"").toLowerCase():"#document"}function Tn(t){var n;return(t==null||(n=t.ownerDocument)==null?void 0:n.defaultView)||window}function vs(t){var n;return(n=(su(t)?t.ownerDocument:t.document)||window.document)==null?void 0:n.documentElement}function su(t){return li()?t instanceof Node||t instanceof Tn(t).Node:!1}function rs(t){return li()?t instanceof Element||t instanceof Tn(t).Element:!1}function xs(t){return li()?t instanceof HTMLElement||t instanceof Tn(t).HTMLElement:!1}function $l(t){return!li()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tn(t).ShadowRoot}const Ov=new Set(["inline","contents"]);function xa(t){const{overflow:n,overflowX:s,overflowY:r,display:a}=as(t);return/auto|scroll|overlay|hidden|clip/.test(n+r+s)&&!Ov.has(a)}const Tv=new Set(["table","td","th"]);function Av(t){return Tv.has(Pr(t))}const Iv=[":popover-open",":modal"];function ci(t){return Iv.some(n=>{try{return t.matches(n)}catch{return!1}})}const Lv=["transform","translate","scale","rotate","perspective"],zv=["transform","translate","scale","rotate","perspective","filter"],Fv=["paint","layout","strict","content"];function Xo(t){const n=Jo(),s=rs(t)?as(t):t;return Lv.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!n&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!n&&(s.filter?s.filter!=="none":!1)||zv.some(r=>(s.willChange||"").includes(r))||Fv.some(r=>(s.contain||"").includes(r))}function $v(t){let n=Ys(t);for(;xs(n)&&!Nr(n);){if(Xo(n))return n;if(ci(n))return null;n=Ys(n)}return null}function Jo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Vv=new Set(["html","body","#document"]);function Nr(t){return Vv.has(Pr(t))}function as(t){return Tn(t).getComputedStyle(t)}function di(t){return rs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ys(t){if(Pr(t)==="html")return t;const n=t.assignedSlot||t.parentNode||$l(t)&&t.host||vs(t);return $l(n)?n.host:n}function ru(t){const n=Ys(t);return Nr(n)?t.ownerDocument?t.ownerDocument.body:t.body:xs(n)&&xa(n)?n:ru(n)}function na(t,n,s){var r;n===void 0&&(n=[]),s===void 0&&(s=!0);const a=ru(t),i=a===((r=t.ownerDocument)==null?void 0:r.body),c=Tn(a);if(i){const l=io(c);return n.concat(c,c.visualViewport||[],xa(a)?a:[],l&&s?na(l):[])}return n.concat(a,na(a,[],s))}function io(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function au(t){const n=as(t);let s=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const a=xs(t),i=a?t.offsetWidth:s,c=a?t.offsetHeight:r,l=Wa(s)!==i||Wa(r)!==c;return l&&(s=i,r=c),{width:s,height:r,$:l}}function Zo(t){return rs(t)?t:t.contextElement}function xr(t){const n=Zo(t);if(!xs(n))return ps(1);const s=n.getBoundingClientRect(),{width:r,height:a,$:i}=au(n);let c=(i?Wa(s.width):s.width)/r,l=(i?Wa(s.height):s.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!l||!Number.isFinite(l))&&(l=1),{x:c,y:l}}const Wv=ps(0);function iu(t){const n=Tn(t);return!Jo()||!n.visualViewport?Wv:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Yv(t,n,s){return n===void 0&&(n=!1),!s||n&&s!==Tn(t)?!1:n}function Qs(t,n,s,r){n===void 0&&(n=!1),s===void 0&&(s=!1);const a=t.getBoundingClientRect(),i=Zo(t);let c=ps(1);n&&(r?rs(r)&&(c=xr(r)):c=xr(t));const l=Yv(i,s,r)?iu(i):ps(0);let d=(a.left+l.x)/c.x,u=(a.top+l.y)/c.y,h=a.width/c.x,m=a.height/c.y;if(i){const p=Tn(i),x=r&&rs(r)?Tn(r):r;let j=p,g=io(j);for(;g&&r&&x!==j;){const f=xr(g),b=g.getBoundingClientRect(),v=as(g),_=b.left+(g.clientLeft+parseFloat(v.paddingLeft))*f.x,S=b.top+(g.clientTop+parseFloat(v.paddingTop))*f.y;d*=f.x,u*=f.y,h*=f.x,m*=f.y,d+=_,u+=S,j=Tn(g),g=io(j)}}return Ba({width:h,height:m,x:d,y:u})}function ui(t,n){const s=di(t).scrollLeft;return n?n.left+s:Qs(vs(t)).left+s}function ou(t,n){const s=t.getBoundingClientRect(),r=s.left+n.scrollLeft-ui(t,s),a=s.top+n.scrollTop;return{x:r,y:a}}function Bv(t){let{elements:n,rect:s,offsetParent:r,strategy:a}=t;const i=a==="fixed",c=vs(r),l=n?ci(n.floating):!1;if(r===c||l&&i)return s;let d={scrollLeft:0,scrollTop:0},u=ps(1);const h=ps(0),m=xs(r);if((m||!m&&!i)&&((Pr(r)!=="body"||xa(c))&&(d=di(r)),xs(r))){const x=Qs(r);u=xr(r),h.x=x.x+r.clientLeft,h.y=x.y+r.clientTop}const p=c&&!m&&!i?ou(c,d):ps(0);return{width:s.width*u.x,height:s.height*u.y,x:s.x*u.x-d.scrollLeft*u.x+h.x+p.x,y:s.y*u.y-d.scrollTop*u.y+h.y+p.y}}function Hv(t){return Array.from(t.getClientRects())}function Uv(t){const n=vs(t),s=di(t),r=t.ownerDocument.body,a=On(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),i=On(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let c=-s.scrollLeft+ui(t);const l=-s.scrollTop;return as(r).direction==="rtl"&&(c+=On(n.clientWidth,r.clientWidth)-a),{width:a,height:i,x:c,y:l}}const Vl=25;function qv(t,n){const s=Tn(t),r=vs(t),a=s.visualViewport;let i=r.clientWidth,c=r.clientHeight,l=0,d=0;if(a){i=a.width,c=a.height;const h=Jo();(!h||h&&n==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}const u=ui(r);if(u<=0){const h=r.ownerDocument,m=h.body,p=getComputedStyle(m),x=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,j=Math.abs(r.clientWidth-m.clientWidth-x);j<=Vl&&(i-=j)}else u<=Vl&&(i+=u);return{width:i,height:c,x:l,y:d}}const Kv=new Set(["absolute","fixed"]);function Gv(t,n){const s=Qs(t,!0,n==="fixed"),r=s.top+t.clientTop,a=s.left+t.clientLeft,i=xs(t)?xr(t):ps(1),c=t.clientWidth*i.x,l=t.clientHeight*i.y,d=a*i.x,u=r*i.y;return{width:c,height:l,x:d,y:u}}function Wl(t,n,s){let r;if(n==="viewport")r=qv(t,s);else if(n==="document")r=Uv(vs(t));else if(rs(n))r=Gv(n,s);else{const a=iu(t);r={x:n.x-a.x,y:n.y-a.y,width:n.width,height:n.height}}return Ba(r)}function lu(t,n){const s=Ys(t);return s===n||!rs(s)||Nr(s)?!1:as(s).position==="fixed"||lu(s,n)}function Xv(t,n){const s=n.get(t);if(s)return s;let r=na(t,[],!1).filter(l=>rs(l)&&Pr(l)!=="body"),a=null;const i=as(t).position==="fixed";let c=i?Ys(t):t;for(;rs(c)&&!Nr(c);){const l=as(c),d=Xo(c);!d&&l.position==="fixed"&&(a=null),(i?!d&&!a:!d&&l.position==="static"&&!!a&&Kv.has(a.position)||xa(c)&&!d&&lu(t,c))?r=r.filter(h=>h!==c):a=l,c=Ys(c)}return n.set(t,r),r}function Jv(t){let{element:n,boundary:s,rootBoundary:r,strategy:a}=t;const c=[...s==="clippingAncestors"?ci(n)?[]:Xv(n,this._c):[].concat(s),r],l=c[0],d=c.reduce((u,h)=>{const m=Wl(n,h,a);return u.top=On(m.top,u.top),u.right=Ws(m.right,u.right),u.bottom=Ws(m.bottom,u.bottom),u.left=On(m.left,u.left),u},Wl(n,l,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Zv(t){const{width:n,height:s}=au(t);return{width:n,height:s}}function Qv(t,n,s){const r=xs(n),a=vs(n),i=s==="fixed",c=Qs(t,!0,i,n);let l={scrollLeft:0,scrollTop:0};const d=ps(0);function u(){d.x=ui(a)}if(r||!r&&!i)if((Pr(n)!=="body"||xa(a))&&(l=di(n)),r){const x=Qs(n,!0,i,n);d.x=x.x+n.clientLeft,d.y=x.y+n.clientTop}else a&&u();i&&!r&&a&&u();const h=a&&!r&&!i?ou(a,l):ps(0),m=c.left+l.scrollLeft-d.x-h.x,p=c.top+l.scrollTop-d.y-h.y;return{x:m,y:p,width:c.width,height:c.height}}function Vi(t){return as(t).position==="static"}function Yl(t,n){if(!xs(t)||as(t).position==="fixed")return null;if(n)return n(t);let s=t.offsetParent;return vs(t)===s&&(s=s.ownerDocument.body),s}function cu(t,n){const s=Tn(t);if(ci(t))return s;if(!xs(t)){let a=Ys(t);for(;a&&!Nr(a);){if(rs(a)&&!Vi(a))return a;a=Ys(a)}return s}let r=Yl(t,n);for(;r&&Av(r)&&Vi(r);)r=Yl(r,n);return r&&Nr(r)&&Vi(r)&&!Xo(r)?s:r||$v(t)||s}const ey=async function(t){const n=this.getOffsetParent||cu,s=this.getDimensions,r=await s(t.floating);return{reference:Qv(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ty(t){return as(t).direction==="rtl"}const ny={convertOffsetParentRelativeRectToViewportRelativeRect:Bv,getDocumentElement:vs,getClippingRect:Jv,getOffsetParent:cu,getElementRects:ey,getClientRects:Hv,getDimensions:Zv,getScale:xr,isElement:rs,isRTL:ty};function du(t,n){return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height}function sy(t,n){let s=null,r;const a=vs(t);function i(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function c(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const u=t.getBoundingClientRect(),{left:h,top:m,width:p,height:x}=u;if(l||n(),!p||!x)return;const j=Ca(m),g=Ca(a.clientWidth-(h+p)),f=Ca(a.clientHeight-(m+x)),b=Ca(h),_={rootMargin:-j+"px "+-g+"px "+-f+"px "+-b+"px",threshold:On(0,Ws(1,d))||1};let S=!0;function P(F){const C=F[0].intersectionRatio;if(C!==d){if(!S)return c();C?c(!1,C):r=setTimeout(()=>{c(!1,1e-7)},1e3)}C===1&&!du(u,t.getBoundingClientRect())&&c(),S=!1}try{s=new IntersectionObserver(P,{..._,root:a.ownerDocument})}catch{s=new IntersectionObserver(P,_)}s.observe(t)}return c(!0),i}function ry(t,n,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,u=Zo(t),h=a||i?[...u?na(u):[],...na(n)]:[];h.forEach(b=>{a&&b.addEventListener("scroll",s,{passive:!0}),i&&b.addEventListener("resize",s)});const m=u&&l?sy(u,s):null;let p=-1,x=null;c&&(x=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&x&&(x.unobserve(n),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=x)==null||_.observe(n)})),s()}),u&&!d&&x.observe(u),x.observe(n));let j,g=d?Qs(t):null;d&&f();function f(){const b=Qs(t);g&&!du(g,b)&&s(),g=b,j=requestAnimationFrame(f)}return s(),()=>{var b;h.forEach(v=>{a&&v.removeEventListener("scroll",s),i&&v.removeEventListener("resize",s)}),m?.(),(b=x)==null||b.disconnect(),x=null,d&&cancelAnimationFrame(j)}}const ay=Rv,iy=Pv,oy=Cv,ly=Mv,cy=kv,Bl=Sv,dy=Dv,uy=(t,n,s)=>{const r=new Map,a={platform:ny,...s},i={...a.platform,_c:r};return Nv(t,n,{...a,platform:i})};var my=typeof document<"u",hy=function(){},Ma=my?o.useLayoutEffect:hy;function Ha(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if(typeof t=="function"&&t.toString()===n.toString())return!0;let s,r,a;if(t&&n&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==n.length)return!1;for(r=s;r--!==0;)if(!Ha(t[r],n[r]))return!1;return!0}if(a=Object.keys(t),s=a.length,s!==Object.keys(n).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(n,a[r]))return!1;for(r=s;r--!==0;){const i=a[r];if(!(i==="_owner"&&t.$$typeof)&&!Ha(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}function uu(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Hl(t,n){const s=uu(t);return Math.round(n*s)/s}function Wi(t){const n=o.useRef(t);return Ma(()=>{n.current=t}),n}function fy(t){t===void 0&&(t={});const{placement:n="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:c}={},transform:l=!0,whileElementsMounted:d,open:u}=t,[h,m]=o.useState({x:0,y:0,strategy:s,placement:n,middlewareData:{},isPositioned:!1}),[p,x]=o.useState(r);Ha(p,r)||x(r);const[j,g]=o.useState(null),[f,b]=o.useState(null),v=o.useCallback(K=>{K!==F.current&&(F.current=K,g(K))},[]),_=o.useCallback(K=>{K!==C.current&&(C.current=K,b(K))},[]),S=i||j,P=c||f,F=o.useRef(null),C=o.useRef(null),T=o.useRef(h),z=d!=null,L=Wi(d),M=Wi(a),B=Wi(u),ie=o.useCallback(()=>{if(!F.current||!C.current)return;const K={placement:n,strategy:s,middleware:p};M.current&&(K.platform=M.current),uy(F.current,C.current,K).then(G=>{const we={...G,isPositioned:B.current!==!1};re.current&&!Ha(T.current,we)&&(T.current=we,jo.flushSync(()=>{m(we)}))})},[p,n,s,M,B]);Ma(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,m(K=>({...K,isPositioned:!1})))},[u]);const re=o.useRef(!1);Ma(()=>(re.current=!0,()=>{re.current=!1}),[]),Ma(()=>{if(S&&(F.current=S),P&&(C.current=P),S&&P){if(L.current)return L.current(S,P,ie);ie()}},[S,P,ie,L,z]);const E=o.useMemo(()=>({reference:F,floating:C,setReference:v,setFloating:_}),[v,_]),U=o.useMemo(()=>({reference:S,floating:P}),[S,P]),be=o.useMemo(()=>{const K={position:s,left:0,top:0};if(!U.floating)return K;const G=Hl(U.floating,h.x),we=Hl(U.floating,h.y);return l?{...K,transform:"translate("+G+"px, "+we+"px)",...uu(U.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:G,top:we}},[s,l,U.floating,h.x,h.y]);return o.useMemo(()=>({...h,update:ie,refs:E,elements:U,floatingStyles:be}),[h,ie,E,U,be])}const py=t=>{function n(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:r,padding:a}=typeof t=="function"?t(s):t;return r&&n(r)?r.current!=null?Bl({element:r.current,padding:a}).fn(s):{}:r?Bl({element:r,padding:a}).fn(s):{}}}},xy=(t,n)=>({...ay(t),options:[t,n]}),gy=(t,n)=>({...iy(t),options:[t,n]}),vy=(t,n)=>({...dy(t),options:[t,n]}),yy=(t,n)=>({...oy(t),options:[t,n]}),jy=(t,n)=>({...ly(t),options:[t,n]}),by=(t,n)=>({...cy(t),options:[t,n]}),wy=(t,n)=>({...py(t),options:[t,n]});var _y="Arrow",mu=o.forwardRef((t,n)=>{const{children:s,width:r=10,height:a=5,...i}=t;return e.jsx(lt.svg,{...i,ref:n,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});mu.displayName=_y;var Ny=mu;function Sy(t){const[n,s]=o.useState(void 0);return un(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let c,l;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;c=u.inlineSize,l=u.blockSize}else c=t.offsetWidth,l=t.offsetHeight;s({width:c,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else s(void 0)},[t]),n}var Qo="Popper",[hu,mi]=nr(Qo),[Cy,fu]=hu(Qo),pu=t=>{const{__scopePopper:n,children:s}=t,[r,a]=o.useState(null);return e.jsx(Cy,{scope:n,anchor:r,onAnchorChange:a,children:s})};pu.displayName=Qo;var xu="PopperAnchor",gu=o.forwardRef((t,n)=>{const{__scopePopper:s,virtualRef:r,...a}=t,i=fu(xu,s),c=o.useRef(null),l=gt(n,c),d=o.useRef(null);return o.useEffect(()=>{const u=d.current;d.current=r?.current||c.current,u!==d.current&&i.onAnchorChange(d.current)}),r?null:e.jsx(lt.div,{...a,ref:l})});gu.displayName=xu;var el="PopperContent",[ky,Ey]=hu(el),vu=o.forwardRef((t,n)=>{const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:c=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:x="optimized",onPlaced:j,...g}=t,f=fu(el,s),[b,v]=o.useState(null),_=gt(n,y=>v(y)),[S,P]=o.useState(null),F=Sy(S),C=F?.width??0,T=F?.height??0,z=r+(i!=="center"?"-"+i:""),L=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(u)?u:[u],B=M.length>0,ie={padding:L,boundary:M.filter(Py),altBoundary:B},{refs:re,floatingStyles:E,placement:U,isPositioned:be,middlewareData:K}=fy({strategy:"fixed",placement:z,whileElementsMounted:(...y)=>ry(...y,{animationFrame:x==="always"}),elements:{reference:f.anchor},middleware:[xy({mainAxis:a+T,alignmentAxis:c}),d&&gy({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?vy():void 0,...ie}),d&&yy({...ie}),jy({...ie,apply:({elements:y,rects:A,availableWidth:R,availableHeight:ee})=>{const{width:Ce,height:at}=A.reference,pt=y.floating.style;pt.setProperty("--radix-popper-available-width",`${R}px`),pt.setProperty("--radix-popper-available-height",`${ee}px`),pt.setProperty("--radix-popper-anchor-width",`${Ce}px`),pt.setProperty("--radix-popper-anchor-height",`${at}px`)}}),S&&wy({element:S,padding:l}),Dy({arrowWidth:C,arrowHeight:T}),p&&by({strategy:"referenceHidden",...ie})]}),[G,we]=bu(U),$=en(j);un(()=>{be&&$?.()},[be,$]);const ce=K.arrow?.x,Ze=K.arrow?.y,We=K.arrow?.centerOffset!==0,[Re,k]=o.useState();return un(()=>{b&&k(window.getComputedStyle(b).zIndex)},[b]),e.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...E,transform:be?E.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[K.transformOrigin?.x,K.transformOrigin?.y].join(" "),...K.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(ky,{scope:s,placedSide:G,onArrowChange:P,arrowX:ce,arrowY:Ze,shouldHideArrow:We,children:e.jsx(lt.div,{"data-side":G,"data-align":we,...g,ref:_,style:{...g.style,animation:be?void 0:"none"}})})})});vu.displayName=el;var yu="PopperArrow",Ry={top:"bottom",right:"left",bottom:"top",left:"right"},ju=o.forwardRef(function(n,s){const{__scopePopper:r,...a}=n,i=Ey(yu,r),c=Ry[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(Ny,{...a,ref:s,style:{...a.style,display:"block"}})})});ju.displayName=yu;function Py(t){return t!==null}var Dy=t=>({name:"transformOrigin",options:t,fn(n){const{placement:s,rects:r,middlewareData:a}=n,c=a.arrow?.centerOffset!==0,l=c?0:t.arrowWidth,d=c?0:t.arrowHeight,[u,h]=bu(s),m={start:"0%",center:"50%",end:"100%"}[h],p=(a.arrow?.x??0)+l/2,x=(a.arrow?.y??0)+d/2;let j="",g="";return u==="bottom"?(j=c?m:`${p}px`,g=`${-d}px`):u==="top"?(j=c?m:`${p}px`,g=`${r.floating.height+d}px`):u==="right"?(j=`${-d}px`,g=c?m:`${x}px`):u==="left"&&(j=`${r.floating.width+d}px`,g=c?m:`${x}px`),{data:{x:j,y:g}}}});function bu(t){const[n,s="center"]=t.split("-");return[n,s]}var wu=pu,_u=gu,Nu=vu,Su=ju;function My(t){const n=Oy(t),s=o.forwardRef((r,a)=>{const{children:i,...c}=r,l=o.Children.toArray(i),d=l.find(Ay);if(d){const u=d.props.children,h=l.map(m=>m===d?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:m);return e.jsx(n,{...c,ref:a,children:o.isValidElement(u)?o.cloneElement(u,void 0,h):null})}return e.jsx(n,{...c,ref:a,children:i})});return s.displayName=`${t}.Slot`,s}function Oy(t){const n=o.forwardRef((s,r)=>{const{children:a,...i}=s;if(o.isValidElement(a)){const c=Ly(a),l=Iy(i,a.props);return a.type!==o.Fragment&&(l.ref=r?aa(r,c):c),o.cloneElement(a,l)}return o.Children.count(a)>1?o.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var Ty=Symbol("radix.slottable");function Ay(t){return o.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ty}function Iy(t,n){const s={...n};for(const r in n){const a=t[r],i=n[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...l)=>{const d=i(...l);return a(...l),d}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...t,...s}}function Ly(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var oo=["Enter"," "],zy=["ArrowDown","PageUp","Home"],Cu=["ArrowUp","PageDown","End"],Fy=[...zy,...Cu],$y={ltr:[...oo,"ArrowRight"],rtl:[...oo,"ArrowLeft"]},Vy={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ga="Menu",[sa,Wy,Yy]=gc(ga),[sr,ku]=nr(ga,[Yy,mi,xc]),hi=mi(),Eu=xc(),[By,rr]=sr(ga),[Hy,va]=sr(ga),Ru=t=>{const{__scopeMenu:n,open:s=!1,children:r,dir:a,onOpenChange:i,modal:c=!0}=t,l=hi(n),[d,u]=o.useState(null),h=o.useRef(!1),m=en(i),p=vo(a);return o.useEffect(()=>{const x=()=>{h.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>h.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),e.jsx(wu,{...l,children:e.jsx(By,{scope:n,open:s,onOpenChange:m,content:d,onContentChange:u,children:e.jsx(Hy,{scope:n,onClose:o.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:p,modal:c,children:r})})})};Ru.displayName=ga;var Uy="MenuAnchor",tl=o.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t,a=hi(s);return e.jsx(_u,{...a,...r,ref:n})});tl.displayName=Uy;var nl="MenuPortal",[qy,Pu]=sr(nl,{forceMount:void 0}),Du=t=>{const{__scopeMenu:n,forceMount:s,children:r,container:a}=t,i=rr(nl,n);return e.jsx(qy,{scope:n,forceMount:s,children:e.jsx(is,{present:s||i.open,children:e.jsx(ti,{asChild:!0,container:a,children:r})})})};Du.displayName=nl;var Hn="MenuContent",[Ky,sl]=sr(Hn),Mu=o.forwardRef((t,n)=>{const s=Pu(Hn,t.__scopeMenu),{forceMount:r=s.forceMount,...a}=t,i=rr(Hn,t.__scopeMenu),c=va(Hn,t.__scopeMenu);return e.jsx(sa.Provider,{scope:t.__scopeMenu,children:e.jsx(is,{present:r||i.open,children:e.jsx(sa.Slot,{scope:t.__scopeMenu,children:c.modal?e.jsx(Gy,{...a,ref:n}):e.jsx(Xy,{...a,ref:n})})})})}),Gy=o.forwardRef((t,n)=>{const s=rr(Hn,t.__scopeMenu),r=o.useRef(null),a=gt(n,r);return o.useEffect(()=>{const i=r.current;if(i)return Do(i)},[]),e.jsx(rl,{...t,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),Xy=o.forwardRef((t,n)=>{const s=rr(Hn,t.__scopeMenu);return e.jsx(rl,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),Jy=My("MenuContent.ScrollLock"),rl=o.forwardRef((t,n)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:c,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:x,disableOutsideScroll:j,...g}=t,f=rr(Hn,s),b=va(Hn,s),v=hi(s),_=Eu(s),S=Wy(s),[P,F]=o.useState(null),C=o.useRef(null),T=gt(n,C,f.onContentChange),z=o.useRef(0),L=o.useRef(""),M=o.useRef(0),B=o.useRef(null),ie=o.useRef("right"),re=o.useRef(0),E=j?si:o.Fragment,U=j?{as:Jy,allowPinchZoom:!0}:void 0,be=G=>{const we=L.current+G,$=S().filter(y=>!y.disabled),ce=document.activeElement,Ze=$.find(y=>y.ref.current===ce)?.textValue,We=$.map(y=>y.textValue),Re=cj(We,we,Ze),k=$.find(y=>y.textValue===Re)?.ref.current;(function y(A){L.current=A,window.clearTimeout(z.current),A!==""&&(z.current=window.setTimeout(()=>y(""),1e3))})(we),k&&setTimeout(()=>k.focus())};o.useEffect(()=>()=>window.clearTimeout(z.current),[]),Po();const K=o.useCallback(G=>ie.current===B.current?.side&&uj(G,B.current?.area),[]);return e.jsx(Ky,{scope:s,searchRef:L,onItemEnter:o.useCallback(G=>{K(G)&&G.preventDefault()},[K]),onItemLeave:o.useCallback(G=>{K(G)||(C.current?.focus(),F(null))},[K]),onTriggerLeave:o.useCallback(G=>{K(G)&&G.preventDefault()},[K]),pointerGraceTimerRef:M,onPointerGraceIntentChange:o.useCallback(G=>{B.current=G},[]),children:e.jsx(E,{...U,children:e.jsx(ei,{asChild:!0,trapped:a,onMountAutoFocus:Ee(i,G=>{G.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:e.jsx(Qa,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:x,children:e.jsx(Wh,{asChild:!0,..._,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:F,onEntryFocus:Ee(d,G=>{b.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Nu,{role:"menu","aria-orientation":"vertical","data-state":Ku(f.open),"data-radix-menu-content":"",dir:b.dir,...v,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:Ee(g.onKeyDown,G=>{const $=G.target.closest("[data-radix-menu-content]")===G.currentTarget,ce=G.ctrlKey||G.altKey||G.metaKey,Ze=G.key.length===1;$&&(G.key==="Tab"&&G.preventDefault(),!ce&&Ze&&be(G.key));const We=C.current;if(G.target!==We||!Fy.includes(G.key))return;G.preventDefault();const k=S().filter(y=>!y.disabled).map(y=>y.ref.current);Cu.includes(G.key)&&k.reverse(),oj(k)}),onBlur:Ee(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(z.current),L.current="")}),onPointerMove:Ee(t.onPointerMove,ra(G=>{const we=G.target,$=re.current!==G.clientX;if(G.currentTarget.contains(we)&&$){const ce=G.clientX>re.current?"right":"left";ie.current=ce,re.current=G.clientX}}))})})})})})})});Mu.displayName=Hn;var Zy="MenuGroup",al=o.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t;return e.jsx(lt.div,{role:"group",...r,ref:n})});al.displayName=Zy;var Qy="MenuLabel",Ou=o.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t;return e.jsx(lt.div,{...r,ref:n})});Ou.displayName=Qy;var Ua="MenuItem",Ul="menu.itemSelect",fi=o.forwardRef((t,n)=>{const{disabled:s=!1,onSelect:r,...a}=t,i=o.useRef(null),c=va(Ua,t.__scopeMenu),l=sl(Ua,t.__scopeMenu),d=gt(n,i),u=o.useRef(!1),h=()=>{const m=i.current;if(!s&&m){const p=new CustomEvent(Ul,{bubbles:!0,cancelable:!0});m.addEventListener(Ul,x=>r?.(x),{once:!0}),fc(m,p),p.defaultPrevented?u.current=!1:c.onClose()}};return e.jsx(Tu,{...a,ref:d,disabled:s,onClick:Ee(t.onClick,h),onPointerDown:m=>{t.onPointerDown?.(m),u.current=!0},onPointerUp:Ee(t.onPointerUp,m=>{u.current||m.currentTarget?.click()}),onKeyDown:Ee(t.onKeyDown,m=>{const p=l.searchRef.current!=="";s||p&&m.key===" "||oo.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});fi.displayName=Ua;var Tu=o.forwardRef((t,n)=>{const{__scopeMenu:s,disabled:r=!1,textValue:a,...i}=t,c=sl(Ua,s),l=Eu(s),d=o.useRef(null),u=gt(n,d),[h,m]=o.useState(!1),[p,x]=o.useState("");return o.useEffect(()=>{const j=d.current;j&&x((j.textContent??"").trim())},[i.children]),e.jsx(sa.ItemSlot,{scope:s,disabled:r,textValue:a??p,children:e.jsx(Vh,{asChild:!0,...l,focusable:!r,children:e.jsx(lt.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:Ee(t.onPointerMove,ra(j=>{r?c.onItemLeave(j):(c.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(t.onPointerLeave,ra(j=>c.onItemLeave(j))),onFocus:Ee(t.onFocus,()=>m(!0)),onBlur:Ee(t.onBlur,()=>m(!1))})})})}),ej="MenuCheckboxItem",Au=o.forwardRef((t,n)=>{const{checked:s=!1,onCheckedChange:r,...a}=t;return e.jsx($u,{scope:t.__scopeMenu,checked:s,children:e.jsx(fi,{role:"menuitemcheckbox","aria-checked":qa(s)?"mixed":s,...a,ref:n,"data-state":ol(s),onSelect:Ee(a.onSelect,()=>r?.(qa(s)?!0:!s),{checkForDefaultPrevented:!1})})})});Au.displayName=ej;var Iu="MenuRadioGroup",[tj,nj]=sr(Iu,{value:void 0,onValueChange:()=>{}}),Lu=o.forwardRef((t,n)=>{const{value:s,onValueChange:r,...a}=t,i=en(r);return e.jsx(tj,{scope:t.__scopeMenu,value:s,onValueChange:i,children:e.jsx(al,{...a,ref:n})})});Lu.displayName=Iu;var zu="MenuRadioItem",Fu=o.forwardRef((t,n)=>{const{value:s,...r}=t,a=nj(zu,t.__scopeMenu),i=s===a.value;return e.jsx($u,{scope:t.__scopeMenu,checked:i,children:e.jsx(fi,{role:"menuitemradio","aria-checked":i,...r,ref:n,"data-state":ol(i),onSelect:Ee(r.onSelect,()=>a.onValueChange?.(s),{checkForDefaultPrevented:!1})})})});Fu.displayName=zu;var il="MenuItemIndicator",[$u,sj]=sr(il,{checked:!1}),Vu=o.forwardRef((t,n)=>{const{__scopeMenu:s,forceMount:r,...a}=t,i=sj(il,s);return e.jsx(is,{present:r||qa(i.checked)||i.checked===!0,children:e.jsx(lt.span,{...a,ref:n,"data-state":ol(i.checked)})})});Vu.displayName=il;var rj="MenuSeparator",Wu=o.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t;return e.jsx(lt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:n})});Wu.displayName=rj;var aj="MenuArrow",Yu=o.forwardRef((t,n)=>{const{__scopeMenu:s,...r}=t,a=hi(s);return e.jsx(Su,{...a,...r,ref:n})});Yu.displayName=aj;var ij="MenuSub",[j1,Bu]=sr(ij),Hr="MenuSubTrigger",Hu=o.forwardRef((t,n)=>{const s=rr(Hr,t.__scopeMenu),r=va(Hr,t.__scopeMenu),a=Bu(Hr,t.__scopeMenu),i=sl(Hr,t.__scopeMenu),c=o.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,u={__scopeMenu:t.__scopeMenu},h=o.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return o.useEffect(()=>h,[h]),o.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),d(null)}},[l,d]),e.jsx(tl,{asChild:!0,...u,children:e.jsx(Tu,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":Ku(s.open),...t,ref:aa(n,a.onTriggerChange),onClick:m=>{t.onClick?.(m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Ee(t.onPointerMove,ra(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!s.open&&!c.current&&(i.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{s.onOpenChange(!0),h()},100))})),onPointerLeave:Ee(t.onPointerLeave,ra(m=>{h();const p=s.content?.getBoundingClientRect();if(p){const x=s.content?.dataset.side,j=x==="right",g=j?-5:5,f=p[j?"left":"right"],b=p[j?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+g,y:m.clientY},{x:f,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:f,y:p.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(t.onKeyDown,m=>{const p=i.searchRef.current!=="";t.disabled||p&&m.key===" "||$y[r.dir].includes(m.key)&&(s.onOpenChange(!0),s.content?.focus(),m.preventDefault())})})})});Hu.displayName=Hr;var Uu="MenuSubContent",qu=o.forwardRef((t,n)=>{const s=Pu(Hn,t.__scopeMenu),{forceMount:r=s.forceMount,...a}=t,i=rr(Hn,t.__scopeMenu),c=va(Hn,t.__scopeMenu),l=Bu(Uu,t.__scopeMenu),d=o.useRef(null),u=gt(n,d);return e.jsx(sa.Provider,{scope:t.__scopeMenu,children:e.jsx(is,{present:r||i.open,children:e.jsx(sa.Slot,{scope:t.__scopeMenu,children:e.jsx(rl,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{c.isUsingKeyboardRef.current&&d.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Ee(t.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ee(t.onEscapeKeyDown,h=>{c.onClose(),h.preventDefault()}),onKeyDown:Ee(t.onKeyDown,h=>{const m=h.currentTarget.contains(h.target),p=Vy[c.dir].includes(h.key);m&&p&&(i.onOpenChange(!1),l.trigger?.focus(),h.preventDefault())})})})})})});qu.displayName=Uu;function Ku(t){return t?"open":"closed"}function qa(t){return t==="indeterminate"}function ol(t){return qa(t)?"indeterminate":t?"checked":"unchecked"}function oj(t){const n=document.activeElement;for(const s of t)if(s===n||(s.focus(),document.activeElement!==n))return}function lj(t,n){return t.map((s,r)=>t[(n+r)%t.length])}function cj(t,n,s){const a=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,i=s?t.indexOf(s):-1;let c=lj(t,Math.max(i,0));a.length===1&&(c=c.filter(u=>u!==s));const d=c.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return d!==s?d:void 0}function dj(t,n){const{x:s,y:r}=t;let a=!1;for(let i=0,c=n.length-1;i<n.length;c=i++){const l=n[i],d=n[c],u=l.x,h=l.y,m=d.x,p=d.y;h>r!=p>r&&s<(m-u)*(r-h)/(p-h)+u&&(a=!a)}return a}function uj(t,n){if(!n)return!1;const s={x:t.clientX,y:t.clientY};return dj(s,n)}function ra(t){return n=>n.pointerType==="mouse"?t(n):void 0}var mj=Ru,hj=tl,fj=Du,pj=Mu,xj=al,gj=Ou,vj=fi,yj=Au,jj=Lu,bj=Fu,wj=Vu,_j=Wu,Nj=Yu,Sj=Hu,Cj=qu,pi="DropdownMenu",[kj]=nr(pi,[ku]),jn=ku(),[Ej,Gu]=kj(pi),Xu=t=>{const{__scopeDropdownMenu:n,children:s,dir:r,open:a,defaultOpen:i,onOpenChange:c,modal:l=!0}=t,d=jn(n),u=o.useRef(null),[h,m]=Ia({prop:a,defaultProp:i??!1,onChange:c,caller:pi});return e.jsx(Ej,{scope:n,triggerId:zs(),triggerRef:u,contentId:zs(),open:h,onOpenChange:m,onOpenToggle:o.useCallback(()=>m(p=>!p),[m]),modal:l,children:e.jsx(mj,{...d,open:h,onOpenChange:m,dir:r,modal:l,children:s})})};Xu.displayName=pi;var Ju="DropdownMenuTrigger",Zu=o.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...a}=t,i=Gu(Ju,s),c=jn(s);return e.jsx(hj,{asChild:!0,...c,children:e.jsx(lt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:aa(n,i.triggerRef),onPointerDown:Ee(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ee(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Zu.displayName=Ju;var Rj="DropdownMenuPortal",Qu=t=>{const{__scopeDropdownMenu:n,...s}=t,r=jn(n);return e.jsx(fj,{...r,...s})};Qu.displayName=Rj;var em="DropdownMenuContent",tm=o.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=Gu(em,s),i=jn(s),c=o.useRef(!1);return e.jsx(pj,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:n,onCloseAutoFocus:Ee(t.onCloseAutoFocus,l=>{c.current||a.triggerRef.current?.focus(),c.current=!1,l.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,h=d.button===2||u;(!a.modal||h)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tm.displayName=em;var Pj="DropdownMenuGroup",Dj=o.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=jn(s);return e.jsx(xj,{...a,...r,ref:n})});Dj.displayName=Pj;var Mj="DropdownMenuLabel",nm=o.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=jn(s);return e.jsx(gj,{...a,...r,ref:n})});nm.displayName=Mj;var Oj="DropdownMenuItem",sm=o.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=jn(s);return e.jsx(vj,{...a,...r,ref:n})});sm.displayName=Oj;var Tj="DropdownMenuCheckboxItem",rm=o.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=jn(s);return e.jsx(yj,{...a,...r,ref:n})});rm.displayName=Tj;var Aj="DropdownMenuRadioGroup",Ij=o.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=jn(s);return e.jsx(jj,{...a,...r,ref:n})});Ij.displayName=Aj;var Lj="DropdownMenuRadioItem",am=o.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=jn(s);return e.jsx(bj,{...a,...r,ref:n})});am.displayName=Lj;var zj="DropdownMenuItemIndicator",Fj=o.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=jn(s);return e.jsx(wj,{...a,...r,ref:n})});Fj.displayName=zj;var $j="DropdownMenuSeparator",im=o.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=jn(s);return e.jsx(_j,{...a,...r,ref:n})});im.displayName=$j;var Vj="DropdownMenuArrow",Wj=o.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=jn(s);return e.jsx(Nj,{...a,...r,ref:n})});Wj.displayName=Vj;var Yj="DropdownMenuSubTrigger",om=o.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=jn(s);return e.jsx(Sj,{...a,...r,ref:n})});om.displayName=Yj;var Bj="DropdownMenuSubContent",lm=o.forwardRef((t,n)=>{const{__scopeDropdownMenu:s,...r}=t,a=jn(s);return e.jsx(Cj,{...a,...r,ref:n,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lm.displayName=Bj;var Hj=Xu,Uj=Zu,qj=Qu,cm=tm,dm=nm,um=sm,mm=rm,hm=am,fm=im,pm=om,xm=lm;const qr=Hj,Kr=Uj,Kj=o.forwardRef(({className:t,inset:n,children:s,...r},a)=>e.jsx(pm,{ref:a,className:Y("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"ps-8",t),...r,children:s}));Kj.displayName=pm.displayName;const Gj=o.forwardRef(({className:t,...n},s)=>e.jsx(xm,{ref:s,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Gj.displayName=xm.displayName;const gr=o.forwardRef(({className:t,sideOffset:n=4,...s},r)=>e.jsx(qj,{children:e.jsx(cm,{ref:r,sideOffset:n,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));gr.displayName=cm.displayName;const ss=o.forwardRef(({className:t,inset:n,...s},r)=>e.jsx(um,{ref:r,className:Y("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"ps-8",t),...s}));ss.displayName=um.displayName;const Xj=o.forwardRef(({className:t,children:n,checked:s,...r},a)=>e.jsx(mm,{ref:a,className:Y("relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...r,children:n}));Xj.displayName=mm.displayName;const Jj=o.forwardRef(({className:t,children:n,...s},r)=>e.jsx(hm,{ref:r,className:Y("relative flex cursor-default select-none items-center gap-2 rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:n}));Jj.displayName=hm.displayName;const lo=o.forwardRef(({className:t,inset:n,...s},r)=>e.jsx(dm,{ref:r,className:Y("px-2 py-1.5 text-sm font-semibold",n&&"ps-8",t),...s}));lo.displayName=dm.displayName;const Oa=o.forwardRef(({className:t,...n},s)=>e.jsx(fm,{ref:s,className:Y("-mx-1 my-1 h-px bg-muted",t),...n}));Oa.displayName=fm.displayName;const gm="pzl_language",Zj=3600*24*30;function co(t){if(!t)return"en";const n=String(t).toLowerCase().trim();return n.startsWith("en")||n==="english"?"en":n.startsWith("fa")||n==="persian"?"fa":"en"}function Qj(t){try{document.cookie=`${gm}=${t}; path=/; max-age=${Zj}; SameSite=Lax`}catch{}}function ql(t){const n=co(t),s=co(typeof document<"u"?document.documentElement.getAttribute("lang"):null),r=(typeof document<"u"?document.documentElement.getAttribute("dir"):"ltr")??"ltr";typeof localStorage<"u"&&localStorage.setItem(gm,n),Qj(n);const a=typeof window<"u"?window.puzzlingcrm?.ajaxUrl:void 0,i=typeof window<"u"?window.puzzlingcrm?.nonce:void 0;if(a&&i){const l=new FormData;l.set("action","puzzling_save_user_preference"),l.set("nonce",i),l.set("preference","pzl_language"),l.set("value",n),fetch(a,{method:"POST",body:l}).catch(()=>{})}typeof document<"u"&&(document.documentElement.setAttribute("lang",n==="fa"?"fa":"en"),document.documentElement.setAttribute("dir",n==="fa"?"rtl":"ltr")),(n!==s||n==="fa"&&r!=="rtl"||n==="en"&&r!=="ltr")&&typeof window<"u"&&window.location.reload()}function Gr(){return typeof document>"u"?"fa":co(document.documentElement.getAttribute("lang"))}function e0(){if(!document.fullscreenElement&&!document.webkitFullscreenElement&&!document.mozFullScreenElement){const t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()}else document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen&&document.mozCancelFullScreen()}function t0(t){let n;if(t.url.startsWith("http"))try{n=new URL(t.url).pathname}catch{n=t.url}else n=t.url;return n.replace(/^\/dashboard\/?/,"")||"/"}function n0({user:t,profileMenu:n,loginUrl:s,logoutUrl:r,onOpenMobileMenu:a,isRtl:i}){const{setTheme:c,resolved:l}=Mp();return e.jsxs("header",{dir:i?"rtl":"ltr",className:"sticky top-0 z-40 flex h-14 w-full items-center gap-4 overflow-visible border-b bg-background px-4",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-4 overflow-hidden shrink",children:[a&&e.jsx(I,{variant:"ghost",size:"icon",className:"md:hidden",onClick:a,"aria-label":"Ù…Ù†Ùˆ",children:e.jsx($d,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative w-full max-w-sm",children:[e.jsx(Fg,{className:Y("absolute top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground",i?"right-3":"left-3")}),e.jsx(oe,{type:"search",placeholder:"Ø¬Ø³ØªØ¬Ùˆ...",className:Y(i?"pr-9":"pl-9")})]})]}),e.jsxs("div",{className:"flex flex-none shrink-0 items-center gap-2 overflow-visible",role:"toolbar","aria-label":"Ø§Ø¨Ø²Ø§Ø±Ù‡Ø§ÛŒ Ù‡Ø¯Ø±",children:[e.jsx("a",{href:typeof window<"u"?window.puzzlingcrm?.siteUrl??"/":"/",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground","aria-label":"View Site",children:e.jsx(wg,{className:"h-4 w-4"})}),e.jsxs(qr,{children:[e.jsx(Kr,{asChild:!0,children:e.jsx(I,{variant:"ghost",size:"icon","aria-label":"Ø²Ø¨Ø§Ù†",children:e.jsx(Rg,{className:"h-4 w-4"})})}),e.jsxs(gr,{align:"end",children:[e.jsxs(ss,{onClick:()=>ql("fa"),children:[e.jsx("span",{className:Y("font-medium",i?"ml-2":"mr-2"),children:"FA"}),"ÙØ§Ø±Ø³ÛŒ"]}),e.jsxs(ss,{onClick:()=>ql("en"),children:[e.jsx("span",{className:Y("font-medium",i?"ml-2":"mr-2"),children:"EN"}),"English"]})]})]}),e.jsxs(qr,{children:[e.jsx(Kr,{asChild:!0,children:e.jsx(I,{variant:"ghost",size:"icon","aria-label":"Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§",children:e.jsx(Md,{className:"h-4 w-4"})})}),e.jsxs(gr,{align:"end",className:"w-72",children:[e.jsx(lo,{children:"Ø§Ø¹Ù„Ø§Ù†â€ŒÙ‡Ø§"}),e.jsx(Oa,{}),e.jsx("div",{className:"py-4 text-center text-sm text-muted-foreground",children:"Ù…ÙˆØ±Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."})]})]}),e.jsx(I,{variant:"ghost",size:"icon",onClick:e0,"aria-label":"ØªÙ…Ø§Ù…â€ŒØµÙØ­Ù‡",children:e.jsx(Tg,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"icon",onClick:()=>c(l==="dark"?"light":"dark"),children:l==="dark"?e.jsx(Yg,{className:"h-4 w-4"}):e.jsx(Ag,{className:"h-4 w-4"})}),e.jsxs(qr,{children:[e.jsx(Kr,{asChild:!0,children:e.jsx(I,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(ha,{className:"h-8 w-8",children:[e.jsx(fa,{src:t?.avatar,alt:t?.name}),e.jsx(pa,{children:t?.name?.slice(0,2)?.toUpperCase()??"U"})]})})}),e.jsxs(gr,{align:"end",className:"w-56",children:[e.jsx(lo,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:t?.name??"User"}),e.jsx("span",{className:"text-xs font-normal text-muted-foreground",children:t?.role??""})]})}),e.jsx(Oa,{}),n.map((d,u)=>e.jsx(ss,{asChild:!0,children:e.jsxs(Ht,{to:t0(d),children:[e.jsx(br,{className:Y("h-4 w-4",i?"ml-2":"mr-2")}),d.title]})},`${d.url}-${d.title}-${u}`)),e.jsx(Oa,{}),e.jsx(ss,{asChild:!0,children:e.jsxs("a",{href:r??s,children:[e.jsx(Og,{className:Y("h-4 w-4",i?"ml-2":"mr-2")}),"Ø®Ø±ÙˆØ¬"]})})]})]})]})]})}const vm=o.forwardRef(({...t},n)=>e.jsx("nav",{ref:n,"aria-label":"breadcrumb",...t}));vm.displayName="Breadcrumb";const ym=o.forwardRef(({className:t,...n},s)=>e.jsx("ol",{ref:s,className:Y("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...n}));ym.displayName="BreadcrumbList";const uo=o.forwardRef(({className:t,...n},s)=>e.jsx("li",{ref:s,className:Y("inline-flex items-center gap-1.5",t),...n}));uo.displayName="BreadcrumbItem";const jm=o.forwardRef(({asChild:t,className:n,...s},r)=>{const a=t?Yh:"a";return e.jsx(a,{ref:r,className:Y("transition-colors hover:text-foreground",n),...s})});jm.displayName="BreadcrumbLink";const bm=o.forwardRef(({className:t,...n},s)=>e.jsx("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:Y("font-normal text-foreground",t),...n}));bm.displayName="BreadcrumbPage";const wm=({children:t,className:n,...s})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:Y("[&>svg]:w-3.5 [&>svg]:h-3.5",n),...s,children:t??e.jsx(_r,{})});wm.displayName="BreadcrumbSeparator";function _m(){const t=window.puzzlingcrm;if(!t?.ajaxUrl||!t?.nonce)throw new Error("PuzzlingCRM: ajaxUrl or nonce not found");return{ajaxUrl:t.ajaxUrl,nonce:t.nonce}}function vr(){return window.puzzlingcrm?.i18n?.server_error??"Ø®Ø·Ø§ÛŒ Ø³Ø±ÙˆØ±"}async function ya(t,n){try{const{ajaxUrl:s,nonce:r}=_m();n.set("action",t),n.set("security",r);const a=await fetch(s,{method:"POST",body:n,credentials:"same-origin"});let i;try{i=await a.json()}catch{return{success:!1,message:vr()}}return a.ok?i:{success:!1,message:i.message??vr()}}catch(s){return{success:!1,message:s instanceof Error?s.message:vr()}}}async function _e(t,n={}){try{const{ajaxUrl:s,nonce:r}=_m(),a=Object.entries(n).filter(([,d])=>d!==void 0&&d!=="").map(([d,u])=>[d,String(u)]),i=new URLSearchParams({action:t,security:r,...Object.fromEntries(a)}),c=await fetch(s,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i.toString(),credentials:"same-origin"});let l;try{l=await c.json()}catch{return{success:!1,message:vr()}}return c.ok?l:{success:!1,message:l.message??vr()}}catch(s){return{success:!1,message:s instanceof Error?s.message:vr()}}}function Dt(){return window.puzzlingcrm??null}class s0 extends o.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught:",n,s)}handleRetry=()=>{this.setState({hasError:!1,error:null})};handleRefresh=()=>{window.location.reload()};render(){return this.state.hasError?e.jsxs("div",{className:"flex min-h-[280px] flex-col items-center justify-center gap-4 rounded-lg border border-destructive/30 bg-destructive/5 p-8 text-center",children:[e.jsx(qg,{className:"h-12 w-12 text-destructive"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",children:"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:this.state.error?.message??"ÛŒÚ© Ø®Ø·Ø§ÛŒ ØºÛŒØ±Ù…Ù†ØªØ¸Ø±Ù‡ Ø±Ø® Ø¯Ø§Ø¯."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",onClick:this.handleRetry,children:"ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯"}),e.jsx(I,{onClick:this.handleRefresh,children:"Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¬Ø¯Ø¯ ØµÙØ­Ù‡"})]})]}):this.props.children}}const r0={dashboard:"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯",projects:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§",contracts:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§",invoices:"Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±Ù‡Ø§",tickets:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§",tasks:"ÙˆØ¸Ø§ÛŒÙ",appointments:"Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øªâ€ŒÙ‡Ø§",leads:"Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§",licenses:"Ù„Ø§ÛŒØ³Ù†Ø³â€ŒÙ‡Ø§",customers:"Ù…Ø´ØªØ±ÛŒØ§Ù†",staff:"Ú©Ø§Ø±Ú©Ù†Ø§Ù†",consultations:"Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§",reports:"Ú¯Ø²Ø§Ø±Ø´Ø§Øª",campaigns:"Ú©Ù…Ù¾ÛŒÙ†â€ŒÙ‡Ø§",services:"Ø®Ø¯Ù…Ø§Øª Ùˆ Ù…Ø­ØµÙˆÙ„Ø§Øª",logs:"Ù„Ø§Ú¯â€ŒÙ‡Ø§",settings:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª",profile:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ù†"};function a0(){const n=Kn().pathname.replace(/^\/dashboard\/?/,"").replace(/^\//,"")||"dashboard";return r0[n]??n}function i0(){const t=Dt(),n=Kn(),s=a0();if(!t)return e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsx("p",{className:"text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})});const{user:r,menuItems:a,loginUrl:i,siteUrl:c,logoUrl:l,isRtl:d}=t,u=l??"";let h="PuzzlingCRM";if(c?.trim())try{h=new URL(c).hostname||h}catch{}const m=t.profileMenu??[{title:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ù†",url:"/dashboard/profile",icon:"user"}],p=d===!0,[x,j]=o.useState(!1);return e.jsxs("div",{className:"flex min-h-screen min-w-0 flex-col md:flex-row bg-background text-foreground",dir:p?"rtl":"ltr",children:[e.jsx(ev,{menuItems:a,logoUrl:u,siteName:h,mobileOpen:x,onMobileOpenChange:j,isRtl:p}),e.jsxs("div",{className:Y("flex min-w-0 flex-1 flex-col overflow-visible",p&&"text-right"),dir:p?"rtl":"ltr",children:[e.jsx(n0,{user:r??null,profileMenu:m,loginUrl:i,logoutUrl:t.logoutUrl,onOpenMobileMenu:()=>j(!0),isRtl:p}),e.jsxs("main",{className:Y("flex-1 overflow-auto p-4",p?"text-right":"text-left"),dir:p?"rtl":"ltr",children:[e.jsx(vm,{dir:p?"rtl":"ltr",className:"mb-4 [&_ol]:justify-start",children:e.jsxs(ym,{children:[e.jsx(uo,{children:e.jsx(jm,{asChild:!0,children:e.jsx(Ht,{to:"/",children:"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"})})}),e.jsx(wm,{children:p?e.jsx(Wo,{className:"h-3.5 w-3.5"}):e.jsx(_r,{className:"h-3.5 w-3.5"})}),e.jsx(uo,{children:e.jsx(bm,{children:s})})]})}),e.jsx(s0,{children:e.jsx(qf,{},n.pathname)})]})]})]})}const mn=o.forwardRef(({className:t,...n},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:Y("w-full caption-bottom text-sm",t),...n})}));mn.displayName="Table";const hn=o.forwardRef(({className:t,...n},s)=>e.jsx("thead",{ref:s,className:Y("[&_tr]:border-b",t),...n}));hn.displayName="TableHeader";const fn=o.forwardRef(({className:t,...n},s)=>e.jsx("tbody",{ref:s,className:Y("[&_tr:last-child]:border-0",t),...n}));fn.displayName="TableBody";const o0=o.forwardRef(({className:t,...n},s)=>e.jsx("tfoot",{ref:s,className:Y("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n}));o0.displayName="TableFooter";const ut=o.forwardRef(({className:t,...n},s)=>e.jsx("tr",{ref:s,className:Y("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...n}));ut.displayName="TableRow";const ne=o.forwardRef(({className:t,...n},s)=>e.jsx("th",{ref:s,className:Y("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n}));ne.displayName="TableHead";const te=o.forwardRef(({className:t,...n},s)=>e.jsx("td",{ref:s,className:Y("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n}));te.displayName="TableCell";const l0=o.forwardRef(({className:t,...n},s)=>e.jsx("caption",{ref:s,className:Y("mt-4 text-sm text-muted-foreground",t),...n}));l0.displayName="TableCaption";const Ka=o.forwardRef(({className:t,value:n=0,max:s=100,...r},a)=>{const i=Math.min(100,Math.max(0,n/s*100));return e.jsx("div",{ref:a,role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":s,className:Y("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...r,children:e.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${i}%`}})})});Ka.displayName="Progress";const c0=pc("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500/15 text-green-700 dark:text-green-400",warning:"border-transparent bg-amber-500/15 text-amber-700 dark:text-amber-400"}},defaultVariants:{variant:"default"}});function Ct({className:t,variant:n,...s}){return e.jsx("div",{className:Y(c0({variant:n}),t),...s})}function on({title:t,value:n,description:s,icon:r}){return e.jsxs(xe,{children:[e.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Jt,{className:"text-sm font-medium",children:t}),e.jsx(r,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ge,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n}),s!=null&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s})]})]})}function xt(t,n){return n?t.toLocaleString("fa-IR"):t.toLocaleString()}function d0({data:t,labels:n,max:s}){const r=s??Math.max(...t,1);return e.jsx("div",{className:"flex h-[200px] items-end gap-1",children:t.map((a,i)=>e.jsxs("div",{className:"flex flex-1 flex-col items-center gap-1",children:[e.jsx("div",{className:"w-full min-h-[4px] rounded-t bg-primary transition-all",style:{height:`${a/r*100}%`}}),e.jsx("span",{className:"text-[10px] text-muted-foreground truncate max-w-full",title:n[i],children:n[i]})]},i))})}function u0({values:t,labels:n}){const s=t.reduce((i,c)=>i+c,0)||1,r=t.reduce((i,c,l)=>{const d=i.length?i[i.length-1].pct:0;return i.push({pct:d+c/s*100,color:["hsl(var(--primary))","#22c55e","#eab308"][l]||"#6b7280"}),i},[]),a=r.map((i,c)=>{const l=c===0?0:r[c-1].pct;return`${i.color} ${l}% ${i.pct}%`}).join(", ");return e.jsxs("div",{className:"flex h-[200px] flex-col items-center justify-center gap-2",children:[e.jsx("div",{className:"h-32 w-32 rounded-full",style:{background:`conic-gradient(from 0deg, ${a})`}}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 text-xs",children:n.map((i,c)=>e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"h-2 w-2 rounded-full",style:{background:["hsl(var(--primary))","#22c55e","#eab308"][c]||"#6b7280"}}),i,": ",xt(t[c])]},c))})]})}function m0(){const[t,n]=o.useState(null),[s,r]=o.useState(!0),i=Dt()?.isRtl===!0;o.useEffect(()=>{let x=!1;return _e("puzzlingcrm_get_dashboard_full",{}).then(j=>{x||j.success&&j.data&&n(j.data)}).finally(()=>{x||r(!1)}),()=>{x=!0}},[]);const c=t?.stats??{new_projects_this_month:0,new_projects_growth:0,completed_projects:0,in_progress_projects:0,pending_projects:0,total_tasks:0,completed_tasks:0,total_revenue:0,completion_rate:0},l=t?.team??[],d=t?.running_projects??[],u=t?.daily_tasks??[],h=t?.projects_table??[],m=t?.revenue_data??{values:[],labels:[]},p=t?.monthly_goals??{new_projects:0,completed:0,pending:0};return s?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(x=>e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})})},x))})}):e.jsxs("div",{className:"space-y-4",dir:i?"rtl":"ltr",children:[e.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx(xe,{className:"overflow-hidden bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:e.jsx(ge,{className:"flex flex-row items-center justify-between p-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsx("p",{className:"text-sm opacity-90",children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø§ ÛŒÚ© Ú©Ù„ÛŒÚ© Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯."}),e.jsx(I,{asChild:!0,size:"sm",className:"mt-2",variant:"secondary",children:e.jsxs(Ht,{to:"/projects",children:["Ù‡Ù…ÛŒÙ† Ø§Ù„Ø§Ù† Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†ÛŒØ¯ ",e.jsx(pg,{className:"h-4 w-4"})]})})]})})}),e.jsxs(xe,{children:[e.jsxs(Xt,{className:"flex flex-row items-center justify-between",children:[e.jsx(Jt,{children:"ØªÛŒÙ…"}),e.jsx(I,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(Ht,{to:"/staff",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡"})})]}),e.jsx(ge,{className:"p-0",children:e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ù†Ø§Ù…"}),e.jsx(ne,{children:"ÙˆØ¸Ø§ÛŒÙ"}),e.jsx(ne,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(ne,{children:"Ù¾ÛŒØ´Ø±ÙØª"}),e.jsx(ne,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(fn,{children:l.length===0?e.jsx(ut,{children:e.jsx(te,{colSpan:5,className:"text-center text-muted-foreground",children:"Ù…ÙˆØ±Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯"})}):l.map(x=>e.jsxs(ut,{children:[e.jsx(te,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ha,{className:"h-8 w-8",children:[e.jsx(fa,{src:x.avatar}),e.jsx(pa,{children:x.name.slice(0,2)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:x.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:x.role})]})]})}),e.jsx(te,{children:xt(x.total_tasks,i)}),e.jsx(te,{children:e.jsx(Ct,{variant:x.is_online?"default":"secondary",children:x.is_online?"Ø¢Ù†Ù„Ø§ÛŒÙ†":"Ø¢ÙÙ„Ø§ÛŒÙ†"})}),e.jsxs(te,{children:[xt(x.completed_tasks,i)," / ",xt(x.total_tasks,i)]}),e.jsx(te,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(I,{variant:"ghost",size:"icon",children:e.jsx(Er,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx("a",{href:`mailto:${x.id}`,children:e.jsx(Bh,{className:"h-4 w-4"})})}),e.jsx(I,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(Ht,{to:`/staff?user=${x.id}`,children:e.jsx(La,{className:"h-4 w-4"})})})]})})]},x.id))})]})})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-1",children:[e.jsx(on,{title:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯",value:xt(c.new_projects_this_month??0,i),description:`${(c.new_projects_growth??0)>=0?"+":""}${xt(Math.round(c.new_projects_growth??0),i)}Ùª`,icon:qn}),e.jsx(on,{title:"ØªÚ©Ù…ÛŒÙ„â€ŒØ´Ø¯Ù‡",value:xt(c.completed_projects??0,i),icon:ta}),e.jsx(on,{title:"Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…",value:xt(c.in_progress_projects??0,i),icon:qn}),e.jsx(on,{title:"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±",value:xt(c.pending_projects??0,i),icon:Fs})]})})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[e.jsxs(xe,{className:"lg:col-span-2",children:[e.jsx(Xt,{children:e.jsx(Jt,{children:"Ø¢Ù…Ø§Ø± Ù¾Ø±ÙˆÚ˜Ù‡"})}),e.jsxs(ge,{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ Ø¯Ø±Ø¢Ù…Ø¯"}),e.jsx("p",{className:"text-xl font-bold",children:xt(c.total_revenue??0,i)})]})}),e.jsx(d0,{data:m.values,labels:m.labels})]})]}),e.jsxs(xe,{children:[e.jsxs(Xt,{className:"flex flex-row items-center justify-between",children:[e.jsx(Jt,{children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§"}),e.jsx(I,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(Ht,{to:"/projects",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡"})})]}),e.jsx(ge,{children:d.length===0?e.jsx("p",{className:"text-center text-sm text-muted-foreground py-4",children:"Ù¾Ø±ÙˆÚ˜Ù‡ ÙØ¹Ø§Ù„ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯"}):e.jsx("div",{className:"space-y-4",children:d.map(x=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx(Ht,{to:`/projects/${x.id}`,className:"font-medium hover:underline",children:x.title}),e.jsxs("span",{className:"text-muted-foreground",children:[x.progress,"Ùª"]})]}),e.jsx(Ka,{value:x.progress})]},x.id))})})]})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[e.jsxs(xe,{children:[e.jsxs(Xt,{className:"flex flex-row items-center justify-between",children:[e.jsx(Jt,{children:"Ø§Ù‡Ø¯Ø§Ù Ù…Ø§Ù‡Ø§Ù†Ù‡"}),e.jsx(I,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(Ht,{to:"/reports",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡"})})]}),e.jsx(ge,{children:e.jsx(u0,{values:[p.new_projects,p.completed,p.pending],labels:["Ø¬Ø¯ÛŒØ¯","ØªÚ©Ù…ÛŒÙ„â€ŒØ´Ø¯Ù‡","Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"]})})]}),e.jsxs(xe,{className:"lg:col-span-2",children:[e.jsx(Xt,{children:e.jsx(Jt,{children:"ÙˆØ¸Ø§ÛŒÙ Ø±ÙˆØ²Ø§Ù†Ù‡"})}),e.jsx(ge,{children:u.length===0?e.jsx("p",{className:"text-center text-sm text-muted-foreground py-4",children:"ÙˆØ¸ÛŒÙÙ‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ù…Ø±ÙˆØ² ØªØ¹ÛŒÛŒÙ† Ù†Ø´Ø¯Ù‡"}):e.jsx("div",{className:"space-y-2",children:u.map(x=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:x.title}),x.project&&e.jsx(Ct,{variant:"outline",className:"mt-1",children:x.project})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:x.due_time||x.due_date})]},x.id))})})]})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[e.jsxs(xe,{className:"lg:col-span-2",children:[e.jsx(Xt,{children:e.jsx(Jt,{children:"Ø®Ù„Ø§ØµÙ‡ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"})}),e.jsx(ge,{className:"p-0",children:e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"#"}),e.jsx(ne,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(ne,{children:"ÙˆØ¸Ø§ÛŒÙ"}),e.jsx(ne,{children:"Ù¾ÛŒØ´Ø±ÙØª"}),e.jsx(ne,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(ne,{children:"ØªØ§Ø±ÛŒØ®"}),e.jsx(ne,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(fn,{children:h.length===0?e.jsx(ut,{children:e.jsx(te,{colSpan:7,className:"text-center text-muted-foreground",children:"Ù…ÙˆØ±Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯"})}):h.map((x,j)=>e.jsxs(ut,{children:[e.jsx(te,{children:xt(j+1,i)}),e.jsx(te,{className:"font-medium",children:x.title}),e.jsxs(te,{children:[xt(x.done_tasks,i)," / ",xt(x.total_tasks,i)]}),e.jsx(te,{children:e.jsx(Ka,{value:x.progress,className:"w-20"})}),e.jsx(te,{children:e.jsx(Ct,{variant:"outline",children:x.status})}),e.jsx(te,{children:x.due_date||"-"}),e.jsx(te,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(I,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(Ht,{to:`/projects/${x.id}`,children:e.jsx(La,{className:"h-4 w-4"})})}),e.jsx(I,{variant:"ghost",size:"icon",children:e.jsx(In,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"icon",children:e.jsx(kn,{className:"h-4 w-4"})})]})})]},x.id))})]})})]}),e.jsxs(xe,{children:[e.jsxs(Xt,{className:"flex flex-row items-center justify-between",children:[e.jsx(Jt,{children:"Ø®Ù„Ø§ØµÙ‡ ÙˆØ¸Ø§ÛŒÙ"}),e.jsx(I,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(Ht,{to:"/tasks",children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡"})})]}),e.jsx(ge,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù†Ø±Ø® ØªÚ©Ù…ÛŒÙ„"}),e.jsxs("p",{className:"text-2xl font-bold",children:[xt(Math.round(c.completion_rate??0),i),"Ùª"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡"}),e.jsx("span",{children:xt(c.completed_tasks??0,i)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…"}),e.jsx("span",{children:xt((c.total_tasks??0)-(c.completed_tasks??0),i)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Ù…Ø¹ÙˆÙ‚"}),e.jsx("span",{children:xt(c.overdue_tasks??0,i)})]})]})]})})]})]})]})}function h0(){const[t,n]=o.useState(null),[s,r]=o.useState(!0),i=Dt()?.isRtl===!0;o.useEffect(()=>{let l=!1;return _e("puzzlingcrm_get_team_member_stats",{}).then(d=>{l||d.success&&d.data&&n(d.data)}).finally(()=>{l||r(!1)}),()=>{l=!0}},[]);const c=t??{total_tasks:0,completed_tasks:0,in_progress_tasks:0,overdue_tasks:0,total_projects:0,completion_rate:0,open_tickets:0};return s?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(l=>e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})})},l))}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",dir:i?"rtl":"ltr",children:[e.jsx(on,{title:"ÙˆØ¸Ø§ÛŒÙ Ù…Ù†",value:xt(c.total_tasks,i),description:c.completion_rate!=null?`${xt(Math.round(c.completion_rate),i)}Ùª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡`:void 0,icon:Fs}),e.jsx(on,{title:"ÙˆØ¸Ø§ÛŒÙ Ø§Ù†Ø¬Ø§Ù…â€ŒØ´Ø¯Ù‡",value:xt(c.completed_tasks,i),icon:ta}),e.jsx(on,{title:"ÙˆØ¸Ø§ÛŒÙ Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…",value:xt(c.in_progress_tasks,i),icon:qn}),e.jsx(on,{title:"ÙˆØ¸Ø§ÛŒÙ Ù…Ø¹ÙˆÙ‚",value:xt(c.overdue_tasks,i),icon:Fs}),e.jsx(on,{title:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù†",value:xt(c.total_projects,i),icon:qn}),e.jsx(on,{title:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²",value:xt(c.open_tickets,i),icon:Yo})]})}function f0(){const[t,n]=o.useState(null),[s,r]=o.useState(!0),i=Dt()?.isRtl===!0;o.useEffect(()=>{let l=!1;return _e("puzzlingcrm_get_client_stats",{}).then(d=>{l||d.success&&d.data&&n(d.data)}).finally(()=>{l||r(!1)}),()=>{l=!0}},[]);const c=t??{total_projects:0,active_projects:0,open_tickets:0,total_contracts:0,total_value:0,paid_amount:0,pending_amount:0};return s?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(l=>e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})})},l))}):e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",dir:i?"rtl":"ltr",children:[e.jsx(on,{title:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù†",value:xt(c.total_projects,i),description:c.active_projects!=null?`${xt(c.active_projects,i)} ÙØ¹Ø§Ù„`:void 0,icon:qn}),e.jsx(on,{title:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§",value:xt(c.total_contracts,i),icon:ta}),e.jsx(on,{title:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²",value:xt(c.open_tickets,i),icon:Yo}),e.jsx(on,{title:"Ù…Ø¨Ù„Øº Ú©Ù„ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§",value:xt(c.total_value,i),icon:Ug}),e.jsx(on,{title:"Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒØ´Ø¯Ù‡",value:xt(c.paid_amount,i),icon:ta}),e.jsx(on,{title:"Ù…Ø§Ù†Ø¯Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª",value:xt(c.pending_amount,i),icon:Fs})]})}function p0(){const t=Dt(),n=t?.user?.roleSlug??"client",s=t?.isRtl===!0;return e.jsxs("div",{className:"space-y-4",dir:s?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"}),n==="system_manager"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:"outline",size:"sm",children:[e.jsx(Ng,{className:"h-4 w-4"})," ÙÛŒÙ„ØªØ±"]}),e.jsxs(I,{size:"sm",children:[e.jsx($g,{className:"h-4 w-4"})," Ø§Ø´ØªØ±Ø§Ú©"]})]})]}),n==="system_manager"&&e.jsx(m0,{}),n==="team_member"&&e.jsx(h0,{}),(n==="client"||n==="finance_manager"||!n)&&e.jsx(f0,{})]})}const vn=Ao,x0=Io,Nm=o.forwardRef(({className:t,...n},s)=>e.jsx(ca,{ref:s,className:Y("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n}));Nm.displayName=ca.displayName;const ln=o.forwardRef(({className:t,children:n,showClose:s=!0,...r},a)=>e.jsxs(x0,{children:[e.jsx(Nm,{}),e.jsxs(da,{ref:a,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[n,s&&e.jsxs(Lo,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Xg,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ln.displayName=da.displayName;const cn=({className:t,...n})=>e.jsx("div",{className:Y("flex flex-col space-y-1.5 text-center sm:text-left",t),...n});cn.displayName="DialogHeader";const yn=({className:t,...n})=>e.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n});yn.displayName="DialogFooter";const dn=o.forwardRef(({className:t,...n},s)=>e.jsx(ua,{ref:s,className:Y("text-lg font-semibold leading-none tracking-tight",t),...n}));dn.displayName=ua.displayName;const g0=o.forwardRef(({className:t,...n},s)=>e.jsx(ma,{ref:s,className:Y("text-sm text-muted-foreground",t),...n}));g0.displayName=ma.displayName;function v0(t){const n=y0(t),s=o.forwardRef((r,a)=>{const{children:i,...c}=r,l=o.Children.toArray(i),d=l.find(b0);if(d){const u=d.props.children,h=l.map(m=>m===d?o.Children.count(u)>1?o.Children.only(null):o.isValidElement(u)?u.props.children:null:m);return e.jsx(n,{...c,ref:a,children:o.isValidElement(u)?o.cloneElement(u,void 0,h):null})}return e.jsx(n,{...c,ref:a,children:i})});return s.displayName=`${t}.Slot`,s}function y0(t){const n=o.forwardRef((s,r)=>{const{children:a,...i}=s;if(o.isValidElement(a)){const c=_0(a),l=w0(i,a.props);return a.type!==o.Fragment&&(l.ref=r?aa(r,c):c),o.cloneElement(a,l)}return o.Children.count(a)>1?o.Children.only(null):null});return n.displayName=`${t}.SlotClone`,n}var j0=Symbol("radix.slottable");function b0(t){return o.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===j0}function w0(t,n){const s={...n};for(const r in n){const a=t[r],i=n[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...l)=>{const d=i(...l);return a(...l),d}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...t,...s}}function _0(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning;return s?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=n&&"isReactWarning"in n&&n.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function N0(t){const n=o.useRef({value:t,previous:t});return o.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var Sm=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),S0="VisuallyHidden",C0=o.forwardRef((t,n)=>e.jsx(lt.span,{...t,ref:n,style:{...Sm,...t.style}}));C0.displayName=S0;var k0=[" ","Enter","ArrowUp","ArrowDown"],E0=[" ","Enter"],er="Select",[xi,gi,R0]=gc(er),[Dr]=nr(er,[R0,mi]),vi=mi(),[P0,Bs]=Dr(er),[D0,M0]=Dr(er),Cm=t=>{const{__scopeSelect:n,children:s,open:r,defaultOpen:a,onOpenChange:i,value:c,defaultValue:l,onValueChange:d,dir:u,name:h,autoComplete:m,disabled:p,required:x,form:j}=t,g=vi(n),[f,b]=o.useState(null),[v,_]=o.useState(null),[S,P]=o.useState(!1),F=vo(u),[C,T]=Ia({prop:r,defaultProp:a??!1,onChange:i,caller:er}),[z,L]=Ia({prop:c,defaultProp:l,onChange:d,caller:er}),M=o.useRef(null),B=f?j||!!f.closest("form"):!0,[ie,re]=o.useState(new Set),E=Array.from(ie).map(U=>U.props.value).join(";");return e.jsx(wu,{...g,children:e.jsxs(P0,{required:x,scope:n,trigger:f,onTriggerChange:b,valueNode:v,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:P,contentId:zs(),value:z,onValueChange:L,open:C,onOpenChange:T,dir:F,triggerPointerDownPosRef:M,disabled:p,children:[e.jsx(xi.Provider,{scope:n,children:e.jsx(D0,{scope:t.__scopeSelect,onNativeOptionAdd:o.useCallback(U=>{re(be=>new Set(be).add(U))},[]),onNativeOptionRemove:o.useCallback(U=>{re(be=>{const K=new Set(be);return K.delete(U),K})},[]),children:s})}),B?e.jsxs(Xm,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:m,value:z,onChange:U=>L(U.target.value),disabled:p,form:j,children:[z===void 0?e.jsx("option",{value:""}):null,Array.from(ie)]},E):null]})})};Cm.displayName=er;var km="SelectTrigger",Em=o.forwardRef((t,n)=>{const{__scopeSelect:s,disabled:r=!1,...a}=t,i=vi(s),c=Bs(km,s),l=c.disabled||r,d=gt(n,c.onTriggerChange),u=gi(s),h=o.useRef("touch"),[m,p,x]=Zm(g=>{const f=u().filter(_=>!_.disabled),b=f.find(_=>_.value===c.value),v=Qm(f,g,b);v!==void 0&&c.onValueChange(v.value)}),j=g=>{l||(c.onOpenChange(!0),x()),g&&(c.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return e.jsx(_u,{asChild:!0,...i,children:e.jsx(lt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Jm(c.value)?"":void 0,...a,ref:d,onClick:Ee(a.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&j(g)}),onPointerDown:Ee(a.onPointerDown,g=>{h.current=g.pointerType;const f=g.target;f.hasPointerCapture(g.pointerId)&&f.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(j(g),g.preventDefault())}),onKeyDown:Ee(a.onKeyDown,g=>{const f=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(f&&g.key===" ")&&k0.includes(g.key)&&(j(),g.preventDefault())})})})});Em.displayName=km;var Rm="SelectValue",Pm=o.forwardRef((t,n)=>{const{__scopeSelect:s,className:r,style:a,children:i,placeholder:c="",...l}=t,d=Bs(Rm,s),{onValueNodeHasChildrenChange:u}=d,h=i!==void 0,m=gt(n,d.onValueNodeChange);return un(()=>{u(h)},[u,h]),e.jsx(lt.span,{...l,ref:m,style:{pointerEvents:"none"},children:Jm(d.value)?e.jsx(e.Fragment,{children:c}):i})});Pm.displayName=Rm;var O0="SelectIcon",Dm=o.forwardRef((t,n)=>{const{__scopeSelect:s,children:r,...a}=t;return e.jsx(lt.span,{"aria-hidden":!0,...a,ref:n,children:r||"â–¼"})});Dm.displayName=O0;var T0="SelectPortal",Mm=t=>e.jsx(ti,{asChild:!0,...t});Mm.displayName=T0;var tr="SelectContent",Om=o.forwardRef((t,n)=>{const s=Bs(tr,t.__scopeSelect),[r,a]=o.useState();if(un(()=>{a(new DocumentFragment)},[]),!s.open){const i=r;return i?jo.createPortal(e.jsx(Tm,{scope:t.__scopeSelect,children:e.jsx(xi.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(Am,{...t,ref:n})});Om.displayName=tr;var ns=10,[Tm,Hs]=Dr(tr),A0="SelectContentImpl",I0=v0("SelectContent.RemoveScroll"),Am=o.forwardRef((t,n)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:c,side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:x,sticky:j,hideWhenDetached:g,avoidCollisions:f,...b}=t,v=Bs(tr,s),[_,S]=o.useState(null),[P,F]=o.useState(null),C=gt(n,y=>S(y)),[T,z]=o.useState(null),[L,M]=o.useState(null),B=gi(s),[ie,re]=o.useState(!1),E=o.useRef(!1);o.useEffect(()=>{if(_)return Do(_)},[_]),Po();const U=o.useCallback(y=>{const[A,...R]=B().map(at=>at.ref.current),[ee]=R.slice(-1),Ce=document.activeElement;for(const at of y)if(at===Ce||(at?.scrollIntoView({block:"nearest"}),at===A&&P&&(P.scrollTop=0),at===ee&&P&&(P.scrollTop=P.scrollHeight),at?.focus(),document.activeElement!==Ce))return},[B,P]),be=o.useCallback(()=>U([T,_]),[U,T,_]);o.useEffect(()=>{ie&&be()},[ie,be]);const{onOpenChange:K,triggerPointerDownPosRef:G}=v;o.useEffect(()=>{if(_){let y={x:0,y:0};const A=ee=>{y={x:Math.abs(Math.round(ee.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(ee.pageY)-(G.current?.y??0))}},R=ee=>{y.x<=10&&y.y<=10?ee.preventDefault():_.contains(ee.target)||K(!1),document.removeEventListener("pointermove",A),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",A),document.addEventListener("pointerup",R,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",R,{capture:!0})}}},[_,K,G]),o.useEffect(()=>{const y=()=>K(!1);return window.addEventListener("blur",y),window.addEventListener("resize",y),()=>{window.removeEventListener("blur",y),window.removeEventListener("resize",y)}},[K]);const[we,$]=Zm(y=>{const A=B().filter(Ce=>!Ce.disabled),R=A.find(Ce=>Ce.ref.current===document.activeElement),ee=Qm(A,y,R);ee&&setTimeout(()=>ee.ref.current.focus())}),ce=o.useCallback((y,A,R)=>{const ee=!E.current&&!R;(v.value!==void 0&&v.value===A||ee)&&(z(y),ee&&(E.current=!0))},[v.value]),Ze=o.useCallback(()=>_?.focus(),[_]),We=o.useCallback((y,A,R)=>{const ee=!E.current&&!R;(v.value!==void 0&&v.value===A||ee)&&M(y)},[v.value]),Re=r==="popper"?mo:Im,k=Re===mo?{side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:x,sticky:j,hideWhenDetached:g,avoidCollisions:f}:{};return e.jsx(Tm,{scope:s,content:_,viewport:P,onViewportChange:F,itemRefCallback:ce,selectedItem:T,onItemLeave:Ze,itemTextRefCallback:We,focusSelectedItem:be,selectedItemText:L,position:r,isPositioned:ie,searchRef:we,children:e.jsx(si,{as:I0,allowPinchZoom:!0,children:e.jsx(ei,{asChild:!0,trapped:v.open,onMountAutoFocus:y=>{y.preventDefault()},onUnmountAutoFocus:Ee(a,y=>{v.trigger?.focus({preventScroll:!0}),y.preventDefault()}),children:e.jsx(Qa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:y=>y.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:e.jsx(Re,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:y=>y.preventDefault(),...b,...k,onPlaced:()=>re(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ee(b.onKeyDown,y=>{const A=y.ctrlKey||y.altKey||y.metaKey;if(y.key==="Tab"&&y.preventDefault(),!A&&y.key.length===1&&$(y.key),["ArrowUp","ArrowDown","Home","End"].includes(y.key)){let ee=B().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(y.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(y.key)){const Ce=y.target,at=ee.indexOf(Ce);ee=ee.slice(at+1)}setTimeout(()=>U(ee)),y.preventDefault()}})})})})})})});Am.displayName=A0;var L0="SelectItemAlignedPosition",Im=o.forwardRef((t,n)=>{const{__scopeSelect:s,onPlaced:r,...a}=t,i=Bs(tr,s),c=Hs(tr,s),[l,d]=o.useState(null),[u,h]=o.useState(null),m=gt(n,C=>h(C)),p=gi(s),x=o.useRef(!1),j=o.useRef(!0),{viewport:g,selectedItem:f,selectedItemText:b,focusSelectedItem:v}=c,_=o.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&f&&b){const C=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),z=i.valueNode.getBoundingClientRect(),L=b.getBoundingClientRect();if(i.dir!=="rtl"){const Ce=L.left-T.left,at=z.left-Ce,pt=C.left-at,tt=C.width+pt,st=Math.max(tt,T.width),Ut=window.innerWidth-ns,$t=so(at,[ns,Math.max(ns,Ut-st)]);l.style.minWidth=tt+"px",l.style.left=$t+"px"}else{const Ce=T.right-L.right,at=window.innerWidth-z.right-Ce,pt=window.innerWidth-C.right-at,tt=C.width+pt,st=Math.max(tt,T.width),Ut=window.innerWidth-ns,$t=so(at,[ns,Math.max(ns,Ut-st)]);l.style.minWidth=tt+"px",l.style.right=$t+"px"}const M=p(),B=window.innerHeight-ns*2,ie=g.scrollHeight,re=window.getComputedStyle(u),E=parseInt(re.borderTopWidth,10),U=parseInt(re.paddingTop,10),be=parseInt(re.borderBottomWidth,10),K=parseInt(re.paddingBottom,10),G=E+U+ie+K+be,we=Math.min(f.offsetHeight*5,G),$=window.getComputedStyle(g),ce=parseInt($.paddingTop,10),Ze=parseInt($.paddingBottom,10),We=C.top+C.height/2-ns,Re=B-We,k=f.offsetHeight/2,y=f.offsetTop+k,A=E+U+y,R=G-A;if(A<=We){const Ce=M.length>0&&f===M[M.length-1].ref.current;l.style.bottom="0px";const at=u.clientHeight-g.offsetTop-g.offsetHeight,pt=Math.max(Re,k+(Ce?Ze:0)+at+be),tt=A+pt;l.style.height=tt+"px"}else{const Ce=M.length>0&&f===M[0].ref.current;l.style.top="0px";const pt=Math.max(We,E+g.offsetTop+(Ce?ce:0)+k)+R;l.style.height=pt+"px",g.scrollTop=A-We+g.offsetTop}l.style.margin=`${ns}px 0`,l.style.minHeight=we+"px",l.style.maxHeight=B+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[p,i.trigger,i.valueNode,l,u,g,f,b,i.dir,r]);un(()=>_(),[_]);const[S,P]=o.useState();un(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const F=o.useCallback(C=>{C&&j.current===!0&&(_(),v?.(),j.current=!1)},[_,v]);return e.jsx(F0,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:F,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:e.jsx(lt.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Im.displayName=L0;var z0="SelectPopperPosition",mo=o.forwardRef((t,n)=>{const{__scopeSelect:s,align:r="start",collisionPadding:a=ns,...i}=t,c=vi(s);return e.jsx(Nu,{...c,...i,ref:n,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mo.displayName=z0;var[F0,ll]=Dr(tr,{}),ho="SelectViewport",Lm=o.forwardRef((t,n)=>{const{__scopeSelect:s,nonce:r,...a}=t,i=Hs(ho,s),c=ll(ho,s),l=gt(n,i.onViewportChange),d=o.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(xi.Slot,{scope:s,children:e.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ee(a.onScroll,u=>{const h=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=c;if(p?.current&&m){const x=Math.abs(d.current-h.scrollTop);if(x>0){const j=window.innerHeight-ns*2,g=parseFloat(m.style.minHeight),f=parseFloat(m.style.height),b=Math.max(g,f);if(b<j){const v=b+x,_=Math.min(j,v),S=v-_;m.style.height=_+"px",m.style.bottom==="0px"&&(h.scrollTop=S>0?S:0,m.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});Lm.displayName=ho;var zm="SelectGroup",[$0,V0]=Dr(zm),W0=o.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t,a=zs();return e.jsx($0,{scope:s,id:a,children:e.jsx(lt.div,{role:"group","aria-labelledby":a,...r,ref:n})})});W0.displayName=zm;var Fm="SelectLabel",$m=o.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t,a=V0(Fm,s);return e.jsx(lt.div,{id:a.id,...r,ref:n})});$m.displayName=Fm;var Ga="SelectItem",[Y0,Vm]=Dr(Ga),Wm=o.forwardRef((t,n)=>{const{__scopeSelect:s,value:r,disabled:a=!1,textValue:i,...c}=t,l=Bs(Ga,s),d=Hs(Ga,s),u=l.value===r,[h,m]=o.useState(i??""),[p,x]=o.useState(!1),j=gt(n,v=>d.itemRefCallback?.(v,r,a)),g=zs(),f=o.useRef("touch"),b=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Y0,{scope:s,value:r,disabled:a,textId:g,isSelected:u,onItemTextChange:o.useCallback(v=>{m(_=>_||(v?.textContent??"").trim())},[]),children:e.jsx(xi.ItemSlot,{scope:s,value:r,disabled:a,textValue:h,children:e.jsx(lt.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:j,onFocus:Ee(c.onFocus,()=>x(!0)),onBlur:Ee(c.onBlur,()=>x(!1)),onClick:Ee(c.onClick,()=>{f.current!=="mouse"&&b()}),onPointerUp:Ee(c.onPointerUp,()=>{f.current==="mouse"&&b()}),onPointerDown:Ee(c.onPointerDown,v=>{f.current=v.pointerType}),onPointerMove:Ee(c.onPointerMove,v=>{f.current=v.pointerType,a?d.onItemLeave?.():f.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(c.onPointerLeave,v=>{v.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Ee(c.onKeyDown,v=>{d.searchRef?.current!==""&&v.key===" "||(E0.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});Wm.displayName=Ga;var Ur="SelectItemText",Ym=o.forwardRef((t,n)=>{const{__scopeSelect:s,className:r,style:a,...i}=t,c=Bs(Ur,s),l=Hs(Ur,s),d=Vm(Ur,s),u=M0(Ur,s),[h,m]=o.useState(null),p=gt(n,b=>m(b),d.onItemTextChange,b=>l.itemTextRefCallback?.(b,d.value,d.disabled)),x=h?.textContent,j=o.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:g,onNativeOptionRemove:f}=u;return un(()=>(g(j),()=>f(j)),[g,f,j]),e.jsxs(e.Fragment,{children:[e.jsx(lt.span,{id:d.textId,...i,ref:p}),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?jo.createPortal(i.children,c.valueNode):null]})});Ym.displayName=Ur;var Bm="SelectItemIndicator",Hm=o.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t;return Vm(Bm,s).isSelected?e.jsx(lt.span,{"aria-hidden":!0,...r,ref:n}):null});Hm.displayName=Bm;var fo="SelectScrollUpButton",Um=o.forwardRef((t,n)=>{const s=Hs(fo,t.__scopeSelect),r=ll(fo,t.__scopeSelect),[a,i]=o.useState(!1),c=gt(n,r.onScrollButtonChange);return un(()=>{if(s.viewport&&s.isPositioned){let l=function(){const u=d.scrollTop>0;i(u)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?e.jsx(Km,{...t,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});Um.displayName=fo;var po="SelectScrollDownButton",qm=o.forwardRef((t,n)=>{const s=Hs(po,t.__scopeSelect),r=ll(po,t.__scopeSelect),[a,i]=o.useState(!1),c=gt(n,r.onScrollButtonChange);return un(()=>{if(s.viewport&&s.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<u;i(h)};const d=s.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?e.jsx(Km,{...t,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=s;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});qm.displayName=po;var Km=o.forwardRef((t,n)=>{const{__scopeSelect:s,onAutoScroll:r,...a}=t,i=Hs("SelectScrollButton",s),c=o.useRef(null),l=gi(s),d=o.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return o.useEffect(()=>()=>d(),[d]),un(()=>{l().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),e.jsx(lt.div,{"aria-hidden":!0,...a,ref:n,style:{flexShrink:0,...a.style},onPointerDown:Ee(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Ee(a.onPointerMove,()=>{i.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Ee(a.onPointerLeave,()=>{d()})})}),B0="SelectSeparator",Gm=o.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t;return e.jsx(lt.div,{"aria-hidden":!0,...r,ref:n})});Gm.displayName=B0;var xo="SelectArrow",H0=o.forwardRef((t,n)=>{const{__scopeSelect:s,...r}=t,a=vi(s),i=Bs(xo,s),c=Hs(xo,s);return i.open&&c.position==="popper"?e.jsx(Su,{...a,...r,ref:n}):null});H0.displayName=xo;var U0="SelectBubbleInput",Xm=o.forwardRef(({__scopeSelect:t,value:n,...s},r)=>{const a=o.useRef(null),i=gt(r,a),c=N0(n);return o.useEffect(()=>{const l=a.current;if(!l)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==n&&h){const m=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(m)}},[c,n]),e.jsx(lt.select,{...s,style:{...Sm,...s.style},ref:i,defaultValue:n})});Xm.displayName=U0;function Jm(t){return t===""||t===void 0}function Zm(t){const n=en(t),s=o.useRef(""),r=o.useRef(0),a=o.useCallback(c=>{const l=s.current+c;n(l),(function d(u){s.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(l)},[n]),i=o.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return o.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,i]}function Qm(t,n,s){const a=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,i=s?t.indexOf(s):-1;let c=q0(t,Math.max(i,0));a.length===1&&(c=c.filter(u=>u!==s));const d=c.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==s?d:void 0}function q0(t,n){return t.map((s,r)=>t[(n+r)%t.length])}var K0=Cm,eh=Em,G0=Pm,X0=Dm,J0=Mm,th=Om,Z0=Lm,nh=$m,sh=Wm,Q0=Ym,eb=Hm,rh=Um,ah=qm,ih=Gm;const Le=K0,ze=G0,Me=o.forwardRef(({className:t,children:n,...s},r)=>e.jsxs(eh,{ref:r,className:Y("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[n,e.jsx(X0,{asChild:!0,children:e.jsx(Td,{className:"h-4 w-4 opacity-50"})})]}));Me.displayName=eh.displayName;const oh=o.forwardRef(({className:t,...n},s)=>e.jsx(rh,{ref:s,className:Y("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(yg,{className:"h-4 w-4"})}));oh.displayName=rh.displayName;const lh=o.forwardRef(({className:t,...n},s)=>e.jsx(ah,{ref:s,className:Y("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(Td,{className:"h-4 w-4"})}));lh.displayName=ah.displayName;const Oe=o.forwardRef(({className:t,children:n,position:s="popper",...r},a)=>e.jsx(J0,{children:e.jsxs(th,{ref:a,className:Y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...r,children:[e.jsx(oh,{}),e.jsx(Z0,{className:Y("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(lh,{})]})}));Oe.displayName=th.displayName;const tb=o.forwardRef(({className:t,...n},s)=>e.jsx(nh,{ref:s,className:Y("px-2 py-1.5 text-sm font-semibold",t),...n}));tb.displayName=nh.displayName;const se=o.forwardRef(({className:t,children:n,value:s,...r},a)=>e.jsxs(sh,{ref:a,className:Y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),value:s===""?"__empty__":s,...r,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(eb,{children:e.jsx(vg,{className:"h-4 w-4"})})}),e.jsx(Q0,{children:n})]}));se.displayName=sh.displayName;const nb=o.forwardRef(({className:t,...n},s)=>e.jsx(ih,{ref:s,className:Y("-mx-1 my-1 h-px bg-muted",t),...n}));nb.displayName=ih.displayName;async function sb(t){return await _e("puzzling_get_leads",t)}async function rb(t){const n={first_name:t.first_name,last_name:t.last_name,mobile:t.mobile};return t.email?.trim()&&(n.email=t.email.trim()),t.business_name?.trim()&&(n.business_name=t.business_name.trim()),t.gender?.trim()&&(n.gender=t.gender.trim()),t.notes?.trim()&&(n.notes=t.notes.trim()),t.lead_source?.trim()&&(n.lead_source=t.lead_source.trim()),t.campaign_id!=null&&t.campaign_id>0&&(n.campaign_id=t.campaign_id),_e("puzzling_add_lead",n)}async function ab(t,n,s){const r={lead_id:t,assigned_to:n};return s?.trim()&&(r.note=s.trim()),_e("puzzling_assign_lead",r)}async function ib(t){return _e("puzzlingcrm_get_lead_assignees",{search:""})}async function ob(t){return _e("puzzlingcrm_get_lead_for_contract",{lead_id:t})}async function lb(t){return _e("puzzlingcrm_create_customer_from_lead",{lead_id:t})}const cb={new:"secondary",assigned:"default","in-progress":"outline",contracted:"default",converted:"default",cancelled:"destructive"};function Kl({slug:t,name:n}){const s=cb[t]??"secondary";return e.jsx(Ct,{variant:s,children:n})}function db(){const n=Dt()?.isRtl===!0,s=Ps(),[r,a]=o.useState([]),[i,c]=o.useState(0),[l,d]=o.useState([]),[u,h]=o.useState([]),[m,p]=o.useState([]),[x,j]=o.useState(!0),[g,f]=o.useState(null),[b,v]=o.useState(!1),[_,S]=o.useState(!1),[P,F]=o.useState({first_name:"",last_name:"",mobile:"",email:"",business_name:"",gender:"",notes:"",lead_source:"",campaign_id:0}),[C,T]=o.useState(""),[z,L]=o.useState(null),[M,B]=o.useState(0),[ie,re]=o.useState(""),[E,U]=o.useState(!1),[be,K]=o.useState([]),[G,we]=o.useState(!1),[$,ce]=o.useState(null),Ze=async()=>{j(!0),f(null);try{const y=await sb({paged:1,per_page:20,status_filter:C||void 0});if(y.success&&y.data){const A=y.data;a(A.leads),c(A.total),d(A.statuses??[]),h(A.lead_sources??[]),p(A.campaigns??[])}else f(y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§")}catch{f("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§")}finally{j(!1)}};o.useEffect(()=>{Ze()},[C]);const We=async()=>{we(!0);try{const y=await ib();y.success&&y.data?.users&&K(y.data.users)}finally{we(!1)}};o.useEffect(()=>{z&&(We(),B(z.assigned_to??0),re(""))},[z]);const Re=async y=>{if(y.preventDefault(),!P.first_name.trim()||!P.last_name.trim()||!P.mobile.trim()){f("Ù†Ø§Ù…ØŒ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ùˆ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¶Ø±ÙˆØ±ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}S(!0),f(null);const A=await rb({first_name:P.first_name.trim(),last_name:P.last_name.trim(),mobile:P.mobile.trim(),email:P.email.trim()||void 0,business_name:P.business_name.trim()||void 0,gender:P.gender||void 0,notes:P.notes.trim()||void 0,lead_source:P.lead_source.trim()||void 0,campaign_id:P.campaign_id>0?P.campaign_id:void 0});S(!1),A.success?(v(!1),F({first_name:"",last_name:"",mobile:"",email:"",business_name:"",gender:"",notes:"",lead_source:"",campaign_id:0}),Ze()):f(A.message??"Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ø³Ø±Ù†Ø®")},k=async y=>{if(y.preventDefault(),!z)return;U(!0),f(null);const A=await ab(z.id,M,ie||void 0);U(!1),A.success?(L(null),Ze()):f(A.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø¬Ø§Ø¹")};return e.jsxs("div",{className:Y("space-y-4",n&&"text-right"),dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§"}),e.jsxs(I,{onClick:()=>v(!0),children:[e.jsx(En,{className:"h-4 w-4 ml-2"}),"Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø±Ù†Ø®"]})]}),g&&e.jsx(Sn,{variant:"destructive",children:e.jsx(Cn,{children:g})}),e.jsxs(xe,{children:[e.jsx(Xt,{children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs(Jt,{children:["Ù„ÛŒØ³Øª Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§ ",i>0?`(${i})`:"",l.length>0?` Â· ${l.length} ÙˆØ¶Ø¹ÛŒØª`:""]}),l.length>0&&e.jsxs(Le,{value:C||"_all",onValueChange:y=>T(y==="_all"?"":y),children:[e.jsx(Me,{className:"w-40",children:e.jsx(ze,{placeholder:"Ù‡Ù…Ù‡ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:"_all",children:"Ù‡Ù…Ù‡ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§"}),l.map(y=>e.jsx(se,{value:y.slug,children:y.name},y.slug))]})]})]})}),e.jsx(ge,{children:x?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ù†Ø§Ù…"}),e.jsx(ne,{children:"Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(ne,{children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(ne,{children:"Ù…Ù†Ø¨Ø¹"}),e.jsx(ne,{children:"Ø§Ø±Ø¬Ø§Ø¹ Ø¨Ù‡"}),e.jsx(ne,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(ne,{children:"ØªØ§Ø±ÛŒØ®"}),e.jsx(ne,{className:"w-24",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(fn,{children:r.length===0?e.jsx(ut,{children:e.jsx(te,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"Ø³Ø±Ù†Ø®ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."})}):r.map(y=>e.jsxs(ut,{children:[e.jsxs(te,{className:"font-medium",children:[y.first_name," ",y.last_name]}),e.jsx(te,{dir:"ltr",children:y.mobile}),e.jsx(te,{dir:"ltr",children:y.email||"â€”"}),e.jsx(te,{children:y.lead_source_name||"â€”"}),e.jsx(te,{children:y.assigned_to_name||"â€”"}),e.jsx(te,{children:e.jsx(Kl,{slug:y.status_slug,name:y.status_name})}),e.jsx(te,{children:y.date}),e.jsx(te,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>ce(y),title:"Ù…Ø´Ø§Ù‡Ø¯Ù‡",children:e.jsx(La,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>L(y),title:"Ø§Ø±Ø¬Ø§Ø¹",children:e.jsx(Er,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>s(`/contracts?action=new&from_lead=${y.id}`),title:"Ø§ÛŒØ¬Ø§Ø¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯",children:e.jsx(Vs,{className:"h-4 w-4"})})]})})]},y.id))})]})})]}),e.jsx(vn,{open:b,onOpenChange:v,children:e.jsxs(ln,{children:[e.jsx(cn,{children:e.jsx(dn,{children:"Ø§ÙØ²ÙˆØ¯Ù† Ø³Ø±Ù†Ø®"})}),e.jsxs("form",{onSubmit:Re,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"first_name",children:"Ù†Ø§Ù… *"}),e.jsx(oe,{id:"first_name",value:P.first_name,onChange:y=>F(A=>({...A,first_name:y.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"last_name",children:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *"}),e.jsx(oe,{id:"last_name",value:P.last_name,onChange:y=>F(A=>({...A,last_name:y.target.value})),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"mobile",children:"Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ *"}),e.jsx(oe,{id:"mobile",type:"tel",dir:"ltr",value:P.mobile,onChange:y=>F(A=>({...A,mobile:y.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"email",children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(oe,{id:"email",type:"email",dir:"ltr",value:P.email,onChange:y=>F(A=>({...A,email:y.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"business_name",children:"Ù†Ø§Ù… Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±"}),e.jsx(oe,{id:"business_name",value:P.business_name,onChange:y=>F(A=>({...A,business_name:y.target.value}))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ù†Ø¨Ø¹ ÙˆØ±ÙˆØ¯"}),e.jsxs(Le,{value:P.lead_source||"_none",onValueChange:y=>F(A=>({...A,lead_source:y==="_none"?"":y})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:"_none",children:"â€”"}),u.map(y=>e.jsx(se,{value:y.slug,children:y.name},y.slug))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ú©Ù…Ù¾ÛŒÙ†"}),e.jsxs(Le,{value:P.campaign_id>0?String(P.campaign_id):"_none",onValueChange:y=>F(A=>({...A,campaign_id:y==="_none"?0:parseInt(y,10)})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:"_none",children:"â€”"}),m.map(y=>e.jsx(se,{value:String(y.id),children:y.title},y.id))]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø¬Ù†Ø³ÛŒØª"}),e.jsxs(Le,{value:P.gender||void 0,onValueChange:y=>F(A=>({...A,gender:y})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:"male",children:"Ø¢Ù‚Ø§"}),e.jsx(se,{value:"female",children:"Ø®Ø§Ù†Ù…"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"notes",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øª"}),e.jsx(oe,{id:"notes",value:P.notes,onChange:y=>F(A=>({...A,notes:y.target.value}))})]}),e.jsxs(yn,{children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{type:"submit",disabled:_,children:["Ø°Ø®ÛŒØ±Ù‡",_?e.jsx(Fe,{className:"h-4 w-4 animate-spin ml-2"}):null]})]})]})]})}),e.jsx(vn,{open:!!z,onOpenChange:y=>!y&&L(null),children:e.jsxs(ln,{children:[e.jsx(cn,{children:e.jsxs(dn,{children:["Ø§Ø±Ø¬Ø§Ø¹ Ø³Ø±Ù†Ø®",z&&e.jsxs("span",{className:"font-normal text-muted-foreground mr-2",children:["â€” ",z.first_name," ",z.last_name]})]})}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø§Ø±Ø¬Ø§Ø¹ Ø¨Ù‡ Ú©Ø§Ø±Ø´Ù†Ø§Ø³ ÙØ±ÙˆØ´"}),G?e.jsxs("div",{className:"flex items-center gap-2 py-2",children:[e.jsx(Fe,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ..."})]}):e.jsxs(Le,{value:M>0?String(M):"_none",onValueChange:y=>B(y==="_none"?0:parseInt(y,10)),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:"_none",children:"Ø¨Ø¯ÙˆÙ† Ø§Ø±Ø¬Ø§Ø¹"}),be.map(y=>e.jsx(se,{value:String(y.id),children:y.display_name},y.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"assign_note",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ø§Ø±Ø¬Ø§Ø¹"}),e.jsx(oe,{id:"assign_note",value:ie,onChange:y=>re(y.target.value),placeholder:"ØªÙˆØ¶ÛŒØ­ Ù…Ø®ØªØµØ± Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø¬Ø§Ø¹..."})]}),e.jsxs(yn,{children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>L(null),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{type:"submit",disabled:E,children:["Ø§Ø±Ø¬Ø§Ø¹",E?e.jsx(Fe,{className:"h-4 w-4 animate-spin ml-2"}):null]})]})]})]})}),e.jsx(vn,{open:!!$,onOpenChange:y=>!y&&ce(null),children:e.jsxs(ln,{className:"max-w-lg",children:[e.jsx(cn,{children:e.jsx(dn,{children:"Ø¬Ø²Ø¦ÛŒØ§Øª Ø³Ø±Ù†Ø®"})}),$&&e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("div",{className:"flex justify-end mb-2",children:e.jsxs(I,{size:"sm",onClick:()=>{ce(null),s(`/contracts?action=new&from_lead=${$.id}`)},children:[e.jsx(Vs,{className:"h-4 w-4 ml-2"}),"Ø§ÛŒØ¬Ø§Ø¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Ù†Ø§Ù…:"}),e.jsxs("span",{children:[$.first_name," ",$.last_name]}),e.jsx("span",{className:"text-muted-foreground",children:"Ù…ÙˆØ¨Ø§ÛŒÙ„:"}),e.jsx("span",{dir:"ltr",children:$.mobile}),e.jsx("span",{className:"text-muted-foreground",children:"Ø§ÛŒÙ…ÛŒÙ„:"}),e.jsx("span",{dir:"ltr",children:$.email||"â€”"}),e.jsx("span",{className:"text-muted-foreground",children:"Ù†Ø§Ù… Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±:"}),e.jsx("span",{children:$.business_name||"â€”"}),e.jsx("span",{className:"text-muted-foreground",children:"Ù…Ù†Ø¨Ø¹ ÙˆØ±ÙˆØ¯:"}),e.jsx("span",{children:$.lead_source_name||"â€”"}),e.jsx("span",{className:"text-muted-foreground",children:"Ø§Ø±Ø¬Ø§Ø¹ Ø¨Ù‡:"}),e.jsx("span",{children:$.assigned_to_name||"â€”"}),e.jsx("span",{className:"text-muted-foreground",children:"ÙˆØ¶Ø¹ÛŒØª:"}),e.jsx("span",{children:e.jsx(Kl,{slug:$.status_slug,name:$.status_name})}),e.jsx("span",{className:"text-muted-foreground",children:"ØªØ§Ø±ÛŒØ®:"}),e.jsx("span",{children:$.date}),$.last_assignment_note?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-muted-foreground",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ø§Ø±Ø¬Ø§Ø¹:"}),e.jsx("span",{children:$.last_assignment_note})]}):null,$.notes?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-muted-foreground",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øª:"}),e.jsx("span",{className:"whitespace-pre-wrap",children:$.notes})]}):null]}),$.form_submission_data&&$.form_submission_data.length>0?e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ±Ù…"}),e.jsx("div",{className:"space-y-2 text-sm",children:$.form_submission_data.map((y,A)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:"text-muted-foreground shrink-0 min-w-24",children:[y.label,":"]}),e.jsx("span",{className:"whitespace-pre-wrap break-words",children:y.value||"â€”"})]},A))})]}):null]})]})})]})}async function ub(t){const n=new FormData;return n.set("first_name",t.first_name),n.set("last_name",t.last_name),t.pzl_mobile_phone!=null&&n.set("pzl_mobile_phone",t.pzl_mobile_phone),t.password?.trim()&&n.set("password",t.password),t.password_confirm?.trim()&&n.set("password_confirm",t.password_confirm),t.pzl_profile_picture&&n.set("pzl_profile_picture",t.pzl_profile_picture),ya("puzzling_update_my_profile",n)}function mb(){const t=Dt(),n=t?.isRtl===!0,s=t?.user,[r,a]=o.useState({first_name:s?.first_name??s?.name?.split(" ")?.[0]??"",last_name:s?.last_name??s?.name?.split(" ")?.slice(1).join(" ")??"",pzl_mobile_phone:s?.pzl_mobile_phone??"",password:"",password_confirm:""}),[i,c]=o.useState(null),[l,d]=o.useState(null),[u,h]=o.useState(!1),[m,p]=o.useState(null),[x,j]=o.useState(!1),g=v=>{const _=v.target.files?.[0];_?(c(_),d(URL.createObjectURL(_))):(c(null),d(null))},f=async v=>{if(v.preventDefault(),p(null),j(!1),!r.last_name.trim()){p("Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ø¶Ø±ÙˆØ±ÛŒ Ø§Ø³Øª.");return}if(r.password&&r.password!==r.password_confirm){p("Ø±Ù…Ø²Ù‡Ø§ÛŒ Ø¹Ø¨ÙˆØ± ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡ ÛŒÚ©Ø³Ø§Ù† Ù†ÛŒØ³ØªÙ†Ø¯.");return}h(!0);try{const _=await ub({first_name:r.first_name.trim(),last_name:r.last_name.trim(),pzl_mobile_phone:r.pzl_mobile_phone.trim()||void 0,password:r.password||void 0,password_confirm:r.password_confirm||void 0,pzl_profile_picture:i??void 0});_.success?(j(!0),a(S=>({...S,password:"",password_confirm:""})),c(null),d(null),_.data?.reload&&window.location.reload()):p(_.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ø±ÙˆÙØ§ÛŒÙ„")}catch{p("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾Ø±ÙˆÙØ§ÛŒÙ„")}finally{h(!1)}},b=l??s?.avatarLarge??s?.avatar;return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù…Ù†"})}),m&&e.jsx(Sn,{variant:"destructive",children:e.jsx(Cn,{children:m})}),x&&e.jsx(Sn,{children:e.jsx(Cn,{children:"Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯."})}),e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[e.jsxs("div",{className:"flex flex-col items-start gap-2",children:[e.jsx(H,{children:"Ø¹Ú©Ø³ Ù¾Ø±ÙˆÙØ§ÛŒÙ„"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ha,{className:"h-24 w-24",children:[e.jsx(fa,{src:b,alt:s?.name}),e.jsx(pa,{children:e.jsx(br,{className:"h-12 w-12"})})]}),e.jsx(oe,{type:"file",accept:"image/*",onChange:g,className:"max-w-[200px]"})]})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ØµÙ„ÛŒ Ùˆ ÙˆØ±ÙˆØ¯"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"first_name",children:"Ù†Ø§Ù…"}),e.jsx(oe,{id:"first_name",value:r.first_name,onChange:v=>a(_=>({..._,first_name:v.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"last_name",children:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *"}),e.jsx(oe,{id:"last_name",value:r.last_name,onChange:v=>a(_=>({..._,last_name:v.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(H,{htmlFor:"email",children:"Ø§ÛŒÙ…ÛŒÙ„ (ØºÛŒØ±Ù‚Ø§Ø¨Ù„ ØªØºÛŒÛŒØ±)"}),e.jsx(oe,{id:"email",type:"email",value:s?.email??"",disabled:!0,className:"bg-muted"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"pzl_mobile_phone",children:"Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(oe,{id:"pzl_mobile_phone",dir:"ltr",className:"text-left",value:r.pzl_mobile_phone,onChange:v=>a(_=>({..._,pzl_mobile_phone:v.target.value}))})]})]}),e.jsx("hr",{}),e.jsx("h4",{className:"font-medium",children:"ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±ØŒ Ù‡Ø± Ø¯Ùˆ ÙÛŒÙ„Ø¯ Ø²ÛŒØ± Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯. Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±ØªØŒ Ø¢Ù† Ø±Ø§ Ø®Ø§Ù„ÛŒ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯."}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"password",children:"Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯"}),e.jsx(oe,{id:"password",type:"password",value:r.password,onChange:v=>a(_=>({..._,password:v.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"password_confirm",children:"ØªÚ©Ø±Ø§Ø± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯"}),e.jsx(oe,{id:"password_confirm",type:"password",value:r.password_confirm,onChange:v=>a(_=>({..._,password_confirm:v.target.value}))})]})]})]})]}),e.jsx("div",{children:e.jsxs(I,{type:"submit",disabled:u,children:[u&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin",n?"ms-2":"me-2")}),"Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª"]})})]})})})]})}var Yi={},Ta={exports:{}},hb=Ta.exports,Gl;function fb(){return Gl||(Gl=1,(function(t,n){(function(s,r){t.exports=r(Hh(),yo())})(hb,(function(s,r){function a(f){return f&&typeof f=="object"&&"default"in f?f:{default:f}}var i=a(r);function c(f,b){var v=Object.keys(f);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(f);b&&(_=_.filter((function(S){return Object.getOwnPropertyDescriptor(f,S).enumerable}))),v.push.apply(v,_)}return v}function l(f){for(var b=1;b<arguments.length;b++){var v=arguments[b]!=null?arguments[b]:{};b%2?c(Object(v),!0).forEach((function(_){d(f,_,v[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(v)):c(Object(v)).forEach((function(_){Object.defineProperty(f,_,Object.getOwnPropertyDescriptor(v,_))}))}return f}function d(f,b,v){return b in f?Object.defineProperty(f,b,{value:v,enumerable:!0,configurable:!0,writable:!0}):f[b]=v,f}function u(f,b){return(function(v){if(Array.isArray(v))return v})(f)||(function(v,_){var S=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(S!=null){var P,F,C=[],T=!0,z=!1;try{for(S=S.call(v);!(T=(P=S.next()).done)&&(C.push(P.value),!_||C.length!==_);T=!0);}catch(L){z=!0,F=L}finally{try{T||S.return==null||S.return()}finally{if(z)throw F}}return C}})(f,b)||(function(v,_){if(v){if(typeof v=="string")return h(v,_);var S=Object.prototype.toString.call(v).slice(8,-1);if(S==="Object"&&v.constructor&&(S=v.constructor.name),S==="Map"||S==="Set")return Array.from(v);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return h(v,_)}})(f,b)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function h(f,b){(b==null||b>f.length)&&(b=f.length);for(var v=0,_=new Array(b);v<b;v++)_[v]=f[v];return _}function m(f,b){var v=f.element,_=f.popper,S=f.position,P=S===void 0?"bottom-center":S,F=f.containerStyle,C=f.containerClassName,T=C===void 0?"":C,z=f.arrow,L=f.arrowStyle,M=L===void 0?{}:L,B=f.arrowClassName,ie=B===void 0?"":B,re=f.fixMainPosition,E=f.fixRelativePosition,U=f.offsetY,be=f.offsetX,K=f.animations,G=f.zIndex,we=G===void 0?0:G,$=f.popperShadow,ce=f.onChange,Ze=f.active,We=Ze===void 0||Ze,Re=f.portal,k=f.portalTarget,y=typeof window<"u",A=y&&k instanceof HTMLElement,R=z===!0,ee=_&&We===!0,Ce=r.useRef(),at=r.useRef(),pt=r.useRef(),tt=r.useRef(),st=r.useMemo((function(){return{position:P,fixMainPosition:re,fixRelativePosition:E,offsetY:U,offsetX:be,defaultArrow:R,animations:K,zIndex:we,onChange:ce}}),[P,re,E,U,be,R,K,ce,we]),Ut=r.useCallback((function(){pt.current&&(pt.current.style.transition=""),at.current&&(at.current.parentNode.style.transition="")}),[]),$t={element:l({display:"inline-block",height:"max-content"},F),arrow:l({visibility:"hidden",left:"0",top:"0",position:"absolute"},M),popper:{position:"absolute",left:"0",top:"0",willChange:"transform",visibility:"hidden",zIndex:we}};y&&!tt.current&&(tt.current=document.createElement("div"),tt.current.data={portal:Re,isValidPortalTarget:A}),r.useEffect((function(){if(Re&&!A){var ht=tt.current;return document.body.appendChild(ht),function(){document.body.contains(ht)&&document.body.removeChild(ht)}}}),[Re,A]),r.useEffect((function(){if(!ee)return Ut(),at.current.parentNode.style.visibility="hidden",void(pt.current&&(pt.current.style.visibility="hidden"));function ht(Zt){Zt&&Zt.type!=="resize"&&!Zt.target.contains(Ce.current)||(Zt&&Ut(),p(Ce,at,pt,st,Zt))}return ht(),document.addEventListener("scroll",ht,!0),window.addEventListener("resize",ht),function(){document.removeEventListener("scroll",ht,!0),window.removeEventListener("resize",ht)}}),[ee,st,Ut]),r.useEffect((function(){var ht={portal:Re,isValidPortalTarget:A},Zt=tt.current.data;JSON.stringify(ht)!==JSON.stringify(Zt)&&(tt.current.data=ht,Ce.current.refreshPosition())}),[Re,A]);var nn=i.default.createElement(i.default.Fragment,null,(function(){if(!z||!ee)return null;var ht=i.default.createElement("div",{ref:pt,style:$t.arrow}),Zt=r.isValidElement(z)?{children:z}:{className:"ep-arrow ".concat($?"ep-shadow":""," ").concat(ie)};return r.cloneElement(ht,Zt)})(),i.default.createElement("div",{className:$?"ep-popper-shadow":"",style:$t.popper},i.default.createElement("div",{ref:at},_)));return i.default.createElement("div",{ref:function(ht){if(ht&&(ht.removeTransition=Ut,ht.refreshPosition=function(){return setTimeout((function(){return p(Ce,at,pt,st,{})}),10)}),Ce.current=ht,b instanceof Function)return b(ht);b&&(b.current=ht)},className:T,style:$t.element},v,Re&&y?s.createPortal(nn,A?k:tt.current):nn)}function p(f,b,v,_,S){var P=_.position,F=_.fixMainPosition,C=_.fixRelativePosition,T=_.offsetY,z=T===void 0?0:T,L=_.offsetX,M=L===void 0?0:L,B=_.defaultArrow,ie=_.animations,re=ie===void 0?[]:ie,E=_.zIndex,U=_.onChange;if(f.current&&b.current){var be,K,G,we,$=(K=window.pageXOffset!==void 0,G=(document.compatMode||"")==="CSS1Compat",{scrollLeft:K?window.pageXOffset:G?document.documentElement.scrollLeft:document.body.scrollLeft,scrollTop:K?window.pageYOffset:G?document.documentElement.scrollTop:document.body.scrollTop}),ce=$.scrollLeft,Ze=$.scrollTop,We=x(f.current,ce,Ze),Re=We.top,k=We.left,y=We.height,A=We.width,R=We.right,ee=We.bottom,Ce=x(b.current,ce,Ze),at=Ce.top,pt=Ce.left,tt=Ce.height,st=Ce.width,Ut=document.documentElement,$t=Ut.clientHeight,nn=Ut.clientWidth,ht=b.current.parentNode,Zt=(function(qe){if(!qe)return[0,0];var Ie=u((qe.style.transform.match(/translate\((.*?)px,\s(.*?)px\)/)||[]).map((function(Je){return Number(Je)})),3),Se=Ie[1],$e=Se===void 0?0:Se,Ke=Ie[2];return[$e,Ke===void 0?0:Ke]})(ht),cs=u(Zt,2),Z=cs[0],it=cs[1],bn=(function(qe){var Ie=u(qe.split("-"),2),Se=Ie[0],$e=Se===void 0?"bottom":Se,Ke=Ie[1],Je=Ke===void 0?"center":Ke;$e==="auto"&&($e="bottom"),Je==="auto"&&(Je="center");var Vt=$e==="top"||$e==="bottom",Mt=$e==="left"||$e==="right";return Mt&&(Je==="start"&&(Je="top"),Je==="end"&&(Je="bottom")),Vt&&(Je==="start"&&(Je="left"),Je==="end"&&(Je="right")),[$e,Je,Vt,Mt]})(P),w=u(bn,4),D=w[0],O=w[1],V=w[2],J=w[3],X=D,he=function(qe,Ie){return"translate(".concat(qe,"px, ").concat(Ie,"px)")},fe=A-st,pe=y-tt,ve=O==="left"?0:O==="right"?fe:fe/2,ae=fe-ve,ye=O==="top"?0:O==="bottom"?pe:pe/2,le=pe-ye,Pe=k-pt+Z,Ge=Re-at+it,Ue=0,Ye=0,N=j(f.current),q=[],de=v.current,Be=x(de,ce,Ze)||{},Ve=Be.height,Te=Ve===void 0?0:Ve,ft=Be.width,Qe=ft===void 0?0:ft,ke=Pe,Ne=Ge,De={top:"bottom",bottom:"top",left:"right",right:"left"};for(V&&(Pe+=ve,Ge+=D==="top"?-tt:y,B&&(Te=11,Qe=20)),J&&(Pe+=D==="left"?-st:A,Ge+=ye,B&&(Te=20,Qe=11));N;)q.push(N),Xe(x(N,ce,Ze)),N=j(N.parentNode);Xe({top:Ze,bottom:Ze+$t,left:ce,right:ce+nn,height:$t,width:nn}),V&&(Ge+=X==="bottom"?z:-z),J&&(Pe+=X==="right"?M:-M),Pe-=Ue,Ge-=Ye,be=De[X],de&&(V&&((we=A<st)?ke+=A/2:ke=Pe+st/2,ke-=Qe/2,X==="bottom"&&(Ne=Ge,Ge+=Te),X==="top"&&(Ne=(Ge-=Te)+tt),Ue<0&&Ue-ve<0&&(we?ke+=(ve-Ue)/2:A-ve+Ue<st&&(ke+=(A-ve+Ue-st)/2)),Ue>0&&Ue+ae>0&&(we?ke-=(Ue+ae)/2:A-Ue-ae<st&&(ke-=(A-Ue-ae-st)/2))),J&&((we=y<tt)?Ne+=y/2:Ne=Ge+tt/2,Ne-=Te/2,X==="left"&&(ke=(Pe-=Qe)+st),X==="right"&&(ke=Pe,Pe+=Qe),Ye<0&&Ye-ye<0&&(we?Ne+=(ye-Ye)/2:y-ye+Ye<tt&&(Ne+=(y-ye+Ye-tt)/2)),Ye>0&&Ye+le>0&&(we?Ne-=(Ye+le)/2:y-Ye-le<tt&&(Ne-=(y-Ye-le-tt)/2))),de.setAttribute("direction",be),de.style.height=Te+"px",de.style.width=Qe+"px",de.style.transform=he(ke,Ne),de.style.visibility="visible",de.style.zIndex=E+1),ht.style.transform=he(Pe,Ge);var Ae={popper:{top:Ge,bottom:Ge+tt,left:Pe,right:Pe+st,height:tt,width:st},element:{top:Re,bottom:ee,left:k,right:R,height:y,width:A},arrow:{top:Ne,bottom:Ne+Te,left:ke,right:ke+Qe,height:Te,width:Qe,direction:be},position:X+"-"+(Ue!==0?"auto":O),scroll:{scrollLeft:ce,scrollTop:Ze},scrollableParents:q,event:S};S||re.forEach((function(qe){qe({popper:ht,arrow:de,data:l(l({},Ae),{},{getTransform:he,mirror:De})})})),ht.style.visibility="visible",typeof U=="function"&&U(Ae)}function Xe(qe){var Ie=qe.top,Se=qe.bottom,$e=qe.left,Ke=qe.right,Je=qe.height,Vt=qe.width;if(V){var Mt=Math.round(Re-Ie+y/2),Ln=Math.round(Je/2);F||(Re-(tt+z+Te)<Ie&&Mt<=Ln&&X==="top"?(Ge+=tt+y,X="bottom"):ee+tt+z+Te>Je+Ie&&Mt>=Ln&&X==="bottom"&&(Ge-=tt+y,X="top")),C||(k+ve<$e&&(Ue=g(R-Qe>$e?k+ve-$e:-A+ve+Qe,Ue)),R-ae>Ke&&(Ue=g(k+Qe<Ke?R-ae-Ke:A-ae-Qe,Ue)))}if(J){var rt=Math.round(k-$e+A/2),ct=Math.round(Vt/2);F||(k-(st+M+Qe)<$e&&rt<ct&&X==="left"?(Pe+=A+st,X="right"):R+st+M+Qe>Ke&&rt>ct&&X==="right"&&(Pe-=A+st,X="left")),C||(Re+ye<Ie&&(Ye=g(ee-Te>Ie?Re+ye-Ie:-y+ye+Te,Ye)),ee-le>Se&&(Ye=g(Re+Te<Se?ee-le-Se:y-le-Te,Ye)))}}}function x(f,b,v){if(f){var _=f.getBoundingClientRect(),S=_.top,P=_.left,F=_.width,C=_.height,T=S+v,z=P+b;return{top:T,bottom:T+C,left:z,right:z+F,width:F,height:C}}}function j(f){if(f&&f.tagName!=="HTML"){var b=window.getComputedStyle(f),v=function(_){return["auto","scroll"].includes(_)};return f.clientHeight<f.scrollHeight&&v(b.overflowX)||f.clientWidth<f.scrollWidth&&v(b.overflowY)?f:j(f.parentNode)}}function g(f,b){return Math.round(Math.abs(f))>Math.round(Math.abs(b))?f:b}return r.forwardRef(m)}))})(Ta)),Ta.exports}function yr(t){return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yr(t)}function pb(t){return(function(n){if(Array.isArray(n))return go(n)})(t)||ch(t)||yi(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ch(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xl(t,n){var s=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=yi(t))||n){s&&(t=s);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,c=!0,l=!1;return{s:function(){s=s.call(t)},n:function(){var d=s.next();return c=d.done,d},e:function(d){l=!0,i=d},f:function(){try{c||s.return==null||s.return()}finally{if(l)throw i}}}}function Jl(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),s.push.apply(s,r)}return s}function Zl(t){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Jl(Object(s),!0).forEach((function(r){xb(t,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Jl(Object(s)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(s,r))}))}return t}function xb(t,n,s){return(n=mh(n))in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}function Gs(t,n){return uh(t)||(function(s,r){var a=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(a!=null){var i,c,l,d,u=[],h=!0,m=!1;try{if(l=(a=a.call(s)).next,r===0){if(Object(a)!==a)return;h=!1}else for(;!(h=(i=l.call(a)).done)&&(u.push(i.value),u.length!==r);h=!0);}catch(p){m=!0,c=p}finally{try{if(!h&&a.return!=null&&(d=a.return(),Object(d)!==d))return}finally{if(m)throw c}}return u}})(t,n)||yi(t,n)||dh()}function dh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yi(t,n){if(t){if(typeof t=="string")return go(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?go(t,n):void 0}}function go(t,n){(n==null||n>t.length)&&(n=t.length);for(var s=0,r=new Array(n);s<n;s++)r[s]=t[s];return r}function uh(t){if(Array.isArray(t))return t}function gb(t,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mh(r.key),r)}}function mh(t){var n=(function(s,r){if(yr(s)!=="object"||s===null)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var i=a.call(s,r);if(yr(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)})(t,"string");return yr(n)==="symbol"?n:String(n)}function Yt(t,n,s){(function(r,a){if(a.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.set(t,s)}function W(t,n){return(function(s,r){return r.get?r.get.call(s):r.value})(t,hh(t,n,"get"))}function ue(t,n,s){return(function(r,a,i){if(a.set)a.set.call(r,i);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=i}})(t,hh(t,n,"set"),s),s}function hh(t,n,s){if(!n.has(t))throw new TypeError("attempted to "+s+" private field on non-instance");return n.get(t)}function vb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ql={name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]},ka={name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:function(t){return[31,t?29:28,31,30,31,30,31,31,30,31,30,31]},isLeap:function(t){return t%4==0&&t%100!=0||t%400==0},getLeaps:function(t){if(t!==0){for(var n=t>0?1:-1,s=[];t>0?n<=t:t<=n;)this.isLeap(n)&&s.push(n),t>0?n++:n--;return s}},getDayOfYear:function(t){for(var n=t.year,s=t.month,r=t.day,a=this.getMonthLengths(this.isLeap(n)),i=0;i<s.index;i++)r+=a[i];return r},getAllDays:function(t){var n=t.year;return this.yearLength*(n-1)+this.leapsLength(n)+this.getDayOfYear(t)},leapsLength:function(t){return((t-1)/4|0)+(-(t-1)/100|0)+((t-1)/400|0)},guessYear:function(t,n){return~~(t/365.24)+(n>0?1:-1)}};function As(t){return t&&t.constructor===Object}function Vn(t){if(!isNaN(t))return parseInt(t)}function Xs(t){return Array.isArray(t)}function dr(t,n,s){return t===void 0||t<n||t>s}var Bt=new WeakMap,Rt=new WeakMap,St=new WeakMap,Wn=new WeakMap,ws=new WeakMap,_s=new WeakMap,It=new WeakMap,Ns=new WeakMap,Qt=new WeakMap,Pt=new WeakMap,ur=new WeakMap,Yn=new WeakMap,ec=new WeakMap,mr=new WeakMap,hr=new WeakMap,tc=new WeakMap,Bi=new WeakMap,Bn=new WeakMap,Hi=new WeakMap,jb=(function(){function t(r){var a=this;(function(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t),Yt(this,Bt,{writable:!0,value:void 0}),Yt(this,Rt,{writable:!0,value:void 0}),Yt(this,St,{writable:!0,value:void 0}),Yt(this,Wn,{writable:!0,value:void 0}),Yt(this,ws,{writable:!0,value:void 0}),Yt(this,_s,{writable:!0,value:void 0}),Yt(this,It,{writable:!0,value:void 0}),Yt(this,Ns,{writable:!0,value:void 0}),Yt(this,Qt,{writable:!0,value:Ql}),Yt(this,Pt,{writable:!0,value:ka}),Yt(this,ur,{writable:!0,value:!1}),Yt(this,Yn,{writable:!0,value:{}}),Yt(this,ec,{writable:!0,value:/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d\.\d\d\dZ$/}),Yt(this,mr,{writable:!0,value:[]}),Yt(this,hr,{writable:!0,value:!0}),Yt(this,tc,{writable:!0,value:function(d,u){switch(d){case"YYYY":return["year",u];case"YY":return["year","".concat(W(a,Pt).century).concat(u)];case"MMMM":case"MMM":return["month",a.months.findIndex((function(m){var p=m.name,x=m.shortName;return new RegExp(u,"i").test(p+x)}))+1];case"MM":case"M":return["month",u];case"DD":case"D":return["day",u];case"HH":case"H":return["hour",u];case"hh":case"h":var h=Vn(u);return["hour",h>12?h-12:h];case"mm":case"m":return["minute",u];case"ss":case"s":return["second",u];case"SSS":case"SS":case"S":return["millisecond",u];default:return[]}}}),Yt(this,Bi,{writable:!0,value:function(){return W(a,Bt)===0&&W(a,Pt).startYear!==0}}),Yt(this,Bn,{writable:!0,value:function(){if(W(a,hr)&&a.isValid){var d=Math.floor,u=function(g,f){return[(_=g,(_<0?-1:1)*Math.abs(d(g/f))),(b=g,v=f,(b<0&&d(b%v)!==-0?v:0)+d(g%f))];var b,v,_},h=function(){if(W(a,Rt)<0||W(a,Rt)>11){var g=W(a,Rt)<0?-1:1,f=Gs(u(W(a,Rt),12),2),b=f[0],v=f[1];ue(a,Bt,W(a,Bt)+b),ue(a,Rt,v),W(a,Bi).call(a)&&ue(a,Bt,g)}};for(ue(a,hr,!1),[["millisecond","second",1e3],["second","minute",60],["minute","hour",60],["hour","day",24]].forEach((function(g){var f=Gs(g,3),b=f[0],v=f[1],_=f[2];if((function(C,T){return C>=T||C<0})(a[b],_)){var S=Gs(u(a[b],_),2),P=S[0],F=S[1];a[v]+=P,a[b]=F}})),ue(a,hr,!0),h();W(a,St)<-W(a,Pt).yearLength||W(a,St)>W(a,Pt).yearLength;){if(W(a,Rt)>0){for(var m=W(a,Pt).getMonthLengths(a.isLeap),p=0;p<W(a,Rt);p++)ue(a,St,W(a,St)+m[p]);ue(a,Rt,0)}var x=a.isLeap?a.calendar.yearLength+1:a.calendar.yearLength;ue(a,St,W(a,St)+x*(W(a,St)<0?1:-1)),ue(a,Bt,W(a,Bt)+(W(a,St)<0?-1:1))}for(;;){var j;for(h();W(a,St)<1;)ue(a,Rt,W(a,Rt)-1),h(),ue(a,St,a.month.length+W(a,St));if(W(a,St)<=a.month.length||isNaN(W(a,St)))break;ue(a,St,W(a,St)-a.month.length),ue(a,Rt,(j=W(a,Rt),j++,j))}W(a,Wn)||ue(a,Wn,0),W(a,ws)||ue(a,ws,0),W(a,_s)||ue(a,_s,0),W(a,It)||ue(a,It,0)}}}),Yt(this,Hi,{writable:!0,value:function(){return(W(a,Yn).weekDays||W(a,Qt).weekDays).map((function(d,u){var h=Gs(d,2),m=h[0],p=h[1],x=u-a.weekStartDayIndex;return x<0&&(x+=7),{name:m,shortName:p,index:x,number:x+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}}))}});var i=As(r)?Zl({},r):r,c=!0;if(i&&typeof i!="boolean"||(i={date:new Date}),As(i)||(i={date:i}),Object.keys(i).length!==0){for(var l in As(i.calendar)&&ue(this,Pt,i.calendar),As(i.locale)&&ue(this,Qt,i.locale),isNaN(i.year)&&isNaN(i.month)&&isNaN(i.day)&&!i.date&&(i.date=new Date),i.date&&(typeof i.date=="string"&&i.format&&ue(this,Ns,i.format),this.setDate(i.date),i.calendar&&this.convert(i.calendar),c=!1),delete i.calendar,delete i.locale,delete i.date,i)this.set(l,i[l]);W(this,Bi).call(this)&&ue(this,Bt,-1),c&&W(this,Bn).call(this)}}var n,s;return n=t,s=[{key:"parse",value:function(r){if(!r)return this;var a,i,c=W(this,Ns),l=W(this,Qt).digits,d=Xl(l);try{for(d.s();!(a=d.n()).done;){var u=a.value;r=r.replace(new RegExp(u,"g"),l.indexOf(u))}}catch(M){d.e(M)}finally{d.f()}if(c)for(var h=c.split(/[^\w\u0600-\u06FF]/),m=r.split(/[^\w\u0600-\u06FF]/),p=0;p<h.length;p++)this.set.apply(this,pb(W(this,tc).call(this,h[p],m[p])));else{var x=r.match(/(-?\d{2,4})?\W?([A-z]{3,9}|\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,2})?\W?(\d{1,3})?\W?(am|pm)?/),j=(uh(i=x)||ch(i)||yi(i)||dh()).slice(1),g=j[1];g&&(g=/\d+/.test(g)?Vn(g)-1:this.months.findIndex((function(M){return new RegExp(g,"i").test(M.name)}))),j[1]=g;var f=Gs(j.map(Vn),7),b=f[0],v=f[1],_=f[2],S=f[3],P=f[4],F=f[5],C=f[6];ue(this,Bt,b),ue(this,Rt,v),ue(this,St,_),ue(this,Wn,S),ue(this,ws,P),ue(this,_s,F),ue(this,It,C)}var T=Gs(W(this,Qt).meridiems[1],2),z=T[0],L=T[1];return W(this,Wn)<12&&(r.includes(z)||r.includes(L))&&ue(this,Wn,W(this,Wn)+12),W(this,Bn).call(this),this}},{key:"convert",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ka,a=arguments.length>1?arguments[1]:void 0;if(As(a)&&ue(this,Qt,a),!As(r)||r.name===W(this,Pt).name)return this;var i=this.toJulianDay()-r.epoch,c=new t({calendar:r,year:r.guessYear(i,W(this,Bt)),month:1,day:1});return c.day+=i-c.toDays(),ue(this,Bt,c.year),ue(this,Rt,c.month.index),ue(this,St,c.day),ue(this,Pt,r),this}},{key:"format",value:function(r,a){if(!this.isValid||r&&typeof r!="string")return"";r||(r=W(this,Ns)||"YYYY/MM/DD"),Xs(a)||(a=[]),a=(a=a.concat(W(this,mr))).filter((function(p){return typeof p=="string"||(console.warn("type of all items in the ignore list must be string, found",yr(p)),!1)})).map((function(p){return p.replace(/[*/+\-()[\]{}\s$^]/g,(function(x){return"\\"+x}))}));var i,c=new RegExp("".concat(a.join("|")).concat(a.length>0?"|":"","YYYY|YY|MMMM|MMM|MM|M|WW|W|DDDD|DDD|DD|D|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|SSS|SS|S|A|a|."),"g"),l="",d=Xl(r.match(c)||[]);try{for(d.s();!(i=d.n()).done;){var u=i.value,h=this.getValue(u);l+=a.includes(u)?u:h===0?h:h||u}}catch(p){d.e(p)}finally{d.f()}var m=this.digits;return l.replace(/[0-9]/g,(function(p){return m[p]}))}},{key:"getProperty",value:function(r){return this.getValue(r)}},{key:"getValue",value:function(r){var a=function(i){return i<10?"0"+i:i};switch(r){case"YYYY":return this.year;case"YY":return this.year.toString().substring(2,4);case"MMMM":return this.month.name;case"MMM":return this.month.shortName;case"MM":return a(this.month.number);case"M":return this.month.number;case"WW":return a(this.weekOfYear);case"W":return this.weekOfYear;case"DDDD":case"DDD":return this.dayOfYear;case"DD":return a(this.day);case"D":return this.day;case"HH":return a(this.hour);case"H":return this.hour;case"dddd":return this.weekDay.name;case"ddd":return this.weekDay.shortName;case"dd":return a(this.weekDay.number);case"d":return this.weekDay.number;case"hh":return a(this.hour>12?this.hour-12:this.hour||12);case"h":return this.hour>12?this.hour-12:this.hour||12;case"mm":return a(this.minute);case"m":return this.minute;case"ss":return a(this.second);case"s":return this.second;case"SSS":return W(this,It)<10?"00".concat(W(this,It)):W(this,It)<100?"0".concat(W(this,It)):W(this,It);case"SS":return W(this,It)<10?"00":W(this,It)<100?("0"+W(this,It)).substring(2,0):W(this,It).toString().substring(0,2);case"S":return W(this,It)<10||W(this,It)<100?"0":W(this,It).toString().substring(0,1);case"a":return this.hour>=12?W(this,Qt).meridiems[1][1]:W(this,Qt).meridiems[0][1];case"A":return this.hour>=12?W(this,Qt).meridiems[1][0]:W(this,Qt).meridiems[0][0];default:return""}}},{key:"setYear",value:function(r){return this.year=r,this}},{key:"setMonths",value:function(r){return this.months=r,this}},{key:"setMonth",value:function(r){return this.month=r,this}},{key:"setWeekDays",value:function(r){return this.weekDays=r,this}},{key:"setDigits",value:function(r){return this.digits=r,this}},{key:"setDay",value:function(r){return this.day=r,this}},{key:"setHour",value:function(r){return this.hour=r,this}},{key:"setMinute",value:function(r){return this.minute=r,this}},{key:"setSecond",value:function(r){return this.second=r,this}},{key:"setMillisecond",value:function(r){return this.millisecond=r,this}},{key:"setFormat",value:function(r){return ue(this,Ns,r),this}},{key:"setLocale",value:function(r){return this.locale=r,this}},{key:"setCalendar",value:function(r){return this.calendar=r,this}},{key:"setDate",value:function(r){if(typeof r=="string"){if(!W(this,ec).test(r))return this.parse(r);r=new Date(r)}return typeof r=="number"&&(r=new Date(r)),r instanceof Date&&(ue(this,Pt,ka),ue(this,Bt,r.getFullYear()),ue(this,Rt,r.getMonth()),ue(this,St,r.getDate()),ue(this,Wn,r.getHours()),ue(this,ws,r.getMinutes()),ue(this,_s,r.getSeconds()),ue(this,It,r.getMilliseconds()),ue(this,ur,!1)),r instanceof t&&(ue(this,Bt,r.year),ue(this,Rt,r.month.index),ue(this,St,r.day),ue(this,Wn,r.hour),ue(this,ws,r.minute),ue(this,_s,r.second),ue(this,It,r.millisecond),ue(this,Qt,r.locale),ue(this,Ns,r._format),ue(this,Pt,r.calendar),ue(this,ur,r.isUTC),ue(this,mr,r.ignoreList),ue(this,Yn,r.custom)),this}},{key:"setIgnoreList",value:function(r){return this.ignoreList=r,this}},{key:"set",value:function(r,a){if(r==null)return this;if(As(r)){var i=Zl({},r);for(var c in i.date&&(this.setDate(i.date),delete i.date),i.calendar&&(this.convert(i.calendar),delete i.calendar),i.locale&&(this.setLocale(i.locale),delete i.locale),ue(this,hr,!1),i)this.set(c,i[c]);return ue(this,hr,!0),W(this,Bn).call(this),this}r==="format"&&(r="_format");try{this[r]=a}catch{}return this}},{key:"add",value:function(r,a){if(!(r=Vn(r))||!a)return this;switch(a){case"years":case"y":a="year";break;case"months":case"M":a="month";break;case"days":case"d":a="day";break;case"hours":case"h":a="hour";break;case"minutes":case"m":a="minute";break;case"seconds":case"s":a="second";break;case"milliseconds":case"ms":a="millisecond"}return this[a]+=r,this}},{key:"subtract",value:function(r,a){return this.add(-r,a)}},{key:"toFirstOfYear",value:function(){return this.month=1,this.day=1,this}},{key:"toLastOfYear",value:function(){return this.day>=29&&(this.day=29),this.month=12,this.toLastOfMonth(),this}},{key:"toFirstOfMonth",value:function(){return ue(this,St,1),this}},{key:"toLastOfMonth",value:function(){return ue(this,St,0),ue(this,Rt,W(this,Rt)+1),W(this,Bn).call(this),this}},{key:"toFirstOfWeek",value:function(){return this.day-=this.weekDay.index,this}},{key:"toLastOfWeek",value:function(){return this.day+=6-this.weekDay.index,this}},{key:"toFirstWeekOfYear",value:function(){return this.toFirstOfYear(),this.weekDay.index===0?this:this.toLastOfWeek().setDay(this.day+1)}},{key:"toLastWeekOfYear",value:function(){return this.toLastOfYear().toFirstOfWeek()}},{key:"toString",value:function(){return this.format()}},{key:"toDate",value:function(){var r=new t(this);return W(this,Pt).name!=="gregorian"&&r.convert(ka),new Date(r.year,r.month.index,r.day,r.hour,r.minute,r.second,r.millisecond)}},{key:"toUTC",value:function(){return W(this,ur)||(this.minute+=this.toDate().getTimezoneOffset(),ue(this,ur,!0)),this}},{key:"toUnix",value:function(){return this.unix}},{key:"toJulianDay",value:function(){return this.toDays()+W(this,Pt).epoch}},{key:"toObject",value:function(){return{year:W(this,Bt),month:this.month,day:W(this,St),weekDay:this.weekDay,hour:W(this,Wn),minute:W(this,ws),second:W(this,_s),millisecond:W(this,It),weekOfYear:this.weekOfYear,dayOfYear:this.dayOfYear,daysLeft:this.daysLeft,calendar:W(this,Pt),locale:W(this,Qt),format:W(this,Ns)||"YYYY/MM/DD",ignoreList:W(this,mr)}}},{key:"toJSON",value:function(){return this.valueOf()}},{key:"valueOf",value:function(){return this.toDate().valueOf()}},{key:"toDays",value:function(){if(this.isValid)return W(this,Pt).getAllDays(this)}},{key:"dayOfBeginning",get:function(){return this.toDays()}},{key:"dayOfYear",get:function(){if(this.isValid)return W(this,Pt).getDayOfYear(this)}},{key:"weekOfYear",get:function(){if(this.isValid)return 1+~~(this.dayOfYear/7)}},{key:"daysLeft",get:function(){if(this.isValid){var r=W(this,Pt).yearLength;return(this.isLeap?r+1:r)-this.dayOfYear}}},{key:"year",get:function(){return W(this,Bt)},set:function(r){ue(this,Bt,Vn(r)),W(this,Bn).call(this)}},{key:"month",get:function(){return this.months[W(this,Rt)]||{}},set:function(r){var a;r=(a=Vn(r.valueOf())-1)!==null&&a!==void 0?a:void 0,ue(this,Rt,r),dr(r,0,11)&&W(this,Bn).call(this)}},{key:"monthIndex",get:function(){return W(this,Rt)}},{key:"day",get:function(){return W(this,St)},set:function(r){r=Vn(r),ue(this,St,r),dr(r,1,28)&&W(this,Bn).call(this)}},{key:"weekDay",get:function(){if(!this.isValid)return{};var r=(this.toJulianDay()+3)%7;return W(this,Hi).call(this)[r]}},{key:"hour",get:function(){return W(this,Wn)},set:function(r){r=Vn(r),ue(this,Wn,r),dr(r,0,23)&&W(this,Bn).call(this)}},{key:"minute",get:function(){return W(this,ws)},set:function(r){r=Vn(r),ue(this,ws,r),dr(r,0,59)&&W(this,Bn).call(this)}},{key:"second",get:function(){return W(this,_s)},set:function(r){r=Vn(r),ue(this,_s,r),dr(r,0,59)&&W(this,Bn).call(this)}},{key:"millisecond",get:function(){return W(this,It)},set:function(r){r=Vn(r),ue(this,It,r),dr(r,0,999)&&W(this,Bn).call(this)}},{key:"months",get:function(){var r=W(this,Pt).getMonthLengths(this.isLeap),a=(W(this,Yn).months||W(this,Qt).months).map((function(i,c){var l=Gs(i,2);return{name:l[0],shortName:l[1],length:r[c],index:c,number:c+1,toString:function(){return this.number.toString()},valueOf:function(){return this.number}}}));return a},set:function(r){if(!r)return delete W(this,Yn).months;Xs(r)&&r.length===12&&r.every((function(a){return Xs(a)&&a.length===2&&a.every((function(i){return typeof i=="string"}))}))&&(W(this,Yn).months=r)}},{key:"weekDays",get:function(){return W(this,Hi).call(this).sort((function(r,a){return r.index-a.index}))},set:function(r){if(!r)return delete W(this,Yn).weekDays;Xs(r)&&r.length===7&&r.every((function(a){return Xs(a)&&a.length===2&&a.every((function(i){return typeof i=="string"}))}))&&(W(this,Yn).weekDays=r)}},{key:"leaps",get:function(){return W(this,Pt).getLeaps(W(this,Bt))}},{key:"calendar",get:function(){return W(this,Pt)},set:function(r){this.convert(r)}},{key:"locale",get:function(){return W(this,Qt)},set:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ql;As(r)&&ue(this,Qt,r)}},{key:"custom",get:function(){return W(this,Yn)}},{key:"meridiems",get:function(){return W(this,Qt).meridiems}},{key:"digits",get:function(){return W(this,Yn).digits||W(this,Qt).digits},set:function(r){if(!r)return delete W(this,Yn).digits;Xs(r)&&r.length===10&&(W(this,Yn).digits=r)}},{key:"_format",get:function(){return W(this,Ns)},set:function(r){typeof r=="string"&&ue(this,Ns,r)}},{key:"isLeap",get:function(){return W(this,Pt).isLeap(W(this,Bt))}},{key:"isValid",get:function(){return!isNaN(W(this,Bt))&&!isNaN(W(this,Rt))&&!isNaN(W(this,St))}},{key:"isUTC",get:function(){return W(this,ur)}},{key:"unix",get:function(){return(this.valueOf()-this.millisecond)/1e3}},{key:"ignoreList",get:function(){return W(this,mr)},set:function(r){Xs(r)&&ue(this,mr,r)}},{key:"weekStartDayIndex",get:function(){return W(this,Pt).weekStartDayIndex},set:function(r){(r=Vn(r))!==void 0&&(W(this,Pt).weekStartDayIndex=Math.abs(r)%7)}},{key:"date",set:function(r){this.setDate(r)}}],s&&gb(n.prototype,s),Object.defineProperty(n,"prototype",{writable:!1}),t})(),Ls=vb(yb(jb));const bb=Object.freeze(Object.defineProperty({__proto__:null,default:Ls},Symbol.toStringTag,{value:"Module"})),wb=Uh(bb);var nc;function _b(){return nc||(nc=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});var n=yo(),s=fb(),r=wb;function a(w){return w&&typeof w=="object"&&"default"in w?w:{default:w}}var i=a(n),c=a(s),l=a(r);function d(w,D){var O=Object.keys(w);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(w);D&&(V=V.filter((function(J){return Object.getOwnPropertyDescriptor(w,J).enumerable}))),O.push.apply(O,V)}return O}function u(w){for(var D=1;D<arguments.length;D++){var O=arguments[D]!=null?arguments[D]:{};D%2?d(Object(O),!0).forEach((function(V){h(w,V,O[V])})):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(O)):d(Object(O)).forEach((function(V){Object.defineProperty(w,V,Object.getOwnPropertyDescriptor(O,V))}))}return w}function h(w,D,O){return(D=(function(V){var J=(function(X,he){if(typeof X!="object"||X===null)return X;var fe=X[Symbol.toPrimitive];if(fe!==void 0){var pe=fe.call(X,he);if(typeof pe!="object")return pe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(he==="string"?String:Number)(X)})(V,"string");return typeof J=="symbol"?J:String(J)})(D))in w?Object.defineProperty(w,D,{value:O,enumerable:!0,configurable:!0,writable:!0}):w[D]=O,w}function m(){return m=Object.assign?Object.assign.bind():function(w){for(var D=1;D<arguments.length;D++){var O=arguments[D];for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&(w[V]=O[V])}return w},m.apply(this,arguments)}function p(w,D){if(w==null)return{};var O,V,J=(function(he,fe){if(he==null)return{};var pe,ve,ae={},ye=Object.keys(he);for(ve=0;ve<ye.length;ve++)pe=ye[ve],fe.indexOf(pe)>=0||(ae[pe]=he[pe]);return ae})(w,D);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(w);for(V=0;V<X.length;V++)O=X[V],D.indexOf(O)>=0||Object.prototype.propertyIsEnumerable.call(w,O)&&(J[O]=w[O])}return J}function x(w,D){return(function(O){if(Array.isArray(O))return O})(w)||(function(O,V){var J=O==null?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(J!=null){var X,he,fe,pe,ve=[],ae=!0,ye=!1;try{if(fe=(J=J.call(O)).next,V===0){if(Object(J)!==J)return;ae=!1}else for(;!(ae=(X=fe.call(J)).done)&&(ve.push(X.value),ve.length!==V);ae=!0);}catch(le){ye=!0,he=le}finally{try{if(!ae&&J.return!=null&&(pe=J.return(),Object(pe)!==pe))return}finally{if(ye)throw he}}return ve}})(w,D)||g(w,D)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function j(w){return(function(D){if(Array.isArray(D))return f(D)})(w)||(function(D){if(typeof Symbol<"u"&&D[Symbol.iterator]!=null||D["@@iterator"]!=null)return Array.from(D)})(w)||g(w)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function g(w,D){if(w){if(typeof w=="string")return f(w,D);var O=Object.prototype.toString.call(w).slice(8,-1);return O==="Object"&&w.constructor&&(O=w.constructor.name),O==="Map"||O==="Set"?Array.from(w):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?f(w,D):void 0}}function f(w,D){(D==null||D>w.length)&&(D=w.length);for(var O=0,V=new Array(D);O<D;O++)V[O]=w[O];return V}function b(w,D){var O=typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(!O){if(Array.isArray(w)||(O=g(w))||D){O&&(w=O);var V=0,J=function(){};return{s:J,n:function(){return V>=w.length?{done:!0}:{done:!1,value:w[V++]}},e:function(pe){throw pe},f:J}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X,he=!0,fe=!1;return{s:function(){O=O.call(w)},n:function(){var pe=O.next();return he=pe.done,pe},e:function(pe){fe=!0,X=pe},f:function(){try{he||O.return==null||O.return()}finally{if(fe)throw X}}}}function v(w){return Array.isArray(w)}function _(w){var D=w.state.date,O=D.calendar,V=D.locale,J=w.customWeekDays,X=w.weekStartDayIndex,he=w.displayWeekNumbers,fe=w.weekNumber,pe=n.useMemo((function(){var ve=J;return v(ve)&&ve.length>=7?(ve.length=7,ve=ve.map((function(ae){return v(ae)&ae.length>1?ae=ae[1]:v(ae)&&(ae=ae[0]),ae}))):ve=new l.default({year:1,calendar:O,locale:V}).weekDays.map((function(ae){return ae.shortName})),ve}),[O,V,J]);return pe=j(pe).slice(X).concat(j(pe).splice(0,X)),i.default.createElement("div",{className:"rmdp-week"},he&&i.default.createElement("div",{className:"rmdp-week-day"},fe),pe.map((function(ve,ae){return i.default.createElement("div",{key:ae,className:"rmdp-week-day"},ve)})))}function S(w,D){var O=arguments.length>2&&arguments[2]!==void 0&&arguments[2],V=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!w||!D)return!1;if(w.year===D.year){if(V)return!0;if(w.monthIndex===D.monthIndex)return!!O||w.day===D.day}}function P(w){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY/MM/DD";return w.format(D)}function F(w,D,O){var V=O.multiple,J=O.range,X=O.selectedDate,he=O.onlyMonthPicker,fe=O.onlyYearPicker,pe=O.format,ve=O.focused,ae=O.weekPicker;w.setFormat(pe);var ye=new l.default(w);return X=V&&J?(function(){var le=!0;v(X)||(X=[[X]]);var Pe=X.find((function(N){return N.length===1})),Ge=he?"YYYY/MM":"YYYY/MM/DD",Ue=X;if(Pe){var Ye=Pe[0];Ue=Ue.filter((function(N){if(N.length===1)return!0;var q=x(N,2),de=q[0],Be=q[1],Ve=x([Ye,ye].sort((function(Ae,Xe){return Ae-Xe})),2),Te=[de,Be,Ve[0],Ve[1]].map((function(Ae){return P(Ae,Ge)})),ft=x(Te,4),Qe=ft[0],ke=ft[1],Ne=ft[2],De=ft[3];return!(Ne<=Qe&&De>=ke||Ne>=Qe&&De>=ke&&Ne<=ke||Ne<=Qe&&De<=ke&&De>=Qe)}))}else Ue=Ue.filter((function(N){if(!v(N))return!0;if(N.length===0)return!1;var q=x(N,2),de=[q[0],q[1],ye].map((function(Qe){return P(Qe,Ge)})),Be=x(de,3),Ve=Be[0],Te=Be[1],ft=Be[2];return!(ft>=Ve&&ft<=Te)}));return Ue=Ue.map((function(N){var q;return v(N)?N.length===1?(le=!1,q=N.concat(ye)):q=N:(le=!1,q=[N,ye]),q.sort((function(de,Be){return de-Be}))})),le&&(Ue=[].concat(j(Ue),[[ye]])),Ue})():V?(function(){var le=X.filter((function(Pe){return!S(w,Pe,he,fe)}));return le.length===X.length?le.push(ye):ye=le.find((function(Pe){return S(Pe,ve)})),D&&le.sort((function(Pe,Ge){return Pe-Ge})),le})():J?(function(){if(ae)return[new l.default(ye).toFirstOfWeek(),new l.default(ye).toLastOfWeek()];if(X.length===2||X.length===0)return[ye];if(X.length===1)return[X[0],ye].sort((function(le,Pe){return le-Pe}))})():ye,[X,ye]}function C(w,D,O,V){var J=[],X=O?"YYYY/MM":"YYYY/MM/DD",he=P(w,X);function fe(pe){var ve=pe[0],ae=pe[1];if(pe.length===1)S(w,ve,O)&&J.push("rmdp-range");else if(pe.length===2){var ye=[ve,ae].map((function(Ue){return P(Ue,X)})),le=x(ye,2),Pe=le[0],Ge=le[1];he>=Pe&&he<=Ge&&J.push("rmdp-range"),he===Pe&&J.push("start"),he===Ge&&J.push("end")}}return V?(v(D)?D:[[D]]).forEach(fe):fe(D),J.join(" ")}function T(w,D,O,V){var J=arguments.length>5?arguments[5]:void 0,X=[];if(V&&O){var he,fe=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:"day")==="day"?"YYYY/MM/DD":"YYYY/MM",pe=O.format(fe),ve=w.format(fe);if(J||D?.length!==1){if(J&&v(D)){var ae,ye=b(D);try{for(ye.s();!(ae=ye.n()).done;){var le=ae.value;if(v(le)&&le.length===1){he=le[0].format(fe);break}}}catch(Pe){ye.e(Pe)}finally{ye.f()}}}else he=D[0].format(fe);(ve>he&&ve<=pe||ve<he&&ve>=pe)&&(X.push("rmdp-range-hover"),ve===pe&&X.push(pe>he?"end":"start"),v(D)&&D.flat().some((function(Pe){return Pe.format(fe)===ve}))&&X.push("force"))}return X}function z(w,D,O){if(w){var V=L(w);return O?Array.from(V.querySelectorAll(D)):V.querySelector(D)}}function L(w){return w.closest(".rmdp-calendar")}var M=["selected","today","day:not(.rmdp-day-hidden):not(.rmdp-disabled)"];function B(w,D,O){var V=O.type,J=V===void 0?"day":V,X=O.format;w.preventDefault();var he=w.currentTarget,fe=w.key,pe=w.code,ve=J==="day"?7:3,ae=L(he),ye=ae&&ae.classList.contains("rmdp-rtl"),le={ArrowRight:ye?-1:1,ArrowLeft:ye?1:-1,ArrowUp:-ve,ArrowDown:ve};if(pe==="Space"||fe===" ")he.click();else if(Object.keys(le).includes(fe)){var Pe=function(){if(J==="month")return ie(ae,[M[2]]);var N=z(he,Ge<0?".rmdp-left":".rmdp-right");N&&(N.click(),ie(ae))},Ge=le[fe],Ue=new l.default(D.date).add(Ge,J);(function(N){if(!N)return Pe();var q=N.getAttribute("class");q.includes("hidden")||q.includes("disabled")?B(w,u(u({},D),{},{date:Ue}),{type:J,format:X}):N.focus()})(z(he,'[aria-label*="'.concat(D.year?"year ".concat(D.year+Ge):Ue.format(X),'"]')))}else{var Ye=z(he,".rmdp-arrow-container");Ye&&Ye.focus()}}function ie(w){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M,O=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],V="[data-active='true']";w.querySelectorAll("".concat(V," [tabindex='0']")).forEach((function(J){return J.setAttribute("tabindex","-1")})),setTimeout((function(){var J,X=b(D);try{for(X.s();!(J=X.n()).done;){var he=J.value,fe=w.querySelector("".concat(V," .rmdp-").concat(he));if(fe){fe.setAttribute("tabindex","0"),O&&fe.focus();break}}}catch(pe){X.e(pe)}finally{X.f()}}),10)}var re="dddd MMMM DD of YYYY";function E(w){var D=w.state,O=w.onChange,V=w.showOtherDays,J=V!==void 0&&V,X=w.mapDays,he=w.onlyShowInRangeDates,fe=w.customWeekDays,pe=w.sort,ve=w.numberOfMonths,ae=w.isRTL,ye=w.weekStartDayIndex,le=w.handleFocusedDate,Pe=w.hideWeekDays,Ge=w.fullYear,Ue=x(w.monthAndYears,1)[0],Ye=w.displayWeekNumbers,N=w.weekNumber,q=N===void 0?"":N,de=w.rangeHover,Be=w.highlightToday,Ve=n.useRef({}),Te=n.useRef(),ft=D.today,Qe=D.minDate,ke=D.maxDate,Ne=D.range,De=D.multiple,Ae=D.date,Xe=D.selectedDate,qe=D.onlyMonthPicker,Ie=D.onlyYearPicker,Se=D.mustShowMonthPicker,$e=D.mustShowYearPicker,Ke=!qe&&!Ie,Je=x(n.useState(),2),Vt=Je[0],Mt=Je[1];Ve.current.date=Ae;var Ln=n.useMemo((function(){return Ke?(function(ct,Et,Nt,pn){if(!ct)return[];for(var yt=[],zn=0;zn<Nt;zn++){var sn=(ct=new l.default(ct).toFirstOfMonth()).monthIndex,wn=[];ct.toFirstOfWeek().add(pn,"day"),ct.monthIndex===sn&&ct.day>1&&ct.subtract(7,"days");for(var qt=0;qt<6;qt++){for(var rn=[],zt=0;zt<7;zt++)rn.push({date:new l.default(ct),day:ct.format("D"),current:ct.monthIndex===sn}),ct.day+=1;if(wn.push(rn),qt>2&&ct.monthIndex!==sn)break}yt.push(wn)}return yt})(Ve.current.date,0,ve,ye):[]}),[Ae.monthIndex,Ae.year,Ae.calendar,Ae.locale,Ke,J,ve,ye]);return Ke&&i.default.createElement("div",{ref:Te,className:"rmdp-day-picker ".concat(Ge?"rmdp-full-year":""),style:{display:Ge?"grid":"flex"},onMouseLeave:function(){return de&&Mt()},"data-active":Ke&&!Se&&!$e},Ln.map((function(ct,Et){return i.default.createElement("div",{key:Et,style:h({},ae?"marginLeft":"marginRight",Et+(Ge?0:1)<ve?"10px":"")},Ge&&i.default.createElement("div",{className:"rmdp-month-name"},Ue[Et]),!Pe&&i.default.createElement(_,{state:D,customWeekDays:fe,weekStartDayIndex:ye,displayWeekNumbers:Ye,weekNumber:q}),ct.map((function(Nt,pn){return i.default.createElement("div",{key:pn,className:"rmdp-week"},Ye&&i.default.createElement("div",{className:"rmdp-day rmdp-disabled"},i.default.createElement("span",null,Nt[0].date.format("WW"))),Nt.map((function(yt,zn){var sn=(function(jt){if(!jt.current&&!J)return{};var bt={};return X.forEach((function(Tt){var Wt,At=Tt({date:jt.date,today:ft,currentMonth:D.date.month,selectedDate:D.selectedDate,isSameDate:S});((Wt=At)===null||Wt===void 0?void 0:Wt.constructor)!==Object&&(At={}),(At.disabled||At.hidden)&&(jt.disabled=!0),At.hidden&&(jt.hidden=!0),bt=u(u({},bt),At)})),delete bt.disabled,delete bt.hidden,bt})(yt={date:yt.date,day:yt.day,current:yt.current}),wn=rt(yt)&&!yt.disabled,qt="".concat(wn?"sd":""),rn=sn.children;wn&&(qt="".concat(qt," ").concat(sn.className||"")),delete sn.className,delete sn.children;var zt=(function(jt,bt){var Tt=["rmdp-day"],Wt=jt.date,At=jt.hidden,Xn=jt.current;if(!rt(jt)||At)Tt.push("rmdp-day-hidden");else{(Qe&&Wt<Qe||ke&&Wt>ke||jt.disabled)&&(Tt.push("rmdp-disabled"),jt.disabled||(jt.disabled=!0)),Xn||Tt.push("rmdp-deactive");var Fn=bt>1&&Xn||bt===1;jt.disabled&&he||(S(Wt,ft)&&Be&&Tt.push("rmdp-today"),$n=Wt,[].concat(Xe).some((function(Rn){return S(Rn,$n)}))&&Fn&&!Ne&&Tt.push("rmdp-selected")),Ne&&!jt.disabled&&Fn&&(Tt.push(C(Wt,Xe,void 0,De)),Tt=Tt.concat(T(Wt,Xe,Vt,de,void 0,De)))}var $n;return Tt.join(" ")})(yt,ve);return(yt.hidden||yt.disabled)&&(qt=qt.replace("sd","")),i.default.createElement("div",{key:zn,tabIndex:-1,"aria-label":"Choose ".concat(yt.date.format(re)),className:zt,onMouseEnter:function(){return de&&Mt(yt.date)},onKeyDown:function(jt){return B(jt,yt,{format:re})},onClick:function(){rt(yt)&&!yt.disabled&&(function(jt,bt,Tt){var Wt,At,Xn,Fn=jt.date,$n=jt.current,Rn=D.selectedDate,Ms=D.focused,_n=D.date,Os=_n,Us=Os.hour,Mr=Os.minute,qs=Os.second;Fn.set({hour:((Wt=Rn)===null||Wt===void 0?void 0:Wt.hour)||Us,minute:((At=Rn)===null||At===void 0?void 0:At.minute)||Mr,second:((Xn=Rn)===null||Xn===void 0?void 0:Xn.second)||qs}),Tt!==1||$n?Tt>1&&!$n&&(bt===0&&Fn<_n&&(_n=new l.default(_n).toFirstOfMonth()),bt>0&&Fn.monthIndex>_n.monthIndex+bt&&bt+1===Tt&&(_n=new l.default(_n).toFirstOfMonth().add(1,"month"))):_n=new l.default(_n).toFirstOfMonth();var Ts=x(F(Fn,pe,D),2);Rn=Ts[0],Ms=Ts[1],O(Rn,u(u({},D),{},{date:_n,focused:Ms,selectedDate:Rn})),le(Ms,Fn)})(yt,Et,ve)}},i.default.createElement("span",m({className:qt},sn),rt(yt)&&!yt.hidden?rn??yt.day:""))})))})))})));function rt(ct){return!!ct.current||J}}function U(w){var D=w.direction,O=w.onClick,V=w.disabled,J=w.onKeyDown;return i.default.createElement("button",{type:"button",className:"rmdp-arrow-container ".concat(D," ").concat(V?"disabled":""),onClick:O,onKeyDown:J,"aria-roledescription":"button to navigate ".concat(D.replace("rmdp-",""))},i.default.createElement("i",{className:"rmdp-arrow"}))}function be(w){var D=w.state,O=w.setState,V=w.disableYearPicker,J=w.disableMonthPicker,X=w.buttons,he=w.renderButton,fe=w.handleMonthChange,pe=w.disabled,ve=w.hideMonth,ae=w.hideYear,ye=w.isRTL,le=w.fullYear,Pe=x(w.monthAndYears,2),Ge=Pe[0],Ue=Pe[1],Ye=w.monthYearSeparator,N=w.formatMonth,q=w.formatYear,de=w.headerOrder,Be=w.onYearChange,Ve={},Te=D.date,ft=D.onlyMonthPicker,Qe=D.onlyYearPicker,ke=D.mustShowYearPicker,Ne=D.minDate,De=D.maxDate,Ae=D.year,Xe=D.today,qe=Ne&&Te.year<=Ne.year&&Ne.monthIndex>Te.monthIndex-1,Ie=De&&Te.year>=De.year&&De.monthIndex<Te.monthIndex+1,Se=Xe.year+7;if(Se-=12*Math.floor((Se-Ae)/12),(ve||le)&&ae&&!X)return null;if((ft||le)&&(Ne&&Ne.year>=Te.year&&(qe=!0),De&&De.year<=Te.year&&(Ie=!0)),ke||Qe){var $e=Se-11;qe=Ne&&Ne.year>$e,Ie=De&&De.year<Se}return pe&&(qe=!0,Ie=!0),i.default.createElement("div",{className:"rmdp-header"},i.default.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},Array.from(new Set(de)).map((function(rt,ct){return i.default.createElement(n.Fragment,{key:ct},(function(Et){switch(Et){case"LEFT_BUTTON":return X&&Vt("left");case"RIGHT_BUTTON":return X&&Vt("right");case"MONTH_YEAR":case"YEAR_MONTH":if(le)return i.default.createElement("div",{className:"rmdp-header-values",style:Ve},!ae&&Te.format("YYYY"));var Nt=Et.split("_").filter((function(pn){return pn==="MONTH"&&!ve||pn==="YEAR"&&!ae}));return Nt.length>1&&(Nt=[Nt[0],Je(),Nt[1]]),Ge.map((function(pn,yt){return i.default.createElement("div",{key:yt,className:"rmdp-header-values",style:Ve},Nt.map((function(zn,sn){return i.default.createElement(n.Fragment,{key:sn},(function(wn,qt,rn){switch(wn){case"MONTH":return i.default.createElement("span",{tabIndex:0,onKeyDown:Ke,style:{cursor:pe||J||ft?"default":"pointer"},onClick:function(zt){return!J&&Ln("mustShowMonthPicker",zt)}},(function(zt,jt){return typeof N=="function"?N(zt,jt):zt})(qt,Ue[rn]));case"YEAR":return i.default.createElement("span",{tabIndex:0,onKeyDown:Ke,style:{cursor:pe||V||Qe?"default":"pointer"},onClick:function(zt){return!V&&Ln("mustShowYearPicker",zt)}},(function(zt,jt){return typeof N=="function"?q(zt,jt):zt})(Ue[rn],qt));default:return wn}})(zn,pn,yt))})))}));default:return}})(rt))}))));function Ke(rt){var ct=rt.currentTarget,Et=rt.key,Nt=rt.code;Nt==="Space"||Et===" "?(rt.preventDefault(),ct.click()):Nt==="ArrowDown"&&(rt.preventDefault(),ie(L(rt.target)))}function Je(){return Ye?i.default.createElement("span",null,Ye):ye?"ØŒ":","}function Vt(rt){var ct=function(Nt){Nt.preventDefault(),Mt(rt==="right"?1:-1,Nt)},Et=rt==="left"&&qe||rt==="right"&&Ie;return he instanceof Function?he(rt,ct,Et,Ke):n.isValidElement(he)?n.cloneElement(he,{direction:rt,handleClick:ct,disabled:Et,onKeyDown:Ke}):i.default.createElement(U,{direction:"rmdp-".concat(rt),onClick:ct,onKeyDown:Ke,disabled:Et})}function Mt(rt,ct){pe||rt<0&&qe||rt>0&&Ie||(le?(Te.year+=rt,Be?.(new l.default(Te))):ke||Qe?(Ae+=12*rt,rt<0&&Ne&&Ae<Ne.year&&(Ae=Ne.year),rt>0&&De&&Ae>De.year&&(Ae=De.year)):(Te.toFirstOfMonth(),ft?Te.year+=rt:(Te.month+=rt,fe(Te))),O(u(u({},D),{},{date:Te,year:Ae})),ie(L(ct.target),void 0,!1))}function Ln(rt,ct){if(!pe){var Et={mustShowMonthPicker:!1,mustShowYearPicker:!1};Et[rt]=!D[rt],O(u(u({},D),Et)),ie(L(ct.target),void 0,!1)}}}function K(w){return v(w)||(w=[]),JSON.stringify(w)}var G="MMMM of YYYY";function we(w){var D=w.state,O=w.onChange,V=w.customMonths,J=w.sort,X=w.handleMonthChange,he=w.handleFocusedDate,fe=w.rangeHover,pe=w.highlightToday,ve=w.numberOfMonths,ae=D.date,ye=D.today,le=D.minDate,Pe=D.maxDate,Ge=D.calendar,Ue=D.locale,Ye=D.onlyMonthPicker,N=D.onlyYearPicker,q=D.range,de=D.onlyShowInRangeDates,Be=(D.mustShowMonthPicker||Ye)&&!N,Ve=x(n.useState(),2),Te=Ve[0],ft=Ve[1];V=V&&K(V);var Qe=n.useMemo((function(){var De=[],Ae=Ye?ve:1,Xe=V&&JSON.parse(V),qe=new l.default({calendar:Ge,locale:Ue,format:D.date._format,year:D.date.year,month:1,day:1});v(Xe)&&Xe.length>=12?(Xe.length=12,Xe=Xe.map((function(Mt){return v(Mt)?Mt[0]:Mt}))):Xe=qe.locale.months.map((function(Mt){return x(Mt,1)[0]}));for(var Ie=0;Ie<Ae;Ie++){for(var Se=[],$e=0,Ke=0;Ke<4;Ke++){for(var Je=[],Vt=0;Vt<3;Vt++)Je.push({date:new l.default(qe),name:Xe[$e]}),$e++,qe.add(1,"month");Se.push(Je)}De.push(Se)}return De}),[Ge,Ue,V,D.date.year,D.date._format,ve,Ye]);return i.default.createElement("div",{className:"".concat(Ye?"only ":"","rmdp-month-picker"),style:{display:Be?"flex":"none"},"data-active":Be,onMouseLeave:function(){return fe&&ft()}},Qe.map((function(De,Ae){return i.default.createElement("div",{key:Ae,style:{margin:"0 5px",flex:1}},De.map((function(Xe,qe){return i.default.createElement("div",{key:qe,className:"rmdp-ym"},Xe.map((function(Ie,Se){var $e=Ie.date,Ke=Ie.name;return i.default.createElement("div",{key:Se,"aria-label":"Select ".concat($e.format(G)),tabIndex:-1,onKeyDown:function(Je){return B(Je,{date:$e},{format:G,type:"month"})},className:Ne($e),onClick:function(Je){return ke($e,Je)},onMouseEnter:function(){return fe&&ft($e)}},i.default.createElement("span",{className:Ye?"sd":""},Ke))})))})))})));function ke(De,Ae){var Xe=D.selectedDate,qe=D.focused,Ie=De.year,Se=De.monthIndex;if(!(le&&Ie<=le.year&&Se<le.monthIndex||Pe&&Ie>=Pe.year&&Se>Pe.monthIndex)){if(ae.setMonth(Se+1),Ye){var $e=x(F(De,J,D),2);Xe=$e[0],qe=$e[1]}else X(ae),ie(L(Ae.target));O(Ye?Xe:void 0,u(u({},D),{},{date:ae,focused:qe,selectedDate:Xe,mustShowMonthPicker:!1})),Ye&&he(qe,De)}}function Ne(De){var Ae=["rmdp-day"],Xe=De.year,qe=De.monthIndex,Ie=D.selectedDate,Se=D.multiple;if((le&&(Xe<le.year||Xe===le.year&&qe<le.monthIndex)||Pe&&(Xe>Pe.year||Xe===Pe.year&&qe>Pe.monthIndex))&&Ae.push("rmdp-disabled"),!Ae.includes("rmdp-disabled")||!de)return S(ye,De,!0)&&pe&&Ae.push("rmdp-today"),Ye?q?(Ae.push(C(De,Ie,!0,Se)),Ae=Ae.concat(T(De,Ie,Te,fe,"month",Se))):[].concat(Ie).some((function($e){return S($e,De,!0)}))&&Ae.push("rmdp-selected"):ae.monthIndex===qe&&Ae.push("rmdp-selected"),Ae.join(" ")}}function $(w,D){return w.replace(/[0-9]/g,(function(O){return D[O]}))}var ce="YYYY";function Ze(w){var D=w.state,O=w.onChange,V=w.sort,J=w.handleFocusedDate,X=w.onYearChange,he=w.rangeHover,fe=w.highlightToday,pe=D.date,ve=D.today,ae=D.minDate,ye=D.maxDate,le=D.onlyYearPicker,Pe=D.range,Ge=D.onlyShowInRangeDates,Ue=D.year,Ye=D.mustShowYearPicker||le,N=pe.digits,q=x(n.useState(),2),de=q[0],Be=q[1],Ve=ve.year-4;Ve-=12*Math.ceil((Ve-Ue)/12);var Te=n.useMemo((function(){for(var ke=[],Ne=Ve,De=0;De<4;De++){for(var Ae=[],Xe=0;Xe<3;Xe++)Ae.push(Ne),Ne++;ke.push(Ae)}return ke}),[Ve]);return i.default.createElement("div",{className:"".concat(le?"only ":"","rmdp-year-picker"),style:{display:Ye?"block":"none"},"data-active":Ye},Te.map((function(ke,Ne){return i.default.createElement("div",{key:Ne,className:"rmdp-ym",onMouseLeave:function(){return he&&Be()}},ke.map((function(De,Ae){return i.default.createElement("div",{key:Ae,"aria-label":"Select year ".concat(De),tabIndex:-1,onKeyDown:function(Xe){return B(Xe,{year:De,date:pe},{format:ce,type:"year"})},className:ft(De),onClick:function(Xe){return(function(qe,Ie){if(!Qe(qe)){var Se=new l.default(D.date).setYear(qe),$e=D.selectedDate,Ke=D.focused;if(le){var Je=x(F(Se,V,D),2);$e=Je[0],Ke=Je[1]}else ae&&Se.monthIndex<ae.monthIndex?Se=Se.setMonth(ae.monthIndex+1):ye&&Se.monthIndex>ye.monthIndex&&(Se=Se.setMonth(ye.monthIndex+1)),X?.(Se),ie(L(Ie.target));O(le?$e:void 0,u(u({},D),{},{date:Se,focused:Ke,selectedDate:$e,mustShowYearPicker:!1})),le&&J(Ke,Se)}})(De,Xe)},onMouseEnter:function(){return he&&Be(De)}},i.default.createElement("span",{className:le?"sd":""},$(De.toString(),N)))})))})));function ft(ke){var Ne=["rmdp-day"],De=D.date,Ae=D.selectedDate,Xe=D.multiple;if(Qe(ke)&&Ne.push("rmdp-disabled"),!Ne.includes("rmdp-disabled")||!Ge){if(ve.year===ke&&fe&&Ne.push("rmdp-today"),le)if(Pe){var qe=function(Ie){var Se=Ie[0],$e=Ie[1];if(Ie.length===1){if(ke===Se.year&&Ne.push("rmdp-range"),he){var Ke=Ie[0].year;(ke>Ke&&ke<=de||ke<Ke&&ke>=de)&&(Ne.push("rmdp-range-hover"),ke===de&&Ne.push(de>Ke?"end":"start"))}}else Ie.length===2&&(ke>=Se.year&&ke<=$e.year&&Ne.push("rmdp-range"),ke===Se.year&&Ne.push("start"),ke===$e.year&&Ne.push("end"))};Xe?(v(Ae)?Ae:[[Ae]]).forEach((function(Ie){return qe(Ie)})):qe(Ae)}else[].concat(Ae).some((function(Ie){return Ie&&Ie.year===ke}))&&Ne.push("rmdp-selected");else ke===De.year&&Ne.push("rmdp-selected");return Ne.join(" ")}}function Qe(ke){return ae&&ke<ae.year||ye&&ke>ye.year}}function We(w,D,O){return O||(w?"MM/YYYY":D?"YYYY":"YYYY/MM/DD")}function Re(w,D){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY/MM/DD";return w instanceof l.default?w.set({calendar:D,format:O}):w=new l.default({date:w,calendar:D,format:O}),w}function k(w){"_self"in i.default.createElement("div")&&console.warn(w.join(`
`))}var y=new l.default,A=y.calendar,R=y.locale;function ee(w,D){return w&&w.constructor!==Object&&(k(Ce("calendar")),w=void 0),D&&D.constructor!==Object&&(k(Ce("locale")),D=void 0),[w||A,D||R]}function Ce(w){return["".concat(w," must be an object"),"https://shahabyazdi.github.io/react-multi-date-picker/calendars/"]}function at(w){return w&&w.name?w.name.split("_")[1]:""}function pt(w){return["fa","ar"].includes(at(w))}function tt(w,D){D===void 0&&(D={});var O=D.insertAt;if(w&&typeof document<"u"){var V=document.head||document.getElementsByTagName("head")[0],J=document.createElement("style");J.type="text/css",O==="top"&&V.firstChild?V.insertBefore(J,V.firstChild):V.appendChild(J),J.styleSheet?J.styleSheet.cssText=w:J.appendChild(document.createTextNode(w))}}tt(".rmdp-wrapper{background-color:#fff;border-radius:5px;direction:ltr;text-align:center;width:max-content}.rmdp-shadow{box-shadow:0 0 5px #8798ad}.rmdp-border{border:1px solid #cfd8e2}.rmdp-calendar{height:max-content;padding:4px}.rmdp-border-top{border-top:1px solid #cfd8e2}.rmdp-border-bottom{border-bottom:1px solid #cfd8e2}.rmdp-border-left{border-left:1px solid #cfd8e2}.rmdp-border-right{border-right:1px solid #cfd8e2}.rmdp-week,.rmdp-ym{display:flex;justify-content:space-between}.rmdp-ym{height:25%}.rmdp-day,.rmdp-week-day{color:#000;cursor:pointer;height:34px;position:relative;width:34px}.rmdp-calendar :focus{outline-color:#00539c}.rmdp-day:not(.rmdp-range):focus{border-radius:50%}.rmdp-ym .rmdp-day:not(.rmdp-range):focus{border-radius:15px}.rmdp-week-day{color:#0074d9;cursor:default;font-size:13px;font-weight:500}.rmdp-day span,.rmdp-week-day{display:flex;flex-direction:column;justify-content:center}.rmdp-day span{border-radius:50%;bottom:3px;font-size:14px;left:3px;position:absolute;right:3px;top:3px}.rmdp-day.rmdp-today span{background-color:#7fdbff;color:#fff}.rmdp-day.rmdp-selected span:not(.highlight){background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-day.rmdp-deactive,.rmdp-day.rmdp-disabled{color:#8798ad}.rmdp-day.rmdp-deactive.rmdp-selected span{background-color:#4ca6f5;box-shadow:0 0 3px #bac5d3}.rmdp-ym .rmdp-day{flex:1;margin:auto}.rmdp-ym .rmdp-day span{border-radius:12px;padding:2px 0}.rmdp-range{background-color:#0074d9;box-shadow:0 0 3px #8798ad;color:#fff}.rmdp-range-hover{background-color:#7ea6f0;color:#fff}.rmdp-range-hover.start:not(.force),.rmdp-range.start:not(.force){border-bottom-left-radius:50%;border-top-left-radius:50%}.rmdp-range-hover.end:not(.force),.rmdp-range.end:not(.force){border-bottom-right-radius:50%;border-top-right-radius:50%}.rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-ym .rmdp-range.start:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-ym .rmdp-range.end:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}@media (hover:hover){.rmdp-day:not(.rmdp-disabled,.rmdp-day-hidden) span:hover{background-color:#7ea6f0;color:#fff}}.rmdp-day-picker{padding:5px}.rmdp-header{font-size:14px;margin-top:5px;padding:9px 0}.rmdp-month-picker,.rmdp-year-picker{background-color:#fff;border-radius:0 0 5px 5px;bottom:2px;left:2px;position:absolute;right:2px;top:2px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:240px;position:static;width:240px}.rmdp-header-values{color:#000;margin:auto}.rmdp-header-values span{padding:0 0 0 5px}.rmdp-arrow{border:solid #0074d9;border-width:0 2px 2px 0;display:inline-block;height:3px;margin-top:5px;padding:2px;width:3px}.rmdp-right i{margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-left i{margin-left:3px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-left{left:0}.rmdp-right{right:0}.rmdp-arrow-container{background:transparent;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;margin:0 5px;padding:0;width:20px}.rmdp-arrow-container:hover{background-color:#0074d9;box-shadow:0 0 3px #8798ad}.rmdp-arrow-container:hover .rmdp-arrow{border:solid #fff;border-width:0 2px 2px 0}.rmdp-arrow-container.disabled{cursor:default}.rmdp-arrow-container.disabled:hover{background-color:inherit;box-shadow:inherit}.rmdp-arrow-container.disabled .rmdp-arrow,.rmdp-arrow-container.disabled:hover .rmdp-arrow{border:solid gray;border-width:0 2px 2px 0}.rmdp-rtl{direction:rtl}.rmdp-rtl .rmdp-left i{margin-left:0;margin-right:3px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.rmdp-rtl .rmdp-right i{margin-left:3px;margin-right:0;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.rmdp-rtl .rmdp-right{left:0;right:auto}.rmdp-rtl .rmdp-left{left:auto;right:0}.rmdp-rtl .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-range.start:not(.force){border-bottom-left-radius:unset;border-bottom-right-radius:50%;border-top-left-radius:unset;border-top-right-radius:50%}.rmdp-rtl .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-range.end:not(.force){border-bottom-left-radius:50%;border-bottom-right-radius:unset;border-top-left-radius:50%;border-top-right-radius:unset}.rmdp-rtl .rmdp-range.start.end:not(.force){border-radius:50%}.rmdp-rtl .rmdp-ym .rmdp-range-hover.start:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.start:not(.force){border-bottom-right-radius:15px;border-top-right-radius:15px}.rmdp-rtl .rmdp-ym .rmdp-range-hover.end:not(.force),.rmdp-rtl .rmdp-ym .rmdp-range.end:not(.force){border-bottom-left-radius:15px;border-top-left-radius:15px}.rmdp-day-hidden,.rmdp-day.rmdp-disabled{cursor:default}.rmdp-selected .highlight{box-shadow:0 0 3px #8798ad}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-red:hover{background-color:#ff6687}.rmdp-day:not(.rmdp-deactive) .highlight-red{color:#cc0303}.rmdp-day.rmdp-deactive .highlight-red{color:#e08e8e}.rmdp-day.rmdp-selected .highlight-red{background-color:#ea0034;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-red{background-color:#e4b0ba;color:#fff}.rmdp-day:not(.rmdp-disabled):not(.rmdp-day-hidden) .highlight-green:hover{background-color:#4db6ac}.rmdp-day:not(.rmdp-deactive) .highlight-green{color:#00796b}.rmdp-day.rmdp-deactive .highlight-green{color:#7ab3ac}.rmdp-day.rmdp-selected .highlight-green{background-color:#009688;color:#fff}.rmdp-day.rmdp-deactive.rmdp-selected .highlight-green{background-color:#749c98;color:#fff}.rmdp-day-hidden,.rmdp-day-hidden:hover span{background-color:unset;color:transparent}.rmdp-month-name{cursor:default;font-size:14px;margin:3px 0}.rmdp-full-year{grid-template-columns:1fr 1fr 1fr}@media (max-height:450px),(max-width:450px){.rmdp-day,.rmdp-week-day{height:28px;width:28px}.rmdp-day span{font-size:12px;padding-left:.5px}.only.rmdp-month-picker,.only.rmdp-year-picker{height:200px;width:230px}.rmdp-header{padding:3px 0 0}.rmdp-header,.rmdp-month-name{font-size:12px}.rmdp-full-year{grid-template-columns:1fr 1fr}}");var st=["datePickerProps","DatePicker"];function Ut(w,D){var O,V=w.value,J=w.calendar,X=w.locale,he=w.format,fe=w.onlyMonthPicker,pe=w.onlyYearPicker,ve=w.range,ae=ve!==void 0&&ve,ye=w.multiple,le=ye!==void 0&&ye,Pe=w.className,Ge=w.role,Ue=w.weekDays,Ye=w.months,N=w.children,q=w.onChange,de=w.showOtherDays,Be=w.minDate,Ve=w.maxDate,Te=w.mapDays,ft=w.disableMonthPicker,Qe=w.disableYearPicker,ke=w.formattingIgnoreList,Ne=w.onReady,De=w.onlyShowInRangeDates,Ae=De===void 0||De,Xe=w.zIndex,qe=Xe===void 0?100:Xe,Ie=w.plugins,Se=Ie===void 0?[]:Ie,$e=w.sort,Ke=w.numberOfMonths,Je=Ke===void 0?1:Ke,Vt=w.currentDate,Mt=w.digits,Ln=w.buttons,rt=Ln===void 0||Ln,ct=w.renderButton,Et=w.weekStartDayIndex,Nt=Et===void 0?0:Et,pn=w.disableDayPicker,yt=w.onPropsChange,zn=w.onMonthChange,sn=w.onYearChange,wn=w.onFocusedDateChange,qt=w.readOnly,rn=w.disabled,zt=w.hideMonth,jt=w.hideYear,bt=w.hideWeekDays,Tt=w.shadow,Wt=Tt===void 0||Tt,At=w.fullYear,Xn=w.displayWeekNumbers,Fn=w.weekNumber,$n=w.weekPicker,Rn=w.rangeHover,Ms=w.monthYearSeparator,_n=w.formatMonth,Os=w.formatYear,Us=w.highlightToday,Mr=Us===void 0||Us,qs=w.headerOrder,Ts=qs===void 0?["LEFT_BUTTON","MONTH_YEAR","RIGHT_BUTTON"]:qs,Or=w.style,ki=Or===void 0?{}:Or,Tr=w.autoFocus,Ar=Tr!==void 0&&Tr;!Vt||Vt instanceof l.default||(console.warn("currentDate must be instance of DateObject"),Vt=void 0),(typeof Nt!="number"||Nt<0||Nt>6)&&(Nt=0),(typeof Je!="number"||Je<1||pe)&&(Je=1),!(le||ae||v(V))||ae||le||(le=!0),$n&&(ae=!0,le=!1),At&&(Je=12,fe=!1,pe=!1),pe&&!zt&&(zt=!0);var Ks=x(ee(J,X),2);J=Ks[0],X=Ks[1],he=We(fe,pe,he),ke=K(ke),Te=[].concat(Te).filter(Boolean),Se=[].concat.apply([],Se);var Ir=x(n.useState({}),2),Nn=Ir[0],Jn=Ir[1],ds={},xn=n.useRef({mustCallOnReady:!0,currentDate:Vt});n.useEffect((function(){Jn((function(me){var ot=xn.current.currentDate,nt=me.date,et=me.selectedDate,Ft=me.initialValue,Ot=me.focused,wt=me.mustSortDates;function Kt(Q){if(Q)return Q.calendar.name!==J.name&&Q.setCalendar(J),Q.locale.name!==X.name&&Q.setLocale(X),Q._format!==he&&Q.setFormat(he),Q.digits=Mt,Q.ignoreList=JSON.parse(ke),Q}function gn(Q){return new l.default(ot||Q)}if(V)if(v(et=nn(V,J,X,he)))nt||(nt=gn(et.flat()[0]));else if(nt&&Je!==1){var es=new l.default(nt).toFirstOfMonth(),ms=new l.default(nt).add(Je-1,fe?"years":"months").toLastOfMonth();(et<es||et>ms)&&(nt=new l.default(et))}else nt=gn(et);else nt||(nt=gn({calendar:J,locale:X,format:he})),Ft&&(et=void 0);if([].concat(et).flat().forEach(Kt),Kt(nt),le||ae||v(V)){if(et||(et=[]),v(et)||(et=le&&ae?[[et]]:[et]),ae&&!le&&et.length>2){var ts=et[et.length-1];et=[et[0],ts],Ot=ts}le&&!ae&&$e&&!wt?(wt=!0,et.sort((function(Q,He){return Q-He}))):ae&&!le&&et.sort((function(Q,He){return Q-He}))}else v(et)&&(et=et.flat()[et.length-1]);return At&&nt.toFirstOfYear(),delete xn.current.currentDate,u(u({},me),{},{date:nt,selectedDate:et,multiple:le,range:ae,onlyMonthPicker:fe,onlyYearPicker:pe,initialValue:me.initialValue||V,value:V,focused:Ot,calendar:J,locale:X,format:he,mustSortDates:wt,year:nt.year,today:Kt(me.today)||new l.default({calendar:J}),weekPicker:$n})}))}),[V,J,X,he,fe,pe,ae,le,$e,Je,Mt,ke,At,$n]),n.useEffect((function(){(Be||Ve)&&Jn((function(me){var ot=me.calendar,nt=me.locale,et=me.format,Ft=(function(es,ms,ts,Q,He){return ms&&(ms=Re(ms,Q,He).set({hour:0,minute:0,second:0,millisecond:0})),ts&&(ts=Re(ts,Q,He).set({hour:23,minute:59,second:59,millisecond:999})),v(es)&&(es=es.filter((function(vt){return!(ms&&vt<ms)&&!(ts&&vt>ts)}))),[es,ms,ts]})(nn(V,ot,nt,et),Be,Ve,ot,et),Ot=x(Ft,3),wt=Ot[0],Kt=Ot[1],gn=Ot[2];return u(u({},me),{},{inRangeDates:Ae?wt:me.selectedDate,minDate:Kt,maxDate:gn})}))}),[Be,Ve,Ae,V]),Nn.today&&!xn.current.isReady&&(xn.current.isReady=!0),n.useEffect((function(){xn.current.isReady&&xn.current.mustCallOnReady&&Ne instanceof Function&&(xn.current.mustCallOnReady=!1,Ne())}),[xn.current.isReady,Ne]);var ys="rmdp-top-class "+Qn(["top","bottom"]),Pn={top:[],bottom:[],left:[],right:[]},Lr=pt((O=Nn.date)===null||O===void 0?void 0:O.locale),Zn={state:Nn,setState:Jn,onChange:js,sort:$e,handleFocusedDate:bs,isRTL:Lr,fullYear:At,monthAndYears:(function(){var me=Nn.date;if(!me)return[];for(var ot=[],nt=[],et=me.digits,Ft=0;Ft<Je;Ft++){var Ot=void 0,wt=me.year,Kt=me.monthIndex+Ft;if(fe&&(wt+=Ft),Kt>11&&(Kt-=12,fe||wt++),v(Ye)&&Ye.length>=12){var gn=Ye[Kt];Ot=v(gn)?gn[0]:gn}else Ot=me.months[Kt].name;wt=$(wt.toString(),et),ot.push(Ot),nt.push(wt)}return[ot,nt]})(),rangeHover:Rn,highlightToday:Mr,numberOfMonths:Je},ar=arguments[0],zr=ar.datePickerProps,ir=ar.DatePicker,Fr=p(ar,st);return n.useEffect((function(){var me=xn.current.Calendar;me&&ie(me,void 0,Ar&&!ir)}),[Ar,Nn.today,ir]),(function(){if(!(!xn.current.isReady||!v(Se))){var me={state:Nn,setState:Jn,registerListener:$r,calendarProps:Fr,datePickerProps:zr,handleChange:js,Calendar:xn.current.Calendar,DatePicker:ir,handlePropsChange:us,handleFocusedDate:function(nt){return bs(nt)},minDate:Be,maxDate:Ve},ot=function(nt){return pn?"bottom":nt.props.position||"right"};Se.forEach((function(nt,et){if(typeof nt.type!="string"){var Ft={},Ot=ot(nt);if(Pn[Ot]&&!nt.props.disabled){for(var wt=0;wt<Se.length;wt++)if(typeof Se[wt].type!="string"&&!Se[wt].props.disabled){if(Object.keys(Ft).length===4)break;var Kt=ot(Se[wt]);["top","bottom"].includes(Ot)?(Kt===Ot&&wt>et&&(Ft.bottom=!0),Kt===Ot&&wt<et&&(Ft.top=!0)):(ys.includes("border-top")&&(Ft.top=!0),ys.includes("border-bottom")&&(Ft.bottom=!0),Kt===Ot&&wt>et&&(Ft.right=!0),Kt===Ot&&wt<et&&(Ft.left=!0))}Pn[Ot].push(n.cloneElement(nt,u({key:et,position:Ot,nodes:Ft},me)))}}else nt.type==="mapDays"&&Te.push(nt.fn(me))}))}})(),Nn.today?i.default.createElement("div",{ref:function(me){if(me&&(me.date=Nn.date,me.set=function(ot,nt){rn||Jn(u(u({},Nn),{},{date:new l.default(Nn.date.set(ot,nt))}))}),xn.current.Calendar=me,D instanceof Function)return D(me);D&&(D.current=me)},role:Ge||"dialog",className:"rmdp-wrapper rmdp-".concat(Wt?"shadow":"border"," ").concat(Pe||""),style:u({zIndex:qe},ki)},Pn.top,i.default.createElement("div",{style:{display:"flex"},className:ys},Pn.left,!pn&&i.default.createElement("div",{className:"rmdp-calendar ".concat(Lr?"rmdp-rtl":""," ").concat(Qn(["left","right"]))},i.default.createElement(be,u(u({},Zn),{},{disableYearPicker:Qe,disableMonthPicker:ft,buttons:rt,renderButton:ct,handleMonthChange:mt,disabled:rn,hideMonth:zt,hideYear:jt,monthYearSeparator:Ms,formatMonth:_n,formatYear:Os,headerOrder:Ts,onYearChange:sn})),i.default.createElement("div",{style:{position:"relative"}},i.default.createElement(E,u(u({},Zn),{},{showOtherDays:de,mapDays:Te,onlyShowInRangeDates:Ae,customWeekDays:Ue,weekStartDayIndex:Nt,hideWeekDays:bt,displayWeekNumbers:Xn,weekNumber:Fn})),!At&&i.default.createElement(i.default.Fragment,null,!ft&&i.default.createElement(we,m({},Zn,{customMonths:Ye,handleMonthChange:mt})),!Qe&&i.default.createElement(Ze,m({},Zn,{onYearChange:sn}))))),Pn.right),Pn.bottom,N):null;function js(me,ot){if(me instanceof l.default&&(me=new l.default(me)),!rn){if(me||me===null){if(qt)return;ds.change&&ds.change.forEach((function(et){return et(me)}))}if(me||me===null){var nt=q?.(me);ot&&nt!==!1&&Jn(ot)}else ot&&Jn(ot);us({value:me})}}function us(){var me,ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!qt&&!rn){var nt=u(u(u(u({},Fr),zr),ot),{},{value:(me=ot.value)!==null&&me!==void 0?me:Nn.selectedDate});delete nt.onPropsChange,yt?.(nt)}}function bs(me,ot){qt||rn||wn==null||wn(me,ot)}function mt(me){zn?.(me)}function Qn(me){return pn||!v(Se)?"":Array.from(new Set(Se.map((function(ot){if(!ot.props)return"";var nt=ot.props.position||"right";return me.includes(nt)&&!ot.props.disabled?"rmdp-border-"+nt:""})))).join(" ")}function $r(me,ot){ds[me]||(ds[me]=[]),ds[me].push(ot)}}var $t=n.forwardRef(Ut);function nn(w,D,O,V){var J=[].concat(w).map((function(fe){return v(fe)?fe.map(X).filter(he):X(fe)})).filter(he);return v(w)?J:J.flat()[0];function X(fe){return fe?fe instanceof l.default?fe:new l.default({date:fe,calendar:D,locale:O,format:V}):{}}function he(fe){return v(fe)||fe.isValid}}tt('.rmdp-visible{visibility:visible}.rmdp-invisible{visibility:hidden}.rmdp-input{border:1px solid #c0c4d6;border-radius:5px;height:22px;margin:1px 0;padding:2px 5px}.rmdp-input:focus{border:1px solid #a4b3c5;box-shadow:0 0 2px #a4b3c5;outline:none!important}.rmdp-button{background-color:#0074d9;border:none;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;padding:7px 16px;text-align:center;text-decoration:none;transition:.3s}.rmdp-button:hover{background-color:#143ac5;transition:.4s}.rmdp-button:disabled{background-color:#8798ad}.rmdp-action-button{border-radius:unset;color:#2682d3;float:right;font-weight:700;margin:15px 10px 15px 0}.rmdp-action-button,.rmdp-action-button:hover{background-color:transparent}.rmdp-ep-arrow{overflow:hidden;will-change:transform}.rmdp-ep-arrow:after{background-color:#fff;content:"";height:12px;position:absolute;transform:rotate(45deg);width:12px}.rmdp-ep-shadow:after{box-shadow:0 0 6px #8798ad}.rmdp-ep-border:after{border:1px solid #cfd8e2}.rmdp-ep-arrow[direction=top]{border-bottom:1px solid #fff}.rmdp-ep-arrow[direction=left]{border-right:1px solid #fff}.rmdp-ep-arrow[direction=right]{border-left:1px solid #fff;margin-left:-1px}.rmdp-ep-arrow[direction=bottom]{border-top:1px solid #fff;margin-top:-1.5px}.rmdp-ep-arrow[direction=top]:after{left:4px;top:5px}.rmdp-ep-arrow[direction=bottom]:after{left:4px;top:-6px}.rmdp-ep-arrow[direction=left]:after{left:5px;top:3px}.rmdp-ep-arrow[direction=right]:after{left:-6px;top:3px}');var ht=["value","calendar","locale","format","onlyMonthPicker","onlyYearPicker","onChange","range","multiple","name","id","title","placeholder","required","style","className","inputClass","disabled","render","weekDays","months","children","inputMode","scrollSensitive","hideOnScroll","minDate","maxDate","formattingIgnoreList","containerClassName","calendarPosition","editable","onOpen","onClose","arrowClassName","zIndex","arrow","fixMainPosition","onPositionChange","onPropsChange","digits","readOnly","shadow","onFocusedDateChange","type","weekPicker","mobileLabels","onOpenPickNewDate","mobileButtons","dateSeparator","multipleRangeSeparator","typingTimeout"],Zt=["label"];function cs(w,D){var O=w.value,V=w.calendar,J=w.locale,X=w.format,he=w.onlyMonthPicker,fe=w.onlyYearPicker,pe=w.onChange,ve=w.range,ae=ve!==void 0&&ve,ye=w.multiple,le=ye!==void 0&&ye,Pe=w.name,Ge=w.id,Ue=w.title,Ye=w.placeholder,N=w.required,q=w.style,de=q===void 0?{}:q,Be=w.className,Ve=Be===void 0?"":Be,Te=w.inputClass,ft=w.disabled,Qe=w.render,ke=w.weekDays,Ne=w.months,De=w.children,Ae=w.inputMode,Xe=w.scrollSensitive,qe=Xe===void 0||Xe,Ie=w.hideOnScroll,Se=w.minDate,$e=w.maxDate,Ke=w.formattingIgnoreList,Je=w.containerClassName,Vt=Je===void 0?"":Je,Mt=w.calendarPosition,Ln=Mt===void 0?"bottom-left":Mt,rt=w.editable,ct=rt===void 0||rt,Et=w.onOpen,Nt=w.onClose,pn=w.arrowClassName,yt=pn===void 0?"":pn,zn=w.zIndex,sn=zn===void 0?100:zn,wn=w.arrow,qt=wn===void 0||wn,rn=w.fixMainPosition,zt=w.onPositionChange,jt=w.onPropsChange,bt=w.digits,Tt=w.readOnly,Wt=w.shadow,At=Wt===void 0||Wt,Xn=w.onFocusedDateChange,Fn=w.type,$n=w.weekPicker,Rn=w.mobileLabels,Ms=w.onOpenPickNewDate,_n=Ms===void 0||Ms,Os=w.mobileButtons,Us=Os===void 0?[]:Os,Mr=w.dateSeparator,qs=w.multipleRangeSeparator,Ts=qs===void 0?",":qs,Or=w.typingTimeout,ki=Or===void 0?700:Or,Tr=p(w,ht),Ar=x(n.useState(),2),Ks=Ar[0],Ir=Ar[1],Nn=x(n.useState(),2),Jn=Nn[0],ds=Nn[1],xn=x(n.useState(""),2),ys=xn[0],Pn=xn[1],Lr=x(n.useState(!1),2),Zn=Lr[0],ar=Lr[1],zr=x(n.useState(!1),2),ir=zr[0],Fr=zr[1],js=n.useRef(),us=n.useRef(),bs=n.useRef(),mt=n.useRef({isTyping:!1}),Qn=Mr||(ae||$n?" ~ ":", "),$r=arguments[0],me=typeof Ve=="string"&&Ve.includes("rmdp-mobile"),ot=n.useCallback((function(){if(Nt?.()!==!1){var Q=bn(us);if(Q&&Q.forEach((function(vt){return vt.blur()})),mt.current.mobile){var He=bs.current.parentNode.parentNode;He.classList.remove("rmdp-calendar-container-mobile"),He.style.position="absolute",He.style.visibility="hidden"}mt.current.validInputValue!==void 0&&(Pn(mt.current.validInputValue),mt.current.validInputValue=void 0),ar(!1),Fr(!1)}}),[Nt]),nt=[{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){ds(void 0),ot()},label:Ot("CANCEL")},{type:"button",className:"rmdp-button rmdp-action-button",onClick:function(){Jn&&(gn(Jn,!0),ds(void 0)),ot()},label:Ot("OK")}];me&&!mt.current.mobile&&(mt.current=u(u({},mt.current),{},{mobile:!0})),!me&&mt.current.mobile&&(mt.current=u(u({},mt.current),{},{mobile:!1})),Ke=K(Ke),X=We(he,fe,X);var et,Ft=x(ee(V,J),2);return V=Ft[0],J=Ft[1],n.useEffect((function(){function Q(vt){if(Zn&&!mt.current.mobile){var an=[];if([us.current,bs.current].forEach((function(Dn){var Gt,Mn;!Dn||Dn.contains(vt.target)||vt.target.classList.contains("b-deselect")||(Gt=vt.target.parentNode)!==null&&Gt!==void 0&&(Gt=Gt.classList)!==null&&Gt!==void 0&&(Mn=Gt.contains)!==null&&Mn!==void 0&&Mn.call(Gt,"b-deselect")||an.push(Dn)})),an.length===2)return ot();bs.current&&bs.current.contains(vt.target)&&(js.current.removeTransition(),js.current.refreshPosition())}}function He(){Ie&&Zn&&ot()}return document.addEventListener("click",Q,!1),document.addEventListener("scroll",He,!0),function(){document.removeEventListener("click",Q,!1),document.removeEventListener("scroll",He,!0)}}),[ot,D,Zn,Ie]),n.useEffect((function(){var Q=O,He=mt.current,vt=He.date,an=He.initialValue,Dn=function(){return Q[Q.length-1]};function Gt(_t){if(_t)return _t instanceof l.default||(_t=new l.default({date:_t,calendar:V,locale:J,format:X})),_t.calendar!==V&&_t.setCalendar(V),_t.set({weekDays:ke,months:Ne,digits:bt,locale:J,format:X,ignoreList:JSON.parse(Ke)}),_t}O||an||!vt?an&&!O&&(an=void 0):Q=vt;var Mn="";if(ae||le||v(Q)){var Vr=function(_t){return _t=_t.map(Gt).filter((function(Yr){return Yr!==void 0})),ae&&_t.length>2&&(_t=[_t[0],Dn()]),[_t,it(_t,Qn)]};if(v(Q)||(Q=ae&&le?Q?[[Q]]:[]:[Q]),le&&ae)Q=Q.map((function(_t,Yr){var ul=x(Vr(v(_t)?_t:[_t]),2),Ih=ul[0],Lh=ul[1];return Mn+=Lh+(Yr<Q.length-1?" ".concat(Ts," "):""),Ih}));else{var Wr=x(Vr(Q),2);Q=Wr[0],Mn=Wr[1]}Mn=Mn.toString().replace(/\s,\s$/,"")}else v(Q)&&(Q=Dn()),(Q=Gt(Q))&&(Mn=Q.format());mt.current.isTyping||Pn(Mn),mt.current=u(u({},mt.current),{},{date:Q,separator:Qn,initialValue:an||O}),mt.current.mobile&&js.current.isOpen?ds(Q):(mt.current.validInputValue=void 0,Ir(Q))}),[O,V,J,X,ae,le,Qn,he,fe,ke,Ne,bt,Ke]),n.useEffect((function(){var Q=mt.current.selection;if(Q){var He=bn(us);He.length!==0&&(He.forEach((function(vt){document.activeElement===vt&&(vt.setSelectionRange(Q,Q),mt.current.selection=void 0)})),js.current.refreshPosition())}}),[ys]),(le||ae||v(Ks)||!ct)&&(Ae="none"),i.default.createElement(c.default,m({ref:function(Q){if(Q&&(Q.openCalendar=function(){return setTimeout((function(){return wt()}),10)},Q.closeCalendar=ot,Q.isOpen=Zn&&ir),js.current=Q,D instanceof Function)return D(Q);D&&(D.current=Q)},element:Qe?i.default.createElement("div",{ref:us},n.isValidElement(Qe)?n.cloneElement(Qe,{value:ys,openCalendar:wt,onFocus:wt,handleValueChange:es,onChange:es,locale:J,separator:Qn}):Qe instanceof Function?Qe(ys,wt,es,J,Qn):null):i.default.createElement("input",{ref:us,type:Fn||"text",name:Pe,id:Ge,title:Ue,required:N,onFocus:wt,className:Te||"rmdp-input",placeholder:Ye,value:ys,onChange:es,style:de,autoComplete:"off",disabled:!!ft,inputMode:Ae||(me?"none":void 0),readOnly:Tt}),popper:Zn&&i.default.createElement($t,m({ref:bs,value:Jn||Ks,onChange:gn,range:ae,multiple:le,calendar:V,locale:J,format:X,onlyMonthPicker:he,onlyYearPicker:fe,className:Ve+(me?" rmdp-mobile":""),weekDays:ke,months:Ne,digits:bt,minDate:Se,maxDate:$e,formattingIgnoreList:JSON.parse(Ke),onPropsChange:jt,shadow:At,onReady:ms,DatePicker:js.current,datePickerProps:$r,onFocusedDateChange:ts,weekPicker:$n},Tr),De,me&&(et=[].concat.apply([],$r.plugins||[]).some((function(Q){var He=Q.props;return!(He===void 0?{}:He).disabled})),v(Us)&&i.default.createElement("div",{className:"rmdp-action-buttons ".concat(pt(J)?"rmdp-rtl":""," ").concat(et?"rmdp-border-top":"")},Us.concat(nt).map((function(Q,He){var vt=Q.label,an=p(Q,Zt);return i.default.createElement("button",m({key:He},an),vt)}))))),active:!me&&ir,position:Ln,arrow:!me&&qt,fixMainPosition:!qe||rn,zIndex:sn,onChange:!me&&zt,containerClassName:"rmdp-container ".concat(Vt),arrowClassName:["rmdp-ep-arrow","rmdp-ep-".concat(At?"shadow":"border"),Ve,yt].join(" ")},Tr));function Ot(Q){var He,vt=J||new l.default().locale;return typeof vt.name!="string"?Q:Rn?.[Q]||((He={en:{OK:"OK",CANCEL:"CANCEL"},fa:{OK:"ØªØ£ÛŒÛŒØ¯",CANCEL:"Ù„ØºÙˆ"},ar:{OK:"ØªØ£ÙƒÙŠØ¯",CANCEL:"Ø§Ù„ØºØ§Ø¡"},hi:{OK:"à¤ªà¥à¤·à¥à¤Ÿà¤¿",CANCEL:"à¤°à¤¦à¥à¤¦ à¤•à¤°à¥‡à¤‚"}}[at(vt)])===null||He===void 0?void 0:He[Q])||Q}function wt(){if(!ft&&!Tt&&Et?.()!==!1){if(_n&&!O&&!mt.current.date&&!ae&&!le&&!me){var Q=new l.default({calendar:V,locale:J,format:X,months:Ne,weekDays:ke,digits:bt,ignoreList:JSON.parse(Ke)});(!Se||Q>Re(Se,V,X))&&(!$e||Q<Re($e,V,X))&&(gn(Q),jt?.(u(u({},$r),{},{value:Q})),mt.current.date=Q)}var He=bn(us);me&&He.length>0&&He.forEach((function(vt){return vt.blur()})),He.length>0||!Zn?ar(!0):ot()}}function Kt(Q){var He="";return Q&&(He=le&&ae&&v(Q)?Q.map((function(vt){return it(vt,Qn)})).join(" ".concat(Ts," ")):it(Q,Qn)),He}function gn(Q,He,vt){if(me&&!He)return ds(Q);var an=Kt(Q),Dn=vt||an.toString().replace(/\s,\s$/,"");return Q&&[].concat(Q).flat().some((function(Gt){return Se&&Gt<Re(Se,V,X)||$e&&Gt>Re($e,V,X)}))?(mt.current.validInputValue=Kt(O||mt.current.date),Pn(Dn)):(mt.current.validInputValue=an,pe?.(Q,{validatedValue:an,input:us.current,isTyping:!!vt})===!1?(Pn(ys),!1):(Ir(Q),Pn(Dn),void(mt.current=u(u({},mt.current),{},{date:Q}))))}function es(Q){if(ct){mt.current.isTyping=!0,setTimeout((function(){mt.current.isTyping=!1}),ki),mt.current.selection=Q.target.selectionStart;var He=Q.target.value,vt={calendar:V,locale:J,format:X,ignoreList:JSON.parse(Ke)};if(bt=v(bt)?bt:J.digits,!He)return Pn(""),gn(null);if(bt){var an,Dn,Gt=b(bt);try{for(Gt.s();!(an=Gt.n()).done;){var Mn=an.value;He=He.replace(new RegExp(Mn,"g"),bt.indexOf(Mn))}}catch(_t){Gt.e(_t)}finally{Gt.f()}Dn=v(Ks)?le&&ae?(He||"").split(Ts).filter(Boolean).map(Wr):Wr(He):Vr(He),gn(v(Ks)||Dn.isValid?Dn:null,void 0,$(He,bt))}}function Vr(_t){return/(?=.*Y)(?=.*M)(?=.*D)/.test(X)?new l.default(u(u({},vt),{},{date:_t})):new l.default(vt).parse(_t)}function Wr(_t){return(_t||"").split(Qn).filter(Boolean).map((function(Yr){return Vr(Yr.trim())}))}}function ms(){if(Fr(!0),me){var Q=bs.current.parentNode.parentNode;Q.className="rmdp-calendar-container-mobile",Q.style.position="fixed",Q.style.transform="",setTimeout((function(){Q.style.visibility="visible"}),50)}}function ts(Q,He){v(mt.current.date)||!He||me||ot(),Xn?.(Q,He)}}var Z=n.forwardRef(cs);function it(w,D){var O=[].concat(w).map((function(V){return V!=null&&V.isValid?V.format():""}));return O.toString=function(){return this.filter(Boolean).join(D)},O}function bn(w){return w.current?w.current.tagName==="INPUT"?[w.current]:Array.from(w.current.querySelectorAll("input")):[]}Object.defineProperty(t,"DateObject",{enumerable:!0,get:function(){return l.default}}),t.Calendar=$t,t.default=Z,t.getAllDatesInRange=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],D=arguments.length>1?arguments[1]:void 0;if(!Array.isArray(w))return[];var O=w[0],V=w[w.length-1],J=[];if(!(O instanceof l.default&&V instanceof l.default&&O.isValid&&V.isValid&&!(O>V)))return[];for(O=new l.default(O),V=new l.default(V);O<=V;O.day++)J.push(D?O.toDate():new l.default(O));return J},t.toDateObject=Re})(Yi)),Yi}var Nb=_b();const Sb=ia(Nb);var Ui,sc;function Cb(){if(sc)return Ui;sc=1;function t(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var n=t({name:"gregorian",startYear:1,yearLength:365,epoch:1721424,century:20,weekStartDayIndex:1,getMonthLengths:s=>[31,s?29:28,31,30,31,30,31,31,30,31,30,31],isLeap:s=>s%4==0&&s%100!=0||s%400==0,getLeaps(s){if(s===0)return;let r=s>0?1:-1,a=[];for(;s>0?r<=s:s<=r;)this.isLeap(r)&&a.push(r),s>0?r++:r--;return a},getDayOfYear({year:s,month:r,day:a}){let i=this.getMonthLengths(this.isLeap(s));for(let c=0;c<r.index;c++)a+=i[c];return a},getAllDays(s){const{year:r}=s;return this.yearLength*(r-1)+this.leapsLength(r)+this.getDayOfYear(s)},leapsLength:s=>((s-1)/4|0)+(-(s-1)/100|0)+((s-1)/400|0),guessYear:(s,r)=>~~(s/365.24)+(r>0?1:-1)});return Ui=n,Ui}var kb=Cb();const Xr=ia(kb);var qi,rc;function Eb(){if(rc)return qi;rc=1;function t(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var n=t({name:"persian",startYear:1,yearLength:365,epoch:1948319,century:14,weekStartDayIndex:0,getMonthLengths:s=>[31,31,31,31,31,31,30,30,30,30,30,s?30:29],isLeap(s){return this.getLeaps(s).includes(s)},getLeaps(s){if(s===0)return;let r=s>0?1:-1,a=[],i=.242362,c=s>0?.2684:.7316,l={5:4,38:37,199:198,232:231,265:264,298:297,557:558,590:591,623:624,982:983,1015:1016,1048:1049,1081:1082,1114:1115,1242:1243,1374:1375,1407:1408,1440:1441,1506:1507,1539:1540,1572:1573,1605:1606,1931:1932,1964:1965,2063:2064,2096:2097,2687:2686,2720:2719,2753:2752,2819:2818,2852:2851,2885:2884,3017:3016,3112:3111,3145:3144,3178:3177,3211:3210,3244:3243,3277:3276,3310:3309,3343:3342,3376:3375,3409:3408,3442:3441,3508:3507,3541:3540,3574:3573,3603:3602,3607:3606,3636:3635,3669:3668,3702:3701,3706:3705,3735:3734,3768:3767,3801:3800,3834:3833,3867:3866,3900:3899,3933:3932,3966:3965,3999:3998,4065:4064,4094:4093,4098:4097,4127:4126,4131:4130,4160:4159,4193:4192,4226:4225,4259:4258,4292:4291,4325:4324,4358:4357,4391:4390,4585:4584,4618:4617,4651:4650,4750:4749,4943:4944,4976:4977,5009:5010,5170:5171,5203:5204,5236:5237,5265:5266,5269:5270,5298:5299,5302:5303,5331:5332,5335:5336,5364:5365,5368:5369,5393:5394,5397:5398,5401:5402,5426:5427,5430:5431,5434:5435,5459:5460,5463:5464,5467:5468,5492:5493,5496:5497,5500:5501,5521:5522,5525:5526,5529:5530,5554:5555,5558:5559,5562:5563,5587:5588,5591:5592,5595:5596,5616:5617,5620:5621,5624:5625,5628:5629,5649:5650,5653:5654,5657:5658,5661:5662,5682:5683,5686:5687,5690:5691,5694:5695,5715:5716,5719:5720,5723:5724,5727:5728,5744:5745,5748:5749,5752:5753,5756:5757,5760:5761,5777:5778,5781:5782,5785:5786,5789:5790,5793:5794,5810:5811,5814:5815,5818:5819,5822:5823,5826:5827,5839:5840,5843:5844,5847:5848,5851:5852,5855:5856,5859:5860,5872:5873,5876:5877,5880:5881,5884:5885,5888:5889,5892:5893,5901:5902,5905:5906,5909:5910,5913:5914,5917:5918,5921:5922,5925:5926,5934:5935,5938:5939,5942:5943,5946:5947,5950:5951,5954:5955,5958:5959,5967:5968,5971:5972,5975:5976,5979:5980,5983:5984,5987:5988,5991:5992,5996:5997,6e3:6001,6004:6005,6008:6009,6012:6013,6016:6017,6020:6021,6029:6030,6033:6034,6037:6038,6041:6042,6045:6046,6049:6050,6053:6054,6058:6059,6062:6063,6066:6067,6070:6071,6074:6075,6078:6079,6082:6083,6086:6087,6091:6092,6095:6096,6099:6100,6103:6104,6107:6108,6111:6112,6115:6116,6119:6120,6124:6125,6128:6129,6132:6133,6136:6137,6140:6141,6144:6145,6148:6149,6152:6154,6157:6158,6161:6162,6165:6166,6169:6170,6173:6174,6177:6178,6181:6182,6185:6187,6190:6191,6194:6195,6198:6199,6202:6203,6206:6207,6210:6211,6214:6215,6218:6220,6223:6224,6227:6228,6231:6232,6235:6236,6239:6240,6243:6244,6247:6249,6251:6253,6256:6257,6260:6261,6264:6265,6268:6269,6272:6273,6276:6277,6280:6282,6284:6286,6289:6290,6293:6294,6297:6298,6301:6302,6305:6306,6309:6310,6313:6315,6317:6319,6322:6323,6326:6327,6330:6331,6334:6335,6338:6339,6342:6344,6346:6348,6350:6352,6355:6356,6359:6360,6363:6364,6367:6368,6371:6372,6375:6377,6379:6381,6383:6385,6388:6389,6392:6393,6396:6397,6400:6401,6404:6406,6408:6410,6412:6414,6416:6418,6421:6422,6425:6426,6429:6430,6433:6434,6437:6439,6441:6443,6445:6447,6449:6451,6454:6455,6458:6459,6462:6463,6466:6468,6470:6472,6474:6476,6478:6480,6482:6484,6487:6488,6491:6492,6495:6496};for(;s>0?r<=s:s<=r;){if(c+=s>0?i:-1*i,c>1&&(c-=1),c<0&&(c+=1),c>=.257800926&&c<=.5){let d=l[r]||r<-1?r+1:r;s>0&&d<=s&&a.push(d),s<0&&a.push(d)}s>0?r++:r--}return a},getDayOfYear:({month:{index:s},day:r})=>(s<=6?31*s:186+30*(s-6))+r,getAllDays(s){const{year:r}=s,a=this.getLeaps(r),i=a.includes(r);return this.yearLength*(r-1)+(i?a.length-1:a.length)+this.getDayOfYear(s)},guessYear:(s,r)=>~~((s+.5)/365.241)+(r>0?1:-1)});return qi=n,qi}var Rb=Eb();const Js=ia(Rb);var Ki,ac;function Pb(){if(ac)return Ki;ac=1;function t(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var n=t({name:"gregorian_en",months:[["January","Jan"],["February","Feb"],["March","Mar"],["April","Apr"],["May","May"],["June","Jun"],["July","Jul"],["August","Aug"],["September","Sep"],["October","Oct"],["November","Nov"],["December","Dec"]],weekDays:[["Saturday","Sat"],["Sunday","Sun"],["Monday","Mon"],["Tuesday","Tue"],["Wednesday","Wed"],["Thursday","Thu"],["Friday","Fri"]],digits:["0","1","2","3","4","5","6","7","8","9"],meridiems:[["AM","am"],["PM","pm"]]});return Ki=n,Ki}var Db=Pb();const Mb=ia(Db);var Gi,ic;function Ob(){if(ic)return Gi;ic=1;function t(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var n=t({name:"persian_fa",months:[["ÙØ±ÙˆØ±Ø¯ÛŒÙ†","ÙØ±"],["Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª","Ø§Ø±"],["Ø®Ø±Ø¯Ø§Ø¯","Ø®Ø±Ø¯"],["ØªÛŒØ±","ØªÛŒØ±"],["Ù…Ø±Ø¯Ø§Ø¯","Ù…Ø±"],["Ø´Ù‡Ø±ÛŒÙˆØ±","Ø´Ù‡"],["Ù…Ù‡Ø±","Ù…Ù‡"],["Ø¢Ø¨Ø§Ù†","Ø¢Ø¨Ø§"],["Ø¢Ø°Ø±","Ø¢Ø°"],["Ø¯ÛŒ","Ø¯ÛŒ"],["Ø¨Ù‡Ù…Ù†","Ø¨Ù‡Ù…"],["Ø§Ø³ÙÙ†Ø¯","Ø§Ø³Ù"]],weekDays:[["Ø´Ù†Ø¨Ù‡","Ø´Ù†"],["ÛŒÚ©Ø´Ù†Ø¨Ù‡","ÛŒÚ©"],["Ø¯ÙˆØ´Ù†Ø¨Ù‡","Ø¯Ùˆ"],["Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡","Ø³Ù‡"],["Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡","Ú†Ù‡Ø§Ø±"],["Ù¾Ù†Ø¬Ø´Ù†Ø¨Ù‡","Ù¾Ù†Ø¬"],["Ø¬Ù…Ø¹Ù‡","Ø¬Ù…"]],digits:["Û°","Û±","Û²","Û³","Û´","Ûµ","Û¶","Û·","Û¸","Û¹"],meridiems:[["Ù‚Ø¨Ù„ Ø§Ø² Ø¸Ù‡Ø±","Ù‚.Ø¸"],["Ø¨Ø¹Ø¯ Ø§Ø² Ø¸Ù‡Ø±","Ø¨.Ø¸"]]});return Gi=n,Gi}var Tb=Ob();const Aa=ia(Tb);function Ab(){return Gr()==="fa"?{calendar:Js,locale:Aa}:{calendar:Xr,locale:Mb}}const tn=o.forwardRef(({value:t,onChange:n,disabled:s,required:r,placeholder:a,className:i,inputClass:c,id:l},d)=>{const{calendar:u,locale:h}=o.useMemo(()=>Ab(),[]),m=o.useMemo(()=>{if(!(!t||t.trim()===""))try{return new Ls(t)}catch{return}},[t]),p=o.useCallback(j=>{if(!j){n("");return}const g=j.convert(Xr);n(g.format("YYYY-MM-DD"))},[n]),x=Y("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",c);return e.jsx("div",{ref:d,className:Y("w-full",i),children:e.jsx(Sb,{value:m,onChange:p,calendar:u,locale:h,format:"YYYY/MM/DD",disabled:s,required:r,placeholder:a??(Gr()==="fa"?"ØªØ§Ø±ÛŒØ®":"Date"),inputClass:x,containerClassName:"w-full",id:l})})});tn.displayName="DatePicker";function ja(t){const n=typeof window<"u"?window.puzzlingcrm:null;return{...t,nonce:n?.nonce??""}}async function Ib(){return _e("puzzlingcrm_get_licenses",ja({}))}async function Lb(t){return _e("puzzlingcrm_add_license",ja({project_name:t.project_name,domain:t.domain,start_date:t.start_date??new Date().toISOString().slice(0,10),expiry_date:t.expiry_date??"",logo_url:t.logo_url??"",status:t.status??"active"}))}async function zb(t,n){return _e("puzzlingcrm_renew_license",ja({id:String(t),expiry_date:n}))}async function Fb(t){return _e("puzzlingcrm_cancel_license",ja({id:String(t)}))}async function $b(t){return _e("puzzlingcrm_delete_license",ja({id:String(t)}))}const Vb={active:"ÙØ¹Ø§Ù„",inactive:"ØºÛŒØ±ÙØ¹Ø§Ù„",expired:"Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡",cancelled:"Ù„ØºÙˆ Ø´Ø¯Ù‡"};function Wb(){const n=Dt()?.isRtl===!0,[s,r]=o.useState([]),[a,i]=o.useState(!0),[c,l]=o.useState(null),[d,u]=o.useState(!1),[h,m]=o.useState(!1),[p,x]=o.useState(null),[j,g]=o.useState(""),[f,b]=o.useState(!1),[v,_]=o.useState({project_name:"",domain:"",start_date:new Date().toISOString().slice(0,10),expiry_date:"",logo_url:"",status:"active"}),S=async()=>{i(!0),l(null);try{const M=await Ib();if(M.success&&M.data){const B=M.data;r(B.licenses??[])}else l(M.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§ÛŒØ³Ù†Ø³â€ŒÙ‡Ø§")}catch{l("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§ÛŒØ³Ù†Ø³â€ŒÙ‡Ø§")}finally{i(!1)}};o.useEffect(()=>{S()},[]);const P=async M=>{if(M.preventDefault(),!v.project_name.trim()||!v.domain.trim()){l("Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ùˆ Ø¯Ø§Ù…Ù†Ù‡ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}b(!0),l(null);try{const B=await Lb({project_name:v.project_name.trim(),domain:v.domain.trim(),start_date:v.start_date||void 0,expiry_date:v.expiry_date||void 0,logo_url:v.logo_url.trim()||void 0,status:v.status});B.success?(u(!1),_({project_name:"",domain:"",start_date:new Date().toISOString().slice(0,10),expiry_date:"",logo_url:"",status:"active"}),S()):l(B.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒØ³Ù†Ø³")}catch{l("Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒØ³Ù†Ø³")}finally{b(!1)}},F=async M=>{if(M.preventDefault(),!(!p||!j)){b(!0),l(null);try{const B=await zb(p,j);B.success?(m(!1),x(null),g(""),S()):l(B.message??"Ø®Ø·Ø§ Ø¯Ø± ØªÙ…Ø¯ÛŒØ¯ Ù„Ø§ÛŒØ³Ù†Ø³")}catch{l("Ø®Ø·Ø§ Ø¯Ø± ØªÙ…Ø¯ÛŒØ¯ Ù„Ø§ÛŒØ³Ù†Ø³")}finally{b(!1)}}},C=async M=>{if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ù„ØºÙˆ Ø§ÛŒÙ† Ù„Ø§ÛŒØ³Ù†Ø³ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ")){b(!0),l(null);try{const B=await Fb(M);B.success?S():l(B.message??"Ø®Ø·Ø§ Ø¯Ø± Ù„ØºÙˆ Ù„Ø§ÛŒØ³Ù†Ø³")}catch{l("Ø®Ø·Ø§ Ø¯Ø± Ù„ØºÙˆ Ù„Ø§ÛŒØ³Ù†Ø³")}finally{b(!1)}}},T=async M=>{if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù„Ø§ÛŒØ³Ù†Ø³ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ Ø§ÛŒÙ† Ø¹Ù…Ù„ Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ø²Ú¯Ø´Øª Ù†ÛŒØ³Øª.")){b(!0),l(null);try{const B=await $b(M);B.success?S():l(B.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù„Ø§ÛŒØ³Ù†Ø³")}catch{l("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ù„Ø§ÛŒØ³Ù†Ø³")}finally{b(!1)}}},z=M=>{x(M),g(new Date().toISOString().slice(0,10)),m(!0)},L=M=>M?new Date(M).toLocaleDateString("fa-IR"):"Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯";return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù„Ø§ÛŒØ³Ù†Ø³â€ŒÙ‡Ø§"}),e.jsxs(I,{onClick:()=>u(!0),children:[e.jsx(En,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒØ³Ù†Ø³ Ø¬Ø¯ÛŒØ¯"]})]}),c&&e.jsx(Sn,{variant:"destructive",children:e.jsx(Cn,{children:c})}),a?e.jsx(xe,{children:e.jsx(ge,{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):s.length===0?e.jsx(xe,{children:e.jsxs(ge,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(zd,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Ù‡Ù†ÙˆØ² Ù„Ø§ÛŒØ³Ù†Ø³â€ŒØ§ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."})]})}):e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:s.map(M=>e.jsx(xe,{className:"overflow-hidden",children:e.jsxs(ge,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[M.logo_url?e.jsx("img",{src:M.logo_url,alt:M.project_name,className:"h-16 w-16 object-contain mb-2"}):e.jsx("div",{className:"h-16 w-16 rounded-lg bg-muted flex items-center justify-center mb-2",children:e.jsx(gg,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h5",{className:"font-medium",children:M.project_name}),e.jsx("p",{className:"text-sm text-muted-foreground",dir:"ltr",children:M.domain})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡:"}),e.jsxs("span",{className:"font-medium",children:[M.remaining_percentage.toFixed(1),"Ùª"]})]}),e.jsx(Ka,{value:M.remaining_percentage,className:"h-1.5"})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§:"}),e.jsx("span",{className:"font-medium",children:L(M.expiry_date)})]}),e.jsxs("div",{className:"flex justify-between text-sm mb-4",children:[e.jsx("span",{className:"text-muted-foreground",children:"Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡:"}),M.expiry_date?e.jsxs(Ct,{variant:"outline",children:[M.remaining_days," Ø±ÙˆØ²"]}):e.jsx(Ct,{variant:"secondary",children:"VIP"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Ct,{variant:M.status==="active"?"default":M.status==="expired"?"destructive":"secondary",children:Vb[M.status]??M.status}),e.jsxs(qr,{children:[e.jsx(Kr,{asChild:!0,children:e.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Ld,{className:"h-4 w-4"})})}),e.jsxs(gr,{align:"end",children:[e.jsxs(ss,{onClick:()=>z(M.id),children:[e.jsx(Yd,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"ØªÙ…Ø¯ÛŒØ¯"]}),e.jsxs(ss,{onClick:()=>C(M.id),children:[e.jsx(Ad,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ØºÙˆ Ù„Ø§ÛŒØ³Ù†Ø³"]}),e.jsxs(ss,{className:"text-destructive",onClick:()=>T(M.id),children:[e.jsx(kn,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø­Ø°Ù"]})]})]})]})]})},M.id))}),e.jsx(vn,{open:d,onOpenChange:u,children:e.jsxs(ln,{children:[e.jsx(cn,{children:e.jsx(dn,{children:"Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø§ÛŒØ³Ù†Ø³ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"project_name",children:"Ù†Ø§Ù… Ù…Ø¬Ù…ÙˆØ¹Ù‡ *"}),e.jsx(oe,{id:"project_name",value:v.project_name,onChange:M=>_(B=>({...B,project_name:M.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"domain",children:"Ø¯Ø§Ù…Ù†Ù‡ *"}),e.jsx(oe,{id:"domain",dir:"ltr",placeholder:"example.com",value:v.domain,onChange:M=>_(B=>({...B,domain:M.target.value})),required:!0})]}),e.jsx(Sn,{children:e.jsx(Cn,{children:"Ú©Ù„ÛŒØ¯ Ù„Ø§ÛŒØ³Ù†Ø³ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯."})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"start_date",children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹"}),e.jsx(tn,{id:"start_date",value:v.start_date,onChange:M=>_(B=>({...B,start_date:M}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"expiry_date",children:"ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§"}),e.jsx(tn,{id:"expiry_date",value:v.expiry_date,onChange:M=>_(B=>({...B,expiry_date:M}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"logo_url",children:"Ø¢Ø¯Ø±Ø³ Ù„ÙˆÚ¯Ùˆ"}),e.jsx(oe,{id:"logo_url",type:"url",dir:"ltr",placeholder:"https://example.com/logo.png",value:v.logo_url,onChange:M=>_(B=>({...B,logo_url:M.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"status",children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsxs("select",{id:"status",className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm",value:v.status,onChange:M=>_(B=>({...B,status:M.target.value})),children:[e.jsx("option",{value:"active",children:"ÙØ¹Ø§Ù„"}),e.jsx("option",{value:"inactive",children:"ØºÛŒØ±ÙØ¹Ø§Ù„"})]})]}),e.jsxs(yn,{children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{type:"submit",disabled:f,children:[f&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§ÙØ²ÙˆØ¯Ù†"]})]})]})]})}),e.jsx(vn,{open:h,onOpenChange:m,children:e.jsxs(ln,{children:[e.jsx(cn,{children:e.jsx(dn,{children:"ØªÙ…Ø¯ÛŒØ¯ Ù„Ø§ÛŒØ³Ù†Ø³"})}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"renew_expiry_date",children:"ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ *"}),e.jsx(tn,{id:"renew_expiry_date",value:j,onChange:g,required:!0})]}),e.jsxs(yn,{children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{type:"submit",disabled:f,children:[f&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"ØªÙ…Ø¯ÛŒØ¯"]})]})]})]})})]})}async function Yb(){return _e("puzzlingcrm_get_consultations",{})}async function Bb(t){return _e("puzzling_manage_consultation",{consultation_id:t.consultation_id??0,name:t.name,phone:t.phone,email:t.email??"",type:t.type,date:t.date??"",time:t.time??"",status:t.status,notes:t.notes??""})}async function Hb(t){return _e("puzzling_convert_consultation_to_project",{consultation_id:String(t)})}function Ub(){const n=Dt()?.isRtl===!0,[s,r]=o.useState([]),[a,i]=o.useState([]),[c,l]=o.useState(!0),[d,u]=o.useState(null),[h,m]=o.useState(!1),[p,x]=o.useState(null),[j,g]=o.useState(!1),[f,b]=o.useState({name:"",phone:"",email:"",type:"phone",date:"",time:"",status:"in-progress",notes:""}),v=async()=>{l(!0),u(null);try{const C=await Yb();if(C.success&&C.data){const T=C.data;r(T.consultations??[]),i(T.statuses??[])}else u(C.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§")}finally{l(!1)}};o.useEffect(()=>{v()},[]);const _=()=>{x(null),b({name:"",phone:"",email:"",type:"phone",date:"",time:"",status:"in-progress",notes:""}),m(!0)},S=C=>{x(C.id);const T=C.datetime?new Date(C.datetime):null;b({name:C.name,phone:C.phone,email:C.email??"",type:C.type,date:T?T.toISOString().slice(0,10):"",time:T?T.toTimeString().slice(0,5):"",status:C.status_slug,notes:C.notes??""}),m(!0)},P=async C=>{if(C.preventDefault(),!f.name.trim()||!f.phone.trim()){u("Ù†Ø§Ù… Ùˆ Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}g(!0),u(null);try{const T=await Bb({consultation_id:p??void 0,name:f.name.trim(),phone:f.phone.trim(),email:f.email.trim()||void 0,type:f.type,date:f.date||void 0,time:f.time||void 0,status:f.status,notes:f.notes.trim()||void 0});T.success?(m(!1),v(),T.data?.reload&&window.location.reload()):u(T.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{g(!1)}},F=async C=>{if(confirm("Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø±ØŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ùˆ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¬Ø¯ÛŒØ¯ Ø§ÛŒØ¬Ø§Ø¯ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.")){g(!0),u(null);try{const T=await Hb(C);if(T.success){const z=T.data?.redirect_url;z?window.location.href=z:v()}else u(T.message??"Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„")}catch{u("Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„")}finally{g(!1)}}};return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒÙ‡Ø§"}),e.jsxs(I,{onClick:_,children:[e.jsx(En,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø´Ø§ÙˆØ±Ù‡ Ø¬Ø¯ÛŒØ¯"]})]}),d&&e.jsx(Sn,{variant:"destructive",children:e.jsx(Cn,{children:d})}),e.jsx(xe,{children:e.jsx(ge,{className:"p-0",children:c?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù…Ø´Ø§ÙˆØ±Ù‡â€ŒØ§ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}):e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ù†Ø§Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ú©Ù†Ù†Ø¯Ù‡"}),e.jsx(ne,{children:"Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³"}),e.jsx(ne,{children:"Ù†ÙˆØ¹ Ù…Ø´Ø§ÙˆØ±Ù‡"}),e.jsx(ne,{children:"ØªØ§Ø±ÛŒØ® Ùˆ Ø³Ø§Ø¹Øª"}),e.jsx(ne,{children:"Ù†ØªÛŒØ¬Ù‡"}),e.jsx(ne,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(fn,{children:s.map(C=>e.jsxs(ut,{children:[e.jsx(te,{className:"font-medium",children:C.name}),e.jsx(te,{dir:"ltr",children:C.phone}),e.jsx(te,{children:C.type_label}),e.jsx(te,{children:C.datetime_display||"---"}),e.jsx(te,{children:e.jsx(Ct,{variant:C.status_slug==="converted"?"default":"secondary",children:C.status_name})}),e.jsx(te,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>S(C),children:e.jsx(In,{className:"h-4 w-4"})}),C.status_slug!=="converted"&&e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>F(C.id),disabled:j,children:[e.jsx(Sg,{className:"h-4 w-4"}),"ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ù¾Ø±ÙˆÚ˜Ù‡"]})]})})]},C.id))})]})})}),e.jsx(vn,{open:h,onOpenChange:m,children:e.jsxs(ln,{children:[e.jsx(cn,{children:e.jsx(dn,{children:p?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø´Ø§ÙˆØ±Ù‡":"Ø«Ø¨Øª Ù…Ø´Ø§ÙˆØ±Ù‡ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"name",children:"Ù†Ø§Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ú©Ù†Ù†Ø¯Ù‡ *"}),e.jsx(oe,{id:"name",value:f.name,onChange:C=>b(T=>({...T,name:C.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"phone",children:"Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ *"}),e.jsx(oe,{id:"phone",dir:"ltr",value:f.phone,onChange:C=>b(T=>({...T,phone:C.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"email",children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(oe,{id:"email",type:"email",dir:"ltr",value:f.email,onChange:C=>b(T=>({...T,email:C.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"type",children:"Ù†ÙˆØ¹ Ù…Ø´Ø§ÙˆØ±Ù‡"}),e.jsxs(Le,{value:f.type,onValueChange:C=>b(T=>({...T,type:C})),children:[e.jsx(Me,{children:e.jsx(ze,{})}),e.jsxs(Oe,{children:[e.jsx(se,{value:"phone",children:"ØªÙ„ÙÙ†ÛŒ"}),e.jsx(se,{value:"in-person",children:"Ø­Ø¶ÙˆØ±ÛŒ"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"date",children:"ØªØ§Ø±ÛŒØ® Ù‚Ø±Ø§Ø±"}),e.jsx(tn,{id:"date",value:f.date,onChange:C=>b(T=>({...T,date:C}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"time",children:"Ø³Ø§Ø¹Øª Ù‚Ø±Ø§Ø±"}),e.jsx(oe,{id:"time",type:"time",value:f.time,onChange:C=>b(T=>({...T,time:C.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"status",children:"Ù†ØªÛŒØ¬Ù‡ Ù…Ø´Ø§ÙˆØ±Ù‡"}),e.jsxs(Le,{value:f.status,onValueChange:C=>b(T=>({...T,status:C})),children:[e.jsx(Me,{children:e.jsx(ze,{})}),e.jsx(Oe,{children:a.map(C=>e.jsx(se,{value:C.slug,children:C.name},C.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"notes",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øªâ€ŒÙ‡Ø§"}),e.jsx("textarea",{id:"notes",className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:f.notes,onChange:C=>b(T=>({...T,notes:C.target.value})),rows:4})]}),e.jsxs(yn,{children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{type:"submit",disabled:j,children:[j&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),p?"Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª":"Ø«Ø¨Øª Ù…Ø´Ø§ÙˆØ±Ù‡"]})]})]})]})})]})}async function oc(t){return _e("puzzlingcrm_get_logs",{log_tab:t.log_tab??"events",paged:t.paged??1})}function qb(){const n=Dt()?.isRtl===!0,[s,r]=o.useState("events"),[a,i]=o.useState([]),[c,l]=o.useState([]),[d,u]=o.useState(!0),[h,m]=o.useState(null),[p,x]=o.useState(1),[j,g]=o.useState(1),[f,b]=o.useState(1),[v,_]=o.useState(1),S=async(T=1)=>{u(!0),m(null);try{const z=await oc({log_tab:"events",paged:T});if(z.success&&z.data){const L=z.data;i(L.logs??[]),b(L.total_pages??1),x(T)}else m(z.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§")}finally{u(!1)}},P=async(T=1)=>{u(!0),m(null);try{const z=await oc({log_tab:"system",paged:T});if(z.success&&z.data){const L=z.data;l(L.logs??[]),_(L.total_pages??1),g(T)}else m(z.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§")}finally{u(!1)}};o.useEffect(()=>{s==="events"?S(1):P(1)},[s]);const F=()=>e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Eg,{className:"h-5 w-5"}),"Ù„Ø§Ú¯ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…"]}),d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.length===0?e.jsx("p",{className:"text-muted-foreground py-8",children:"Ù‡ÛŒÚ† Ù„Ø§Ú¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯."}):e.jsxs(e.Fragment,{children:[e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ø±ÙˆÛŒØ¯Ø§Ø¯"}),e.jsx(ne,{children:"Ø¬Ø²Ø¦ÛŒØ§Øª"}),e.jsx(ne,{children:"Ú©Ø§Ø±Ø¨Ø±"}),e.jsx(ne,{children:"ØªØ§Ø±ÛŒØ®"})]})}),e.jsx(fn,{children:a.map(T=>e.jsxs(ut,{children:[e.jsx(te,{className:"font-medium",children:T.title}),e.jsx(te,{className:"max-w-md truncate",title:T.content,children:T.content}),e.jsx(te,{children:T.author}),e.jsx(te,{children:T.date})]},T.id))})]}),f>1&&e.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[e.jsx(I,{variant:"outline",size:"sm",disabled:p<=1,onClick:()=>S(p-1),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2",children:[p," / ",f]}),e.jsx(I,{variant:"outline",size:"sm",disabled:p>=f,onClick:()=>S(p+1),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]}),C=()=>e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Bd,{className:"h-5 w-5"}),"Ù„Ø§Ú¯ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…"]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…ÛŒØŒ Ù…Ø´Ú©Ù„Ø§Øª Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ API Ùˆ Ø³Ø§ÛŒØ± Ø¨Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø«Ø¨Øª Ø´Ø¯Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯."}),d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):c.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(ta,{className:"h-16 w-16 text-green-500 mb-4"}),e.jsx("h4",{className:"font-medium mb-2",children:"Ø³ÛŒØ³ØªÙ… Ø¯Ø± ÙˆØ¶Ø¹ÛŒØª Ù¾Ø§ÛŒØ¯Ø§Ø± Ø§Ø³Øª"}),e.jsx("p",{className:"text-muted-foreground",children:"Ù‡ÛŒÚ† Ø®Ø·Ø§ÛŒ Ø³ÛŒØ³ØªÙ…ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯."})]}):e.jsxs(e.Fragment,{children:[e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ø¹Ù†ÙˆØ§Ù† Ø®Ø·Ø§"}),e.jsx(ne,{children:"Ø¬Ø²Ø¦ÛŒØ§Øª"}),e.jsx(ne,{children:"ØªØ§Ø±ÛŒØ®"})]})}),e.jsx(fn,{children:c.map(T=>e.jsxs(ut,{children:[e.jsx(te,{className:"font-medium",children:T.title}),e.jsx(te,{className:"max-w-md",title:T.content,children:e.jsx("span",{className:"line-clamp-2",children:T.content})}),e.jsx(te,{children:T.date})]},T.id))})]}),v>1&&e.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[e.jsx(I,{variant:"outline",size:"sm",disabled:j<=1,onClick:()=>P(j-1),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2",children:[j," / ",v]}),e.jsx(I,{variant:"outline",size:"sm",disabled:j>=v,onClick:()=>P(j+1),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]});return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…"})}),h&&e.jsx(Sn,{variant:"destructive",children:e.jsx(Cn,{children:h})}),e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs(bo,{value:s,onValueChange:r,children:[e.jsxs(wo,{children:[e.jsx(Jr,{value:"events",children:"Ù„Ø§Ú¯ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§"}),e.jsx(Jr,{value:"system",children:"Ù„Ø§Ú¯ Ø³ÛŒØ³ØªÙ…"})]}),e.jsx(Zr,{value:"events",className:"mt-4",children:F()}),e.jsx(Zr,{value:"system",className:"mt-4",children:C()})]})})})]})}const dt="__all__",fr="__none__";async function cl(t){return _e("puzzlingcrm_get_users",{search:t?.search,role:t?.role})}async function fh(t){const n={user_id:t.user_id??0,first_name:t.first_name,last_name:t.last_name,email:t.email,pzl_mobile_phone:t.pzl_mobile_phone??"",role:t.role,password:t.password??""};return t.department!==void 0&&(n.department=t.department),t.job_title!==void 0&&(n.job_title=t.job_title),_e("puzzling_manage_user",n)}async function ph(t,n){return _e("puzzling_delete_user",{user_id:String(t),nonce:n})}async function Kb(t,n){return _e("puzzling_send_custom_sms",{user_id:String(t),message:n})}function Gb(){const n=Dt()?.isRtl===!0,[s,r]=o.useState([]),[a,i]=o.useState({total:0,customers:0,staff:0}),[c,l]=o.useState([]),[d,u]=o.useState(!0),[h,m]=o.useState(null),[p,x]=o.useState(""),[j,g]=o.useState(""),[f,b]=o.useState(!1),[v,_]=o.useState(!1),[S,P]=o.useState(null),[F,C]=o.useState(null),[T,z]=o.useState(""),[L,M]=o.useState(!1),[B,ie]=o.useState({first_name:"",last_name:"",email:"",pzl_mobile_phone:"",role:"customer",password:""}),re=o.useCallback(async()=>{u(!0),m(null);try{const $=await cl({search:p||void 0,role:j||void 0});if($.success&&$.data){const ce=$.data;r(ce.users??[]),i(ce.stats??{total:0,customers:0,staff:0}),l(ce.roles??[])}else m($.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†")}finally{u(!1)}},[p,j]);o.useEffect(()=>{const $=setTimeout(re,p||j?300:0);return()=>clearTimeout($)},[re,p,j]);const E=()=>{P(null),ie({first_name:"",last_name:"",email:"",pzl_mobile_phone:"",role:"customer",password:""}),b(!0)},U=$=>{P($),ie({first_name:$.first_name??"",last_name:$.last_name??"",email:$.email??"",pzl_mobile_phone:$.phone??"",role:$.role_slug||"customer",password:""}),b(!0)},be=async $=>{if($.preventDefault(),!B.last_name.trim()||!B.email.trim()||!B.role){m("Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒØŒ Ø§ÛŒÙ…ÛŒÙ„ Ùˆ Ù†Ù‚Ø´ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}if(!S&&!B.password.trim()){m("Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯ØŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}M(!0),m(null);try{const ce=await fh({user_id:S?.id,first_name:B.first_name.trim(),last_name:B.last_name.trim(),email:B.email.trim(),pzl_mobile_phone:B.pzl_mobile_phone.trim()||void 0,role:B.role,password:B.password.trim()||void 0});ce.success?(b(!1),re(),ce.data?.reload&&window.location.reload()):m(ce.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{M(!1)}},K=async $=>{if(!(!$.can_delete||!$.delete_nonce)&&confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ")){M(!0),m(null);try{const ce=await ph($.id,$.delete_nonce);ce.success?re():m(ce.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{M(!1)}}},G=$=>{C($),z(""),_(!0)},we=async $=>{if($.preventDefault(),!(!F||!T.trim())){M(!0),m(null);try{const ce=await Kb(F.id,T.trim());ce.success?(_(!1),C(null),z("")):m(ce.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©")}catch{m("Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©")}finally{M(!1)}}};return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø´ØªØ±ÛŒØ§Ù† Ùˆ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†"}),e.jsxs(I,{onClick:E,children:[e.jsx(En,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯"]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-primary/10 p-3",children:e.jsx(oi,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†"}),e.jsx("p",{className:"text-2xl font-semibold",children:a.total})]})]})})}),e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-success/10 p-3",children:e.jsx(jg,{className:"h-6 w-6 text-success"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù…Ø´ØªØ±ÛŒØ§Ù†"}),e.jsx("p",{className:"text-2xl font-semibold",children:a.customers})]})]})})}),e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"rounded-lg bg-amber-500/10 p-3",children:e.jsx(Kg,{className:"h-6 w-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ø§Ø±Ù…Ù†Ø¯Ø§Ù†"}),e.jsx("p",{className:"text-2xl font-semibold",children:a.staff})]})]})})})]}),e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx(H,{children:"Ø¬Ø³ØªØ¬ÙˆÛŒ Ø³Ø±ÛŒØ¹"}),e.jsx("div",{className:"mt-1 flex rounded-md border",children:e.jsx(oe,{dir:"ltr",placeholder:"Ù†Ø§Ù…ØŒ Ø§ÛŒÙ…ÛŒÙ„ØŒ Ù…ÙˆØ¨Ø§ÛŒÙ„...",value:p,onChange:$=>x($.target.value),className:"border-0 focus-visible:ring-0"})})]}),e.jsxs("div",{className:"w-[180px]",children:[e.jsx(H,{children:"Ù†Ù‚Ø´"}),e.jsxs(Le,{value:j===""?dt:j,onValueChange:$=>g($===dt?"":$),children:[e.jsx(Me,{className:"mt-1",children:e.jsx(ze,{placeholder:"Ù‡Ù…Ù‡ Ù†Ù‚Ø´â€ŒÙ‡Ø§"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:dt,children:"Ù‡Ù…Ù‡ Ù†Ù‚Ø´â€ŒÙ‡Ø§"}),c.map($=>e.jsx(se,{value:$.slug,children:$.name},$.slug))]})]})]})]})})}),h&&e.jsx(Sn,{variant:"destructive",children:e.jsx(Cn,{children:h})}),e.jsx(xe,{children:e.jsx(ge,{className:"p-0",children:d?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ú©Ø§Ø±Ø¨Ø±"}),e.jsx(ne,{children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(ne,{children:"Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(ne,{children:"Ù†Ù‚Ø´"}),e.jsx(ne,{children:"ØªØ§Ø±ÛŒØ® Ø¹Ø¶ÙˆÛŒØª"}),e.jsx(ne,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(fn,{children:s.map($=>e.jsxs(ut,{children:[e.jsx(te,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(ha,{className:"h-10 w-10",children:[e.jsx(fa,{src:$.avatar_url,alt:""}),e.jsx(pa,{children:$.display_name?.slice(0,2)??"?"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:$.display_name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",$.id]})]})]})}),e.jsx(te,{dir:"ltr",className:"font-mono text-sm",children:$.email}),e.jsx(te,{dir:"ltr",children:$.phone||"â€”"}),e.jsx(te,{children:e.jsx(Ct,{variant:"secondary",children:$.role_name})}),e.jsx(te,{children:$.registered_jalali}),e.jsx(te,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>U($),children:e.jsx(In,{className:"h-4 w-4"})}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>G($),title:"Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©",children:e.jsx(Bo,{className:"h-4 w-4"})}),$.can_delete&&e.jsx(I,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>K($),disabled:L,title:"Ø­Ø°Ù",children:e.jsx(kn,{className:"h-4 w-4"})})]})})]},$.id))})]})})}),e.jsx(vn,{open:f,onOpenChange:b,children:e.jsxs(ln,{children:[e.jsx(cn,{children:e.jsx(dn,{children:S?"ÙˆÛŒØ±Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±":"Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("form",{onSubmit:be,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"first_name",children:"Ù†Ø§Ù…"}),e.jsx(oe,{id:"first_name",value:B.first_name,onChange:$=>ie(ce=>({...ce,first_name:$.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"last_name",children:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *"}),e.jsx(oe,{id:"last_name",value:B.last_name,onChange:$=>ie(ce=>({...ce,last_name:$.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"email",children:"Ø§ÛŒÙ…ÛŒÙ„ *"}),e.jsx(oe,{id:"email",type:"email",dir:"ltr",value:B.email,onChange:$=>ie(ce=>({...ce,email:$.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"phone",children:"Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(oe,{id:"phone",dir:"ltr",value:B.pzl_mobile_phone,onChange:$=>ie(ce=>({...ce,pzl_mobile_phone:$.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"role",children:"Ù†Ù‚Ø´ Ú©Ø§Ø±Ø¨Ø±ÛŒ *"}),e.jsxs(Le,{value:B.role,onValueChange:$=>ie(ce=>({...ce,role:$})),children:[e.jsx(Me,{children:e.jsx(ze,{})}),e.jsx(Oe,{children:c.map($=>e.jsx(se,{value:$.slug,children:$.name},$.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(H,{htmlFor:"password",children:["Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± ",S?"(Ø¨Ø±Ø§ÛŒ Ø¹Ø¯Ù… ØªØºÛŒÛŒØ± Ø®Ø§Ù„ÛŒ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯)":"*"]}),e.jsx(oe,{id:"password",type:"password",dir:"ltr",value:B.password,onChange:$=>ie(ce=>({...ce,password:$.target.value})),required:!S})]})]}),e.jsxs(yn,{children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{type:"submit",disabled:L,children:[L&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),S?"Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª":"Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø±"]})]})]})]})}),e.jsx(vn,{open:v,onOpenChange:_,children:e.jsxs(ln,{children:[e.jsx(cn,{children:e.jsxs(dn,{children:["Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú© Ø¨Ù‡ ",F?.display_name]})}),e.jsxs("form",{onSubmit:we,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{htmlFor:"sms_message",children:"Ù…ØªÙ† Ù¾ÛŒØ§Ù…"}),e.jsx("textarea",{id:"sms_message",className:"flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:T,onChange:$=>z($.target.value),required:!0,rows:5})]}),e.jsxs(yn,{children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{type:"submit",disabled:L||!T.trim(),children:[L&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©"]})]})]})]})})]})}async function Xi(t){return _e("puzzlingcrm_get_contracts",{s:t?.s,customer_filter:t?.customer_filter,payment_status:t?.payment_status,paged:t?.paged??1})}async function Xb(t){return _e("puzzlingcrm_get_contract",{contract_id:String(t)})}async function Jb(){return _e("puzzlingcrm_get_project_templates",{})}async function Zb(){return _e("puzzlingcrm_list_products",{})}async function Qb(t){return _e("puzzlingcrm_get_project_assignees",{search:""})}async function ew(t){return _e("puzzlingcrm_get_product_projects_preview",{product_id:t})}async function tw(t){const n=new FormData;return n.set("contract_id",String(t.contract_id??0)),n.set("customer_id",String(t.customer_id)),n.set("_project_start_date",t._project_start_date),n.set("contract_title",t.contract_title??""),n.set("total_amount",t.total_amount),n.set("total_installments",String(t.total_installments)),n.set("_project_contract_duration",t._project_contract_duration),n.set("_project_subscription_model",t._project_subscription_model),t.payment_amount.forEach((s,r)=>{n.append("payment_amount[]",s),n.append("payment_due_date[]",t.payment_due_date[r]??""),n.append("payment_status[]",t.payment_status[r]??"pending")}),t.project_template_id!=null&&t.project_template_id>0&&n.set("project_template_id",String(t.project_template_id)),t.product_id!=null&&t.product_id>0&&(n.set("product_id",String(t.product_id)),t.project_assignments?.length&&t.project_assignments.forEach(s=>n.append("project_assignments[]",String(s)))),ya("puzzling_manage_contract",n)}async function nw(t,n){return _e("puzzling_delete_contract",{contract_id:String(t),nonce:n})}async function sw(t,n){return _e("puzzling_cancel_contract",{contract_id:String(t),reason:"Ø¯Ù„ÛŒÙ„ÛŒ Ø°Ú©Ø± Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."})}async function rw(t,n){return _e("puzzling_add_project_to_contract",{contract_id:String(t),project_title:n})}function lc(t){return new Intl.NumberFormat("fa-IR").format(t)}function aw(){const n=Dt()?.isRtl===!0,s=Ps(),[r]=Za(),a=r.get("action")==="new"?"new":"list",i=r.get("contract_id")?parseInt(r.get("contract_id"),10):null,c=r.get("from_lead")?parseInt(r.get("from_lead"),10):null,[l,d]=o.useState(a),[u,h]=o.useState([]),[m,p]=o.useState([]),[x,j]=o.useState(1),[g,f]=o.useState(1),[b,v]=o.useState(!0),[_,S]=o.useState(null),[P,F]=o.useState(""),[C,T]=o.useState(""),[z,L]=o.useState(""),[M,B]=o.useState(null),[ie,re]=o.useState([]),[E,U]=o.useState([]),[be,K]=o.useState([]),[G,we]=o.useState(!1),[$,ce]=o.useState(""),[Ze,We]=o.useState([]),[Re,k]=o.useState(!1),[y,A]=o.useState(""),[R,ee]=o.useState(1),[Ce,at]=o.useState([]),[pt,tt]=o.useState(!1),[st,Ut]=o.useState(0),[$t,nn]=o.useState([]),[ht,Zt]=o.useState([]),[cs,Z]=o.useState([]),[it,bn]=o.useState(null),[w,D]=o.useState(!1),[O,V]=o.useState({customer_id:0,start_date:"",contract_title:"",total_amount:"",total_installments:1,duration:"1-month",subscription_model:"onetime",installments:[]}),J=o.useCallback(async()=>{v(!0),S(null);try{const N=await Xi({s:P||void 0,customer_filter:C?parseInt(C,10):void 0,payment_status:z||void 0,paged:g});N.success&&N.data?(h(N.data.contracts??[]),p(N.data.customers??[]),j(N.data.total_pages??1),f(N.data.current_page??1)):S(N.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§")}finally{v(!1)}},[P,C,z,g]),X=o.useCallback(async N=>{v(!0),S(null);try{const q=await Xb(N);if(q.success&&q.data){const de=q.data.contract;re(q.data.related_projects??[]),U(q.data.durations??[]),K(q.data.models??[]),de?(B(de),V({customer_id:de.customer_id,start_date:de.start_date?de.start_date.slice(0,10):"",contract_title:de.title??"",total_amount:de.total_amount??"",total_installments:de.total_installments??1,duration:de.duration??"1-month",subscription_model:de.subscription_model??"onetime",installments:(de.installments??[]).map(Be=>({amount:Be.amount,due_date:Be.due_date_gregorian?Be.due_date_gregorian.slice(0,10):Be.due_date,status:Be.status}))})):(B(null),S(q.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"))}else S(q.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯")}finally{v(!1)}},[]);o.useEffect(()=>{l==="list"&&J()},[l,J]),o.useEffect(()=>{c&&l==="new"?ob(c).then(N=>{const q=N.success&&N.data?N.data:null;q&&(bn(q),q.existing_customer_id>0&&V(de=>({...de,customer_id:q.existing_customer_id})))}):bn(null)},[c,l]),o.useEffect(()=>{i&&l==="new"?X(i):l==="new"&&!i&&(B(null),V({customer_id:0,start_date:new Date().toISOString().slice(0,10),contract_title:"",total_amount:"",total_installments:1,duration:"1-month",subscription_model:"onetime",installments:[]}),re([]),Xi({}).then(N=>{N.success&&N.data&&p(N.data.customers??[])}),U([{value:"1-month",label:"ÛŒÚ© Ù…Ø§Ù‡Ù‡"},{value:"3-months",label:"Ø³Ù‡ Ù…Ø§Ù‡Ù‡"},{value:"6-months",label:"Ø´Ø´ Ù…Ø§Ù‡Ù‡"},{value:"12-months",label:"ÛŒÚ© Ø³Ø§Ù„Ù‡"}]),K([{value:"onetime",label:"ÛŒÚ©Ø¨Ø§Ø± Ù¾Ø±Ø¯Ø§Ø®Øª"},{value:"subscription",label:"Ø§Ø´ØªØ±Ø§Ú©ÛŒ"}]))},[l,i]),o.useEffect(()=>{l==="new"&&!M&&(Jb().then(N=>{N.success&&N.data?.templates&&We(N.data.templates)}),Zb().then(N=>{N.success&&N.data&&(at(N.data.products??[]),tt(N.data.wc_active??!1))}),Qb().then(N=>{N.success&&N.data?.users&&Zt(N.data.users)}))},[l,M]),o.useEffect(()=>{st>0?ew(st).then(N=>{N.success&&N.data?.titles&&(nn(N.data.titles),Z(N.data.titles.map(()=>0)))}):(nn([]),Z([]))},[st]);const he=()=>{s("/contracts?action=new"),d("new"),bn(null),B(null),k(!1),A(""),ee(1),Ut(0),nn([]),Z([])},fe=N=>{s(`/contracts?action=new&contract_id=${N.id}`),d("new"),X(N.id)},pe=()=>{s("/contracts"),d("list"),J()},ve=()=>{V(N=>({...N,installments:[...N.installments,{amount:"",due_date:"",status:"pending"}]}))},ae=N=>{V(q=>({...q,installments:q.installments.filter((de,Be)=>Be!==N)}))},ye=(N,q,de)=>{V(Be=>{const Ve=[...Be.installments];return Ve[N]={...Ve[N],[q]:de},{...Be,installments:Ve}})},le=()=>{const N=parseInt(O.total_amount.replace(/\D/g,""),10)||0,q=O.total_installments||1;if(N<=0||q<=0)return;const de=Math.floor(N/q),Be=O.start_date?new Date(O.start_date):new Date,Ve=[];for(let Te=0;Te<q;Te++){const ft=new Date(Be);ft.setMonth(ft.getMonth()+Te),Ve.push({amount:String(de),due_date:ft.toISOString().slice(0,10),status:"pending"})}V(Te=>({...Te,installments:Ve}))},Pe=async N=>{if(N.preventDefault(),!O.customer_id||!O.start_date){S("Ù…Ø´ØªØ±ÛŒ Ùˆ ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}if(O.installments.length===0){S("Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ù‚Ø³Ø· Ø¨Ø§ÛŒØ¯ Ø«Ø¨Øª Ø´ÙˆØ¯.");return}if(O.installments.some(de=>!de.amount||!de.due_date)){S("ØªÙ…Ø§Ù… Ø§Ù‚Ø³Ø§Ø· Ø¨Ø§ÛŒØ¯ Ù…Ø¨Ù„Øº Ùˆ ØªØ§Ø±ÛŒØ® Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯.");return}we(!0),S(null);try{const de=O.total_amount.replace(/\D/g,"")||String(O.installments.reduce((Ve,Te)=>Ve+(parseInt(Te.amount.replace(/\D/g,""),10)||0),0)),Be=await tw({contract_id:M?.id,customer_id:O.customer_id,_project_start_date:O.start_date,contract_title:O.contract_title||void 0,total_amount:String(de),total_installments:O.installments.length,_project_contract_duration:O.duration,_project_subscription_model:O.subscription_model,payment_amount:O.installments.map(Ve=>Ve.amount.replace(/\D/g,"")||"0"),payment_due_date:O.installments.map(Ve=>Ve.due_date),payment_status:O.installments.map(Ve=>Ve.status),project_template_id:!M&&!st&&Re&&y?parseInt(y,10):void 0,product_id:!M&&st>0?st:void 0,project_assignments:!M&&st>0?cs:void 0});Be.success?(pe(),Be.data?.reload&&window.location.reload()):S(Be.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{we(!1)}},Ge=async N=>{if(confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø¯Ø§Ø¦Ù…ÛŒ Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ")){we(!0),S(null);try{const q=await nw(N.id,N.delete_nonce);q.success?J():S(q.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{we(!1)}}},Ue=async()=>{if(!(!M||!confirm("Ø¢ÛŒØ§ Ø§Ø² Ù„ØºÙˆ Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"))){we(!0),S(null);try{const N=await sw(M.id);N.success?X(M.id):S(N.message??"Ø®Ø·Ø§ Ø¯Ø± Ù„ØºÙˆ")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ù„ØºÙˆ")}finally{we(!1)}}},Ye=async N=>{if(N.preventDefault(),!(!M||!$.trim())){we(!0),S(null);try{const q=await rw(M.id,$.trim());q.success?(ce(""),X(M.id)):S(q.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡")}catch{S("Ø®Ø·Ø§ Ø¯Ø± Ø§ÙØ²ÙˆØ¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡")}finally{we(!1)}}};return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:l==="list"?"default":"outline",onClick:()=>d("list"),children:[e.jsx($s,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ÛŒØ³Øª Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§"]}),e.jsxs(I,{variant:l==="new"?"default":"outline",onClick:he,children:[e.jsx(En,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¬Ø¯ÛŒØ¯"]})]})]}),_&&e.jsx(Sn,{variant:"destructive",children:e.jsx(Cn,{children:_})}),l==="list"?e.jsxs(e.Fragment,{children:[e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[150px]",children:[e.jsx(H,{children:"Ø¬Ø³ØªØ¬Ùˆ"}),e.jsx(oe,{className:"mt-1",placeholder:"Ø´Ù…Ø§Ø±Ù‡ ÛŒØ§ Ø¹Ù†ÙˆØ§Ù†...",value:P,onChange:N=>F(N.target.value)})]}),e.jsxs("div",{className:"w-[180px]",children:[e.jsx(H,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsxs(Le,{value:C===""?dt:C,onValueChange:N=>T(N===dt?"":N),children:[e.jsx(Me,{className:"mt-1",children:e.jsx(ze,{placeholder:"Ù‡Ù…Ù‡"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:dt,children:"Ù‡Ù…Ù‡ Ù…Ø´ØªØ±ÛŒØ§Ù†"}),m.map(N=>e.jsx(se,{value:String(N.id),children:N.display_name},N.id))]})]})]}),e.jsxs("div",{className:"w-[140px]",children:[e.jsx(H,{children:"ÙˆØ¶Ø¹ÛŒØª Ù¾Ø±Ø¯Ø§Ø®Øª"}),e.jsxs(Le,{value:z===""?dt:z,onValueChange:N=>L(N===dt?"":N),children:[e.jsx(Me,{className:"mt-1",children:e.jsx(ze,{placeholder:"Ù‡Ù…Ù‡"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:dt,children:"Ù‡Ù…Ù‡"}),e.jsx(se,{value:"paid",children:"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡"}),e.jsx(se,{value:"pending",children:"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(I,{onClick:J,children:"ÙÛŒÙ„ØªØ±"})})]})})}),e.jsx(xe,{children:e.jsx(ge,{className:"p-0",children:b?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):u.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ø´Ù…Ø§Ø±Ù‡"}),e.jsx(ne,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsx(ne,{children:"Ù…Ø¨Ù„Øº Ú©Ù„"}),e.jsx(ne,{children:"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡"}),e.jsx(ne,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(ne,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(fn,{children:u.map(N=>e.jsxs(ut,{children:[e.jsxs(te,{children:[e.jsxs("span",{className:"font-mono",children:["#",N.contract_number]}),N.is_cancelled&&e.jsx(Ct,{variant:"destructive",className:"ms-2",children:"Ù„ØºÙˆ Ø´Ø¯Ù‡"})]}),e.jsxs(te,{children:[e.jsx("div",{children:N.customer_name}),N.customer_email&&e.jsx("div",{className:"text-xs text-muted-foreground",dir:"ltr",children:N.customer_email})]}),e.jsxs(te,{dir:"ltr",children:[lc(N.total_amount)," ØªÙˆÙ…Ø§Ù†"]}),e.jsxs(te,{children:[e.jsxs("div",{className:"text-success",dir:"ltr",children:[lc(N.paid_amount)," ØªÙˆÙ…Ø§Ù†"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[N.payment_percentage,"%"]})]}),e.jsxs(te,{children:[e.jsx(Ct,{variant:N.status_class==="paid"?"default":"secondary",children:N.status_text}),N.installment_count>0&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[N.paid_count," Ù¾Ø±Ø¯Ø§Ø®Øª / ",N.pending_count," Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"]})]}),e.jsxs(te,{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>fe(N),children:e.jsx(In,{className:"h-4 w-4"})}),!N.is_cancelled&&e.jsx(I,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>Ge(N),disabled:G,children:e.jsx(kn,{className:"h-4 w-4"})})]}),N.start_date_jalali!=="-"&&e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:N.start_date_jalali})]})]},N.id))})]})})}),x>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",disabled:g<=1,onClick:()=>f(N=>Math.max(1,N-1)),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2 text-sm",children:["ØµÙØ­Ù‡ ",g," Ø§Ø² ",x]}),e.jsx(I,{variant:"outline",size:"sm",disabled:g>=x,onClick:()=>f(N=>Math.min(x,N+1)),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]}):e.jsx(xe,{children:e.jsxs(ge,{className:"pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:M?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯":"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¬Ø¯ÛŒØ¯"}),e.jsxs("div",{className:"flex gap-2",children:[M&&!M.is_cancelled&&e.jsxs(I,{variant:"outline",size:"sm",onClick:Ue,disabled:G,children:[e.jsx(Ad,{className:"h-4 w-4"}),"Ù„ØºÙˆ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"]}),e.jsx(I,{variant:"outline",size:"sm",onClick:pe,children:"Ø¨Ø§Ø²Ú¯Ø´Øª"})]})]}),M?.is_cancelled&&e.jsx(Sn,{variant:"destructive",className:"mb-4",children:e.jsx(Cn,{children:"Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù„ØºÙˆ Ø´Ø¯Ù‡ Ø§Ø³Øª."})}),!M&&e.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b",children:[[1,2,3,4].map(N=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:Y("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",R===N?"bg-primary text-primary-foreground":R>N?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:N}),N<4&&e.jsx(_r,{className:"h-4 w-4 text-muted-foreground"})]},N)),e.jsxs("span",{className:"text-sm text-muted-foreground mr-2",children:[R===1&&"Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÙ‡",R===2&&"Ø§Ù‚Ø³Ø§Ø·",R===3&&"Ù…Ø­ØµÙˆÙ„",R===4&&"Ø§Ø±Ø¬Ø§Ø¹ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"]})]}),e.jsx("form",{onSubmit:Pe,className:"space-y-6",children:M?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(Le,{value:O.customer_id?String(O.customer_id):"",onValueChange:N=>V(q=>({...q,customer_id:parseInt(N,10)||0})),disabled:!0,children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø´ØªØ±ÛŒ"})}),e.jsx(Oe,{children:m.map(N=>e.jsx(se,{value:String(N.id),children:N.display_name},N.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹ *"}),e.jsx(tn,{value:O.start_date,onChange:N=>V(q=>({...q,start_date:N})),required:!0})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(H,{children:"Ø¹Ù†ÙˆØ§Ù† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"}),e.jsx(oe,{value:O.contract_title,onChange:N=>V(q=>({...q,contract_title:N.target.value})),placeholder:"Ù…Ø«Ø§Ù„: Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø³Ø§Ù„Ø§Ù†Ù‡"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø¯Øª Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"}),e.jsxs(Le,{value:O.duration,onValueChange:N=>V(q=>({...q,duration:N})),children:[e.jsx(Me,{children:e.jsx(ze,{})}),e.jsx(Oe,{children:(E.length?E:[{value:"1-month",label:"ÛŒÚ© Ù…Ø§Ù‡Ù‡"},{value:"3-months",label:"Ø³Ù‡ Ù…Ø§Ù‡Ù‡"},{value:"6-months",label:"Ø´Ø´ Ù…Ø§Ù‡Ù‡"},{value:"12-months",label:"ÛŒÚ© Ø³Ø§Ù„Ù‡"}]).map(N=>e.jsx(se,{value:N.value,children:N.label},N.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø¯Ù„ Ø§Ø´ØªØ±Ø§Ú©"}),e.jsxs(Le,{value:O.subscription_model,onValueChange:N=>V(q=>({...q,subscription_model:N})),children:[e.jsx(Me,{children:e.jsx(ze,{})}),e.jsx(Oe,{children:(be.length?be:[{value:"onetime",label:"ÛŒÚ©Ø¨Ø§Ø± Ù¾Ø±Ø¯Ø§Ø®Øª"},{value:"subscription",label:"Ø§Ø´ØªØ±Ø§Ú©ÛŒ"}]).map(N=>e.jsx(se,{value:N.value,children:N.label},N.value))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Ø§Ù‚Ø³Ø§Ø·"}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-end p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø¨Ù„Øº Ú©Ù„ (ØªÙˆÙ…Ø§Ù†)"}),e.jsx(oe,{placeholder:"30,000,000",value:O.total_amount,onChange:N=>V(q=>({...q,total_amount:N.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ØªØ¹Ø¯Ø§Ø¯ Ø§Ù‚Ø³Ø§Ø·"}),e.jsx(oe,{type:"number",min:1,value:O.total_installments,onChange:N=>V(q=>({...q,total_installments:parseInt(N.target.value,10)||1}))})]}),e.jsx(I,{type:"button",variant:"secondary",onClick:le,children:"Ù…Ø­Ø§Ø³Ø¨Ù‡"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(H,{children:"Ù„ÛŒØ³Øª Ø§Ù‚Ø³Ø§Ø·"}),e.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:ve,children:"Ø§ÙØ²ÙˆØ¯Ù† Ù‚Ø³Ø· Ø¯Ø³ØªÛŒ"})]}),e.jsx("div",{className:"space-y-2",children:O.installments.map((N,q)=>e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("span",{className:"w-8 text-muted-foreground",children:["#",q+1]}),e.jsx(oe,{placeholder:"Ù…Ø¨Ù„Øº",value:N.amount,onChange:de=>ye(q,"amount",de.target.value),className:"flex-1"}),e.jsx(tn,{value:N.due_date,onChange:de=>ye(q,"due_date",de),className:"flex-1"}),e.jsxs(Le,{value:N.status,onValueChange:de=>ye(q,"status",de),children:[e.jsx(Me,{className:"w-[130px]",children:e.jsx(ze,{})}),e.jsxs(Oe,{children:[e.jsx(se,{value:"pending",children:"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"}),e.jsx(se,{value:"paid",children:"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡"}),e.jsx(se,{value:"cancelled",children:"Ù„ØºÙˆ Ø´Ø¯Ù‡"})]})]}),e.jsx(I,{type:"button",variant:"ghost",size:"icon",onClick:()=>ae(q),children:e.jsx(kn,{className:"h-4 w-4 text-destructive"})})]},q))})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(I,{type:"submit",disabled:G||(M?.is_cancelled??!1),children:[G&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª"]}),e.jsx(I,{type:"button",variant:"outline",onClick:pe,children:"Ø§Ù†ØµØ±Ø§Ù"})]})]}):e.jsxs(e.Fragment,{children:[R===1&&e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[it&&e.jsxs("div",{className:"sm:col-span-2 rounded-lg border p-4 bg-muted/30 space-y-2",children:[e.jsxs("p",{className:"text-sm font-medium",children:["Ø³Ø±Ù†Ø® #",it.lead_id,": ",it.first_name," ",it.last_name," â€” ",it.mobile]}),it.existing_customer_id>0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù…Ø´ØªØ±ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ù…ÙˆØ¨Ø§ÛŒÙ„/Ø§ÛŒÙ…ÛŒÙ„ Ø§Ø² Ù‚Ø¨Ù„ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ Ùˆ Ø¯Ø± Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø§Ø³Øª."}):e.jsxs(I,{type:"button",variant:"outline",size:"sm",disabled:w,onClick:async()=>{D(!0),S(null);const N=await lb(it.lead_id);D(!1),N.success&&N.data?.customer_id?(V(q=>({...q,customer_id:N.data.customer_id})),Xi({}).then(q=>{q.success&&q.data&&p(q.data.customers??[])})):S(N.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø´ØªØ±ÛŒ")},children:[w?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):null,"Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø´ØªØ±ÛŒ Ø§Ø² Ø³Ø±Ù†Ø®"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(Le,{value:O.customer_id?String(O.customer_id):"",onValueChange:N=>V(q=>({...q,customer_id:parseInt(N,10)||0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø´ØªØ±ÛŒ"})}),e.jsx(Oe,{children:m.map(N=>e.jsx(se,{value:String(N.id),children:N.display_name},N.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹ *"}),e.jsx(tn,{value:O.start_date,onChange:N=>V(q=>({...q,start_date:N})),required:!0})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsx(H,{children:"Ø¹Ù†ÙˆØ§Ù† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"}),e.jsx(oe,{value:O.contract_title,onChange:N=>V(q=>({...q,contract_title:N.target.value})),placeholder:"Ù…Ø«Ø§Ù„: Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø³Ø§Ù„Ø§Ù†Ù‡"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø¯Øª Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"}),e.jsxs(Le,{value:O.duration,onValueChange:N=>V(q=>({...q,duration:N})),children:[e.jsx(Me,{children:e.jsx(ze,{})}),e.jsx(Oe,{children:(E.length?E:[{value:"1-month",label:"ÛŒÚ© Ù…Ø§Ù‡Ù‡"},{value:"3-months",label:"Ø³Ù‡ Ù…Ø§Ù‡Ù‡"},{value:"6-months",label:"Ø´Ø´ Ù…Ø§Ù‡Ù‡"},{value:"12-months",label:"ÛŒÚ© Ø³Ø§Ù„Ù‡"}]).map(N=>e.jsx(se,{value:N.value,children:N.label},N.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø¯Ù„ Ø§Ø´ØªØ±Ø§Ú©"}),e.jsxs(Le,{value:O.subscription_model,onValueChange:N=>V(q=>({...q,subscription_model:N})),children:[e.jsx(Me,{children:e.jsx(ze,{})}),e.jsx(Oe,{children:(be.length?be:[{value:"onetime",label:"ÛŒÚ©Ø¨Ø§Ø± Ù¾Ø±Ø¯Ø§Ø®Øª"},{value:"subscription",label:"Ø§Ø´ØªØ±Ø§Ú©ÛŒ"}]).map(N=>e.jsx(se,{value:N.value,children:N.label},N.value))})]})]})]}),R===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Ø§Ù‚Ø³Ø§Ø·"}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-end p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø¨Ù„Øº Ú©Ù„ (ØªÙˆÙ…Ø§Ù†)"}),e.jsx(oe,{placeholder:"30,000,000",value:O.total_amount,onChange:N=>V(q=>({...q,total_amount:N.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ØªØ¹Ø¯Ø§Ø¯ Ø§Ù‚Ø³Ø§Ø·"}),e.jsx(oe,{type:"number",min:1,value:O.total_installments,onChange:N=>V(q=>({...q,total_installments:parseInt(N.target.value,10)||1}))})]}),e.jsx(I,{type:"button",variant:"secondary",onClick:le,children:"Ù…Ø­Ø§Ø³Ø¨Ù‡"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(H,{children:"Ù„ÛŒØ³Øª Ø§Ù‚Ø³Ø§Ø·"}),e.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:ve,children:"Ø§ÙØ²ÙˆØ¯Ù† Ù‚Ø³Ø· Ø¯Ø³ØªÛŒ"})]}),e.jsx("div",{className:"space-y-2",children:O.installments.map((N,q)=>e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("span",{className:"w-8 text-muted-foreground",children:["#",q+1]}),e.jsx(oe,{placeholder:"Ù…Ø¨Ù„Øº",value:N.amount,onChange:de=>ye(q,"amount",de.target.value),className:"flex-1"}),e.jsx(tn,{value:N.due_date,onChange:de=>ye(q,"due_date",de),className:"flex-1"}),e.jsxs(Le,{value:N.status,onValueChange:de=>ye(q,"status",de),children:[e.jsx(Me,{className:"w-[130px]",children:e.jsx(ze,{})}),e.jsxs(Oe,{children:[e.jsx(se,{value:"pending",children:"Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±"}),e.jsx(se,{value:"paid",children:"Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡"}),e.jsx(se,{value:"cancelled",children:"Ù„ØºÙˆ Ø´Ø¯Ù‡"})]})]}),e.jsx(I,{type:"button",variant:"ghost",size:"icon",onClick:()=>ae(q),children:e.jsx(kn,{className:"h-4 w-4 text-destructive"})})]},q))})]}),R===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Wd,{className:"h-5 w-5"})," Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø­ØµÙˆÙ„ ÙˆÙˆÚ©Ø§Ù…Ø±Ø³"]}),pt?e.jsxs(e.Fragment,{children:[e.jsxs(Le,{value:st>0?String(st):"_none",onValueChange:N=>Ut(N==="_none"?0:parseInt(N,10)),children:[e.jsx(Me,{className:"max-w-md",children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø­ØµÙˆÙ„ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:"_none",children:"Ø¨Ø¯ÙˆÙ† Ù…Ø­ØµÙˆÙ„"}),Ce.map(N=>e.jsxs(se,{value:String(N.id),children:[N.name," (",N.type,") â€” ",N.price]},N.id))]})]}),st===0&&e.jsxs("div",{className:"rounded-lg border p-4 space-y-4 bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"create-project-template",checked:Re,onChange:N=>{k(N.target.checked),N.target.checked||A("")},className:"h-4 w-4 rounded border-input"}),e.jsx(H,{htmlFor:"create-project-template",className:"cursor-pointer font-medium",children:"Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ø§ Ù‚Ø§Ù„Ø¨"})]}),Re&&e.jsxs(Le,{value:y,onValueChange:A,children:[e.jsx(Me,{className:"max-w-md",children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø§Ù„Ø¨..."})}),e.jsxs(Oe,{children:[Ze.map(N=>e.jsx(se,{value:String(N.id),children:N.title},N.id)),Ze.length===0&&e.jsx(se,{value:"__none__",disabled:!0,children:"Ù‚Ø§Ù„Ø¨ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯"})]})]})]})]}):e.jsx("p",{className:"text-muted-foreground",children:"ÙˆÙˆÚ©Ø§Ù…Ø±Ø³ ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª. Ø§Ø² Ù‚Ø§Ù„Ø¨ Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯."})]}),R===4&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(Er,{className:"h-5 w-5"})," Ø§Ø±Ø¬Ø§Ø¹ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"]}),$t.length>0?e.jsx("div",{className:"space-y-3",children:$t.map((N,q)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"font-medium min-w-[180px]",children:N}),e.jsxs(Le,{value:cs[q]>0?String(cs[q]):"_none",onValueChange:de=>Z(Be=>{const Ve=[...Be];return Ve[q]=de==="_none"?0:parseInt(de,10),Ve}),children:[e.jsx(Me,{className:"max-w-[220px]",children:e.jsx(ze,{placeholder:"Ø§Ø±Ø¬Ø§Ø¹ Ø¨Ù‡..."})}),e.jsxs(Oe,{children:[e.jsx(se,{value:"_none",children:"â€”"}),ht.map(de=>e.jsx(se,{value:String(de.id),children:de.display_name},de.id))]})]})]},q))}):e.jsx("p",{className:"text-muted-foreground",children:"Ù…Ø­ØµÙˆÙ„ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡ ÛŒØ§ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒØ§ÛŒ Ø§Ø² Ø¢Ù† Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯."})]}),e.jsxs("div",{className:"flex gap-4",children:[R>1&&e.jsxs(I,{type:"button",variant:"outline",onClick:()=>ee(N=>N-1),children:[e.jsx(_r,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù‚Ø¨Ù„ÛŒ"]}),R<4?e.jsxs(I,{type:"button",onClick:()=>ee(N=>N+1),disabled:R===1&&(!O.customer_id||!O.start_date)||R===2&&(O.installments.length===0||O.installments.some(N=>!N.amount||!N.due_date)),children:["Ø¨Ø¹Ø¯ÛŒ",e.jsx(Wo,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")})]}):e.jsxs(I,{type:"submit",disabled:G,children:[G&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§ÛŒØ¬Ø§Ø¯ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"]}),e.jsx(I,{type:"button",variant:"outline",onClick:pe,children:"Ø§Ù†ØµØ±Ø§Ù"})]})]})}),M&&e.jsxs("div",{className:"mt-8 pt-8 border-t",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø·"}),ie.length>0?e.jsx("ul",{className:"list-disc list-inside space-y-1 mb-4",children:ie.map(N=>e.jsx("li",{children:e.jsx(Ht,{to:`/projects?action=edit&project_id=${N.id}`,className:"text-primary hover:underline",children:N.title})},N.id))}):e.jsx("p",{className:"text-muted-foreground mb-4",children:"Ù‡ÛŒÚ† Ù¾Ø±ÙˆÚ˜Ù‡â€ŒØ§ÛŒ Ø¨Ù‡ Ø§ÛŒÙ† Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ù…ØªØµÙ„ Ù†ÛŒØ³Øª."}),e.jsxs("form",{onSubmit:Ye,className:"flex gap-2",children:[e.jsx(oe,{placeholder:"Ø¹Ù†ÙˆØ§Ù† Ù¾Ø±ÙˆÚ˜Ù‡ Ø¬Ø¯ÛŒØ¯",value:$,onChange:N=>ce(N.target.value),className:"flex-1"}),e.jsx(I,{type:"submit",disabled:G||!$.trim(),children:"Ø§ÙØ²ÙˆØ¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡"})]})]})]})})]})}async function cc(t=1){return _e("puzzlingcrm_get_invoices",{paged:t})}async function iw(t){return _e("puzzlingcrm_get_invoice",{invoice_id:String(t)})}async function ow(t){return _e("puzzling_get_projects_for_customer",{customer_id:String(t)})}async function lw(t){const n=new FormData;return n.set("invoice_id",String(t.invoice_id??0)),n.set("customer_id",String(t.customer_id)),n.set("project_id",String(t.project_id)),n.set("issue_date",t.issue_date),n.set("payment_method",t.payment_method),n.set("notes",t.notes),t.item_title.forEach((s,r)=>{n.append("item_title[]",s),n.append("item_desc[]",t.item_desc[r]??""),n.append("item_price[]",t.item_price[r]??"0"),n.append("item_discount[]",t.item_discount[r]??"0")}),ya("puzzling_manage_pro_invoice",n)}function Ji(t){return new Intl.NumberFormat("fa-IR").format(t)}function cw(){const n=Dt()?.isRtl===!0,s=Ps(),[r]=Za(),a=r.get("action")==="new"?"new":"list",i=r.get("invoice_id")?parseInt(r.get("invoice_id"),10):null,[c,l]=o.useState(a),[d,u]=o.useState([]),[h,m]=o.useState([]),[p,x]=o.useState([]),[j,g]=o.useState(1),[f,b]=o.useState(1),[v,_]=o.useState(!0),[S,P]=o.useState(null),[F,C]=o.useState(null),[T,z]=o.useState(!1),[L,M]=o.useState({customer_id:0,project_id:0,issue_date:new Date().toISOString().slice(0,10),items:[],payment_method:"",notes:""}),B=o.useCallback(async()=>{_(!0),P(null);try{const k=await cc(f);k.success&&k.data?(u(k.data.invoices??[]),m(k.data.customers??[]),g(k.data.total_pages??1)):P(k.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±Ù‡Ø§")}catch{P("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±Ù‡Ø§")}finally{_(!1)}},[f]),ie=o.useCallback(async k=>{_(!0),P(null);try{const y=await iw(k);if(y.success&&y.data){const A=y.data.invoice;A?(C(A),M({customer_id:A.customer_id,project_id:A.project_id,issue_date:A.issue_date?A.issue_date.slice(0,10):"",items:(A.items??[]).map(R=>({title:R.title??"",desc:R.desc??"",price:String(R.price??0),discount:String(R.discount??0)})),payment_method:A.payment_method??"",notes:A.notes??""}),re(A.customer_id)):(C(null),P(y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±"))}else P(y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±")}catch{P("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±")}finally{_(!1)}},[]),re=async k=>{if(!k){x([]);return}const y=await ow(k);y.success&&y.data?x(Array.isArray(y.data)?y.data:[]):x([])};o.useEffect(()=>{c==="list"&&B()},[c,B]),o.useEffect(()=>{i&&c==="new"?ie(i):c==="new"&&!i&&(C(null),M({customer_id:0,project_id:0,issue_date:new Date().toISOString().slice(0,10),items:[{title:"",desc:"",price:"",discount:"0"}],payment_method:"",notes:""}),x([]),cc(1).then(k=>{k.success&&k.data&&m(k.data.customers??[])}))},[c,i]);const E=()=>{s("/invoices?action=new"),l("new"),C(null)},U=k=>{s(`/invoices?action=new&invoice_id=${k.id}`),l("new"),ie(k.id)},be=()=>{s("/invoices"),l("list"),B()},K=k=>{M(y=>({...y,customer_id:k,project_id:0})),re(k)},G=()=>{M(k=>({...k,items:[...k.items,{title:"",desc:"",price:"",discount:"0"}]}))},we=k=>{M(y=>({...y,items:y.items.filter((A,R)=>R!==k)}))},$=(k,y,A)=>{M(R=>{const ee=[...R.items];return ee[k]={...ee[k],[y]:A},{...R,items:ee}})},ce=L.items.reduce((k,y)=>k+(parseFloat(y.price.replace(/\D/g,""))||0),0),Ze=L.items.reduce((k,y)=>k+(parseFloat(y.discount.replace(/\D/g,""))||0),0),We=ce-Ze,Re=async k=>{if(k.preventDefault(),!L.customer_id||!L.project_id||!L.issue_date){P("Ù…Ø´ØªØ±ÛŒØŒ Ù¾Ø±ÙˆÚ˜Ù‡ Ùˆ ØªØ§Ø±ÛŒØ® ØµØ¯ÙˆØ± Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}const y=L.items.filter(A=>A.title.trim());if(y.length===0){P("Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ø¢ÛŒØªÙ… Ø¨Ø§ÛŒØ¯ Ø«Ø¨Øª Ø´ÙˆØ¯.");return}z(!0),P(null);try{const A=await lw({invoice_id:F?.id,customer_id:L.customer_id,project_id:L.project_id,issue_date:L.issue_date,item_title:y.map(R=>R.title),item_desc:y.map(R=>R.desc),item_price:y.map(R=>R.price.replace(/\D/g,"")||"0"),item_discount:y.map(R=>R.discount.replace(/\D/g,"")||"0"),payment_method:L.payment_method,notes:L.notes});A.success?(be(),A.data?.reload&&window.location.reload()):P(A.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{P("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{z(!1)}};return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±Ù‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:c==="list"?"default":"outline",onClick:()=>l("list"),children:[e.jsx($s,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ÛŒØ³Øª"]}),e.jsxs(I,{variant:c==="new"?"default":"outline",onClick:E,children:[e.jsx(En,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø¯ÛŒØ¯"]})]})]}),S&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive",children:S}),c==="list"?e.jsxs(e.Fragment,{children:[e.jsx(xe,{children:e.jsx(ge,{className:"p-0",children:v?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ø´Ù…Ø§Ø±Ù‡"}),e.jsx(ne,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsx(ne,{children:"Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsx(ne,{children:"Ù…Ø¨Ù„Øº Ù†Ù‡Ø§ÛŒÛŒ"}),e.jsx(ne,{children:"ØªØ§Ø±ÛŒØ®"}),e.jsx(ne,{children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(fn,{children:d.map(k=>e.jsxs(ut,{children:[e.jsx(te,{className:"font-mono",children:k.invoice_number}),e.jsx(te,{children:k.customer_name}),e.jsx(te,{children:k.project_title}),e.jsxs(te,{dir:"ltr",children:[Ji(k.final_total)," ØªÙˆÙ…Ø§Ù†"]}),e.jsx(te,{children:k.date_display}),e.jsx(te,{children:e.jsx(I,{variant:"outline",size:"sm",onClick:()=>U(k),children:e.jsx(In,{className:"h-4 w-4"})})})]},k.id))})]})})}),j>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",disabled:f<=1,onClick:()=>b(k=>Math.max(1,k-1)),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2 text-sm",children:["ØµÙØ­Ù‡ ",f," Ø§Ø² ",j]}),e.jsx(I,{variant:"outline",size:"sm",disabled:f>=j,onClick:()=>b(k=>Math.min(j,k+1)),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]}):e.jsx(xe,{children:e.jsxs(ge,{className:"pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:F?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ±":"Ø§ÛŒØ¬Ø§Ø¯ Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ± Ø¬Ø¯ÛŒØ¯"}),e.jsx(I,{variant:"outline",size:"sm",onClick:be,children:"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª"})]}),e.jsxs("form",{onSubmit:Re,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(Le,{value:L.customer_id?String(L.customer_id):"",onValueChange:k=>K(parseInt(k,10)||0),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø´ØªØ±ÛŒ"})}),e.jsx(Oe,{children:h.map(k=>e.jsx(se,{value:String(k.id),children:k.display_name},k.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù¾Ø±ÙˆÚ˜Ù‡ *"}),e.jsxs(Le,{value:L.project_id?String(L.project_id):"",onValueChange:k=>M(y=>({...y,project_id:parseInt(k,10)||0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:L.customer_id?"Ø§Ù†ØªØ®Ø§Ø¨ Ù¾Ø±ÙˆÚ˜Ù‡":"Ø§Ø¨ØªØ¯Ø§ Ù…Ø´ØªØ±ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsx(Oe,{children:p.map(k=>e.jsx(se,{value:String(k.id),children:k.title},k.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ØªØ§Ø±ÛŒØ® ØµØ¯ÙˆØ± *"}),e.jsx(tn,{value:L.issue_date,onChange:k=>M(y=>({...y,issue_date:k})),required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(H,{children:"Ø±Ø¯ÛŒÙâ€ŒÙ‡Ø§ÛŒ Ø®Ø¯Ù…Ø§Øª"}),e.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:G,children:"Ø§ÙØ²ÙˆØ¯Ù† Ø±Ø¯ÛŒÙ"})]}),e.jsx("div",{className:"space-y-2",children:L.items.map((k,y)=>e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[e.jsxs("div",{className:"col-span-3",children:[e.jsx(H,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(oe,{value:k.title,onChange:A=>$(y,"title",A.target.value),placeholder:"Ø¹Ù†ÙˆØ§Ù† Ø®Ø¯Ù…Øª"})]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(H,{children:"ØªÙˆØ¶ÛŒØ­Ø§Øª"}),e.jsx(oe,{value:k.desc,onChange:A=>$(y,"desc",A.target.value),placeholder:"ØªÙˆØ¶ÛŒØ­Ø§Øª"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(H,{children:"Ù‚ÛŒÙ…Øª (ØªÙˆÙ…Ø§Ù†)"}),e.jsx(oe,{value:k.price,onChange:A=>$(y,"price",A.target.value),placeholder:"0"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(H,{children:"ØªØ®ÙÛŒÙ"}),e.jsx(oe,{value:k.discount,onChange:A=>$(y,"discount",A.target.value),placeholder:"0"})]}),e.jsx("div",{className:"col-span-1",children:e.jsx(I,{type:"button",variant:"ghost",size:"icon",onClick:()=>we(y),disabled:L.items.length<=1,children:"Ã—"})})]},y))}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsxs("span",{children:["Ø¬Ù…Ø¹ Ú©Ù„: ",e.jsx("strong",{dir:"ltr",children:Ji(ce)})," ØªÙˆÙ…Ø§Ù†"]}),e.jsxs("span",{children:["Ù…Ø¨Ù„Øº Ù†Ù‡Ø§ÛŒÛŒ: ",e.jsx("strong",{dir:"ltr",children:Ji(We)})," ØªÙˆÙ…Ø§Ù†"]})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù†Ø­ÙˆÙ‡ Ù¾Ø±Ø¯Ø§Ø®Øª"}),e.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:L.payment_method,onChange:k=>M(y=>({...y,payment_method:k.target.value})),rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øªâ€ŒÙ‡Ø§"}),e.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:L.notes,onChange:k=>M(y=>({...y,notes:k.target.value})),rows:4})]})]}),e.jsxs(I,{type:"submit",disabled:T,children:[T&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),F?"Ø°Ø®ÛŒØ±Ù‡":"Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ø§Ø±Ø³Ø§Ù„"]})]})]})})]})}async function dc(t){return _e("puzzlingcrm_get_tickets",{s:t?.s,status_filter:t?.status_filter,priority_filter:t?.priority_filter,department_filter:t?.department_filter,paged:t?.paged??1})}async function dw(t){return _e("puzzlingcrm_get_ticket",{ticket_id:String(t)})}async function uw(t){return _e("puzzling_new_ticket",{ticket_title:t.ticket_title,ticket_content:t.ticket_content,department:String(t.department),ticket_priority:String(t.ticket_priority)})}async function mw(t,n,s){const r={ticket_id:String(t),comment:n};return s&&(s.ticket_status&&(r.ticket_status=s.ticket_status),s.department&&(r.department=String(s.department)),s.assigned_to&&(r.assigned_to=String(s.assigned_to)),s.ticket_priority&&(r.ticket_priority=String(s.ticket_priority))),_e("puzzling_ticket_reply",r)}async function hw(t){return _e("puzzling_convert_ticket_to_task",{ticket_id:String(t)})}function fw(){const n=Dt()?.isRtl===!0,s=Ps(),[r]=Za(),a=r.get("ticket_id")?parseInt(r.get("ticket_id"),10):null,i=r.get("action")==="new"?"new":a?"single":"list",[c,l]=o.useState(i),[d,u]=o.useState([]),[h,m]=o.useState([]),[p,x]=o.useState([]),[j,g]=o.useState([]),[f,b]=o.useState(1),[v,_]=o.useState(1),[S,P]=o.useState(!0),[F,C]=o.useState(null),[T,z]=o.useState(""),[L,M]=o.useState(""),[B,ie]=o.useState(""),[re,E]=o.useState(""),[U,be]=o.useState(null),[K,G]=o.useState([]),[we,$]=o.useState([]),[ce,Ze]=o.useState(!1),[We,Re]=o.useState(!1),[k,y]=o.useState({ticket_title:"",ticket_content:"",department:0,ticket_priority:0}),[A,R]=o.useState(""),[ee,Ce]=o.useState(""),[at,pt]=o.useState(0),tt=o.useCallback(async()=>{P(!0),C(null);try{const Z=await dc({s:T||void 0,status_filter:L||void 0,priority_filter:B||void 0,department_filter:re?parseInt(re,10):void 0,paged:v});Z.success&&Z.data?(u(Z.data.tickets??[]),m(Z.data.statuses??[]),x(Z.data.priorities??[]),g(Z.data.departments??[]),b(Z.data.total_pages??1)):C(Z.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§")}catch{C("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§")}finally{P(!1)}},[T,L,B,re,v]),st=o.useCallback(async Z=>{P(!0),C(null);try{const it=await dw(Z);if(it.success&&it.data){const bn=it.data.ticket;be(bn),G(it.data.statuses??[]),$(it.data.departments??[]),Ze(it.data.can_manage??!1),bn?(Ce(bn.status_slug??""),pt(bn.department_id??0)):(Ce(""),pt(0))}else C(it.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÛŒÚ©Øª")}catch{C("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÛŒÚ©Øª")}finally{P(!1)}},[]);o.useEffect(()=>{c==="list"&&tt()},[c,tt]),o.useEffect(()=>{a&&c==="single"&&st(a)},[c,a]),o.useEffect(()=>{r.get("action")==="new"&&(l("new"),dc({}).then(Z=>{Z.success&&Z.data&&(m(Z.data.statuses??[]),x(Z.data.priorities??[]),g(Z.data.departments??[]))}))},[]);const Ut=()=>{s("/tickets?action=new"),l("new"),y({ticket_title:"",ticket_content:"",department:0,ticket_priority:0})},$t=Z=>{s(`/tickets?ticket_id=${Z.id}`),l("single"),st(Z.id)},nn=()=>{s("/tickets"),l("list"),be(null),tt()},ht=async Z=>{if(Z.preventDefault(),!k.ticket_title.trim()||!k.ticket_content.trim()||!k.department||!k.ticket_priority){C("Ø¹Ù†ÙˆØ§Ù†ØŒ Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†ØŒ Ø§ÙˆÙ„ÙˆÛŒØª Ùˆ Ù…ØªÙ† ØªÛŒÚ©Øª Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}Re(!0),C(null);try{const it=await uw({ticket_title:k.ticket_title.trim(),ticket_content:k.ticket_content.trim(),department:k.department,ticket_priority:k.ticket_priority});it.success?(nn(),it.data?.reload&&window.location.reload()):C(it.message??"Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª ØªÛŒÚ©Øª")}catch{C("Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª ØªÛŒÚ©Øª")}finally{Re(!1)}},Zt=async Z=>{if(Z.preventDefault(),!(!U||!A.trim())){Re(!0),C(null);try{const it=await mw(U.id,A.trim(),ce?{ticket_status:ee||void 0,department:at||void 0}:void 0);it.success?(R(""),st(U.id),it.data?.reload&&window.location.reload()):C(it.message??"Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ù¾Ø§Ø³Ø®")}catch{C("Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ù¾Ø§Ø³Ø®")}finally{Re(!1)}}},cs=async()=>{if(!(!U||!ce||!confirm("ØªØ¨Ø¯ÛŒÙ„ Ø§ÛŒÙ† ØªÛŒÚ©Øª Ø¨Ù‡ ÙˆØ¸ÛŒÙÙ‡ØŸ"))){Re(!0),C(null);try{const Z=await hw(U.id);Z.success?(nn(),Z.data?.reload&&window.location.reload()):C(Z.message??"Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„")}catch{C("Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„")}finally{Re(!1)}}};return c==="single"&&U?e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs(I,{variant:"ghost",onClick:nn,className:"mb-4",children:[e.jsx(Dd,{className:Y("h-4 w-4",n?"me-2":"ms-2 rotate-180")}),"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"]}),F&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive",children:F}),e.jsx(xe,{children:e.jsxs(ge,{className:"pt-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:U.title}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ ØªÙˆØ³Ø·: ",U.author_name]}),e.jsxs("span",{children:["Ø¯Ø± ØªØ§Ø±ÛŒØ®: ",U.date]}),e.jsx(Ct,{variant:"secondary",children:U.status_name}),e.jsx(Ct,{variant:"outline",children:U.priority_name}),e.jsxs("span",{children:["Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†: ",U.department_name]}),e.jsxs("span",{children:["Ù…Ø³Ø¦ÙˆÙ„: ",U.assigned_to_name]})]}),e.jsx("div",{className:"prose prose-sm max-w-none mb-6",dangerouslySetInnerHTML:{__html:U.content}}),ce&&e.jsxs(I,{variant:"outline",size:"sm",onClick:cs,disabled:We,className:"mb-6",children:[e.jsx(Hd,{className:"h-4 w-4 me-2"}),"ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ ÙˆØ¸ÛŒÙÙ‡"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium",children:"Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§"}),U.replies.length===0?e.jsx("p",{className:"text-muted-foreground",children:"Ù‡Ù†ÙˆØ² Ù¾Ø§Ø³Ø®ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}):e.jsx("div",{className:"space-y-4",children:U.replies.map(Z=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:[Z.author," â€” ",Z.date]}),e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:Z.content}})]},Z.id))}),!U.is_closed&&e.jsxs("form",{onSubmit:Zt,className:"space-y-4 pt-4 border-t",children:[e.jsx("h4",{className:"font-medium",children:"Ø§Ø±Ø³Ø§Ù„ Ù¾Ø§Ø³Ø® Ø¬Ø¯ÛŒØ¯"}),ce&&e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsxs(Le,{value:ee,onValueChange:Ce,children:[e.jsx(Me,{className:"w-[140px]",children:e.jsx(ze,{})}),e.jsx(Oe,{children:(K.length?K:[{slug:"open",name:"Ø¨Ø§Ø²"},{slug:"in-progress",name:"Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…"},{slug:"closed",name:"Ø¨Ø³ØªÙ‡ Ø´Ø¯Ù‡"}]).map(Z=>e.jsx(se,{value:Z.slug,children:Z.name},Z.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"}),e.jsxs(Le,{value:at?String(at):"",onValueChange:Z=>pt(parseInt(Z,10)||0),children:[e.jsx(Me,{className:"w-[140px]",children:e.jsx(ze,{})}),e.jsx(Oe,{children:(we.length?we:j).map(Z=>e.jsx(se,{value:String(Z.id),children:Z.name},Z.id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…ØªÙ† Ù¾Ø§Ø³Ø® *"}),e.jsx("textarea",{className:"flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:A,onChange:Z=>R(Z.target.value),required:!0,rows:6})]}),e.jsxs(I,{type:"submit",disabled:We||!A.trim(),children:[We&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§Ø±Ø³Ø§Ù„ Ù¾Ø§Ø³Ø®"]})]})]})]})})]}):e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:c==="list"?"default":"outline",onClick:()=>{l("list"),s("/tickets")},children:[e.jsx($s,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ÛŒØ³Øª ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"]}),e.jsxs(I,{variant:c==="new"?"default":"outline",onClick:Ut,children:[e.jsx(En,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª Ø¬Ø¯ÛŒØ¯"]})]})]}),F&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive",children:F}),c==="new"?e.jsx(xe,{children:e.jsxs(ge,{className:"pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª Ø¬Ø¯ÛŒØ¯"}),e.jsxs("form",{onSubmit:ht,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…ÙˆØ¶ÙˆØ¹ *"}),e.jsx(oe,{value:k.ticket_title,onChange:Z=>y(it=>({...it,ticket_title:Z.target.value})),placeholder:"Ù…ÙˆØ¶ÙˆØ¹ ØªÛŒÚ©Øª Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯...",required:!0})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù† *"}),e.jsxs(Le,{value:k.department?String(k.department):"",onValueChange:Z=>y(it=>({...it,department:parseInt(Z,10)||0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"})}),e.jsx(Oe,{children:j.map(Z=>e.jsx(se,{value:String(Z.id),children:Z.name},Z.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø§ÙˆÙ„ÙˆÛŒØª *"}),e.jsxs(Le,{value:k.ticket_priority?String(k.ticket_priority):"",onValueChange:Z=>y(it=>({...it,ticket_priority:parseInt(Z,10)||0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ø§ÙˆÙ„ÙˆÛŒØª"})}),e.jsx(Oe,{children:p.map(Z=>e.jsx(se,{value:String(Z.term_id),children:Z.name},Z.term_id))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù¾ÛŒØ§Ù… Ø´Ù…Ø§ *"}),e.jsx("textarea",{className:"flex min-h-[200px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:k.ticket_content,onChange:Z=>y(it=>({...it,ticket_content:Z.target.value})),required:!0,rows:10})]}),e.jsxs(I,{type:"submit",disabled:We,children:[We&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§Ø±Ø³Ø§Ù„ ØªÛŒÚ©Øª"]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{children:e.jsxs(ge,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsx(oe,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ...",value:T,onChange:Z=>z(Z.target.value),className:"max-w-[200px]"}),e.jsxs(Le,{value:L===""?dt:L,onValueChange:Z=>M(Z===dt?"":Z),children:[e.jsx(Me,{className:"w-[130px]",children:e.jsx(ze,{placeholder:"ÙˆØ¶Ø¹ÛŒØª"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:dt,children:"Ù‡Ù…Ù‡"}),h.map(Z=>e.jsx(se,{value:Z.slug,children:Z.name},Z.slug))]})]}),e.jsxs(Le,{value:B===""?dt:B,onValueChange:Z=>ie(Z===dt?"":Z),children:[e.jsx(Me,{className:"w-[120px]",children:e.jsx(ze,{placeholder:"Ø§ÙˆÙ„ÙˆÛŒØª"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:dt,children:"Ù‡Ù…Ù‡"}),p.map(Z=>e.jsx(se,{value:Z.slug,children:Z.name},Z.term_id))]})]}),e.jsxs(Le,{value:re===""?dt:re,onValueChange:Z=>E(Z===dt?"":Z),children:[e.jsx(Me,{className:"w-[140px]",children:e.jsx(ze,{placeholder:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:dt,children:"Ù‡Ù…Ù‡"}),j.map(Z=>e.jsx(se,{value:String(Z.id),children:Z.name},Z.id))]})]}),e.jsx(I,{onClick:tt,children:"ÙÛŒÙ„ØªØ±"})]}),S?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† ØªÛŒÚ©ØªÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ù…ÙˆØ¶ÙˆØ¹"}),e.jsx(ne,{children:"Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ"}),e.jsx(ne,{children:"Ø§ÙˆÙ„ÙˆÛŒØª"}),e.jsx(ne,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(ne,{})]})}),e.jsx(fn,{children:d.map(Z=>e.jsxs(ut,{children:[e.jsx(te,{children:e.jsx("button",{type:"button",className:"text-primary hover:underline text-start font-medium",onClick:()=>$t(Z),children:Z.title})}),e.jsx(te,{children:Z.modified}),e.jsx(te,{children:e.jsx(Ct,{variant:"outline",children:Z.priority_name})}),e.jsx(te,{children:e.jsx(Ct,{variant:"secondary",children:Z.status_name})}),e.jsx(te,{children:e.jsx(I,{variant:"outline",size:"sm",onClick:()=>$t(Z),children:"Ù…Ø´Ø§Ù‡Ø¯Ù‡"})})]},Z.id))})]})]})}),f>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",disabled:v<=1,onClick:()=>_(Z=>Math.max(1,Z-1)),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2 text-sm",children:["ØµÙØ­Ù‡ ",v," Ø§Ø² ",f]}),e.jsx(I,{variant:"outline",size:"sm",disabled:v>=f,onClick:()=>_(Z=>Math.min(f,Z+1)),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]})}async function uc(t){return _e("puzzlingcrm_get_projects",{s:t?.s,contract_id:t?.contract_id,status_filter:t?.status_filter,paged:t?.paged??1})}async function xh(t){return _e("puzzlingcrm_get_project",{project_id:String(t)})}async function pw(t){const n=new FormData;return n.set("project_id",String(t.project_id??0)),n.set("project_title",t.project_title),n.set("contract_id",String(t.contract_id)),n.set("project_content",t.project_content??""),n.set("project_status",String(t.project_status)),n.set("project_manager",String(t.project_manager??0)),n.set("project_start_date",t.project_start_date??""),n.set("project_end_date",t.project_end_date??""),n.set("project_priority",t.project_priority??"medium"),ya("puzzling_manage_project",n)}async function xw(t,n){return _e("puzzling_delete_project",{project_id:String(t),nonce:n})}function gw({projectId:t,isRtl:n,onBack:s,onEdit:r}){const[a,i]=o.useState(null),[c,l]=o.useState(!0),[d,u]=o.useState(null);if(o.useEffect(()=>{let p=!1;return l(!0),u(null),xh(t).then(x=>{p||(x.success&&x.data?.project?i(x.data.project):u(x.message??"Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯."))}).catch(()=>{p||u("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡.")}).finally(()=>{p||l(!1)}),()=>{p=!0}},[t]),c)return e.jsx("div",{className:"flex items-center justify-center py-12",dir:n?"rtl":"ltr",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(d||!a)return e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsx(I,{variant:"ghost",onClick:s,children:"â† Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-destructive",children:d??"Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯."})]});const h={high:"Ø²ÛŒØ§Ø¯",medium:"Ù…ØªÙˆØ³Ø·",low:"Ú©Ù…"}[a.priority]??a.priority,m=a.tasks??[];return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs(I,{variant:"ghost",onClick:s,className:Y("gap-2",n&&"flex-row-reverse"),children:[e.jsx(Dd,{className:Y("h-4 w-4",n&&"rotate-180")}),"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"]}),e.jsxs(I,{variant:"outline",size:"sm",onClick:r,className:"gap-2",children:[e.jsx(In,{className:"h-4 w-4"}),"ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø±ÙˆÚ˜Ù‡"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:a.title}),e.jsx(Ct,{variant:"secondary",children:a.status_name??""}),e.jsx(Ct,{variant:"outline",children:h})]}),e.jsx(xe,{children:e.jsxs(ge,{className:"pt-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ø¬Ø²Ø¦ÛŒØ§Øª Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.customer_name&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(br,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Ù…Ø´ØªØ±ÛŒ:"}),e.jsx("span",{className:"font-medium",children:a.customer_name})]}),a.manager_name&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(br,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Ù…Ø¯ÛŒØ± Ù¾Ø±ÙˆÚ˜Ù‡:"}),e.jsx("span",{className:"font-medium",children:a.manager_name})]}),a.start_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ea,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹:"}),e.jsx("span",{children:a.start_date})]}),a.end_date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ea,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"ØªØ§Ø±ÛŒØ® Ù¾Ø§ÛŒØ§Ù†:"}),e.jsx("span",{children:a.end_date})]}),a.assigned_members&&a.assigned_members.length>0&&e.jsxs("div",{className:"flex items-start gap-2 sm:col-span-2",children:[e.jsx(oi,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"block mb-1",children:"Ø§Ø¹Ø¶Ø§ÛŒ ØªÛŒÙ…:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.assigned_members.map(p=>e.jsx(Ct,{variant:"outline",children:p.display_name},p.id))})]})]})]}),a.content&&e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:a.content})})]})}),a.total_tasks!==void 0&&a.total_tasks>0&&e.jsx(xe,{children:e.jsxs(ge,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Ù¾ÛŒØ´Ø±ÙØª ÙˆØ¸Ø§ÛŒÙ"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.completed_tasks??0," Ø§Ø² ",a.total_tasks," ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡",a.completion_percentage!=null&&` (${a.completion_percentage}%)`]})]}),a.completion_percentage!=null&&e.jsx("div",{className:"h-2 w-full rounded-full bg-muted overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${Math.min(100,a.completion_percentage)}%`}})}),m.length>0&&e.jsxs("ul",{className:"mt-4 space-y-2",children:[m.slice(0,10).map(p=>e.jsxs("li",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[e.jsx("span",{children:p.title}),e.jsx(Ct,{variant:"secondary",children:p.status_name})]},p.id)),m.length>10&&e.jsxs("li",{className:"text-sm text-muted-foreground pt-2",children:["Ùˆ ",m.length-10," ÙˆØ¸ÛŒÙÙ‡Ù” Ø¯ÛŒÚ¯Ø±..."]})]})]})})]})}function vw(){const n=Dt()?.isRtl===!0,s=Ps(),[r]=Za(),a=r.get("project_id")?parseInt(r.get("project_id"),10):null,i=r.get("action")==="new"?"new":a?"form":"list",[c,l]=o.useState(i),[d,u]=o.useState([]),[h,m]=o.useState([]),[p,x]=o.useState([]),[j,g]=o.useState([]),[f,b]=o.useState(1),[v,_]=o.useState(1),[S,P]=o.useState(!0),[F,C]=o.useState(null),[T,z]=o.useState(""),[L,M]=o.useState(""),[B,ie]=o.useState(""),[re,E]=o.useState(!1),[U,be]=o.useState(1),[K,G]=o.useState({project_title:"",contract_id:0,project_manager:0,project_status:0,project_content:"",start_date:"",end_date:"",priority:"medium"}),we=o.useCallback(async()=>{P(!0),C(null);try{const R=await uc({s:T||void 0,contract_id:L?parseInt(L,10):void 0,status_filter:B?parseInt(B,10):void 0,paged:v});R.success&&R.data?(u(R.data.projects??[]),m(R.data.contracts??[]),x(R.data.statuses??[]),g(R.data.managers??[]),b(R.data.total_pages??1)):C(R.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§")}catch{C("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§")}finally{P(!1)}},[T,L,B,v]),$=o.useCallback(async R=>{P(!0),C(null);try{const ee=await xh(R);if(ee.success&&ee.data){const Ce=ee.data.project;g(ee.data.managers??[]),m(ee.data.contracts??[]),x(ee.data.statuses??[]),Ce?G({project_title:Ce.title??"",contract_id:Ce.contract_id??0,project_manager:Ce.project_manager??0,project_status:Ce.project_status??0,project_content:Ce.content??"",start_date:Ce.start_date?Ce.start_date.slice(0,10):"",end_date:Ce.end_date?Ce.end_date.slice(0,10):"",priority:Ce.priority??"medium"}):C(ee.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡")}else C(ee.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡")}catch{C("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡")}finally{P(!1)}},[]);o.useEffect(()=>{c==="list"&&we()},[c,we]),o.useEffect(()=>{a&&c==="form"&&$(a)},[c,a]),o.useEffect(()=>{c==="new"&&uc({}).then(R=>{R.success&&R.data&&(m(R.data.contracts??[]),x(R.data.statuses??[]),g(R.data.managers??[]))})},[c]);const ce=()=>{s("/projects?action=new"),l("new"),be(1),G({project_title:"",contract_id:0,project_manager:0,project_status:0,project_content:"",start_date:"",end_date:"",priority:"medium"})},Ze=R=>{s(`/projects?action=edit&project_id=${R.id}`),l("form"),$(R.id)},We=()=>{s("/projects"),l("list"),we()},Re=async R=>{if(R.preventDefault(),!K.project_title.trim()||!K.contract_id||!K.project_status){C("Ù†Ø§Ù… Ù¾Ø±ÙˆÚ˜Ù‡ØŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ùˆ ÙˆØ¶Ø¹ÛŒØª Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}E(!0),C(null);try{const ee=await pw({project_id:a??void 0,project_title:K.project_title.trim(),contract_id:K.contract_id,project_content:K.project_content||void 0,project_status:K.project_status,project_manager:K.project_manager||void 0,project_start_date:K.start_date||void 0,project_end_date:K.end_date||void 0,project_priority:K.priority});ee.success?(We(),ee.data?.reload&&window.location.reload()):C(ee.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{C("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{E(!1)}},k=async R=>{const ee=R.delete_nonce;if(!(!ee||!confirm("Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"))){E(!0),C(null);try{const Ce=await xw(R.id,ee);Ce.success?we():C(Ce.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{C("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{E(!1)}}},y=c==="new"||c==="form",A=r.get("action")==="view"&&r.get("project_id")?parseInt(r.get("project_id"),10):null;return A?e.jsx(gw,{projectId:A,isRtl:n,onBack:()=>{s("/projects"),l("list")},onEdit:()=>{s(`/projects?action=edit&project_id=${A}`),l("form"),$(A)}}):e.jsxs("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:c==="list"?"default":"outline",onClick:()=>{l("list"),s("/projects")},children:[e.jsx($s,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù„ÛŒØ³Øª"]}),e.jsxs(I,{variant:y?"default":"outline",onClick:ce,children:[e.jsx(En,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡"]})]})]}),F&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive",children:F}),y?e.jsx(xe,{children:e.jsxs(ge,{className:"pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:a?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø±ÙˆÚ˜Ù‡":"Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¬Ø¯ÛŒØ¯"}),e.jsx(I,{variant:"outline",size:"sm",onClick:We,children:"Ø¨Ø§Ø²Ú¯Ø´Øª"})]}),!a&&e.jsxs("div",{className:"flex items-center gap-2 mb-6 pb-4 border-b",children:[e.jsx("div",{className:Y("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",U===1?"bg-primary text-primary-foreground":"bg-primary/20 text-primary"),children:"1"}),e.jsx(_r,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("div",{className:Y("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",U===2?"bg-primary text-primary-foreground":U>1?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:"2"}),e.jsx("span",{className:"text-sm text-muted-foreground mr-2",children:U===1?"Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯":"Ø¬Ø²Ø¦ÛŒØ§Øª Ù¾Ø±ÙˆÚ˜Ù‡"})]}),e.jsx("form",{onSubmit:Re,className:"space-y-4",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù†Ø§Ù… Ù¾Ø±ÙˆÚ˜Ù‡ *"}),e.jsx(oe,{value:K.project_title,onChange:R=>G(ee=>({...ee,project_title:R.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ / Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(Le,{value:K.contract_id?String(K.contract_id):"",onValueChange:R=>G(ee=>({...ee,contract_id:parseInt(R,10)||0})),disabled:!0,children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"})}),e.jsx(Oe,{children:h.map(R=>e.jsxs(se,{value:String(R.id),children:[R.title," (",R.customer_name,")"]},R.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø¯ÛŒØ± Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsxs(Le,{value:K.project_manager?String(K.project_manager):"",onValueChange:R=>G(ee=>({...ee,project_manager:parseInt(R,10)||0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø¯ÛŒØ±"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:"0",children:"â€”"}),j.map(R=>e.jsx(se,{value:String(R.id),children:R.display_name},R.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ÙˆØ¶Ø¹ÛŒØª *"}),e.jsxs(Le,{value:K.project_status?String(K.project_status):"",onValueChange:R=>G(ee=>({...ee,project_status:parseInt(R,10)||0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ ÙˆØ¶Ø¹ÛŒØª"})}),e.jsx(Oe,{children:p.map(R=>e.jsx(se,{value:String(R.id),children:R.name},R.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹"}),e.jsx(tn,{value:K.start_date,onChange:R=>G(ee=>({...ee,start_date:R}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ØªØ§Ø±ÛŒØ® Ù¾Ø§ÛŒØ§Ù†"}),e.jsx(tn,{value:K.end_date,onChange:R=>G(ee=>({...ee,end_date:R}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ØªÙˆØ¶ÛŒØ­Ø§Øª"}),e.jsx("textarea",{className:"flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:K.project_content,onChange:R=>G(ee=>({...ee,project_content:R.target.value})),rows:6})]}),e.jsxs(I,{type:"submit",disabled:re,children:[re&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø°Ø®ÛŒØ±Ù‡"]})]}):e.jsxs(e.Fragment,{children:[U===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-4",children:[e.jsx(Vs,{className:"h-5 w-5"}),e.jsx("span",{children:"Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¨Ø±Ø§ÛŒ Ù…ØªØµÙ„ Ú©Ø±Ø¯Ù† Ù¾Ø±ÙˆÚ˜Ù‡"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ / Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(Le,{value:K.contract_id?String(K.contract_id):"",onValueChange:R=>G(ee=>({...ee,contract_id:parseInt(R,10)||0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"})}),e.jsx(Oe,{children:h.map(R=>e.jsxs(se,{value:String(R.id),children:[R.title," (",R.customer_name,")"]},R.id))})]})]}),e.jsxs(I,{type:"button",onClick:()=>be(2),disabled:!K.contract_id,children:["Ø¨Ø¹Ø¯ÛŒ",e.jsx(Wo,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")})]})]}),U===2&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù†Ø§Ù… Ù¾Ø±ÙˆÚ˜Ù‡ *"}),e.jsx(oe,{value:K.project_title,onChange:R=>G(ee=>({...ee,project_title:R.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ (Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡)"}),e.jsxs(Le,{value:String(K.contract_id),onValueChange:()=>{},disabled:!0,children:[e.jsx(Me,{children:e.jsx(ze,{})}),e.jsx(Oe,{children:h.filter(R=>R.id===K.contract_id).map(R=>e.jsxs(se,{value:String(R.id),children:[R.title," (",R.customer_name,")"]},R.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø¯ÛŒØ± Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsxs(Le,{value:K.project_manager?String(K.project_manager):"",onValueChange:R=>G(ee=>({...ee,project_manager:parseInt(R,10)||0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø¯ÛŒØ±"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:"0",children:"â€”"}),j.map(R=>e.jsx(se,{value:String(R.id),children:R.display_name},R.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ÙˆØ¶Ø¹ÛŒØª *"}),e.jsxs(Le,{value:K.project_status?String(K.project_status):"",onValueChange:R=>G(ee=>({...ee,project_status:parseInt(R,10)||0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ ÙˆØ¶Ø¹ÛŒØª"})}),e.jsx(Oe,{children:p.map(R=>e.jsx(se,{value:String(R.id),children:R.name},R.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹"}),e.jsx(tn,{value:K.start_date,onChange:R=>G(ee=>({...ee,start_date:R}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ØªØ§Ø±ÛŒØ® Ù¾Ø§ÛŒØ§Ù†"}),e.jsx(tn,{value:K.end_date,onChange:R=>G(ee=>({...ee,end_date:R}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ØªÙˆØ¶ÛŒØ­Ø§Øª"}),e.jsx("textarea",{className:"flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:K.project_content,onChange:R=>G(ee=>({...ee,project_content:R.target.value})),rows:6})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(I,{type:"button",variant:"outline",onClick:()=>be(1),children:[e.jsx(_r,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù‚Ø¨Ù„ÛŒ"]}),e.jsxs(I,{type:"submit",disabled:re,children:[re&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡"]})]})]})]})})]})}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsx(oe,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ...",value:T,onChange:R=>z(R.target.value),className:"max-w-[200px]"}),e.jsxs(Le,{value:L===""?dt:L,onValueChange:R=>M(R===dt?"":R),children:[e.jsx(Me,{className:"w-[180px]",children:e.jsx(ze,{placeholder:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:dt,children:"Ù‡Ù…Ù‡"}),h.map(R=>e.jsx(se,{value:String(R.id),children:R.title},R.id))]})]}),e.jsxs(Le,{value:B===""?dt:B,onValueChange:R=>ie(R===dt?"":R),children:[e.jsx(Me,{className:"w-[120px]",children:e.jsx(ze,{placeholder:"ÙˆØ¶Ø¹ÛŒØª"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:dt,children:"Ù‡Ù…Ù‡"}),p.map(R=>e.jsx(se,{value:String(R.id),children:R.name},R.id))]})]}),e.jsx(I,{onClick:we,children:"ÙÛŒÙ„ØªØ±"})]})})}),S?e.jsx(xe,{children:e.jsx(ge,{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):d.length===0?e.jsx(xe,{children:e.jsxs(ge,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(qn,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Ù‡ÛŒÚ† Ù¾Ø±ÙˆÚ˜Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."})]})}):e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:d.map(R=>e.jsx(xe,{className:"overflow-hidden",children:e.jsxs(ge,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-lg bg-muted flex items-center justify-center mb-2",children:e.jsx(qn,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx(Ht,{to:`/projects?action=view&project_id=${R.id}`,className:"font-medium text-primary hover:underline line-clamp-2",children:R.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:R.customer_name})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Ct,{variant:"secondary",children:R.status_name}),e.jsxs(qr,{children:[e.jsx(Kr,{asChild:!0,children:e.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Ld,{className:"h-4 w-4"})})}),e.jsxs(gr,{align:"end",children:[e.jsx(ss,{asChild:!0,children:e.jsxs(Ht,{to:`/projects?action=view&project_id=${R.id}`,children:[e.jsx(La,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ù…Ø´Ø§Ù‡Ø¯Ù‡"]})}),e.jsxs(ss,{onClick:()=>Ze(R),children:[e.jsx(In,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"ÙˆÛŒØ±Ø§ÛŒØ´"]}),R.delete_nonce&&e.jsxs(ss,{className:"text-destructive",onClick:()=>k(R),disabled:re,children:[e.jsx(kn,{className:Y("h-4 w-4 shrink-0",n?"ms-2":"me-2")}),"Ø­Ø°Ù"]})]})]})]})]})},R.id))}),f>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",disabled:v<=1,onClick:()=>_(R=>Math.max(1,R-1)),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsxs("span",{className:"flex items-center px-2 text-sm",children:["ØµÙØ­Ù‡ ",v," Ø§Ø² ",f]}),e.jsx(I,{variant:"outline",size:"sm",disabled:v>=f,onClick:()=>_(R=>Math.min(f,R+1)),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]})]})}var yw=Symbol("radix.slottable");function jw(t){const n=({children:s})=>e.jsx(e.Fragment,{children:s});return n.displayName=`${t}.Slottable`,n.__radixId=yw,n}var gh="AlertDialog",[bw]=nr(gh,[Jc]),Ds=Jc(),vh=t=>{const{__scopeAlertDialog:n,...s}=t,r=Ds(n);return e.jsx(Ao,{...r,...s,modal:!0})};vh.displayName=gh;var ww="AlertDialogTrigger",_w=o.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=Ds(s);return e.jsx(hd,{...a,...r,ref:n})});_w.displayName=ww;var Nw="AlertDialogPortal",yh=t=>{const{__scopeAlertDialog:n,...s}=t,r=Ds(n);return e.jsx(Io,{...r,...s})};yh.displayName=Nw;var Sw="AlertDialogOverlay",jh=o.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=Ds(s);return e.jsx(ca,{...a,...r,ref:n})});jh.displayName=Sw;var jr="AlertDialogContent",[Cw,kw]=bw(jr),Ew=jw("AlertDialogContent"),bh=o.forwardRef((t,n)=>{const{__scopeAlertDialog:s,children:r,...a}=t,i=Ds(s),c=o.useRef(null),l=gt(n,c),d=o.useRef(null);return e.jsx(Ux,{contentName:jr,titleName:wh,docsSlug:"alert-dialog",children:e.jsx(Cw,{scope:s,cancelRef:d,children:e.jsxs(da,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ee(a.onOpenAutoFocus,u=>{u.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[e.jsx(Ew,{children:r}),e.jsx(Pw,{contentRef:c})]})})})});bh.displayName=jr;var wh="AlertDialogTitle",_h=o.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=Ds(s);return e.jsx(ua,{...a,...r,ref:n})});_h.displayName=wh;var Nh="AlertDialogDescription",Sh=o.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=Ds(s);return e.jsx(ma,{...a,...r,ref:n})});Sh.displayName=Nh;var Rw="AlertDialogAction",Ch=o.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,a=Ds(s);return e.jsx(Lo,{...a,...r,ref:n})});Ch.displayName=Rw;var kh="AlertDialogCancel",Eh=o.forwardRef((t,n)=>{const{__scopeAlertDialog:s,...r}=t,{cancelRef:a}=kw(kh,s),i=Ds(s),c=gt(n,a);return e.jsx(Lo,{...i,...r,ref:c})});Eh.displayName=kh;var Pw=({contentRef:t})=>{const n=`\`${jr}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${jr}\` by passing a \`${Nh}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${jr}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return o.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(n)},[n,t]),null},Dw=vh,Mw=yh,Rh=jh,Ph=bh,Dh=Ch,Mh=Eh,Oh=_h,Th=Sh;const dl=Dw,Ow=Mw,Ah=o.forwardRef(({className:t,...n},s)=>e.jsx(Rh,{ref:s,className:Y("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n}));Ah.displayName=Rh.displayName;const ji=o.forwardRef(({className:t,...n},s)=>e.jsxs(Ow,{children:[e.jsx(Ah,{}),e.jsx(Ph,{ref:s,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n})]}));ji.displayName=Ph.displayName;const bi=({className:t,...n})=>e.jsx("div",{className:Y("flex flex-col space-y-2 text-center sm:text-left",t),...n});bi.displayName="AlertDialogHeader";const wi=({className:t,...n})=>e.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-2",t),...n});wi.displayName="AlertDialogFooter";const _i=o.forwardRef(({className:t,...n},s)=>e.jsx(Oh,{ref:s,className:Y("text-lg font-semibold",t),...n}));_i.displayName=Oh.displayName;const Ni=o.forwardRef(({className:t,...n},s)=>e.jsx(Th,{ref:s,className:Y("text-sm text-muted-foreground",t),...n}));Ni.displayName=Th.displayName;const Si=o.forwardRef(({className:t,...n},s)=>e.jsx(Dh,{ref:s,className:Y(vc(),t),...n}));Si.displayName=Dh.displayName;const Ci=o.forwardRef(({className:t,...n},s)=>e.jsx(Mh,{ref:s,className:Y(vc({variant:"outline"}),"mt-2 sm:mt-0",t),...n}));Ci.displayName=Mh.displayName;async function Tw(t){return _e("puzzlingcrm_get_tasks",{s:t?.s,project_filter:t?.project_filter,staff_filter:t?.staff_filter,priority_filter:t?.priority_filter,label_filter:t?.label_filter,status:t?.status,paged:t?.paged??1,per_page:t?.per_page})}async function Aw(t,n){return _e("puzzling_update_task_status",{task_id:String(t),status:n})}async function Iw(t){return _e("puzzling_delete_task",{task_id:String(t)})}async function Lw(t){return _e("puzzling_quick_add_task",{title:t.title,project_id:String(t.project_id),assigned_to:String(t.assigned_to),status_slug:t.status_slug})}function zw(){const n=Dt()?.isRtl===!0,[s,r]=o.useState("board"),[a,i]=o.useState(null),[c,l]=o.useState(!0),[d,u]=o.useState(null),[h,m]=o.useState(""),[p,x]=o.useState(""),[j,g]=o.useState(""),[f,b]=o.useState(""),[v,_]=o.useState(""),[S,P]=o.useState(!1),[F,C]=o.useState(null),[T,z]=o.useState(!1),[L,M]=o.useState({title:"",project_id:0,assigned_to:0,status_slug:""}),[B,ie]=o.useState(null),[re,E]=o.useState(null),U=o.useCallback(async()=>{l(!0),u(null);try{const y=await Tw({s:h||void 0,project_filter:p?parseInt(p,10):void 0,staff_filter:j?parseInt(j,10):void 0,priority_filter:f||void 0,label_filter:v||void 0,per_page:200});y.success&&y.data?i(y.data):u(y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙˆØ¸Ø§ÛŒÙ")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙˆØ¸Ø§ÛŒÙ")}finally{l(!1)}},[h,p,j,f,v]);o.useEffect(()=>{U()},[U]);const be=o.useCallback(async(y,A)=>{z(!0),u(null);try{const R=await Aw(y,A);R.success?U():u(R.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ")}finally{z(!1),ie(null),E(null)}},[U]),K=o.useCallback(async y=>{z(!0),u(null);try{const A=await Iw(y);A.success?(C(null),U()):u(A.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{z(!1)}},[U]),G=o.useCallback(async()=>{if(!L.title.trim()||!L.project_id||!L.assigned_to||!L.status_slug){u("Ø¹Ù†ÙˆØ§Ù†ØŒ Ù¾Ø±ÙˆÚ˜Ù‡ØŒ Ù…Ø³Ø¦ÙˆÙ„ Ùˆ ÙˆØ¶Ø¹ÛŒØª Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}z(!0),u(null);try{const y=await Lw({title:L.title.trim(),project_id:L.project_id,assigned_to:L.assigned_to,status_slug:L.status_slug});y.success?(P(!1),M({title:"",project_id:0,assigned_to:0,status_slug:""}),U()):u(y.message??"Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ ÙˆØ¸ÛŒÙÙ‡")}catch{u("Ø®Ø·Ø§ Ø¯Ø± Ø§ÛŒØ¬Ø§Ø¯ ÙˆØ¸ÛŒÙÙ‡")}finally{z(!1)}},[L,U]),we=a?.statuses??[],$=a?.tasks??[],ce=a?.stats??{total_tasks:0,active_tasks:0,completed_tasks:0,total_projects:0},Ze=a?.projects??[],We=a?.staff??[],Re=(ce.total_projects??0)>0||We.length>0,k=y=>$.filter(A=>A.status_slug===y);return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"ÙˆØ¸Ø§ÛŒÙ"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:s==="board"?"default":"outline",size:"sm",onClick:()=>r("board"),className:"gap-2",children:[e.jsx(Dg,{className:"h-4 w-4"}),"Ø¨ÙØ±Ø¯"]}),e.jsxs(I,{variant:s==="list"?"default":"outline",size:"sm",onClick:()=>r("list"),className:"gap-2",children:[e.jsx($s,{className:"h-4 w-4"}),"Ù„ÛŒØ³Øª"]}),e.jsxs(I,{size:"sm",onClick:()=>P(!0),className:"gap-2",children:[e.jsx(En,{className:"h-4 w-4"}),"ÙˆØ¸ÛŒÙÙ‡ Ø¬Ø¯ÛŒØ¯"]})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[Re&&e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:e.jsx(qn,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:ce.total_projects})]})]})})}),e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-muted",children:e.jsx($s,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ ÙˆØ¸Ø§ÛŒÙ"}),e.jsx("p",{className:"text-xl font-semibold",children:ce.total_tasks})]})]})})}),e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/10",children:e.jsx(Fe,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ÙØ¹Ø§Ù„"}),e.jsx("p",{className:"text-xl font-semibold",children:ce.active_tasks})]})]})})}),e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-500/10",children:e.jsx($s,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ØªÚ©Ù…ÛŒÙ„â€ŒØ´Ø¯Ù‡"}),e.jsx("p",{className:"text-xl font-semibold",children:ce.completed_tasks})]})]})})})]}),e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(oe,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ...",value:h,onChange:y=>m(y.target.value),className:"max-w-[200px]"}),Ze.length>0&&e.jsxs(Le,{value:p===""?dt:p,onValueChange:y=>x(y===dt?"":y),children:[e.jsx(Me,{className:"w-[180px]",children:e.jsx(ze,{placeholder:"Ù¾Ø±ÙˆÚ˜Ù‡"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:dt,children:"Ù‡Ù…Ù‡"}),Ze.map(y=>e.jsx(se,{value:String(y.id),children:y.title},y.id))]})]}),We.length>0&&e.jsxs(Le,{value:j===""?dt:j,onValueChange:y=>g(y===dt?"":y),children:[e.jsx(Me,{className:"w-[160px]",children:e.jsx(ze,{placeholder:"Ú©Ø§Ø±Ù…Ù†Ø¯"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:dt,children:"Ù‡Ù…Ù‡"}),We.map(y=>e.jsx(se,{value:String(y.id),children:y.display_name},y.id))]})]}),(a?.priorities?.length??0)>0&&e.jsxs(Le,{value:f===""?dt:f,onValueChange:y=>b(y===dt?"":y),children:[e.jsx(Me,{className:"w-[120px]",children:e.jsx(ze,{placeholder:"Ø§ÙˆÙ„ÙˆÛŒØª"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:dt,children:"Ù‡Ù…Ù‡"}),(a?.priorities??[]).map(y=>e.jsx(se,{value:y.slug,children:y.name},y.id))]})]}),(a?.labels?.length??0)>0&&e.jsxs(Le,{value:v===""?dt:v,onValueChange:y=>_(y===dt?"":y),children:[e.jsx(Me,{className:"w-[120px]",children:e.jsx(ze,{placeholder:"Ø¨Ø±Ú†Ø³Ø¨"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:dt,children:"Ù‡Ù…Ù‡"}),(a?.labels??[]).map(y=>e.jsx(se,{value:y.slug,children:y.name},y.id))]})]}),e.jsx(I,{onClick:U,children:"Ø§Ø¹Ù…Ø§Ù„ ÙÛŒÙ„ØªØ±"})]})})}),d&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm",children:d}),c?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s==="board"?e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:we.map(y=>e.jsxs("div",{className:Y("min-w-[280px] rounded-lg border-2 bg-muted/30 p-3 transition-colors",re===y.slug&&"border-primary bg-primary/5"),onDragOver:A=>{A.preventDefault(),E(y.slug)},onDragLeave:()=>E(null),onDrop:A=>{A.preventDefault(),E(null);const R=B;R&&R.status_slug!==y.slug&&be(R.id,y.slug)},children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:y.name}),e.jsx(Ct,{variant:"secondary",children:k(y.slug).length})]}),e.jsx("div",{className:"space-y-2",children:k(y.slug).map(A=>e.jsxs("div",{draggable:!0,onDragStart:()=>ie(A),onDragEnd:()=>ie(null),className:"flex items-start gap-2 rounded-md border bg-background p-3 shadow-sm cursor-grab active:cursor-grabbing",children:[e.jsx(kg,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:A.title}),A.project_title&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[e.jsx(qn,{className:"h-3 w-3"}),A.project_title]}),A.due_date&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[e.jsx(ea,{className:"h-3 w-3"}),A.due_date]}),A.assigned_name&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[e.jsx(br,{className:"h-3 w-3"}),A.assigned_name]})]}),e.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 text-destructive hover:text-destructive",onClick:()=>C(A.id),children:e.jsx(kn,{className:"h-4 w-4"})})]},A.id))})]},y.slug))}):e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:$.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† ÙˆØ¸ÛŒÙÙ‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(ne,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(ne,{children:"Ù¾Ø±ÙˆÚ˜Ù‡"}),e.jsx(ne,{children:"Ù…Ø³Ø¦ÙˆÙ„"}),e.jsx(ne,{children:"Ø³Ø±Ø±Ø³ÛŒØ¯"}),e.jsx(ne,{className:"w-[80px]",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(fn,{children:$.map(y=>e.jsxs(ut,{children:[e.jsx(te,{className:"font-medium",children:y.title}),e.jsx(te,{children:e.jsx(Ct,{variant:"secondary",children:y.status_name})}),e.jsx(te,{children:y.project_title||"â€”"}),e.jsx(te,{children:y.assigned_name||"â€”"}),e.jsx(te,{children:y.due_date?y.due_date.slice(0,10):"â€”"}),e.jsx(te,{children:e.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>C(y.id),children:e.jsx(kn,{className:"h-4 w-4"})})})]},y.id))})]})})}),e.jsx(vn,{open:S,onOpenChange:P,children:e.jsxs(ln,{className:"sm:max-w-md",dir:n?"rtl":"ltr",children:[e.jsx(cn,{children:e.jsx(dn,{children:"ÙˆØ¸ÛŒÙÙ‡ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø¹Ù†ÙˆØ§Ù† *"}),e.jsx(oe,{value:L.title,onChange:y=>M(A=>({...A,title:y.target.value})),placeholder:"Ø¹Ù†ÙˆØ§Ù† ÙˆØ¸ÛŒÙÙ‡"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù¾Ø±ÙˆÚ˜Ù‡ *"}),e.jsxs(Le,{value:L.project_id?String(L.project_id):"",onValueChange:y=>M(A=>({...A,project_id:parseInt(y,10)||0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù¾Ø±ÙˆÚ˜Ù‡"})}),e.jsx(Oe,{children:Ze.map(y=>e.jsx(se,{value:String(y.id),children:y.title},y.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù…Ø³Ø¦ÙˆÙ„ *"}),e.jsxs(Le,{value:L.assigned_to?String(L.assigned_to):"",onValueChange:y=>M(A=>({...A,assigned_to:parseInt(y,10)||0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø³Ø¦ÙˆÙ„"})}),e.jsx(Oe,{children:We.map(y=>e.jsx(se,{value:String(y.id),children:y.display_name},y.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"ÙˆØ¶Ø¹ÛŒØª *"}),e.jsxs(Le,{value:L.status_slug,onValueChange:y=>M(A=>({...A,status_slug:y})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ ÙˆØ¶Ø¹ÛŒØª"})}),e.jsx(Oe,{children:we.map(y=>e.jsx(se,{value:y.slug,children:y.name},y.slug))})]})]})]}),e.jsxs(yn,{children:[e.jsx(I,{variant:"outline",onClick:()=>P(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{onClick:G,disabled:T,children:[T&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),"Ø§ÛŒØ¬Ø§Ø¯"]})]})]})}),e.jsx(dl,{open:F!==null,onOpenChange:y=>!y&&C(null),children:e.jsxs(ji,{dir:n?"rtl":"ltr",children:[e.jsxs(bi,{children:[e.jsx(_i,{children:"Ø­Ø°Ù ÙˆØ¸ÛŒÙÙ‡"}),e.jsx(Ni,{children:"Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† ÙˆØ¸ÛŒÙÙ‡ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"})]}),e.jsxs(wi,{children:[e.jsx(Ci,{children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsx(Si,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>F!==null&&K(F),disabled:T,children:T?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):"Ø­Ø°Ù"})]})]})})]})}async function Fw(t){return _e("puzzlingcrm_get_appointments",{s:t?.s,date_from:t?.date_from,date_to:t?.date_to,paged:t?.paged??1,per_page:t?.per_page})}async function $w(t){return _e("puzzlingcrm_get_appointment",{appointment_id:String(t)})}async function Vw(t,n){return _e("puzzling_get_appointments_calendar",{start:t??"",end:n??""})}async function Ww(t){return _e("puzzling_manage_appointment",{appointment_id:String(t.appointment_id??0),customer_id:String(t.customer_id),title:t.title,date:t.date,time:t.time??"10:00",status:t.status,notes:t.notes??""})}async function Yw(t){return _e("puzzling_delete_appointment",{appointment_id:String(t)})}const Bw={pending:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-200",confirmed:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200",completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200"};function Hw(){const n=Dt()?.isRtl===!0,[s,r]=o.useState("list"),[a,i]=o.useState([]),[c,l]=o.useState([]),[d,u]=o.useState([]),[h,m]=o.useState([]),[p,x]=o.useState(!0),[j,g]=o.useState(null),[f,b]=o.useState(!1),[v,_]=o.useState(null),[S,P]=o.useState(null),[F,C]=o.useState(!1),[T,z]=o.useState({customer_id:0,title:"",date:"",time:"10:00",status_slug:"pending",notes:""}),L=Gr()==="fa",[M,B]=o.useState(()=>{const k=new Date;if(Gr()==="fa"){const y=new Ls({date:k,calendar:Js,locale:Aa});return{year:y.year,month:y.month.index}}return{year:k.getFullYear(),month:k.getMonth()}}),ie=o.useCallback(async()=>{x(!0),g(null);try{const k=await Fw({per_page:100});k.success&&k.data?(i(k.data.appointments??[]),u(k.data.statuses??[])):g(k.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øªâ€ŒÙ‡Ø§")}catch{g("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øªâ€ŒÙ‡Ø§")}finally{x(!1)}},[]),re=o.useCallback(async()=>{let k,y;if(L){const A=new Ls({year:M.year,month:M.month+1,day:1,calendar:Js}).convert(Xr),R=new Ls({year:M.year,month:M.month+1,day:1,calendar:Js,locale:Aa}).month.length,ee=new Ls({year:M.year,month:M.month+1,day:R,calendar:Js}).convert(Xr);k=A.format("YYYY-MM-DD"),y=ee.format("YYYY-MM-DD")}else{const A=new Date(M.year,M.month,1),R=new Date(M.year,M.month+1,0);k=A.toISOString().slice(0,10),y=R.toISOString().slice(0,10)}try{const A=await Vw(k,y);A.success&&A.data?.events&&l(A.data.events)}catch{l([])}},[M,L]),E=o.useCallback(async()=>{const k=await cl({role:"customer"});k.success&&k.data?.users&&m(k.data.users.map(y=>({id:y.id,display_name:y.display_name||y.email})))},[]);o.useEffect(()=>{ie()},[ie]),o.useEffect(()=>{s==="calendar"&&re()},[s,re]),o.useEffect(()=>{f&&E()},[f,E]),o.useEffect(()=>{v&&f?$w(v).then(k=>{if(k.success&&k.data?.appointment){const y=k.data.appointment;z({customer_id:y.customer_id,title:y.title,date:y.date||"",time:y.time||"10:00",status_slug:y.status_slug||"pending",notes:y.notes||""})}}):f||(z({customer_id:0,title:"",date:"",time:"10:00",status_slug:"pending",notes:""}),_(null))},[v,f]);const U=()=>{_(null),z({customer_id:0,title:"",date:"",time:"10:00",status_slug:"pending",notes:""}),b(!0)},be=k=>{_(k.id),z({customer_id:k.customer_id,title:k.title,date:k.datetime?k.datetime.slice(0,10):"",time:k.datetime?k.datetime.slice(11,16):"10:00",status_slug:k.status_slug,notes:k.notes||""}),b(!0)},K=o.useCallback(async()=>{if(!T.customer_id||!T.title.trim()||!T.date){g("Ù…Ø´ØªØ±ÛŒØŒ Ù…ÙˆØ¶ÙˆØ¹ Ùˆ ØªØ§Ø±ÛŒØ® Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}C(!0),g(null);try{const k=await Ww({appointment_id:v??void 0,customer_id:T.customer_id,title:T.title.trim(),date:T.date,time:T.time,status:T.status_slug,notes:T.notes});k.success?(b(!1),ie(),s==="calendar"&&re()):g(k.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{g("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{C(!1)}},[T,v,ie,re,s]),G=o.useCallback(async()=>{if(S!=null){C(!0),g(null);try{const k=await Yw(S);k.success?(P(null),ie(),s==="calendar"&&re()):g(k.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{g("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{C(!1)}}},[S,ie,re,s]),we=L?["Ø´","ÛŒ","Ø¯","Ø³","Ú†","Ù¾","Ø¬"]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];let $,ce,Ze;const We=[];if(L){const k=new Ls({year:M.year,month:M.month+1,day:1,calendar:Js,locale:Aa});$=k.month.length,ce=k.weekDay.index,Ze=k.format("MMMM YYYY");for(let y=1;y<=$;y++){const A=new Ls({year:M.year,month:M.month+1,day:y,calendar:Js}).convert(Xr);We.push({day:y,isoDate:A.format("YYYY-MM-DD")})}}else{$=new Date(M.year,M.month+1,0).getDate(),ce=(new Date(M.year,M.month,1).getDay()+1)%7,Ze=new Date(M.year,M.month,1).toLocaleDateString("en-US",{month:"long",year:"numeric"});for(let y=1;y<=$;y++){const A=`${M.year}-${String(M.month+1).padStart(2,"0")}-${String(y).padStart(2,"0")}`;We.push({day:y,isoDate:A})}}const Re={};return c.forEach(k=>{const y=k.start.slice(0,10);Re[y]||(Re[y]=[]),Re[y].push(k)}),e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øªâ€ŒÙ‡Ø§"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:s==="list"?"default":"outline",size:"sm",onClick:()=>r("list"),className:"gap-2",children:[e.jsx($s,{className:"h-4 w-4"}),"Ù„ÛŒØ³Øª"]}),e.jsxs(I,{variant:s==="calendar"?"default":"outline",size:"sm",onClick:()=>r("calendar"),className:"gap-2",children:[e.jsx(ea,{className:"h-4 w-4"}),"ØªÙ‚ÙˆÛŒÙ…"]}),e.jsxs(I,{size:"sm",onClick:U,className:"gap-2",children:[e.jsx(En,{className:"h-4 w-4"}),"Ù‚Ø±Ø§Ø± Ø¬Ø¯ÛŒØ¯"]})]})]}),j&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm",children:j}),p&&s==="list"?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s==="list"?e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:a.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§ØªÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}):e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ù…ÙˆØ¶ÙˆØ¹"}),e.jsx(ne,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsx(ne,{children:"ØªØ§Ø±ÛŒØ® Ùˆ Ø³Ø§Ø¹Øª"}),e.jsx(ne,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(ne,{className:"w-[120px]",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(fn,{children:a.map(k=>e.jsxs(ut,{children:[e.jsx(te,{className:"font-medium",children:k.title}),e.jsx(te,{children:k.customer_name}),e.jsx(te,{children:k.datetime?new Date(k.datetime).toLocaleString(Gr()==="fa"?"fa-IR":"en-US",{dateStyle:"short",timeStyle:"short"}):"â€”"}),e.jsx(te,{children:e.jsx(Ct,{className:Y(Bw[k.status_slug]??"bg-muted"),children:k.status_name})}),e.jsx(te,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>be(k),children:e.jsx(In,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>P(k.id),children:e.jsx(kn,{className:"h-4 w-4"})})]})})]},k.id))})]})})}):e.jsx(xe,{children:e.jsxs(ge,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium",children:Ze}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>B(k=>k.month===0?{year:k.year-1,month:11}:{year:k.year,month:k.month-1}),children:"Ù‚Ø¨Ù„ÛŒ"}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>B(k=>k.month===11?{year:k.year+1,month:0}:{year:k.year,month:k.month+1}),children:"Ø¨Ø¹Ø¯ÛŒ"})]})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:[we.map(k=>e.jsx("div",{className:"font-medium text-muted-foreground py-1",children:k},k)),Array.from({length:ce},(k,y)=>e.jsx("div",{},`empty-${y}`)),We.map(({day:k,isoDate:y})=>{const A=Re[y]??[];return e.jsxs("div",{className:"min-h-[80px] rounded border bg-muted/30 p-1 text-left",children:[e.jsx("span",{className:"text-muted-foreground",children:k}),e.jsxs("div",{className:"mt-1 space-y-0.5",children:[A.slice(0,3).map(R=>e.jsx("div",{className:"truncate rounded px-1 py-0.5 text-xs cursor-pointer",style:{backgroundColor:R.backgroundColor??"#e5e7eb",color:R.borderColor??"#374151"},title:R.title,children:R.title},R.id)),A.length>3&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",A.length-3]})]})]},`${y}-${k}`)})]})]})}),e.jsx(vn,{open:f,onOpenChange:b,children:e.jsxs(ln,{className:"sm:max-w-md",dir:n?"rtl":"ltr",children:[e.jsx(cn,{children:e.jsx(dn,{children:v?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª":"Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù…Ø´ØªØ±ÛŒ *"}),e.jsxs(Le,{value:T.customer_id?String(T.customer_id):"",onValueChange:k=>z(y=>({...y,customer_id:parseInt(k,10)||0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø´ØªØ±ÛŒ"})}),e.jsx(Oe,{children:h.map(k=>e.jsx(se,{value:String(k.id),children:k.display_name},k.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù…ÙˆØ¶ÙˆØ¹ *"}),e.jsx(oe,{value:T.title,onChange:k=>z(y=>({...y,title:k.target.value})),placeholder:"Ù…ÙˆØ¶ÙˆØ¹ Ù‚Ø±Ø§Ø±"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"ØªØ§Ø±ÛŒØ® *"}),e.jsx(tn,{value:T.date,onChange:k=>z(y=>({...y,date:k}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø³Ø§Ø¹Øª *"}),e.jsx(oe,{type:"time",value:T.time,onChange:k=>z(y=>({...y,time:k.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsxs(Le,{value:T.status_slug,onValueChange:k=>z(y=>({...y,status_slug:k})),children:[e.jsx(Me,{children:e.jsx(ze,{})}),e.jsx(Oe,{children:d.map(k=>e.jsx(se,{value:k.slug,children:k.name},k.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"ÛŒØ§Ø¯Ø¯Ø§Ø´Øª"}),e.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm",value:T.notes,onChange:k=>z(y=>({...y,notes:k.target.value})),rows:3})]})]}),e.jsxs(yn,{children:[e.jsx(I,{variant:"outline",onClick:()=>b(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{onClick:K,disabled:F,children:[F&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),v?"Ø°Ø®ÛŒØ±Ù‡":"Ø§ÛŒØ¬Ø§Ø¯"]})]})]})}),e.jsx(dl,{open:S!==null,onOpenChange:k=>!k&&P(null),children:e.jsxs(ji,{dir:n?"rtl":"ltr",children:[e.jsxs(bi,{children:[e.jsx(_i,{children:"Ø­Ø°Ù Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª"}),e.jsx(Ni,{children:"Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ù‚Ø±Ø§Ø± Ù…Ù„Ø§Ù‚Ø§Øª Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"})]}),e.jsxs(wi,{children:[e.jsx(Ci,{children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsx(Si,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:G,disabled:F,children:F?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):"Ø­Ø°Ù"})]})]})})]})}const Uw=[{slug:"system_manager",name:"Ù…Ø¯ÛŒØ± Ø³ÛŒØ³ØªÙ…"},{slug:"finance_manager",name:"Ù…Ø¯ÛŒØ± Ù…Ø§Ù„ÛŒ"},{slug:"team_member",name:"Ø¹Ø¶Ùˆ ØªÛŒÙ…"},{slug:"customer",name:"Ù…Ø´ØªØ±ÛŒ"}];function qw(){const n=Dt()?.isRtl===!0,[s,r]=o.useState(null),[a,i]=o.useState(!0),[c,l]=o.useState(null),[d,u]=o.useState(""),[h,m]=o.useState(!1),[p,x]=o.useState(null),[j,g]=o.useState(null),[f,b]=o.useState(""),[v,_]=o.useState(!1),[S,P]=o.useState({first_name:"",last_name:"",email:"",pzl_mobile_phone:"",role:"team_member",password:"",department:0,job_title:0}),F=o.useCallback(async()=>{i(!0),l(null);try{const E=await cl({role:"staff",search:d||void 0});E.success&&E.data?r(E.data):l(E.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ú©Ù†Ø§Ù†")}catch{l("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ø±Ú©Ù†Ø§Ù†")}finally{i(!1)}},[d]);o.useEffect(()=>{F()},[F]);const C=()=>{x(null),P({first_name:"",last_name:"",email:"",pzl_mobile_phone:"",role:"team_member",password:"",department:0,job_title:0}),m(!0)},T=E=>{x(E),P({first_name:E.first_name??"",last_name:E.last_name??"",email:E.email??"",pzl_mobile_phone:E.phone??"",role:E.role_slug??"team_member",password:"",department:0,job_title:0}),m(!0)},z=o.useCallback(async()=>{if(!S.last_name.trim()||!S.email.trim()||!S.role){l("Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒØŒ Ø§ÛŒÙ…ÛŒÙ„ Ùˆ Ù†Ù‚Ø´ Ø§Ù„Ø²Ø§Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯.");return}if(!p&&!S.password){l("Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯ØŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}_(!0),l(null);try{const E=await fh({user_id:p?.id,first_name:S.first_name.trim(),last_name:S.last_name.trim(),email:S.email.trim(),pzl_mobile_phone:S.pzl_mobile_phone.trim()||void 0,role:S.role,password:S.password||void 0,department:S.department||void 0,job_title:S.job_title||void 0});E.success?(m(!1),F()):l(E.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{l("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{_(!1)}},[S,p,F]),L=o.useCallback(async()=>{if(!(j==null||!f)){_(!0),l(null);try{const E=await ph(j,f);E.success?(g(null),b(""),F()):l(E.message??"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}catch{l("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù")}finally{_(!1)}}},[j,f,F]),M=s?.users??[],B=s?.departments??[],ie=s?.job_titles??[],re=S.department?ie.filter(E=>E.parent===S.department):[];return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Ú©Ø§Ø±Ú©Ù†Ø§Ù†"}),e.jsxs(I,{onClick:C,className:"gap-2",children:[e.jsx(En,{className:"h-4 w-4"}),"Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ù…Ù†Ø¯"]})]}),c&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm",children:c}),e.jsx(xe,{children:e.jsxs(ge,{className:"pt-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx(oe,{placeholder:"Ø¬Ø³ØªØ¬Ùˆ (Ù†Ø§Ù…ØŒ Ø§ÛŒÙ…ÛŒÙ„ØŒ ØªÙ„ÙÙ†)...",value:d,onChange:E=>u(E.target.value),className:"max-w-sm"})}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):M.length===0?e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ù‡ÛŒÚ† Ú©Ø§Ø±Ù…Ù†Ø¯ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}):e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ù†Ø§Ù…"}),e.jsx(ne,{children:"Ø§ÛŒÙ…ÛŒÙ„"}),e.jsx(ne,{children:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"}),e.jsx(ne,{children:"Ø¹Ù†ÙˆØ§Ù† Ø´ØºÙ„ÛŒ"}),e.jsx(ne,{children:"Ù†Ù‚Ø´"}),e.jsx(ne,{className:"w-[120px]",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(fn,{children:M.map(E=>e.jsxs(ut,{children:[e.jsx(te,{className:"font-medium",children:(E.first_name||E.last_name)?.trim()?`${E.first_name??""} ${E.last_name??""}`.trim():E.display_name}),e.jsx(te,{children:E.email}),e.jsx(te,{children:E.department_name??"â€”"}),e.jsx(te,{children:E.job_title_name??"â€”"}),e.jsx(te,{children:E.role_name}),e.jsx(te,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>T(E),children:e.jsx(In,{className:"h-4 w-4"})}),E.can_delete&&e.jsx(I,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>{g(E.id),b(E.delete_nonce)},children:e.jsx(kn,{className:"h-4 w-4"})})]})})]},E.id))})]})]})}),e.jsx(vn,{open:h,onOpenChange:m,children:e.jsxs(ln,{className:"sm:max-w-md",dir:n?"rtl":"ltr",children:[e.jsx(cn,{children:e.jsx(dn,{children:p?"ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ø§Ø±Ù…Ù†Ø¯":"Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ù…Ù†Ø¯"})}),e.jsxs("form",{onSubmit:E=>{E.preventDefault(),z()},className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù†Ø§Ù…"}),e.jsx(oe,{value:S.first_name,onChange:E=>P(U=>({...U,first_name:E.target.value})),placeholder:"Ù†Ø§Ù…"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ *"}),e.jsx(oe,{value:S.last_name,onChange:E=>P(U=>({...U,last_name:E.target.value})),placeholder:"Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø§ÛŒÙ…ÛŒÙ„ *"}),e.jsx(oe,{type:"email",value:S.email,onChange:E=>P(U=>({...U,email:E.target.value})),placeholder:"email@example.com",disabled:!!p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(oe,{value:S.pzl_mobile_phone,onChange:E=>P(U=>({...U,pzl_mobile_phone:E.target.value})),placeholder:"09..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù†Ù‚Ø´ *"}),e.jsxs(Le,{value:S.role,onValueChange:E=>P(U=>({...U,role:E})),children:[e.jsx(Me,{children:e.jsx(ze,{})}),e.jsx(Oe,{children:Uw.map(E=>e.jsx(se,{value:E.slug,children:E.name},E.slug))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium",children:["Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± ",p?"(Ø®Ø§Ù„ÛŒ = Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±)":"*"]}),e.jsx(oe,{type:"password",value:S.password,onChange:E=>P(U=>({...U,password:E.target.value})),placeholder:p?"Ø®Ø§Ù„ÛŒ Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯":"Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"})]}),B.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"}),e.jsxs(Le,{value:S.department?String(S.department):fr,onValueChange:E=>P(U=>({...U,department:E===fr?0:parseInt(E,10)||0,job_title:0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ù¾Ø§Ø±ØªÙ…Ø§Ù†"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:fr,children:"â€”"}),B.map(E=>e.jsx(se,{value:String(E.id),children:E.name},E.id))]})]})]}),re.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ø¹Ù†ÙˆØ§Ù† Ø´ØºÙ„ÛŒ"}),e.jsxs(Le,{value:S.job_title?String(S.job_title):fr,onValueChange:E=>P(U=>({...U,job_title:E===fr?0:parseInt(E,10)||0})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ù†ÙˆØ§Ù† Ø´ØºÙ„ÛŒ"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:fr,children:"â€”"}),re.map(E=>e.jsx(se,{value:String(E.id),children:E.name},E.id))]})]})]}),e.jsxs(yn,{children:[e.jsx(I,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{type:"submit",disabled:v,children:[v&&e.jsx(Fe,{className:Y("h-4 w-4 animate-spin shrink-0",n?"ms-2":"me-2")}),p?"Ø°Ø®ÛŒØ±Ù‡":"Ø§ÛŒØ¬Ø§Ø¯"]})]})]})]})}),e.jsx(dl,{open:j!==null,onOpenChange:E=>!E&&g(null),children:e.jsxs(ji,{dir:n?"rtl":"ltr",children:[e.jsxs(bi,{children:[e.jsx(_i,{children:"Ø­Ø°Ù Ú©Ø§Ø±Ù…Ù†Ø¯"}),e.jsx(Ni,{children:"Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ"})]}),e.jsxs(wi,{children:[e.jsx(Ci,{children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsx(Si,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:L,disabled:v,children:v?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):"Ø­Ø°Ù"})]})]})})]})}async function Kw(t){return _e("puzzlingcrm_get_reports",{tab:t.tab,date_from:t.date_from,date_to:t.date_to})}const Gw=[{id:"overview",label:"Ù†Ù…Ø§ÛŒ Ú©Ù„ÛŒ",icon:Od},{id:"finance",label:"Ú¯Ø²Ø§Ø±Ø´ Ù…Ø§Ù„ÛŒ",icon:Id},{id:"tasks",label:"Ú¯Ø²Ø§Ø±Ø´ ÙˆØ¸Ø§ÛŒÙ",icon:Fs},{id:"tickets",label:"Ú¯Ø²Ø§Ø±Ø´ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§",icon:Bo},{id:"agile",label:"Ú¯Ø²Ø§Ø±Ø´ Ø§ÙŽØ¬Ø§ÛŒÙ„",icon:zg}];function Xw(){const n=Dt()?.isRtl===!0,[s,r]=o.useState("overview"),[a,i]=o.useState(()=>{const b=new Date;return b.setDate(1),b.toISOString().slice(0,10)}),[c,l]=o.useState(()=>new Date().toISOString().slice(0,10)),[d,u]=o.useState(null),[h,m]=o.useState(!0),[p,x]=o.useState(null),j=o.useCallback(async()=>{m(!0),x(null);try{const b=await Kw({tab:s,date_from:a,date_to:c});b.success&&b.data?.stats?u(b.data.stats):(x(b.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú¯Ø²Ø§Ø±Ø´"),u(null))}catch{x("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú¯Ø²Ø§Ø±Ø´"),u(null)}finally{m(!1)}},[s,a,c]);o.useEffect(()=>{j()},[j]);const g=()=>{const b=new Date;i(new Date(b.getFullYear(),b.getMonth(),1).toISOString().slice(0,10)),l(new Date(b.getFullYear(),b.getMonth()+1,0).toISOString().slice(0,10))},f=()=>{const b=new Date;i(new Date(b.getFullYear(),b.getMonth()-1,1).toISOString().slice(0,10)),l(new Date(b.getFullYear(),b.getMonth(),0).toISOString().slice(0,10))};return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:e.jsx("h2",{className:"text-xl font-semibold",children:"Ú¯Ø²Ø§Ø±Ø´Ø§Øª"})}),e.jsx(xe,{children:e.jsxs(ge,{className:"pt-6",children:[e.jsxs("div",{className:"flex flex-wrap items-end gap-3 mb-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"Ø§Ø² ØªØ§Ø±ÛŒØ®"}),e.jsx(tn,{value:a,onChange:i,className:"w-[160px]"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm text-muted-foreground",children:"ØªØ§ ØªØ§Ø±ÛŒØ®"}),e.jsx(tn,{value:c,onChange:l,className:"w-[160px]"})]}),e.jsx(I,{onClick:j,children:"Ø§Ø¹Ù…Ø§Ù„ ÙÛŒÙ„ØªØ±"}),e.jsx(I,{variant:"outline",onClick:g,children:"Ø§ÛŒÙ† Ù…Ø§Ù‡"}),e.jsx(I,{variant:"outline",onClick:f,children:"Ù…Ø§Ù‡ Ù‚Ø¨Ù„"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 border-b mb-4",children:Gw.map(b=>{const v=b.icon;return e.jsxs(I,{variant:s===b.id?"default":"ghost",size:"sm",className:"gap-2",onClick:()=>r(b.id),children:[e.jsx(v,{className:"h-4 w-4"}),b.label]},b.id)})}),p&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm mb-4",children:p}),h?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d?e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:["total_projects"in d&&e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:e.jsx(qn,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_projects??0)})]})]})})}),"total_tasks"in d&&e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/10",children:e.jsx(Fs,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ÙˆØ¸Ø§ÛŒÙ"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_tasks??0)})]})]})})}),"completed_tasks"in d&&e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-500/10",children:e.jsx(Fs,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ÙˆØ¸Ø§ÛŒÙ ØªÚ©Ù…ÛŒÙ„â€ŒØ´Ø¯Ù‡"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.completed_tasks??0)})]})]})})}),"total_tickets"in d&&e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/10",children:e.jsx(Hg,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_tickets??0)})]})]})})}),"total_leads"in d&&e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-violet-500/10",children:e.jsx(Er,{className:"h-5 w-5 text-violet-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø³Ø±Ù†Ø®â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_leads??0)})]})]})})}),"total_customers"in d&&e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-cyan-500/10",children:e.jsx(oi,{className:"h-5 w-5 text-cyan-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù…Ø´ØªØ±ÛŒØ§Ù†"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_customers??0)})]})]})})}),"total_contracts"in d&&e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-orange-500/10",children:e.jsx(Vs,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§"}),e.jsx("p",{className:"text-xl font-semibold",children:String(d.total_contracts??0)})]})]})})}),"total_revenue"in d&&e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-emerald-500/10",children:e.jsx(Id,{className:"h-5 w-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ú©Ù„ Ø¯Ø±Ø¢Ù…Ø¯"}),e.jsxs("p",{className:"text-xl font-semibold",children:[Number(d.total_revenue??0).toLocaleString("fa-IR")," ",d.currency?String(d.currency):""]})]})]})})}),Array.isArray(d.project_by_status)&&d.project_by_status.map((b,v)=>e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-muted",children:e.jsx(qn,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ù¾Ø±ÙˆÚ˜Ù‡ (",b.name,")"]}),e.jsx("p",{className:"text-xl font-semibold",children:b.count})]})]})})},v)),Array.isArray(d.task_by_status)&&d.task_by_status.map((b,v)=>e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-muted",children:e.jsx(Fs,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ÙˆØ¸ÛŒÙÙ‡ (",b.name,")"]}),e.jsx("p",{className:"text-xl font-semibold",children:b.count})]})]})})},v))]}):!h&&!p&&e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø§Ø²Ù‡ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª."})]})})]})}async function Jw(t){return _e("puzzlingcrm_get_settings",{settings_tab:t})}async function Zw(t,n){return _e("puzzling_save_settings",{settings_tab:t,...n})}async function Qw(t){return _e("save_auth_settings",t)}async function e1(t){const n={response_title:t.response_title,response_content:t.response_content};return t.response_id&&(n.response_id=String(t.response_id)),_e("puzzling_manage_canned_response",n)}async function t1(t){return _e("puzzling_delete_canned_response",{response_id:String(t)})}async function n1(t){const n=new FormData;return n.set("position_title",t.position_title),t.position_id&&n.set("position_id",String(t.position_id)),(t.position_permissions??[]).forEach(s=>n.append("position_permissions[]",s)),ya("puzzling_manage_position",n)}async function s1(t){return _e("puzzling_delete_position",{position_id:String(t)})}async function r1(t){const n={category_name:t.category_name,category_color:t.category_color??"#845adf"};return t.category_id&&(n.category_id=String(t.category_id)),_e("puzzling_manage_task_category",n)}async function a1(t){return _e("puzzling_delete_task_category",{category_id:String(t)})}const mc=[{id:"authentication",title:"Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª",icon:Vg},{id:"style",title:"Ø¸Ø§Ù‡Ø± Ùˆ Ø§Ø³ØªØ§ÛŒÙ„",icon:Lg},{id:"payment",title:"Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª",icon:bg},{id:"sms",title:"Ø³Ø§Ù…Ø§Ù†Ù‡ Ù¾ÛŒØ§Ù…Ú©",icon:Bo},{id:"notifications",title:"Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒâ€ŒÙ‡Ø§",icon:Md},{id:"workflow",title:"Ú¯Ø±Ø¯Ø´ Ú©Ø§Ø±",icon:Cg},{id:"positions",title:"Ø¬Ø§ÛŒÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø´ØºÙ„ÛŒ",icon:Ig},{id:"task_categories",title:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ÙˆØ¸Ø§ÛŒÙ",icon:Bg},{id:"automations",title:"Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ†",icon:xg},{id:"canned_responses",title:"Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø¯Ù‡",icon:Vd},{id:"forms",title:"ÙØ±Ù…â€ŒÙ‡Ø§",icon:Vs},{id:"leads",title:"ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù„ÛŒØ¯",icon:Er}];function i1(){const n=Dt()?.isRtl===!0,[s,r]=o.useState("authentication"),[a,i]=o.useState(!1),[c,l]=o.useState(!1),[d,u]=o.useState(null),[h,m]=o.useState(null);return e.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø±Ø§ Ø§Ø² ØªØ¨â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø§Ù†ØªØ®Ø§Ø¨ Ùˆ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒØ¯."})]}),d&&e.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 px-4 py-3 text-destructive text-sm",children:d}),h&&e.jsx("div",{className:"rounded-lg border border-green-500/50 bg-green-500/10 px-4 py-3 text-green-700 dark:text-green-400 text-sm",children:h}),e.jsxs(bo,{value:s,onValueChange:r,className:"w-full",children:[e.jsx(wo,{className:"flex flex-wrap h-auto gap-1 p-1 bg-muted/50",children:mc.map(p=>{const x=p.icon;return e.jsxs(Jr,{value:p.id,className:"gap-2",children:[e.jsx(x,{className:"h-4 w-4"}),p.title]},p.id)})}),mc.map(p=>e.jsx(Zr,{value:p.id,className:"mt-4",children:s===p.id?e.jsx(o1,{tab:p.id,isRtl:n,onError:u,onMessage:m,loading:a,saving:c,setLoading:i,setSaving:l}):null},p.id))]})]})}function o1({tab:t,isRtl:n,onError:s,onMessage:r,loading:a,saving:i,setLoading:c,setSaving:l}){const[d,u]=o.useState(null),[h,m]=o.useState({}),p=o.useCallback(async()=>{c(!0),s(null);try{const j=await Jw(t);if(j.success&&j.data){u(j.data);const g=j.data.items;m(g?{}:j.data)}else s(j.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ")}catch{s("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª")}finally{c(!1)}},[t,s,c]);o.useEffect(()=>{p()},[p]);const x=o.useCallback(async()=>{l(!0),s(null),r(null);try{if(t==="authentication"){const j=await Qw(h);j.success?(r(j.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),p()):s(j.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡");return}if(["style","payment","sms","notifications"].includes(t)){const j=await Zw(t,h);j.success?(r(j.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),p()):s(j.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡");return}r("Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† ØªØ¨ Ø°Ø®ÛŒØ±Ù‡ Ø§Ø² Ø·Ø±ÛŒÙ‚ ÙØ±Ù… Ø²ÛŒØ± Ù‡Ø± Ø¢ÛŒØªÙ… Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯.")}finally{l(!1)}},[t,h,s,r,p,l]);if(a)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})});if(t==="authentication"){const j=h;return e.jsxs(xe,{children:[e.jsxs(Xt,{children:[e.jsx(Jt,{children:"Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª"}),e.jsx(Ss,{children:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙˆØ±ÙˆØ¯ØŒ OTP Ùˆ Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ"})]}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù¾ØªØ±Ù† Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ (Regex)"}),e.jsx(oe,{value:j.login_phone_pattern??"",onChange:g=>m(f=>({...f,login_phone_pattern:g.target.value})),placeholder:"^09[0-9]{9}$"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø·ÙˆÙ„ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„"}),e.jsx(oe,{type:"number",value:j.login_phone_length??11,onChange:g=>m(f=>({...f,login_phone_length:parseInt(g.target.value,10)||11}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù‚Ø§Ù„Ø¨ Ù¾ÛŒØ§Ù…Ú© ÙˆØ±ÙˆØ¯ (%CODE% Ø¨Ø±Ø§ÛŒ Ú©Ø¯)"}),e.jsx(oe,{value:j.login_sms_template??"",onChange:g=>m(f=>({...f,login_sms_template:g.target.value})),placeholder:"Ú©Ø¯ ÙˆØ±ÙˆØ¯ Ø´Ù…Ø§: %CODE%"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø§Ù†Ù‚Ø¶Ø§ÛŒ OTP (Ø¯Ù‚ÛŒÙ‚Ù‡)"}),e.jsx(oe,{type:"number",value:j.otp_expiry_minutes??5,onChange:g=>m(f=>({...f,otp_expiry_minutes:parseInt(g.target.value,10)||5}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø­Ø¯Ø§Ú©Ø«Ø± ØªÙ„Ø§Ø´ OTP"}),e.jsx(oe,{type:"number",value:j.otp_max_attempts??3,onChange:g=>m(f=>({...f,otp_max_attempts:parseInt(g.target.value,10)||3}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø·ÙˆÙ„ Ú©Ø¯ OTP"}),e.jsx(oe,{type:"number",value:j.otp_length??6,onChange:g=>m(f=>({...f,otp_length:parseInt(g.target.value,10)||6}))})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø¢Ø¯Ø±Ø³ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ Ù¾Ø³ Ø§Ø² ÙˆØ±ÙˆØ¯"}),e.jsx(oe,{value:j.login_redirect_url??"",onChange:g=>m(f=>({...f,login_redirect_url:g.target.value})),placeholder:"https://..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø¢Ø¯Ø±Ø³ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ Ù¾Ø³ Ø§Ø² Ø®Ø±ÙˆØ¬"}),e.jsx(oe,{value:j.logout_redirect_url??"",onChange:g=>m(f=>({...f,logout_redirect_url:g.target.value})),placeholder:"https://..."})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!j.enable_password_login,onChange:g=>m(f=>({...f,enable_password_login:g.target.checked})),className:"rounded border-input"}),e.jsx("span",{className:"text-sm",children:"ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!j.enable_sms_login,onChange:g=>m(f=>({...f,enable_sms_login:g.target.checked})),className:"rounded border-input"}),e.jsx("span",{className:"text-sm",children:"ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ù¾ÛŒØ§Ù…Ú© (OTP)"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!j.force_logout_inactive,onChange:g=>m(f=>({...f,force_logout_inactive:g.target.checked})),className:"rounded border-input"}),e.jsx("span",{className:"text-sm",children:"Ø®Ø±ÙˆØ¬ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… ÙØ¹Ø§Ù„ÛŒØª"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø¯Øª Ø¹Ø¯Ù… ÙØ¹Ø§Ù„ÛŒØª Ù‚Ø¨Ù„ Ø§Ø² Ø®Ø±ÙˆØ¬ (Ø¯Ù‚ÛŒÙ‚Ù‡)"}),e.jsx(oe,{type:"number",value:j.inactive_timeout_minutes??30,onChange:g=>m(f=>({...f,inactive_timeout_minutes:parseInt(g.target.value,10)||30}))})]}),e.jsxs(I,{onClick:x,disabled:i,children:[i?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª"]})]})]})}if(t==="style"){const j=h;return e.jsxs(xe,{children:[e.jsxs(Xt,{children:[e.jsx(Jt,{children:"Ø¸Ø§Ù‡Ø± Ùˆ Ø§Ø³ØªØ§ÛŒÙ„"}),e.jsx(Ss,{children:"Ø±Ù†Ú¯ Ø§ØµÙ„ÛŒ Ùˆ ÙÙˆÙ†Øª Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯"})]}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø±Ù†Ú¯ Ø§ØµÙ„ÛŒ"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:j.primary_color??"#845adf",onChange:g=>m(f=>({...f,primary_color:g.target.value})),className:"h-10 w-14 cursor-pointer rounded border"}),e.jsx(oe,{value:j.primary_color??"#845adf",onChange:g=>m(f=>({...f,primary_color:g.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡ ÙÙˆÙ†Øª"}),e.jsx(oe,{value:j.font_family??"IRANSans",onChange:g=>m(f=>({...f,font_family:g.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø§Ù†Ø¯Ø§Ø²Ù‡ ÙÙˆÙ†Øª Ù¾Ø§ÛŒÙ‡"}),e.jsx(oe,{type:"number",value:j.font_size??14,onChange:g=>m(f=>({...f,font_size:parseInt(g.target.value,10)||14}))})]})]}),e.jsxs(I,{onClick:x,disabled:i,children:[i?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}if(t==="payment"){const j=h;return e.jsxs(xe,{children:[e.jsxs(Xt,{children:[e.jsx(Jt,{children:"Ø¯Ø±Ú¯Ø§Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª"}),e.jsx(Ss,{children:"ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø²Ø±ÛŒÙ†â€ŒÙ¾Ø§Ù„ Ùˆ Ø³Ø§ÛŒØ± Ø¯Ø±Ú¯Ø§Ù‡â€ŒÙ‡Ø§"})]}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø±Ú†Ù†Øª Ø²Ø±ÛŒÙ†â€ŒÙ¾Ø§Ù„"}),e.jsx(oe,{value:j.zarinpal_merchant??"",onChange:g=>m(f=>({...f,zarinpal_merchant:g.target.value})),placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!j.zarinpal_sandbox,onChange:g=>m(f=>({...f,zarinpal_sandbox:g.target.checked})),className:"rounded border-input"}),e.jsx("span",{className:"text-sm",children:"Ø­Ø§Ù„Øª Ø³Ù†Ø¯Ø¨Ø§Ú©Ø³"})]}),e.jsxs(I,{onClick:x,disabled:i,children:[i?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}if(t==="sms"){const j=h;return e.jsxs(xe,{children:[e.jsxs(Xt,{children:[e.jsx(Jt,{children:"Ø³Ø§Ù…Ø§Ù†Ù‡ Ù¾ÛŒØ§Ù…Ú©"}),e.jsx(Ss,{children:"Ø³Ø±ÙˆÛŒØ³ Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ØªØµØ§Ù„ Ù¾ÛŒØ§Ù…Ú©"})]}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø³Ø±ÙˆÛŒØ³ Ù¾ÛŒØ§Ù…Ú©"}),e.jsx(oe,{value:j.sms_service??"",onChange:g=>m(f=>({...f,sms_service:g.target.value})),placeholder:"melipayamak, parsgreen, ..."})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ"}),e.jsx(oe,{value:j.sms_username??"",onChange:g=>m(f=>({...f,sms_username:g.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±"}),e.jsx(oe,{type:"password",value:j.sms_password??"",onChange:g=>m(f=>({...f,sms_password:g.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø´Ù…Ø§Ø±Ù‡ ÙØ±Ø³ØªÙ†Ø¯Ù‡"}),e.jsx(oe,{value:j.sms_sender??"",onChange:g=>m(f=>({...f,sms_sender:g.target.value}))})]}),e.jsxs(I,{onClick:x,disabled:i,children:[i?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}if(t==="notifications"){const j=h;return e.jsxs(xe,{children:[e.jsxs(Xt,{children:[e.jsx(Jt,{children:"Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒâ€ŒÙ‡Ø§"}),e.jsx(Ss,{children:"ØªÙ„Ú¯Ø±Ø§Ù… Ùˆ Ø³Ø§ÛŒØ± Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ø§Ø¹Ù„Ø§Ù†"})]}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù…"}),e.jsx(oe,{value:j.telegram_bot_token??"",onChange:g=>m(f=>({...f,telegram_bot_token:g.target.value})),placeholder:"..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø´Ù†Ø§Ø³Ù‡ Ú†Øª ØªÙ„Ú¯Ø±Ø§Ù…"}),e.jsx(oe,{value:j.telegram_chat_id??"",onChange:g=>m(f=>({...f,telegram_chat_id:g.target.value})),placeholder:"..."})]}),e.jsxs(I,{onClick:x,disabled:i,children:[i?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})}if(t==="canned_responses"){const j=d?.items??[];return e.jsx(l1,{items:j,onError:s,onMessage:r,onReload:p,isRtl:n})}if(t==="positions"){const j=d?.items??[];return e.jsx(c1,{items:j,onError:s,onMessage:r,onReload:p,isRtl:n})}if(t==="task_categories"){const j=d?.items??[];return e.jsx(d1,{items:j,onError:s,onMessage:r,onReload:p,isRtl:n})}return e.jsxs(xe,{children:[e.jsxs(Xt,{children:[e.jsxs(Jt,{children:[t==="workflow"&&"Ú¯Ø±Ø¯Ø´ Ú©Ø§Ø±",t==="automations"&&"Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ†",t==="forms"&&"ÙØ±Ù…â€ŒÙ‡Ø§",t==="leads"&&"ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù„ÛŒØ¯"]}),e.jsx(Ss,{children:"Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø§Ø² ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¯Ø± Ù†Ø³Ø®Ù‡Ù” ÙØ¹Ù„ÛŒ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ù¾Ù†Ù„ ÙˆØ±Ø¯Ù¾Ø±Ø³ ÛŒØ§ ØµÙØ­Ù‡Ù” embed Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª. Ø¨Ù‡â€ŒØ²ÙˆØ¯ÛŒ Ø¯Ø± Ù‡Ù…ÛŒÙ† Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ú©Ø§Ù…Ù„ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯."})]}),e.jsx(ge,{children:e.jsx("p",{className:"text-muted-foreground text-sm",children:"Ø¨Ø±Ø§ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡Ù” Ú¯Ø±Ø¯Ø´ Ú©Ø§Ø±ØŒ Ø§ØªÙˆÙ…Ø§Ø³ÛŒÙˆÙ†ØŒ ÙØ±Ù…â€ŒÙ‡Ø§ Ùˆ ÙˆØ¶Ø¹ÛŒØª Ù„ÛŒØ¯Ù‡Ø§ Ø§Ø² Ù…Ù†ÙˆÛŒ ÙˆØ±Ø¯Ù¾Ø±Ø³ PuzzlingCRM Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯."})})]})}function l1({items:t,onError:n,onMessage:s,onReload:r,isRtl:a}){const[i,c]=o.useState(!1),[l,d]=o.useState(null),[u,h]=o.useState(""),[m,p]=o.useState(""),[x,j]=o.useState(!1),g=()=>{d(null),h(""),p(""),c(!0)},f=_=>{d(_),h(_.title),p(_.content),c(!0)},b=async()=>{if(!u.trim()||!m.trim()){n("Ø¹Ù†ÙˆØ§Ù† Ùˆ Ù…Ø­ØªÙˆØ§ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}j(!0),n(null);try{const _=await e1({response_id:l?.id,response_title:u.trim(),response_content:m.trim()});_.success?(s(_.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),c(!1),r()):n(_.message??"Ø®Ø·Ø§")}catch{n("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{j(!1)}},v=async _=>{if(confirm("Ø­Ø°Ù Ø§ÛŒÙ† Ù¾Ø§Ø³Ø® Ø¢Ù…Ø§Ø¯Ù‡ØŸ")){j(!0),n(null);try{const S=await t1(_);S.success?(s("Ø­Ø°Ù Ø´Ø¯."),r()):n(S.message??"Ø®Ø·Ø§")}finally{j(!1)}}};return e.jsxs(xe,{children:[e.jsxs(Xt,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Jt,{children:"Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø¯Ù‡"}),e.jsx(Ss,{children:"Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø§Ø² Ù¾ÛŒØ´ ØªØ¹Ø±ÛŒÙâ€ŒØ´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§"})]}),e.jsxs(I,{onClick:g,className:"gap-2",children:[e.jsx(En,{className:"h-4 w-4"}),"Ø§ÙØ²ÙˆØ¯Ù†"]})]}),e.jsx(ge,{children:e.jsxs("ul",{className:"space-y-2",children:[t.length===0&&e.jsx("li",{className:"text-muted-foreground text-sm py-4",children:"Ù¾Ø§Ø³Ø®ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}),t.map(_=>e.jsxs("li",{className:"flex items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:_.title}),e.jsx("p",{className:"text-muted-foreground text-sm line-clamp-1",children:_.content})]}),e.jsxs("div",{className:Y("flex gap-2",a&&"flex-row-reverse"),children:[e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>f(_),children:e.jsx(In,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>v(_.id),children:e.jsx(kn,{className:"h-4 w-4 text-destructive"})})]})]},_.id))]})}),e.jsx(vn,{open:i,onOpenChange:c,children:e.jsxs(ln,{children:[e.jsx(cn,{children:e.jsx(dn,{children:l?"ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾Ø§Ø³Ø® Ø¢Ù…Ø§Ø¯Ù‡":"Ù¾Ø§Ø³Ø® Ø¢Ù…Ø§Ø¯Ù‡ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(oe,{value:u,onChange:_=>h(_.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù…Ø­ØªÙˆØ§"}),e.jsx("textarea",{className:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:m,onChange:_=>p(_.target.value)})]})]}),e.jsxs(yn,{children:[e.jsx(I,{variant:"outline",onClick:()=>c(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{onClick:b,disabled:x,children:[x?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})})]})}function c1({items:t,onError:n,onMessage:s,onReload:r,isRtl:a}){const[i,c]=o.useState(!1),[l,d]=o.useState(null),[u,h]=o.useState(""),[m,p]=o.useState(!1),x=()=>{d(null),h(""),c(!0)},j=b=>{d(b),h(b.title),c(!0)},g=async()=>{if(!u.trim()){n("Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}p(!0),n(null);try{const b=await n1({position_id:l?.id,position_title:u.trim(),position_permissions:l?.permissions??[]});b.success?(s(b.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),c(!1),r()):n(b.message??"Ø®Ø·Ø§")}catch{n("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{p(!1)}},f=async b=>{if(confirm("Ø­Ø°Ù Ø§ÛŒÙ† Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø´ØºÙ„ÛŒØŸ")){p(!0),n(null);try{const v=await s1(b);v.success?(s("Ø­Ø°Ù Ø´Ø¯."),r()):n(v.message??"Ø®Ø·Ø§")}finally{p(!1)}}};return e.jsxs(xe,{children:[e.jsxs(Xt,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Jt,{children:"Ø¬Ø§ÛŒÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø´ØºÙ„ÛŒ"}),e.jsx(Ss,{children:"Ø³Ù…Øªâ€ŒÙ‡Ø§ Ùˆ Ù†Ù‚Ø´â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±ÛŒ"})]}),e.jsxs(I,{onClick:x,className:"gap-2",children:[e.jsx(En,{className:"h-4 w-4"}),"Ø§ÙØ²ÙˆØ¯Ù†"]})]}),e.jsx(ge,{children:e.jsxs("ul",{className:"space-y-2",children:[t.length===0&&e.jsx("li",{className:"text-muted-foreground text-sm py-4",children:"Ø¬Ø§ÛŒÚ¯Ø§Ù‡ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}),t.map(b=>e.jsxs("li",{className:"flex items-center justify-between rounded-lg border p-3",children:[e.jsx("p",{className:"font-medium",children:b.title}),e.jsxs("div",{className:Y("flex gap-2",a&&"flex-row-reverse"),children:[e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>j(b),children:e.jsx(In,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>f(b.id),children:e.jsx(kn,{className:"h-4 w-4 text-destructive"})})]})]},b.id))]})}),e.jsx(vn,{open:i,onOpenChange:c,children:e.jsxs(ln,{children:[e.jsx(cn,{children:e.jsx(dn,{children:l?"ÙˆÛŒØ±Ø§ÛŒØ´ Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø´ØºÙ„ÛŒ":"Ø¬Ø§ÛŒÚ¯Ø§Ù‡ Ø´ØºÙ„ÛŒ Ø¬Ø¯ÛŒØ¯"})}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø¹Ù†ÙˆØ§Ù†"}),e.jsx(oe,{value:u,onChange:b=>h(b.target.value)})]})}),e.jsxs(yn,{children:[e.jsx(I,{variant:"outline",onClick:()=>c(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{onClick:g,disabled:m,children:[m?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})})]})}function d1({items:t,onError:n,onMessage:s,onReload:r,isRtl:a}){const[i,c]=o.useState(!1),[l,d]=o.useState(null),[u,h]=o.useState(""),[m,p]=o.useState("#845adf"),[x,j]=o.useState(!1),g=()=>{d(null),h(""),p("#845adf"),c(!0)},f=_=>{d(_),h(_.name),p(_.color||"#845adf"),c(!0)},b=async()=>{if(!u.trim()){n("Ù†Ø§Ù… Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.");return}j(!0),n(null);try{const _=await r1({category_id:l?.id,category_name:u.trim(),category_color:m});_.success?(s(_.message??"Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯."),c(!1),r()):n(_.message??"Ø®Ø·Ø§")}catch{n("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{j(!1)}},v=async _=>{if(confirm("Ø­Ø°Ù Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒØŸ")){j(!0),n(null);try{const S=await a1(_);S.success?(s("Ø­Ø°Ù Ø´Ø¯."),r()):n(S.message??"Ø®Ø·Ø§")}finally{j(!1)}}};return e.jsxs(xe,{children:[e.jsxs(Xt,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Jt,{children:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ÙˆØ¸Ø§ÛŒÙ"}),e.jsx(Ss,{children:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ùˆ Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§ÛŒ ÙˆØ¸Ø§ÛŒÙ"})]}),e.jsxs(I,{onClick:g,className:"gap-2",children:[e.jsx(En,{className:"h-4 w-4"}),"Ø§ÙØ²ÙˆØ¯Ù†"]})]}),e.jsx(ge,{children:e.jsxs("ul",{className:"space-y-2",children:[t.length===0&&e.jsx("li",{className:"text-muted-foreground text-sm py-4",children:"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}),t.map(_=>e.jsxs("li",{className:"flex items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-4 w-4 rounded-full border",style:{backgroundColor:_.color||"#845adf"}}),e.jsx("p",{className:"font-medium",children:_.name})]}),e.jsxs("div",{className:Y("flex gap-2",a&&"flex-row-reverse"),children:[e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>f(_),children:e.jsx(In,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>v(_.id),children:e.jsx(kn,{className:"h-4 w-4 text-destructive"})})]})]},_.id))]})}),e.jsx(vn,{open:i,onOpenChange:c,children:e.jsxs(ln,{children:[e.jsx(cn,{children:e.jsx(dn,{children:l?"ÙˆÛŒØ±Ø§ÛŒØ´ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ":"Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¬Ø¯ÛŒØ¯"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ù†Ø§Ù…"}),e.jsx(oe,{value:u,onChange:_=>h(_.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(H,{children:"Ø±Ù†Ú¯"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:m,onChange:_=>p(_.target.value),className:"h-10 w-14 cursor-pointer rounded border"}),e.jsx(oe,{value:m,onChange:_=>p(_.target.value)})]})]})]}),e.jsxs(yn,{children:[e.jsx(I,{variant:"outline",onClick:()=>c(!1),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{onClick:b,disabled:x,children:[x?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):null,"Ø°Ø®ÛŒØ±Ù‡"]})]})]})})]})}async function u1(){return _e("puzzlingcrm_list_subscriptions",{})}async function m1(){return _e("puzzlingcrm_list_products",{})}async function h1(t){return _e("puzzlingcrm_convert_subscription_to_contract",{subscription_id:t})}async function f1(t){return _e("puzzlingcrm_update_product_task_template",{product_id:t.product_id,task_template_id:t.task_template_id??0,service_task_type:t.service_task_type})}const hc=[{value:"onetime",label:"ÛŒÚ©Ø¨Ø§Ø± (Ù…Ø«Ù„ Ø³Ø§ÛŒØª)"},{value:"daily",label:"Ø±ÙˆØ²Ø§Ù†Ù‡ (Ù…Ø«Ù„ Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…)"},{value:"weekly",label:"Ù‡ÙØªÚ¯ÛŒ"},{value:"monthly",label:"Ù…Ø§Ù‡Ø§Ù†Ù‡"}];function p1(){const n=Dt()?.isRtl===!0,[s,r]=o.useState("subscriptions"),[a,i]=o.useState([]),[c,l]=o.useState([]),[d,u]=o.useState([]),[h,m]=o.useState(!1),[p,x]=o.useState(!1),[j,g]=o.useState(!0),[f,b]=o.useState(null),[v,_]=o.useState(null),[S,P]=o.useState(null),[F,C]=o.useState({task_template_id:null,service_task_type:"onetime"}),[T,z]=o.useState(!1),L=o.useCallback(async()=>{g(!0),b(null);try{const E=await u1();E.success&&E.data?(i(E.data.subscriptions??[]),m(E.data.wc_subscriptions_active??!1)):b(E.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø´ØªØ±Ø§Ú©â€ŒÙ‡Ø§")}catch{b("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§Ø´ØªØ±Ø§Ú©â€ŒÙ‡Ø§")}finally{g(!1)}},[]),M=o.useCallback(async()=>{g(!0),b(null);try{const E=await m1();E.success&&E.data?(l(E.data.products??[]),u(E.data.task_templates??[]),x(E.data.wc_active??!1)):b(E.message??"Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª")}catch{b("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø­ØµÙˆÙ„Ø§Øª")}finally{g(!1)}},[]);o.useEffect(()=>{s==="subscriptions"?L():M()},[s,L,M]);const B=async E=>{if(!E.already_converted){_(E.id);try{const U=await h1(E.id);U.success&&U.data?.contract_id?L():b(U.message??"Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„ Ø§Ø´ØªØ±Ø§Ú©")}catch{b("Ø®Ø·Ø§ Ø¯Ø± ØªØ¨Ø¯ÛŒÙ„ Ø§Ø´ØªØ±Ø§Ú©")}finally{_(null)}}},ie=E=>{P(E),C({task_template_id:E.task_template_id,service_task_type:E.service_task_type||"onetime"})},re=async()=>{if(S){z(!0);try{const E=await f1({product_id:S.id,task_template_id:F.task_template_id,service_task_type:F.service_task_type});E.success?(P(null),M()):b(E.message??"Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}catch{b("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡")}finally{z(!1)}}};return e.jsxs("div",{className:Y("space-y-4",n&&"text-right"),dir:n?"rtl":"ltr",children:[e.jsx(xe,{children:e.jsx(ge,{className:"pt-6",children:e.jsxs(bo,{value:s,onValueChange:r,children:[e.jsxs(wo,{children:[e.jsxs(Jr,{value:"subscriptions",className:"gap-2",children:[e.jsx(Yd,{className:"h-4 w-4"}),"Ø§Ø´ØªØ±Ø§Ú©â€ŒÙ‡Ø§ÛŒ ÙˆÙˆÚ©Ø§Ù…Ø±Ø³"]}),e.jsxs(Jr,{value:"products",className:"gap-2",children:[e.jsx(Wg,{className:"h-4 w-4"}),"Ù…Ø­ØµÙˆÙ„Ø§Øª Ùˆ Ø®Ø¯Ù…Ø§Øª"]})]}),e.jsxs(Zr,{value:"subscriptions",className:"mt-4",children:[!h&&e.jsx(Sn,{className:"mb-4",children:e.jsx(Cn,{children:"Ø§ÙØ²ÙˆÙ†Ù‡ WooCommerce Subscriptions ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª. Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø´ØªØ±Ø§Ú©â€ŒÙ‡Ø§ØŒ Ø§ÙØ²ÙˆÙ†Ù‡ Ø±Ø§ Ù†ØµØ¨ Ùˆ ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯."})}),f&&e.jsx(Sn,{variant:"destructive",className:"mb-4",children:e.jsx(Cn,{children:f})}),j?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ø§Ø´ØªØ±Ø§Ú©"}),e.jsx(ne,{children:"Ù…Ø´ØªØ±ÛŒ"}),e.jsx(ne,{children:"ÙˆØ¶Ø¹ÛŒØª"}),e.jsx(ne,{children:"Ù…Ø¨Ù„Øº"}),e.jsx(ne,{children:"ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹"}),e.jsx(ne,{children:"Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ø¹Ø¯ÛŒ"}),e.jsx(ne,{className:"text-left",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(fn,{children:a.length===0?e.jsx(ut,{children:e.jsx(te,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:h?"Ù‡ÛŒÚ† Ø§Ø´ØªØ±Ø§Ú©ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯.":"Ø§ÙØ²ÙˆÙ†Ù‡ Ø§Ø´ØªØ±Ø§Ú©â€ŒÙ‡Ø§ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø§Ø³Øª."})}):a.map(E=>e.jsxs(ut,{children:[e.jsxs(te,{children:["#",E.id]}),e.jsx(te,{children:E.customer_id?e.jsx(Ht,{to:`/customers?edit=${E.customer_id}`,className:"text-primary hover:underline",children:E.customer_name}):E.customer_name}),e.jsx(te,{children:e.jsx(Ct,{variant:E.status==="active"?"default":"secondary",children:E.status_name})}),e.jsx(te,{children:E.total_formatted}),e.jsx(te,{children:E.start_date||"-"}),e.jsx(te,{children:E.next_payment||"-"}),e.jsx(te,{children:E.already_converted?e.jsx(Ht,{to:"/contracts",children:e.jsxs(I,{variant:"outline",size:"sm",className:"gap-1",children:[e.jsx(Vs,{className:"h-4 w-4"}),"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§"]})}):e.jsxs(I,{size:"sm",onClick:()=>B(E),disabled:v===E.id,className:"gap-1",children:[v===E.id?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):e.jsx(Vs,{className:"h-4 w-4"}),"ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯"]})})]},E.id))})]})]}),e.jsxs(Zr,{value:"products",className:"mt-4",children:[!p&&e.jsx(Sn,{className:"mb-4",children:e.jsx(Cn,{children:"Ø§ÙØ²ÙˆÙ†Ù‡ ÙˆÙˆÚ©Ø§Ù…Ø±Ø³ ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª."})}),f&&e.jsx(Sn,{variant:"destructive",className:"mb-4",children:e.jsx(Cn,{children:f})}),j?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Fe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsxs(mn,{children:[e.jsx(hn,{children:e.jsxs(ut,{children:[e.jsx(ne,{children:"Ù…Ø­ØµÙˆÙ„"}),e.jsx(ne,{children:"Ù†ÙˆØ¹"}),e.jsx(ne,{children:"Ù‚ÛŒÙ…Øª"}),e.jsx(ne,{children:"Ù‚Ø§Ù„Ø¨ ØªØ³Ú©"}),e.jsx(ne,{children:"Ù†ÙˆØ¹ Ø®Ø¯Ù…Øª"}),e.jsx(ne,{className:"text-left",children:"Ø¹Ù…Ù„ÛŒØ§Øª"})]})}),e.jsx(fn,{children:c.length===0?e.jsx(ut,{children:e.jsx(te,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:p?"Ù‡ÛŒÚ† Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯.":"Ø§ÙØ²ÙˆÙ†Ù‡ ÙˆÙˆÚ©Ø§Ù…Ø±Ø³ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø§Ø³Øª."})}):c.map(E=>e.jsxs(ut,{children:[e.jsx(te,{children:E.name}),e.jsx(te,{children:e.jsx(Ct,{variant:"outline",children:E.type})}),e.jsx(te,{children:E.price||"-"}),e.jsx(te,{children:E.task_template_title||"-"}),e.jsx(te,{children:hc.find(U=>U.value===E.service_task_type)?.label??E.service_task_type}),e.jsx(te,{children:e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>ie(E),className:"gap-1",children:[e.jsx(In,{className:"h-4 w-4"}),"ÙˆÛŒØ±Ø§ÛŒØ´"]})})]},E.id))})]})]})]})})}),e.jsx(vn,{open:!!S,onOpenChange:E=>!E&&P(null),children:e.jsxs(ln,{children:[e.jsx(cn,{children:e.jsx(dn,{children:"Ø§ØªØµØ§Ù„ Ù‚Ø§Ù„Ø¨ ØªØ³Ú© Ø¨Ù‡ Ù…Ø­ØµÙˆÙ„"})}),S&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:S.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù‚Ø§Ù„Ø¨ ØªØ³Ú©"}),e.jsxs(Le,{value:F.task_template_id?String(F.task_template_id):"0",onValueChange:E=>C(U=>({...U,task_template_id:E==="0"?null:parseInt(E,10)})),children:[e.jsx(Me,{children:e.jsx(ze,{placeholder:"Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"})}),e.jsxs(Oe,{children:[e.jsx(se,{value:"0",children:"Ù‡ÛŒÚ†Ú©Ø¯Ø§Ù…"}),d.map(E=>e.jsxs(se,{value:String(E.id),children:[E.title," ",E.is_recurring&&`(${E.recurring_type})`]},E.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Ù†ÙˆØ¹ Ø®Ø¯Ù…Øª (ØªÚ©Ø±Ø§Ø± ØªØ³Ú©)"}),e.jsxs(Le,{value:F.service_task_type,onValueChange:E=>C(U=>({...U,service_task_type:E})),children:[e.jsx(Me,{children:e.jsx(ze,{})}),e.jsx(Oe,{children:hc.map(E=>e.jsx(se,{value:E.value,children:E.label},E.value))})]})]})]}),e.jsxs(yn,{children:[e.jsx(I,{variant:"outline",onClick:()=>P(null),children:"Ø§Ù†ØµØ±Ø§Ù"}),e.jsxs(I,{onClick:re,disabled:T,children:[T&&e.jsx(Fe,{className:"h-4 w-4 animate-spin ml-2"}),"Ø°Ø®ÛŒØ±Ù‡"]})]})]})})]})}function x1(){const n=Dt()?.isRtl===!0;return e.jsx("div",{className:Y("space-y-4",n&&"text-right"),dir:n?"rtl":"ltr",children:e.jsx(xe,{children:e.jsxs(ge,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx(Fd,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Ú©Ù…Ù¾ÛŒÙ†â€ŒÙ‡Ø§"}),e.jsx("p",{className:"text-muted-foreground",children:"Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ..."})]})})})}function g1(){return e.jsx(Gf,{children:e.jsxs(Lt,{path:"/",element:e.jsx(i0,{}),children:[e.jsx(Lt,{index:!0,element:e.jsx(p0,{})}),e.jsx(Lt,{path:"leads",element:e.jsx(db,{})}),e.jsx(Lt,{path:"profile",element:e.jsx(mb,{})}),e.jsx(Lt,{path:"licenses",element:e.jsx(Wb,{})}),e.jsx(Lt,{path:"consultations",element:e.jsx(Ub,{})}),e.jsx(Lt,{path:"logs",element:e.jsx(qb,{})}),e.jsx(Lt,{path:"customers",element:e.jsx(Gb,{})}),e.jsx(Lt,{path:"contracts/*",element:e.jsx(aw,{})}),e.jsx(Lt,{path:"invoices/*",element:e.jsx(cw,{})}),e.jsx(Lt,{path:"tickets/*",element:e.jsx(fw,{})}),e.jsx(Lt,{path:"projects/*",element:e.jsx(vw,{})}),e.jsx(Lt,{path:"tasks/*",element:e.jsx(zw,{})}),e.jsx(Lt,{path:"appointments/*",element:e.jsx(Hw,{})}),e.jsx(Lt,{path:"staff/*",element:e.jsx(qw,{})}),e.jsx(Lt,{path:"reports/*",element:e.jsx(Xw,{})}),e.jsx(Lt,{path:"services/*",element:e.jsx(p1,{})}),e.jsx(Lt,{path:"campaigns/*",element:e.jsx(x1,{})}),e.jsx(Lt,{path:"settings/*",element:e.jsx(i1,{})}),e.jsx(Lt,{path:"*",element:e.jsx(Uf,{to:"/",replace:!0})})]})})}function v1(){o.useEffect(()=>{const n=Dt();if(n){const s=n.isRtl?"rtl":"ltr",r=n.locale??(n.isRtl?"fa":"en");document.documentElement.setAttribute("dir",s),document.documentElement.setAttribute("lang",r)}},[]);const t=typeof window<"u"&&window.puzzlingcrm?.dashboardBasePath?window.puzzlingcrm.dashboardBasePath:"/dashboard";return e.jsx(Dp,{children:e.jsx(jp,{basename:t,children:e.jsx(g1,{})})})}qh.createRoot(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx(v1,{})}));
